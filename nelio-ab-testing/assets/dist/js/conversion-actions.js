(()=>{var e={d:(o,n)=>{for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},o={};(()=>{"use strict";e.r(o),e.d(o,{conversionActions:()=>r});var n={};e.r(n),e.d(n,{getConversionActionType:()=>a,getConversionActionTypes:()=>c});var t={};e.r(t),e.d(t,{addConversionActionTypes:()=>u,removeConversionActionTypes:()=>d});var r={};e.r(r),e.d(r,{createConversionAction:()=>m,registerConversionActionType:()=>h,store:()=>l});const i=window.wp.data,s=window.lodash;function c(e){return(0,s.values)(e.conversionActionTypes)}const a=function(e,o){return e.conversionActionTypes[o]};function u(e){return{type:"ADD_CONVERSION_ACTION_TYPES",conversionActionTypes:(0,s.castArray)(e)}}function d(e){return{type:"REMOVE_CONVERSION_ACTION_TYPES",names:(0,s.castArray)(e)}}const p={conversionActionTypes:{}},l=(0,i.createReduxStore)("nab/conversion-actions",{reducer:function(e=p,o){var n;return null!==(n=function(e,o){switch(o.type){case"ADD_CONVERSION_ACTION_TYPES":return Object.assign(Object.assign({},e),{conversionActionTypes:Object.assign(Object.assign({},e.conversionActionTypes),(0,s.keyBy)(o.conversionActionTypes,"name"))});case"REMOVE_CONVERSION_ACTION_TYPES":return Object.assign(Object.assign({},e),{conversionActionTypes:(0,s.omit)(e.conversionActionTypes,o.names)})}}(e,o))&&void 0!==n?n:e},selectors:n,actions:t});!function(e){(0,i.register)(e)}(l);const y={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let f;const v=new Uint8Array(16),g=[];for(let e=0;e<256;++e)g.push((e+256).toString(16).slice(1));const b=function(e,o,n){if(y.randomUUID&&!o&&!e)return y.randomUUID();const t=(e=e||{}).random??e.rng?.()??function(){if(!f){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");f=crypto.getRandomValues.bind(crypto)}return f(v)}();if(t.length<16)throw new Error("Random bytes length must be >= 16");if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,o){if((n=n||0)<0||n+16>o.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)o[n+e]=t[e];return o}return function(e,o=0){return(g[e[o+0]]+g[e[o+1]]+g[e[o+2]]+g[e[o+3]]+"-"+g[e[o+4]]+g[e[o+5]]+"-"+g[e[o+6]]+g[e[o+7]]+"-"+g[e[o+8]]+g[e[o+9]]+"-"+g[e[o+10]]+g[e[o+11]]+g[e[o+12]]+g[e[o+13]]+g[e[o+14]]+g[e[o+15]]).toLowerCase()}(t)};function m(e,o){const{getConversionActionType:n}=(0,i.select)(l),t=n(e);if(t)return{id:b(),type:e,attributes:Object.assign(Object.assign({},t.attributes),o||{}),scope:t.scope}}const T=window.nab.utils;function h(e,o){if("string"!=typeof e)return void console.error("Conversion action names must be strings.");if(!/^[a-z][a-z0-9-]*\/[a-z][a-z0-9-]*$/.test(e))return void console.error("Conversion action names must contain a namespace prefix, include only lowercase alphanumeric characters or dashes, and start with a letter. Example: my-plugin/my-custom-conversion-action");if((0,i.select)(l).getConversionActionType(e))return void console.error(`Conversion action “${e}” is already registered.`);if(!O(o))return void console.error(`Conversion action “${e}” should specify a title.`);if(!A(o))return void console.error(`Conversion action “${e}” should specify a category.`);if(!C(o))return void console.error(`Conversion action “${e}” should specify a description.`);if(!w(o))return void console.error(`Conversion action “${e}” should specify its default attributes.`);if(!_(o))return void console.error(`Conversion action “${e}” should specify its default scope.`);if(!E(o))return void console.error(`The conversion action “${e}” must have an icon.`);if(!(0,T.isValidIcon)(o.icon))return void console.error("The icon passed is invalid. The icon should be an element or a function.");if(!S(o))return void console.error("The “view” property must be a valid function.");if(!j(o))return void console.error("The “edit” property must be a valid function.");const n=Object.assign({name:e},o);return(0,i.dispatch)(l).addConversionActionTypes(n),n}const O=e=>"string"==typeof e.title&&!!e.title,A=e=>"string"==typeof e.category&&!!e.category,C=e=>"string"==typeof e.description&&!!e.description,w=e=>!!e.attributes,_=e=>!!e.scope,E=e=>"icon"in e,S=e=>(0,s.isFunction)(e.view),j=e=>(0,s.isFunction)(e.edit)})();var n=nab="undefined"==typeof nab?{}:nab;for(var t in o)n[t]=o[t];o.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})();