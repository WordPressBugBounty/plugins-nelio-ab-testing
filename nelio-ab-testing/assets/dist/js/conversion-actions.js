(()=>{var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};(()=>{"use strict";e.r(n),e.d(n,{conversionActions:()=>r});var o={};e.r(o),e.d(o,{getConversionActionType:()=>a,getConversionActionTypes:()=>c});var t={};e.r(t),e.d(t,{addConversionActionTypes:()=>u,removeConversionActionTypes:()=>d});var r={};e.r(r),e.d(r,{createConversionAction:()=>m,registerConversionActionType:()=>O,store:()=>l});const i=window.wp.data,s=window.lodash;function c(e){return(0,s.values)(e.conversionActionTypes)}const a=function(e,n){return e.conversionActionTypes[n]};function u(e){return{type:"ADD_CONVERSION_ACTION_TYPES",conversionActionTypes:(0,s.castArray)(e)}}function d(e){return{type:"REMOVE_CONVERSION_ACTION_TYPES",names:(0,s.castArray)(e)}}const p={conversionActionTypes:{}},l=(0,i.createReduxStore)("nab/conversion-actions",{reducer:function(e=p,n){var o;return null!==(o=function(e,n){switch(n.type){case"ADD_CONVERSION_ACTION_TYPES":return Object.assign(Object.assign({},e),{conversionActionTypes:Object.assign(Object.assign({},e.conversionActionTypes),(0,s.keyBy)(n.conversionActionTypes,"name"))});case"REMOVE_CONVERSION_ACTION_TYPES":return Object.assign(Object.assign({},e),{conversionActionTypes:(0,s.omit)(e.conversionActionTypes,n.names)})}}(e,n))&&void 0!==o?o:e},selectors:o,actions:t});!function(e){(0,i.register)(e)}(l);const y={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let f;const v=new Uint8Array(16),b=[];for(let e=0;e<256;++e)b.push((e+256).toString(16).slice(1));const g=function(e,n,o){if(y.randomUUID&&!n&&!e)return y.randomUUID();const t=(e=e||{}).random??e.rng?.()??function(){if(!f){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");f=crypto.getRandomValues.bind(crypto)}return f(v)}();if(t.length<16)throw new Error("Random bytes length must be >= 16");if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,n){if((o=o||0)<0||o+16>n.length)throw new RangeError(`UUID byte range ${o}:${o+15} is out of buffer bounds`);for(let e=0;e<16;++e)n[o+e]=t[e];return n}return function(e,n=0){return(b[e[n+0]]+b[e[n+1]]+b[e[n+2]]+b[e[n+3]]+"-"+b[e[n+4]]+b[e[n+5]]+"-"+b[e[n+6]]+b[e[n+7]]+"-"+b[e[n+8]]+b[e[n+9]]+"-"+b[e[n+10]]+b[e[n+11]]+b[e[n+12]]+b[e[n+13]]+b[e[n+14]]+b[e[n+15]]).toLowerCase()}(t)};function m(e,n){const{getConversionActionType:o}=(0,i.select)(l),t=o(e);if(t)return{id:g(),type:e,attributes:Object.assign(Object.assign({},t.attributes),n||{}),scope:t.scope}}const T=window.nab.utils;function O(e,n){if("string"!=typeof e)return void console.error("Conversion action names must be strings.");if(!/^[a-z][a-z0-9-]*\/[a-z][a-z0-9-]*$/.test(e))return void console.error("Conversion action names must contain a namespace prefix, include only lowercase alphanumeric characters or dashes, and start with a letter. Example: my-plugin/my-custom-conversion-action");if((0,i.select)(l).getConversionActionType(e))return void console.error(`Conversion action “${e}” is already registered.`);if(!h(n))return void console.error(`Conversion action “${e}” should specify a title.`);if(!A(n))return void console.error(`Conversion action “${e}” should specify a description.`);if(!C(n))return void console.error(`Conversion action “${e}” should specify its default attributes.`);if(!w(n))return void console.error(`Conversion action “${e}” should specify its default scope.`);if(!_(n))return void console.error(`The conversion action “${e}” must have an icon.`);if(!(0,T.isValidIcon)(n.icon))return void console.error("The icon passed is invalid. The icon should be an element or a function.");if(!E(n))return void console.error("The “view” property must be a valid function.");if(!S(n))return void console.error("The “edit” property must be a valid function.");const o=Object.assign({name:e},n);return(0,i.dispatch)(l).addConversionActionTypes(o),o}const h=e=>"string"==typeof e.title&&!!e.title,A=e=>"string"==typeof e.description&&!!e.description,C=e=>!!e.attributes,w=e=>!!e.scope,_=e=>"icon"in e,E=e=>(0,s.isFunction)(e.view),S=e=>(0,s.isFunction)(e.edit)})();var o=nab="undefined"==typeof nab?{}:nab;for(var t in n)o[t]=n[t];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();