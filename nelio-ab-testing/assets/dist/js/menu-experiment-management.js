(()=>{var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};(()=>{"use strict";const t=window.ReactJSXRuntime,n=window.wp.element,o=window.wp.i18n,a=window.nab.data,r=window.nab.utils,i=window.wp.apiFetch;var s=e.n(i);const l=window.wp.date,c=window.wp.url,u=e=>{var t,n;return!!(null===(t=e.url)||void 0===t?void 0:t.includes("/wp-json/"))||!!(null===(n=e.url)||void 0===n?void 0:n.includes("rest_route"))||!!Object.keys(e).includes("rest_route")},d=window.wp.components,m=(Object.assign(e=>(0,t.jsx)(d.BaseControl,Object.assign({__nextHasNoMarginBottom:!0},e)),d.BaseControl),Object.assign(e=>(0,t.jsx)(d.CheckboxControl,Object.assign({__nextHasNoMarginBottom:!0},e)),d.CheckboxControl),Object.assign(e=>(0,t.jsx)(d.FormTokenField,Object.assign({__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0},e)),d.FormTokenField),Object.assign(e=>(0,t.jsx)(d.RangeControl,Object.assign({__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0},e)),d.RangeControl),Object.assign(e=>(0,t.jsx)(d.TextControl,Object.assign({__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0},e)),d.TextControl),Object.assign(e=>(0,t.jsx)(d.TextareaControl,Object.assign({__nextHasNoMarginBottom:!0},e)),d.TextareaControl),Object.assign(e=>(0,t.jsx)(d.ToggleControl,Object.assign({__nextHasNoMarginBottom:!0},e)),d.ToggleControl),Object.assign(e=>(0,t.jsx)(d.__experimentalToggleGroupControl,Object.assign({__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0},e)),d.__experimentalToggleGroupControl),window.nab.components),g=({experiment:e,alternative:n})=>{const[a,r]=b(e,n),[i,s]=p();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Button,{className:"page-title-action",onClick:()=>s(!0),style:{height:"auto"},children:(0,o._x)("Duplicate Control Menu","command","nelio-ab-testing")}),(0,t.jsx)(m.ConfirmationDialog,{title:(0,o._x)("Duplicate Control Menu?","title","nelio-ab-testing"),text:(0,o._x)("This will overwrite the items in your menu variant using those included in the control menu. Are you sure you want to continue?","user","nelio-ab-testing"),confirmLabel:a?(0,o._x)("Duplicatingâ€¦","text (widgets)","nelio-ab-testing"):(0,o._x)("Duplicate","command","nelio-ab-testing"),isConfirmEnabled:!a,isCancelEnabled:!a,isOpen:i,onCancel:()=>s(!1),onConfirm:r})]})},p=()=>(0,a.usePageAttribute)("menus/isConfirmationDialogForMenuDuplicationVisible",!1),b=(e,t)=>{const[n,o]=(0,a.usePageAttribute)("menus/isDuplicatingMenu",!1);return[n,()=>{n||(o(!0),(e=>{const{url:t,path:n}=e,o=(0,l.format)("YmjHi").substring(0,11)+"0";return s()(Object.assign(Object.assign(Object.assign(Object.assign({},e),t&&{url:u(e)?(0,c.addQueryArgs)(t,{nabts:o}):t}),n&&{path:(0,c.addQueryArgs)(n,{nabts:o})}),{parse:!0}))})({path:(0,c.addQueryArgs)("/nab/v1/menu/duplicate-control",{experiment:e,alternative:t}),method:"PUT"}).finally(()=>{window.location.reload()}))}]};var x;window.nab=Object.assign(Object.assign({},(x=window)&&"object"==typeof x&&"nab"in x?window.nab:{}),{initAlternativeEdition:function(e){!function(){const e=document.querySelector("#wpbody-content .wrap .wp-heading-inline");e&&(e.textContent=(0,o._x)("Menu Variant","text","nelio-ab-testing"))}(),Array.from(document.querySelectorAll("#message.updated.notice")).forEach(e=>{const t=(0,o._x)("<strong>Menu variant</strong> has been updated.","text","nelio-ab-testing");e.innerHTML=`<p>${t}</p>`}),Array.from(document.querySelectorAll(".wrap > .page-title-action")).forEach(e=>e.remove()),Array.from(document.querySelectorAll(".wrap > .nav-tab-wrapper")).forEach(e=>e.remove()),Array.from(document.querySelectorAll(".wrap > .manage-menus")).forEach(e=>e.remove()),Array.from(document.querySelectorAll("#menu-name, .menu-name-label")).forEach(e=>e.style.display="none"),Array.from(document.querySelectorAll("#nav-menu-footer .delete-action")).forEach(e=>e.remove()),Array.from(document.querySelectorAll(".menu-settings")).forEach(e=>e.remove()),function(e){const a=document.querySelector("#wpbody-content .wrap .wp-heading-inline"),i=document.createElement("span");var s,l;s=(0,t.jsx)(g,{experiment:e.experiment,alternative:e.alternative}),(l=i)&&(n.createRoot?(0,n.createRoot)(l).render(s):(0,n.render)(s,l));const c=document.createElement("a");c.className="page-title-action",c.textContent=(0,o._x)("Back to Test","command","nelio-ab-testing"),c.setAttribute("href",e.links.experimentUrl),a&&((0,r.appendSibling)(c,a),(0,r.appendSibling)(i,a))}(e)}})})();var n=nab="undefined"==typeof nab?{}:nab;for(var o in t)n[o]=t[o];t.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})();