{"version":3,"file":"js/heatmap-renderer.js","mappings":"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;AACA;AACA,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,OAAO;AAClB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACxBA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,kBAAkB,mBAAO,CAAC,2DAAe;AACzC,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;AACnC,cAAc,mBAAO,CAAC,qDAAY;AAClC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB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AAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC7DA,iBAAiB,mBAAO,CAAC,yDAAc;AACvC,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,qDAAY;AACnC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9CA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;AACnC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC3DA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,0BAA0B,mBAAO,CAAC,6EAAwB;AAC1D,eAAe,mBAAO,CAAC,qDAAY;AACnC,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,UAAU;AACvB;AACA;AACA;AACA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AAC5C,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA,kBAAkB,mBAAO,CAAC,2DAAe;;AAEzC;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACxBA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,IAAI;AACJ,CAAC;;AAED;;;;;;;;;;;ACVA,eAAe,mBAAO,CAAC,uDAAa;AACpC,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnFA,aAAa,mBAAO,CAAC,mDAAW;AAChC,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,SAAS,mBAAO,CAAC,yCAAM;AACvB,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC/GA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzFA,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,uDAAa;AACpC,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACfA;AACA,wBAAwB,UAAM,gBAAgB,UAAM,IAAI,UAAM,sBAAsB,UAAM;;AAE1F;;;;;;;;;;;ACHA,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,WAAW,mBAAO,CAAC,6CAAQ;;AAE3B;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACfA,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,aAAa,mBAAO,CAAC,iDAAU;;AAE/B;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChBA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA,yBAAyB,mBAAO,CAAC,2EAAuB;AACxD,WAAW,mBAAO,CAAC,6CAAQ;;AAE3B;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACvBA,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChBA,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;;AAEA;;;;;;;;;;;ACLA,aAAa,mBAAO,CAAC,mDAAW;;AAEhC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC7CA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,gBAAgB,mBAAO,CAAC,uDAAa;;AAErC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;AC7BA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,gBAAgB,mBAAO,CAAC,uDAAa;;AAErC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACxBA,eAAe,mBAAO,CAAC,uDAAa;AACpC,UAAU,mBAAO,CAAC,6CAAQ;AAC1B,cAAc,mBAAO,CAAC,qDAAY;AAClC,UAAU,mBAAO,CAAC,6CAAQ;AAC1B,cAAc,mBAAO,CAAC,qDAAY;AAClC,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACZA,eAAe,mBAAO,CAAC,uDAAa;AACpC,kBAAkB,mBAAO,CAAC,2DAAe;AACzC,cAAc,mBAAO,CAAC,mDAAW;AACjC,cAAc,mBAAO,CAAC,qDAAY;AAClC,eAAe,mBAAO,CAAC,qDAAY;AACnC,YAAY,mBAAO,CAAC,iDAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtCA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC7BA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA,aAAa,mBAAO,CAAC,mDAAW;AAChC,kBAAkB,mBAAO,CAAC,2DAAe;AACzC,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACxBA,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACdA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;ACjBA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACZA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5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CA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACdA,YAAY,mBAAO,CAAC,iDAAU;;AAE9B;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnCA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;ACRA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;;;;ACjBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;;AAEA;;;;;;;;;;;ACbA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACbA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,UAAU,mBAAO,CAAC,6CAAQ;AAC1B,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjCA,oBAAoB,mBAAO,CAAC,iEAAkB;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;;;;;AC1BA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,UAAU;AACvB;AACA;AACA,yCAAyC,QAAQ;AACjD;AACA;AACA,YAAY,QAAQ,IAAI,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA,eAAe,mBAAO,CAAC,qDAAY;AACnC,UAAU,mBAAO,CAAC,2CAAO;AACzB,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ,WAAW;AAC9B,WAAW,SAAS;AACpB;AACA,WAAW,QAAQ;AACnB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,+CAA+C,iBAAiB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrBA,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,WAAW,GAAG;AACd,aAAa,GAAG;AAChB;AACA;AACA,kBAAkB,QAAQ,OAAO,UAAU;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChCA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;AACA;AACA,2BAA2B,gBAAgB,QAAQ,GAAG;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,GAAG;AAChB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA,+CAA+C,mBAAmB;AAClE;AACA;AACA;;AAEA;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA,iBAAiB,mBAAO,CAAC,yDAAc;AACvC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCA,WAAW,mBAAO,CAAC,+CAAS;AAC5B,gBAAgB,mBAAO,CAAC,uDAAa;;AAErC;AACA,kBAAkB,KAA0B;;AAE5C;AACA,gCAAgC,QAAa;;AAE7C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrCA,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClCA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA,uBAAuB,mBAAO,CAAC,uEAAqB;AACpD,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC1BA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,uBAAuB,mBAAO,CAAC,uEAAqB;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA,OAAO,2BAA2B;AAClC,OAAO;AACP;AACA;AACA;AACA;AACA,IAAI;AACJ,WAAW,OAAO,2BAA2B,SAAS;AACtD;AACA;AACA,WAAW,UAAU,2BAA2B,aAAa;AAC7D;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;ACnCA,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,eAAe,mBAAO,CAAC,uDAAa;AACpC,kBAAkB,mBAAO,CAAC,2DAAe;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,kBAAkB,mBAAO,CAAC,2DAAe;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC/BA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B;AAChD,kBAAkB;AAClB;AACA;AACA,oCAAoC,eAAe;AACnD,WAAW,2BAA2B;AACtC;AACA;AACA;AACA,WAAW,2BAA2B;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;;;;AC1CA,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;ACxEA,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,sBAAsB;AACjC,aAAa,QAAQ;AACrB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,WAAW;AACX;AACA;AACA,6BAA6B;AAC7B,CAAC;;AAED;;;;;;;;;;;ACxBA,eAAe,mBAAO,CAAC,uDAAa;AACpC,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;ACpCA,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,uBAAuB,mBAAO,CAAC,uEAAqB;AACpD,YAAY,mBAAO,CAAC,iDAAU;AAC9B,YAAY,mBAAO,CAAC,iDAAU;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,UAAU;AACvB;AACA;AACA;AACA,OAAO,OAAO,UAAU;AACxB,OAAO,OAAO;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA,eAAe,mBAAO,CAAC,qDAAY;AACnC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ,WAAW;AAC9B,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,mBAAmB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;ACpEA,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,qDAAY;AACnC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC/DA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC3BA;AACA,cAAc,mBAAO,CAAC,4CAAO;AAC7B,aAAa,8EAAuB;AACpC,iBAAiB,mBAAO,CAAC,oDAAW;AACpC,YAAY,6EAAsB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;;;;;;;AC/JD;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,uGAAuG;AAC1G;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,WAAW,0BAA0B;AACrC,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC;;AAEzC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,WAAW,0BAA0B;AACrC,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY;AACZ,aAAa,WAAW,KAAK;AAC7B;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;;;AAGA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,SAAS;AAC3B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,WAAW;AAC/B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,YAAY;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,eAAe;AACrC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,aAAa;AAClC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;;;AAGA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,SAAS;AAC3B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,aAAa;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEwL;;;;;;;;;;;;;;;;AC9nBxL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0BAA0B,cAAc;AACxC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C,wCAAwC;AACxC,wDAAwD;AACxD,+BAA+B;AAC/B,kBAAkB;AAClB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,6CAA6C;AAC7C;;AAEA;AACA;;AAEA,qCAAqC;AACrC;;AAEA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,0CAA0C;AAC1C;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,IAAI;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C,IAAI;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sDAAsD,gBAAgB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,8CAA8C,GAAG;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,sBAAsB;AACtB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,4BAA4B,IAAI;AAChC;;AAEA,sBAAsB;AACtB;AACA;AACA,8BAA8B,uCAAuC;AACrE,wCAAwC;AACxC,+BAA+B,IAAI;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAkD,IAAI,WAAW,IAAI;AACrE;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAkD;AAClD;AACA;AACA,6BAA6B;AAC7B;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;;AAEA;AACA,qGAAqG;AACrG;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA,oCAAoC;AACpC,4BAA4B,IAAI;AAChC;;AAEA;AACA,wBAAwB,SAAS,EAAE,cAAc,EAAE;AACnD;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA,wBAAwB,iDAAiD,IAAI,wBAAwB,EAAE,2CAA2C;AAClJ;AACA,uEAAuE,IAAI;AAC3E;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA,eAAe;AACf,0BAA0B,EAAE;AAC5B;AACA,wBAAwB,EAAE;AAC1B,6CAA6C,oEAAoE;;AAEjH;AACA;AACA;;AAEA;AACA,eAAe;AACf,wBAAwB,EAAE,iBAAiB;AAC3C;;AAEA;AACA,2BAA2B,EAAE,UAAU;AACvC;;AAEA;AACA,8FAA8F,IAAI,8CAA8C;AAChJ,iEAAiE,IAAI,QAAQ;AAC7E;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA8C,IAAI;AAClD;AACA,gCAAgC,IAAI;AACpC;;AAEA;AACA,gCAAgC,EAAE,gBAAgB,EAAE,GAAG,aAAa,IAAI;AACxE;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA,sBAAsB,WAAW,EAAE,WAAW,EAAE,qDAAqD,IAAI;AACzG;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,EAAE;AACxB;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA,kCAAkC;AAClC;;AAEA;AACA,0CAA0C,MAAM;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,IAAI,IAAI;;AAE7B;AACA;AACA,wDAAwD;AACxD;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA,4BAA4B;AAC5B;;AAEA;AACA;AACA,+DAA+D,iDAAiD;;AAEhH;AACA,sBAAsB;AACtB;;AAEA;AACA,sBAAsB;AACtB,yBAAyB,GAAG;AAC5B;AACA;AACA;AACA,eAAe,0BAA0B,IAAI;AAC7C;;AAEA;AACA,eAAe;AACf,eAAe;AACf;;AAEA;AACA,eAAe,UAAU;AACzB,eAAe;AACf;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA,eAAe,aAAa,IAAI;AAChC;;AAEA;AACA,eAAe;AACf;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,uEAAuE;AACtF;AACA,0BAA0B;AAC1B;AACA;AACA,qBAAqB,IAAI,yBAAyB,IAAI;AACtD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,+CAA+C,WAAW,IAAI,IAAI;AAClE,wDAAwD,WAAW;;AAEnE;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,WAAW;AAC7C;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,sCAAsC,gEAAgE;;AAEtG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC,IAAI;AACvC;AACA;AACA;AACA,sBAAsB,EAAE;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,QAAQ,IAAI;AAClC;;AAEA;AACA;AACA;;AAEA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB;AACtB;AACA,oDAAoD;AACpD;AACA,wBAAwB,IAAI,cAAc,iBAAiB;AAC3D,2CAA2C,gDAAgD;AAC3F,8BAA8B;AAC9B;AACA,+BAA+B;AAC/B;AACA,wBAAwB;AACxB;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB,IAAI;AAC7B;AACA;;AAEA;;AAEA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD,6BAA6B;AAC7B;AACA;;AAEA;AACA,yBAAyB,IAAI,6BAA6B;AAC1D,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iIAAiI;AACjI;AACA,sBAAsB;AACtB;AACA,0CAA0C;AAC1C;AACA,4DAA4D,SAAS;AACrE;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,sCAAsC,2GAA2G;AACjJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uBAAuB;AACvB;AACA;;AAEA;AACA;AACA,qBAAqB,YAAY;AACjC;;AAEA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA,uBAAuB,UAAU,IAAI;AACrC;AACA;AACA,+BAA+B,IAAI,mCAAmC,IAAI;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B,SAAS,eAAe,kBAAkB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,wDAAwD;AACxD;AACA,wDAAwD;AACxD,cAAc;AACd,wDAAwD;AACxD;AACA;AACA;AACA,UAAU;AACV,wDAAwD;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA,kDAAkD,kCAAkC;AACpF;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,I;;;;;;UC78CA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WC/BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;WCNA;WACA;WACA;WACA;WACA,E;;;;;;;;;;;;;;;;;;;;;;;ACJA;;;AAGuC;AACA;AAGvC;;;AAGkE;AACI;AACF;AAEI;AACpB;AAO1B;AAE+B;AAMzD,SAASyK,IAAIA,CAAA;EACZ,IAAK,CAAElyB,iEAAgB,CAAExI,MAAM,CAACgB,MAAM,CAAE,EAAG;IAC1CwY,OAAO,CAACT,KAAK,CAAE,+CAA+C,CAAE,CAAC,CAAC;IAClE;EACD;EAEA/Y,MAAM,CAACvH,gBAAgB,CAAE,SAAS,EAAErD,qBAAqB,EAAE,KAAK,CAAE;EAElE4K,MAAM,CAACvH,gBAAgB,CAAE,QAAQ,EAAE6hC,sDAAQ,CAAEn3B,2DAAc,EAAE,GAAG,CAAE,CAAE;EACpEA,+DAAc,EAAE;EAEhBb,kEAAiB,EAAE;EACnBtH,+DAAQ,CAAE+D,sDAAU,CAAE;EACtB/D,+DAAQ,CAAEiE,wDAAY,CAAE;EACxBN,2DAAW,CAAE8D,4DAAe,CAAE;AAC/B;AAEA,SAASrN,qBAAqBA,CAAEulC,OAA0C;EACzE,MAAMtlC,MAAM,GAAGslC,OAAO,CAACz5B,IAAI;EAC3B,IAAK,CAAE05B,oBAAoB,CAAEvlC,MAAM,CAAE,EAAG;IACvC;EACD;EACA4G,sBAAsB,EAAE;EACxBs+B,+DAAY,CAAEllC,MAAM,CAAE;EACtBmlC,iEAAc,CAAEnlC,MAAM,CAAE;EACxBolC,gEAAa,CAAEplC,MAAM,CAAE;AACxB;AAEA,IAAIwlC,YAAY,GAAG,KAAK;AACxB,MAAMC,OAAO,GAAGxmC,sDAAQ,CAAEQ,2DAAc,EAAE,GAAG,CAAE;AAC/C,SAASmH,sBAAsBA,CAAA;EAC9B,MAAM+I,WAAW,GAAGjQ,8DAAa,EAAE;EACnC,IAAKiQ,WAAW,KAAK61B,YAAY,EAAG;IACnC;EACD;EAEA,IAAK71B,WAAW,EAAG;IAClBzO,QAAQ,CAACkC,gBAAgB,CAAE,WAAW,EAAEqiC,OAAO,CAAE;IACjDvkC,QAAQ,CAACkC,gBAAgB,CAAE,OAAO,EAAEqiC,OAAO,CAAE;IAC7C96B,MAAM,CAACvH,gBAAgB,CAAE,QAAQ,EAAEqiC,OAAO,CAAE;EAC7C,CAAC,MAAM;IACNvkC,QAAQ,CAACs0B,mBAAmB,CAAE,WAAW,EAAEiQ,OAAO,CAAE;IACpDvkC,QAAQ,CAACs0B,mBAAmB,CAAE,OAAO,EAAEiQ,OAAO,CAAE;IAChD96B,MAAM,CAAC6qB,mBAAmB,CAAE,QAAQ,EAAEiQ,OAAO,CAAE;EAChD;EAEAD,YAAY,GAAG71B,WAAW;AAC3B;AAEA,MAAM41B,oBAAoB,GACzBvlC,MAA+B,IACGA,MAAM,CAAC0lC,MAAM,KAAK,kBAAkB;AAEvE;AACA;AACA;AAEAL,IAAI,EAAE,C","sources":["webpack://nab/./assets/src/admin/scripts/heatmap-renderer/confetti.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/heatmap.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/internal/constants.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/internal/page.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/internal/store.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/internal/utils.ts","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/lib/webgl-heatmap.js","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/scrollmap.ts","webpack://nab/./assets/src/public/tracking/ga4.ts","webpack://nab/./assets/src/public/tracking/utils.ts","webpack://nab/./assets/src/public/tracking/xpath.ts","webpack://nab/./assets/src/public/utils/cookies.ts","webpack://nab/./assets/src/public/utils/helpers/append-style.ts","webpack://nab/./assets/src/public/utils/helpers/dom-ready.ts","webpack://nab/./assets/src/public/utils/helpers/element-ready.ts","webpack://nab/./assets/src/public/utils/helpers/flow.ts","webpack://nab/./assets/src/public/utils/helpers/get-active-experiments.ts","webpack://nab/./assets/src/public/utils/helpers/get-api-url.ts","webpack://nab/./assets/src/public/utils/helpers/get-closest.ts","webpack://nab/./assets/src/public/utils/helpers/get-document-height.ts","webpack://nab/./assets/src/public/utils/helpers/get-session.ts","webpack://nab/./assets/src/public/utils/helpers/head-ready.ts","webpack://nab/./assets/src/public/utils/helpers/index.ts","webpack://nab/./assets/src/public/utils/helpers/internal/can-visitor-participate.ts","webpack://nab/./assets/src/public/utils/helpers/internal/get-settings.ts","webpack://nab/./assets/src/public/utils/helpers/internal/parse-javascript.ts","webpack://nab/./assets/src/public/utils/helpers/log.ts","webpack://nab/./assets/src/public/utils/helpers/preload-query-args.ts","webpack://nab/./assets/src/public/utils/segmentation/index.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/browser.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/cookie.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/day-of-week.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/device-type.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/index.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/ip-address.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/language.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/location.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/operating-system.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/query-parameter.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/referring-url.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/time.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/user-login.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/visitor-type.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/window-width.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-settings.ts","webpack://nab/./assets/src/public/utils/tracking.ts","webpack://nab/./assets/src/public/utils/url.ts","webpack://nab/./node_modules/charenc/charenc.js","webpack://nab/./node_modules/crypt/crypt.js","webpack://nab/./node_modules/is-buffer/index.js","webpack://nab/./node_modules/lodash/_DataView.js","webpack://nab/./node_modules/lodash/_Hash.js","webpack://nab/./node_modules/lodash/_ListCache.js","webpack://nab/./node_modules/lodash/_Map.js","webpack://nab/./node_modules/lodash/_MapCache.js","webpack://nab/./node_modules/lodash/_Promise.js","webpack://nab/./node_modules/lodash/_Set.js","webpack://nab/./node_modules/lodash/_SetCache.js","webpack://nab/./node_modules/lodash/_Stack.js","webpack://nab/./node_modules/lodash/_Symbol.js","webpack://nab/./node_modules/lodash/_Uint8Array.js","webpack://nab/./node_modules/lodash/_WeakMap.js","webpack://nab/./node_modules/lodash/_apply.js","webpack://nab/./node_modules/lodash/_arrayAggregator.js","webpack://nab/./node_modules/lodash/_arrayFilter.js","webpack://nab/./node_modules/lodash/_arrayLikeKeys.js","webpack://nab/./node_modules/lodash/_arrayMap.js","webpack://nab/./node_modules/lodash/_arrayPush.js","webpack://nab/./node_modules/lodash/_arraySome.js","webpack://nab/./node_modules/lodash/_assignValue.js","webpack://nab/./node_modules/lodash/_assocIndexOf.js","webpack://nab/./node_modules/lodash/_baseAggregator.js","webpack://nab/./node_modules/lodash/_baseAssignValue.js","webpack://nab/./node_modules/lodash/_baseEach.js","webpack://nab/./node_modules/lodash/_baseFlatten.js","webpack://nab/./node_modules/lodash/_baseFor.js","webpack://nab/./node_modules/lodash/_baseForOwn.js","webpack://nab/./node_modules/lodash/_baseGet.js","webpack://nab/./node_modules/lodash/_baseGetAllKeys.js","webpack://nab/./node_modules/lodash/_baseGetTag.js","webpack://nab/./node_modules/lodash/_baseHasIn.js","webpack://nab/./node_modules/lodash/_baseIsArguments.js","webpack://nab/./node_modules/lodash/_baseIsEqual.js","webpack://nab/./node_modules/lodash/_baseIsEqualDeep.js","webpack://nab/./node_modules/lodash/_baseIsMatch.js","webpack://nab/./node_modules/lodash/_baseIsNative.js","webpack://nab/./node_modules/lodash/_baseIsTypedArray.js","webpack://nab/./node_modules/lodash/_baseIteratee.js","webpack://nab/./node_modules/lodash/_baseKeys.js","webpack://nab/./node_modules/lodash/_baseKeysIn.js","webpack://nab/./node_modules/lodash/_baseMatches.js","webpack://nab/./node_modules/lodash/_baseMatchesProperty.js","webpack://nab/./node_modules/lodash/_basePick.js","webpack://nab/./node_modules/lodash/_basePickBy.js","webpack://nab/./node_modules/lodash/_baseProperty.js","webpack://nab/./node_modules/lodash/_basePropertyDeep.js","webpack://nab/./node_modules/lodash/_baseSet.js","webpack://nab/./node_modules/lodash/_baseSetToString.js","webpack://nab/./node_modules/lodash/_baseTimes.js","webpack://nab/./node_modules/lodash/_baseToString.js","webpack://nab/./node_modules/lodash/_baseTrim.js","webpack://nab/./node_modules/lodash/_baseUnary.js","webpack://nab/./node_modules/lodash/_cacheHas.js","webpack://nab/./node_modules/lodash/_castPath.js","webpack://nab/./node_modules/lodash/_coreJsData.js","webpack://nab/./node_modules/lodash/_createAggregator.js","webpack://nab/./node_modules/lodash/_createBaseEach.js","webpack://nab/./node_modules/lodash/_createBaseFor.js","webpack://nab/./node_modules/lodash/_defineProperty.js","webpack://nab/./node_modules/lodash/_equalArrays.js","webpack://nab/./node_modules/lodash/_equalByTag.js","webpack://nab/./node_modules/lodash/_equalObjects.js","webpack://nab/./node_modules/lodash/_flatRest.js","webpack://nab/./node_modules/lodash/_freeGlobal.js","webpack://nab/./node_modules/lodash/_getAllKeys.js","webpack://nab/./node_modules/lodash/_getAllKeysIn.js","webpack://nab/./node_modules/lodash/_getMapData.js","webpack://nab/./node_modules/lodash/_getMatchData.js","webpack://nab/./node_modules/lodash/_getNative.js","webpack://nab/./node_modules/lodash/_getPrototype.js","webpack://nab/./node_modules/lodash/_getRawTag.js","webpack://nab/./node_modules/lodash/_getSymbols.js","webpack://nab/./node_modules/lodash/_getSymbolsIn.js","webpack://nab/./node_modules/lodash/_getTag.js","webpack://nab/./node_modules/lodash/_getValue.js","webpack://nab/./node_modules/lodash/_hasPath.js","webpack://nab/./node_modules/lodash/_hashClear.js","webpack://nab/./node_modules/lodash/_hashDelete.js","webpack://nab/./node_modules/lodash/_hashGet.js","webpack://nab/./node_modules/lodash/_hashHas.js","webpack://nab/./node_modules/lodash/_hashSet.js","webpack://nab/./node_modules/lodash/_isFlattenable.js","webpack://nab/./node_modules/lodash/_isIndex.js","webpack://nab/./node_modules/lodash/_isKey.js","webpack://nab/./node_modules/lodash/_isKeyable.js","webpack://nab/./node_modules/lodash/_isMasked.js","webpack://nab/./node_modules/lodash/_isPrototype.js","webpack://nab/./node_modules/lodash/_isStrictComparable.js","webpack://nab/./node_modules/lodash/_listCacheClear.js","webpack://nab/./node_modules/lodash/_listCacheDelete.js","webpack://nab/./node_modules/lodash/_listCacheGet.js","webpack://nab/./node_modules/lodash/_listCacheHas.js","webpack://nab/./node_modules/lodash/_listCacheSet.js","webpack://nab/./node_modules/lodash/_mapCacheClear.js","webpack://nab/./node_modules/lodash/_mapCacheDelete.js","webpack://nab/./node_modules/lodash/_mapCacheGet.js","webpack://nab/./node_modules/lodash/_mapCacheHas.js","webpack://nab/./node_modules/lodash/_mapCacheSet.js","webpack://nab/./node_modules/lodash/_mapToArray.js","webpack://nab/./node_modules/lodash/_matchesStrictComparable.js","webpack://nab/./node_modules/lodash/_memoizeCapped.js","webpack://nab/./node_modules/lodash/_nativeCreate.js","webpack://nab/./node_modules/lodash/_nativeKeys.js","webpack://nab/./node_modules/lodash/_nativeKeysIn.js","webpack://nab/./node_modules/lodash/_nodeUtil.js","webpack://nab/./node_modules/lodash/_objectToString.js","webpack://nab/./node_modules/lodash/_overArg.js","webpack://nab/./node_modules/lodash/_overRest.js","webpack://nab/./node_modules/lodash/_root.js","webpack://nab/./node_modules/lodash/_setCacheAdd.js","webpack://nab/./node_modules/lodash/_setCacheHas.js","webpack://nab/./node_modules/lodash/_setToArray.js","webpack://nab/./node_modules/lodash/_setToString.js","webpack://nab/./node_modules/lodash/_shortOut.js","webpack://nab/./node_modules/lodash/_stackClear.js","webpack://nab/./node_modules/lodash/_stackDelete.js","webpack://nab/./node_modules/lodash/_stackGet.js","webpack://nab/./node_modules/lodash/_stackHas.js","webpack://nab/./node_modules/lodash/_stackSet.js","webpack://nab/./node_modules/lodash/_stringToPath.js","webpack://nab/./node_modules/lodash/_toKey.js","webpack://nab/./node_modules/lodash/_toSource.js","webpack://nab/./node_modules/lodash/_trimmedEndIndex.js","webpack://nab/./node_modules/lodash/constant.js","webpack://nab/./node_modules/lodash/debounce.js","webpack://nab/./node_modules/lodash/eq.js","webpack://nab/./node_modules/lodash/flatten.js","webpack://nab/./node_modules/lodash/get.js","webpack://nab/./node_modules/lodash/hasIn.js","webpack://nab/./node_modules/lodash/identity.js","webpack://nab/./node_modules/lodash/isArguments.js","webpack://nab/./node_modules/lodash/isArray.js","webpack://nab/./node_modules/lodash/isArrayLike.js","webpack://nab/./node_modules/lodash/isBuffer.js","webpack://nab/./node_modules/lodash/isEqual.js","webpack://nab/./node_modules/lodash/isFunction.js","webpack://nab/./node_modules/lodash/isLength.js","webpack://nab/./node_modules/lodash/isObject.js","webpack://nab/./node_modules/lodash/isObjectLike.js","webpack://nab/./node_modules/lodash/isSymbol.js","webpack://nab/./node_modules/lodash/isTypedArray.js","webpack://nab/./node_modules/lodash/keyBy.js","webpack://nab/./node_modules/lodash/keys.js","webpack://nab/./node_modules/lodash/keysIn.js","webpack://nab/./node_modules/lodash/mapValues.js","webpack://nab/./node_modules/lodash/memoize.js","webpack://nab/./node_modules/lodash/now.js","webpack://nab/./node_modules/lodash/pick.js","webpack://nab/./node_modules/lodash/pickBy.js","webpack://nab/./node_modules/lodash/property.js","webpack://nab/./node_modules/lodash/stubArray.js","webpack://nab/./node_modules/lodash/stubFalse.js","webpack://nab/./node_modules/lodash/throttle.js","webpack://nab/./node_modules/lodash/toNumber.js","webpack://nab/./node_modules/lodash/toString.js","webpack://nab/./node_modules/md5/md5.js","webpack://nab/./node_modules/stackblur-canvas/dist/stackblur-es.js","webpack://nab/./node_modules/ua-parser-js/src/main/ua-parser.mjs","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/webpack/runtime/node module decorator","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/index.ts"],"sourcesContent":["/**\n * External dependencies\n */\nimport throttle from 'lodash/throttle';\nimport type {\n\tConfettiOption,\n\tConfettiType,\n\tDict,\n\tHeatmapFrameAction,\n\tClickWithVisibility,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STATS_REFRESH_DELAY } from './internal/constants';\nimport {\n\tareRawResults,\n\tgetActiveConfettiFilter,\n\tgetConfettiFilterOptions,\n\tgetConfettiClicks,\n\tgetIFrameLabels,\n\tgetOpacity,\n\tprocessResults,\n\tisInteractive,\n} from './internal/store';\nimport {\n\tcreateElement,\n\tcreateOverlayElement,\n\tmaximizeElement,\n} from './internal/utils';\n\nconst confetti:\n\t| Record< string, never >\n\t| {\n\t\t\tcanvas: HTMLCanvasElement;\n\t\t\toverlay: HTMLElement;\n\t\t\tstats: HTMLElement;\n\t\t\tstatsTracker: HTMLElement;\n\t  } = {};\n\nexport function reactToParentMessages( action: HeatmapFrameAction ): true {\n\tif ( 'confetti' !== action.mode ) {\n\t\tremoveConfettiFromBody();\n\t\treturn true;\n\t}\n\n\tif ( ! areRawResults( [ 'still-loading', 'canceling', 'ready' ] ) ) {\n\t\treturn true;\n\t}\n\n\tswitch ( action.type ) {\n\t\tcase 'process-results':\n\t\t\tprocessResults();\n\t\t\treturn true;\n\n\t\tcase 'render-results':\n\t\t\trenderResults();\n\t\t\treturn true;\n\n\t\tcase 'update-opacity':\n\t\t\tsetOverlayOpacity();\n\t\t\treturn true;\n\n\t\tcase 'make-interactive':\n\t\t\tmakeConfettiInteractive();\n\t\t\tprocessResults();\n\t\t\treturn true;\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction renderResults() {\n\tif ( ! confetti.canvas ) {\n\t\tinitConfetti();\n\t}\n\n\tsetOverlayOpacity();\n\tmakeConfettiInteractive();\n\tappendConfettiInBody();\n\trenderConfetti();\n}\n\nfunction makeConfettiInteractive() {\n\tif ( ! confetti ) {\n\t\treturn;\n\t}\n\n\tconst i = isInteractive();\n\tconfetti.overlay.style.pointerEvents = i ? 'none' : '';\n\tconfetti.canvas.style.pointerEvents = i ? 'none' : '';\n\tconfetti.stats.style.pointerEvents = i ? 'none' : '';\n\tconfetti.statsTracker.style.pointerEvents = i ? 'none' : '';\n}\n\nfunction setOverlayOpacity() {\n\tif ( ! confetti.overlay ) {\n\t\treturn;\n\t}\n\tconst opacity = getOpacity();\n\tconfetti.overlay.style.opacity = `${ opacity / 100 }`;\n}\n\nfunction removeConfettiFromBody() {\n\tif ( document.body === confetti.canvas?.parentNode ) {\n\t\tdocument.body.removeChild( confetti.canvas );\n\t}\n\n\tif ( document.body === confetti.overlay?.parentNode ) {\n\t\tdocument.body.removeChild( confetti.overlay );\n\t}\n\n\tif ( document.body === confetti.stats?.parentNode ) {\n\t\tdocument.body.removeChild( confetti.stats );\n\t}\n\n\tif ( document.body === confetti.statsTracker?.parentNode ) {\n\t\tdocument.body.removeChild( confetti.statsTracker );\n\t}\n}\n\nfunction appendConfettiInBody() {\n\tif ( ! confetti ) {\n\t\treturn;\n\t}\n\n\tmaximizeElement( confetti.overlay );\n\tmaximizeElement( confetti.canvas );\n\n\tif ( document.body === confetti.canvas.parentNode ) {\n\t\treturn;\n\t}\n\n\tdocument.body.appendChild( confetti.overlay );\n\tdocument.body.appendChild( confetti.canvas );\n\tdocument.body.appendChild( confetti.stats );\n\tdocument.body.appendChild( confetti.statsTracker );\n}\n\nfunction initConfetti() {\n\tconfetti.overlay = createOverlayElement( 'div' );\n\tconfetti.overlay.style.background = '#000';\n\tconfetti.canvas = createOverlayElement< HTMLCanvasElement >( 'canvas' );\n\n\t// Stats.\n\tconfetti.stats = createOverlayElement( 'div' );\n\tconfetti.stats.style.height = 'auto';\n\tconfetti.stats.style.borderBottom = '2px dashed #262b2d';\n\tconfetti.stats.style.opacity = '0';\n\tconfetti.stats.style.transition = 'opacity 200ms ease-in-out';\n\n\tconst scrollStatsContainer = createElement( 'span', {\n\t\tstyle: {\n\t\t\tfontSize: '13px',\n\t\t\tleft: '1em',\n\t\t\tborderRadius: '4px',\n\t\t\tfontWeight: '600',\n\t\t\tfontFamily:\n\t\t\t\t'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif',\n\t\t\tbackground: '#262b2d',\n\t\t\tpointerEvents: 'none',\n\t\t\tcolor: '#eee',\n\t\t\tdisplay: 'inline-block',\n\t\t\tposition: 'absolute',\n\t\t\ttransform: 'translate(0, -50%)',\n\t\t\twhiteSpace: 'nowrap',\n\t\t},\n\t} );\n\n\tconst statsPopularity = createElement( 'span', {\n\t\tclassName: 'nab-data-block',\n\t\tstyle: { padding: '0 1em' },\n\t} );\n\tconst statsPopularityLabel = document.createTextNode(\n\t\tgetIFrameLabels().clicksAbove + ' '\n\t);\n\tconst statsPopularityValue = createElement( 'output', {\n\t\tid: 'nab-clicks-above',\n\t} );\n\tstatsPopularityValue.style.color = 'inherit';\n\tstatsPopularityValue.style.display = 'inline';\n\tstatsPopularityValue.style.fontSize = 'inherit';\n\tstatsPopularityValue.style.lineHeight = 'inherit';\n\tstatsPopularityValue.style.margin = '0';\n\tstatsPopularityValue.style.padding = '0';\n\n\tscrollStatsContainer.appendChild( statsPopularity );\n\tstatsPopularity.appendChild( statsPopularityLabel );\n\tstatsPopularity.appendChild( statsPopularityValue );\n\n\t// Stats tracker.\n\tconfetti.statsTracker = createOverlayElement( 'div' );\n\n\t// Event listeners.\n\tconfetti.stats.appendChild( scrollStatsContainer );\n\n\tconfetti.statsTracker.addEventListener( 'mouseenter', () => {\n\t\tif ( confetti.stats ) {\n\t\t\tconfetti.stats.style.opacity = '1';\n\t\t}\n\t} );\n\n\tconfetti.statsTracker.addEventListener( 'mouseleave', () => {\n\t\tif ( confetti.stats ) {\n\t\t\tconfetti.stats.style.opacity = '0';\n\t\t}\n\t} );\n\n\t// Update positon.\n\tconfetti.statsTracker.addEventListener( 'mousemove', ( event ) => {\n\t\tif ( ! confetti.stats ) {\n\t\t\treturn;\n\t\t}\n\t\tconfetti.stats.style.top = `${ Math.max( event.pageY, 0 ) }px`;\n\t} );\n\n\t// Update count.\n\tconfetti.statsTracker.addEventListener(\n\t\t'mousemove',\n\t\tthrottle( ( event: MouseEvent ) => {\n\t\t\tconst clicksEl = document.getElementById( 'nab-clicks-above' );\n\t\t\tif ( ! clicksEl ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst clicks = getConfettiClicks().filter(\n\t\t\t\t( click ) =>\n\t\t\t\t\tclick.visibility === 'visible' &&\n\t\t\t\t\t( click.realCoordinates.y || Number.POSITIVE_INFINITY ) <=\n\t\t\t\t\t\tevent.pageY\n\t\t\t);\n\t\t\tclicksEl.textContent = `${ clicks.length }`;\n\t\t}, STATS_REFRESH_DELAY )\n\t);\n}\n\nfunction renderConfetti() {\n\tif ( ! confetti.canvas ) {\n\t\treturn;\n\t}\n\n\tconst ctx = confetti.canvas.getContext( '2d' );\n\tif ( ! ctx ) {\n\t\treturn;\n\t}\n\n\tctx.clearRect( 0, 0, confetti.canvas.width, confetti.canvas.height );\n\tctx.lineWidth = 1;\n\tctx.strokeStyle = '#000';\n\n\tconst activeFilter = getActiveConfettiFilter();\n\tconst options = getConfettiFilterOptions();\n\tgetConfettiClicks().forEach( ( c ) =>\n\t\trenderClick( ctx, activeFilter, options, c )\n\t);\n}\n\nfunction renderClick(\n\tctx: CanvasRenderingContext2D,\n\tactiveFilter: ConfettiType,\n\tfilterOptions: Partial< Record< ConfettiType, Dict< ConfettiOption > > >,\n\tclick: ClickWithVisibility\n) {\n\tif ( 'hidden' === click.visibility ) {\n\t\treturn;\n\t}\n\n\tconst { x, y } = click.realCoordinates;\n\tconst activeOptions = filterOptions[ activeFilter ] ?? {};\n\n\tctx.fillStyle = activeOptions[ click[ activeFilter ] ]?.color || '#ec82b6';\n\tctx.beginPath();\n\tctx.arc( x, y, 6, 0, 2 * Math.PI, true );\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n}\n","/**\n * External dependencies\n */\nimport type { ClickWithVisibility, HeatmapFrameAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { domReady } from '../../../public/utils/helpers';\nimport {\n\tHEATMAP_GL_CANVAS_SCALE,\n\tHEATMAP_POINT_SIZE,\n\tHEATMAP_MAX_SIZE_MULTIPLIER,\n\tHEATMAP_MIN_INTENSITY,\n\tHEATMAP_INTENSITY_RANGE,\n} from './internal/constants';\nimport {\n\tareRawResults,\n\tgetClicksPerSquare,\n\tgetHeatmapClicks,\n\tgetIntensity,\n\tgetOpacity,\n\tisInteractive,\n\tprocessResults,\n} from './internal/store';\nimport {\n\tcreateOverlayElement,\n\tgetDocumentHeight,\n\tmaximizeElement,\n} from './internal/utils';\nimport { WebGLHeatmap, createWebGLHeatmap } from './lib/webgl-heatmap';\n\ntype Heatmap = {\n\tcanvas: HTMLCanvasElement;\n\tinstance: WebGLHeatmap;\n\toverlay: HTMLElement;\n};\n\nconst heatmap: Heatmap = initWebGLHeatmap();\n\n// Add overlay on startup.\ndomReady( appendHeatmapInBody );\n\nexport function reactToParentMessages( action: HeatmapFrameAction ): true {\n\tif ( 'heatmap' !== action.mode ) {\n\t\tremoveHeatmapFromBody();\n\t\treturn true;\n\t}\n\n\tif ( ! areRawResults( [ 'still-loading', 'canceling', 'ready' ] ) ) {\n\t\treturn true;\n\t}\n\n\tswitch ( action.type ) {\n\t\tcase 'process-results':\n\t\t\tprocessResults();\n\t\t\treturn true;\n\n\t\tcase 'render-results':\n\t\t\trefreshHeatmap();\n\t\t\treturn true;\n\n\t\tcase 'update-intensity':\n\t\t\tupdateIntensity();\n\t\t\treturn true;\n\n\t\tcase 'update-opacity':\n\t\t\tsetOverlayOpacity();\n\t\t\treturn true;\n\n\t\tcase 'make-interactive':\n\t\t\tmakeHeatmapInteractive();\n\t\t\tprocessResults();\n\t\t\treturn true;\n\t}\n}\n\nexport function refreshHeatmap(): void {\n\tresetHeatmap();\n\trenderHeatmap();\n} //end refreshHeatmap();\n\n// =======\n// HELPERS\n// =======\n\nconst updateIntensity = renderHeatmap;\n\nfunction resetHeatmap() {\n\tconst { canvas, instance } = initWebGLHeatmap();\n\tremoveHeatmapFromBody();\n\theatmap.canvas = canvas;\n\theatmap.instance = instance;\n\tappendHeatmapInBody();\n}\n\nfunction setOverlayOpacity() {\n\tif ( ! heatmap.overlay ) {\n\t\treturn;\n\t}\n\tconst opacity = getOpacity();\n\theatmap.overlay.style.opacity = `${ opacity / 100 }`;\n}\n\nfunction removeHeatmapFromBody() {\n\tif ( document.body === heatmap.canvas?.parentNode ) {\n\t\tdocument.body.removeChild( heatmap.canvas );\n\t}\n\n\tif ( document.body === heatmap.overlay?.parentNode ) {\n\t\tdocument.body.removeChild( heatmap.overlay );\n\t}\n}\n\nfunction appendHeatmapInBody() {\n\tif ( ! heatmap.canvas || ! heatmap.overlay ) {\n\t\treturn;\n\t}\n\n\tif ( document.body === heatmap.canvas.parentNode ) {\n\t\tmaximizeHeatmap();\n\t\treturn;\n\t}\n\n\tdocument.body.appendChild( heatmap.overlay );\n\tdocument.body.appendChild( heatmap.canvas );\n\tmaximizeHeatmap();\n}\n\nfunction maximizeHeatmap() {\n\tif ( ! heatmap.canvas || ! heatmap.instance || ! heatmap.overlay ) {\n\t\treturn;\n\t}\n\n\tmaximizeElement( heatmap.overlay );\n\n\tconst width = document.body.clientWidth * HEATMAP_GL_CANVAS_SCALE;\n\tconst height = getDocumentHeight() * HEATMAP_GL_CANVAS_SCALE;\n\theatmap.canvas.style.width = `${ width }px`;\n\theatmap.canvas.style.height = `${ height }px`;\n\theatmap.instance.adjustSize( width, height );\n}\n\nfunction makeHeatmapInteractive() {\n\tconst i = isInteractive();\n\theatmap.overlay.style.pointerEvents = i ? 'none' : '';\n\theatmap.canvas.style.pointerEvents = i ? 'none' : '';\n}\n\nfunction initWebGLHeatmap(): Heatmap {\n\tconst overlay = createOverlayElement( 'div' );\n\toverlay.style.background = '#000';\n\toverlay.style.opacity = '0.8';\n\n\tconst canvas = createOverlayElement< HTMLCanvasElement >( 'canvas' );\n\tcanvas.style.mixBlendMode = 'screen';\n\tcanvas.style.transform = `scale(${ ( 1 / HEATMAP_GL_CANVAS_SCALE ).toFixed(\n\t\t3\n\t) })`;\n\tcanvas.style.transformOrigin = '0 0';\n\n\tconst instance = createWebGLHeatmap( {\n\t\tcanvas,\n\t} );\n\n\treturn { overlay, canvas, instance };\n}\n\nfunction renderHeatmap() {\n\tif ( ! heatmap.instance ) {\n\t\treturn;\n\t}\n\n\tremoveHeatmapFromBody();\n\tsetOverlayOpacity();\n\tmakeHeatmapInteractive();\n\tappendHeatmapInBody();\n\n\tconst clicks = getHeatmapClicks();\n\tconst cps = getClicksPerSquare();\n\n\tconst maxClicksInSquare = cps.max;\n\tconst intensity = getIntensity() / 100;\n\n\theatmap.instance.clear();\n\tclicks.forEach( ( click ) => renderClick( click, maxClicksInSquare ) );\n\theatmap.instance.update();\n\theatmap.instance.multiply( intensity );\n\theatmap.instance.update();\n\theatmap.instance.display();\n}\n\nfunction renderClick( click: ClickWithVisibility, maxClicksInSquare: number ) {\n\tif ( ! heatmap.instance ) {\n\t\treturn;\n\t}\n\n\tif ( 'hidden' === click.visibility ) {\n\t\treturn;\n\t}\n\n\tconst { x, y } = click.realCoordinates;\n\tconst clicksInSquare = getClicksInSquare( click );\n\tconst normalizedSquareIntensity =\n\t\t( clicksInSquare / maxClicksInSquare ) * HEATMAP_INTENSITY_RANGE +\n\t\tHEATMAP_MIN_INTENSITY;\n\tconst clickIntensity = normalizedSquareIntensity / clicksInSquare;\n\n\tconst scale = mapScale(\n\t\tclicksInSquare,\n\t\t0,\n\t\tmaxClicksInSquare,\n\t\tHEATMAP_MAX_SIZE_MULTIPLIER,\n\t\t1\n\t);\n\n\theatmap.instance.addPoint(\n\t\tx * HEATMAP_GL_CANVAS_SCALE,\n\t\ty * HEATMAP_GL_CANVAS_SCALE,\n\t\tscale * HEATMAP_POINT_SIZE * HEATMAP_GL_CANVAS_SCALE,\n\t\tclickIntensity\n\t);\n}\n\nfunction mapScale(\n\tvalue: number,\n\tinputStart: number,\n\tinputEnd: number,\n\toutputStart: number,\n\toutputEnd: number\n) {\n\tconst slope = ( outputEnd - outputStart ) / ( inputEnd - inputStart );\n\treturn outputStart + slope * ( value - inputStart );\n}\n\nfunction getClicksInSquare( click: ClickWithVisibility ): number {\n\tif ( 'hidden' === click.visibility ) {\n\t\treturn 1;\n\t}\n\n\tconst coords = click.realCoordinates;\n\tif ( ! coords ) {\n\t\treturn 1;\n\t}\n\n\tconst cps = getClicksPerSquare();\n\tif ( ! cps ) {\n\t\treturn 1;\n\t}\n\n\tconst { x, y } = coords;\n\tconst { columns, value } = cps;\n\tconst col = Math.floor( x / HEATMAP_POINT_SIZE );\n\tconst row = Math.floor( y / HEATMAP_POINT_SIZE );\n\n\tconst index = row * columns + col;\n\tif ( index < 0 && value.length <= index ) {\n\t\treturn 1;\n\t}\n\n\treturn cps.value[ index ] ?? 0;\n}\n","export const STATS_REFRESH_DELAY = 100;\n\nexport const HEATMAP_GL_CANVAS_SCALE = 0.25;\nexport const HEATMAP_POINT_SIZE = 100;\nexport const HEATMAP_MAX_SIZE_MULTIPLIER = 2;\nexport const HEATMAP_MIN_INTENSITY = 0.4;\nexport const HEATMAP_MAX_INTENSITY = 2;\nexport const HEATMAP_INTENSITY_RANGE =\n\tHEATMAP_MAX_INTENSITY - HEATMAP_MIN_INTENSITY;\n\nexport const SCROLLMAP_ROW_HEIGHT = 50;\nexport const SCROLLMAP_COLORS = [\n\t'#000000',\n\t'#00031d',\n\t'#00052d',\n\t'#00094f',\n\t'#000c6a',\n\t'#000f7f',\n\t'#0014ac',\n\t'#0017c6',\n\t'#001dff',\n\t'#003dff',\n\t'#0074ff',\n\t'#009cff',\n\t'#00bcff',\n\t'#00d3ff',\n\t'#00ebff',\n\t'#00ffeb',\n\t'#00ffac',\n\t'#00ff74',\n\t'#00ff4d',\n\t'#2aff00',\n\t'#62ff00',\n\t'#91ff00',\n\t'#b1ff00',\n\t'#d1ff00',\n\t'#f8ff00',\n\t'#ffde00',\n\t'#ffbe00',\n\t'#ff9700',\n\t'#ff7700',\n\t'#ff5f00',\n\t'#ff4700',\n\t'#ff0000',\n];\n","/**\n * Internal dependencies\n */\nimport { getDocumentHeight } from './utils';\nimport { domReady } from '../../../../public/utils/helpers';\n\nconst SCROLL_STEP_IN_PX = 1000;\n\nlet _isPageReady = false;\nexport const isPageReady = (): boolean => _isPageReady;\n\nlet prq: ( () => void )[] = [];\nexport const onPageReady = ( cb: () => void ): void =>\n\tvoid ( isPageReady() ? cb() : prq.push( cb ) );\n\nlet _once = false;\nexport const loadAssets = (): void => {\n\tif ( _once ) {\n\t\treturn;\n\t}\n\t_once = true;\n\tdomReady( () => void doLoadPage() );\n};\n\nexport const disableLinks = (): void =>\n\tArray.from( document.querySelectorAll( 'a' ) ).forEach( ( link ) =>\n\t\tlink.setAttribute( 'href', '#' )\n\t);\n\n// =======\n// HELPERS\n// =======\n\nasync function doLoadPage() {\n\tfetchLazyLoadImages();\n\tawait scanPage();\n\tawait wait( 2000 );\n\tmarkPageAsLoaded();\n}\n\nfunction fetchLazyLoadImages(): void {\n\tconst images = Array.from(\n\t\tdocument.querySelectorAll< HTMLElement >( 'img[data-src]' )\n\t).reverse();\n\timages.forEach( ( img ) => {\n\t\tconst src = img.getAttribute( 'data-src' );\n\t\tif ( src ) {\n\t\t\timg.setAttribute( 'src', src );\n\t\t}\n\t} );\n}\n\nasync function scanPage(): Promise< void > {\n\tconst height = getDocumentHeight();\n\n\tfor ( let i = SCROLL_STEP_IN_PX; i < height; i += SCROLL_STEP_IN_PX ) {\n\t\twindow.scrollTo( 0, i );\n\t\tawait wait( 100 );\n\t}\n\n\twindow.scrollTo( 0, 0 );\n}\n\nfunction wait( ms: number ): Promise< void > {\n\treturn new Promise( ( resolve ) => setTimeout( resolve, ms ) );\n}\n\nfunction markPageAsLoaded(): void {\n\t_isPageReady = true;\n\tprq.forEach( ( f ) => f() );\n\tprq = [];\n} //end markPageAsLoaded();\n","/**\n * WordPress dependencies\n */\nimport type {\n\tselect as _select,\n\tdispatch as _dispatch,\n} from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport isEqual from 'lodash/isEqual';\nimport keyBy from 'lodash/keyBy';\nimport mapValues from 'lodash/mapValues';\nimport pickBy from 'lodash/pickBy';\nimport type {\n\tAlternativeIndex,\n\tBoundingBox,\n\tClick,\n\tClickVisibilityProps,\n\tClicksPerSquare,\n\tConfettiOption,\n\tConfettiType,\n\tDict,\n\tHeatmapDataStatus,\n\tHeatmapLabels,\n\tHeatmapResolution,\n\tClickWithVisibility,\n\tScroll,\n\tScrollSummary,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getDocumentHeight } from './utils';\nimport { getElementByXPath } from '../../../../public/tracking/xpath';\nimport { getDocumentHeight as getBodyHeight } from '../../../../public/utils/helpers';\n\n// ===================\n// CONSTANTS AND UTILS\n// ===================\n\nimport type { store as dataStore } from '@nab/data';\nconst NAB_DATA = 'nab/data' as unknown as typeof dataStore;\n\nimport type { store as heatmapStore } from '../../../pages/heatmap-results/store';\nconst NAB_HEATMAP = 'nab/heatmap' as unknown as typeof heatmapStore;\n\nconst select = (\n\t( ( window.parent as unknown as Dict )?.wp as Dict )?.data as Dict\n )?.select as typeof _select;\nconst dispatch = (\n\t( ( window.parent as unknown as Dict )?.wp as Dict )?.data as Dict\n )?.dispatch as typeof _dispatch;\n\ntype XYCoords = [ number, number ];\ntype ExpandedClick = Click & {\n\thtmlElement: HTMLElement | null;\n};\n\n// =======\n// EXPORTS\n// =======\n\nexport function areRawResults(\n\tmode: HeatmapDataStatus[ 'mode' ] | HeatmapDataStatus[ 'mode' ][]\n): boolean {\n\tconst alternative = getAlternative();\n\tconst status = select( NAB_HEATMAP ).getRawResultStatus( alternative ).mode;\n\tconst modes = 'string' === typeof mode ? [ mode ] : mode;\n\treturn modes.some( ( m ) => m === status );\n}\n\nexport function getRawClicks(): ReadonlyArray< Click > {\n\treturn select( NAB_HEATMAP ).getRawClicks( getAlternative() );\n}\n\nexport function getRawScrolls(): ReadonlyArray< Scroll > {\n\treturn select( NAB_HEATMAP ).getRawScrolls( getAlternative() );\n}\n\nexport function getHeatmapClicks(): ReadonlyArray< ClickWithVisibility > {\n\treturn select( NAB_HEATMAP ).getClicksInResolution(\n\t\tgetAlternative(),\n\t\tgetActiveResolution()\n\t);\n}\n\nexport function getClicksPerSquare(): ClicksPerSquare {\n\treturn select( NAB_HEATMAP ).getClicksPerSquare(\n\t\tgetAlternative(),\n\t\tgetActiveResolution()\n\t);\n}\n\nexport function getScrollSummary(): ScrollSummary {\n\treturn select( NAB_HEATMAP ).getScrollSummary(\n\t\tgetAlternative(),\n\t\tgetActiveResolution()\n\t);\n}\n\nexport function getConfettiClicks(): ReadonlyArray< ClickWithVisibility > {\n\treturn getHeatmapClicks().filter( isClickVisibleInConfetti );\n}\n\nexport function getConfettiFilterOptions(): Partial<\n\tRecord< ConfettiType, Dict< ConfettiOption > >\n> {\n\treturn select( NAB_HEATMAP ).getConfettiFilterOptions(\n\t\tgetAlternative(),\n\t\tgetActiveResolution()\n\t);\n}\n\nexport function getActiveConfettiFilter(): ConfettiType {\n\treturn select( NAB_HEATMAP ).getActiveFilter();\n}\n\nexport function getDisabledConfettiFilterOptions(): ReadonlyArray< string > {\n\treturn select( NAB_HEATMAP ).getDisabledFilterOptions();\n}\n\nexport function getIntensity(): number {\n\treturn select( NAB_HEATMAP ).getIntensity();\n}\n\nexport function getOpacity(): number {\n\treturn select( NAB_HEATMAP ).getOpacity();\n}\n\nexport function isInteractive(): boolean {\n\treturn select( NAB_HEATMAP ).isInteractive();\n}\n\nexport function markScriptAsReady(): void {\n\tconst alt = getAlternative();\n\tvoid dispatch( NAB_HEATMAP ).setIFrameStatus( alt, 'script-ready' );\n}\n\nexport function markPageAsReady(): void {\n\tconst alt = getAlternative();\n\tvoid dispatch( NAB_HEATMAP ).setIFrameStatus( alt, 'page-ready' );\n}\n\nexport function processResults(): void {\n\tconst alt = getAlternative();\n\tconst res = getActiveResolution();\n\tconst clicks = getRawClicks().map( expandClick );\n\tconst page = {\n\t\tclickVisibilityProps: computeClickVisibilityProps( clicks ),\n\t\tdimensions: getPageDimensions(),\n\t};\n\tvoid dispatch( NAB_HEATMAP ).setPageInfo( alt, res, page );\n\tvoid dispatch( NAB_HEATMAP ).processResults( alt, res );\n}\n\nexport function onWindowResize(): void {\n\tconst alt = getAlternative();\n\tconst res = getActiveResolution();\n\tconst pageDimensions = getPageDimensions();\n\tconst storeDimensions = select( NAB_HEATMAP ).getPageDimensions( alt, res );\n\tif ( isEqual( pageDimensions, storeDimensions ) ) {\n\t\treturn;\n\t}\n\tprocessResults();\n}\n\nexport const getIFrameLabels = (): HeatmapLabels =>\n\tselect( NAB_HEATMAP ).getIFrameLabels();\n\n// =======\n// HELPERS\n// =======\n\nfunction expandClick( click: Click ): ExpandedClick {\n\tconst selector = click.xpath || click.cssPath;\n\tif ( ! selector ) {\n\t\treturn { ...click, htmlElement: null };\n\t}\n\n\tconst el = getAllSelectors( selector ).reduce(\n\t\t( r, s ) => {\n\t\t\tif ( r ) {\n\t\t\t\treturn r;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\treturn click.xpath\n\t\t\t\t\t? getElementByXPath( s )\n\t\t\t\t\t: document.querySelector( s );\n\t\t\t} catch ( _ ) {\n\t\t\t\treturn r;\n\t\t\t}\n\t\t},\n\t\tnull as Node | null\n\t);\n\n\treturn { ...click, htmlElement: isHtmlElement( el ) ? el : null };\n}\n\nconst getAlternative = (): AlternativeIndex =>\n\tNumber.parseInt(\n\t\twindow.location.search\n\t\t\t.replace( /^\\?/, '' )\n\t\t\t.split( '&' )\n\t\t\t.find( ( x ) => x.startsWith( 'alternative=' ) )\n\t\t\t?.split( '=' )[ 1 ] ?? '0'\n\t) || 0;\n\nfunction getActiveResolution(): HeatmapResolution {\n\treturn select( NAB_HEATMAP ).getActiveResolution();\n}\n\nconst getPageDimensions = () => ( {\n\twidth: window.innerWidth,\n\tbodyHeight: getBodyHeight(),\n\tiframeHeight: getDocumentHeight(),\n} );\n\nfunction computeClickVisibilityProps(\n\tclicks: ReadonlyArray< ExpandedClick >\n): Record< string, ClickVisibilityProps > {\n\tconst boundingBoxes = computeBoundingBoxes( clicks );\n\tconst interactive = isInteractive();\n\n\treturn mapValues( keyBy( clicks, 'id' ), ( c ): ClickVisibilityProps => {\n\t\tconst coords = getClickCoordinates( boundingBoxes, c );\n\t\tif ( ! coords ) {\n\t\t\treturn { status: 'missing' };\n\t\t}\n\n\t\tif ( ! interactive || areGlobalCoordsOutsideViewport( coords ) ) {\n\t\t\treturn {\n\t\t\t\tcoords: { x: coords[ 0 ], y: coords[ 1 ] },\n\t\t\t\tstatus: 'visible',\n\t\t\t};\n\t\t}\n\n\t\tconst viewportCoords = transformGlobalToViewportCoords( coords );\n\t\tconst match = document.elementFromPoint( ...viewportCoords );\n\t\tconst element = isHtmlElement( match ) ? match : null;\n\t\treturn {\n\t\t\tcoords: { x: coords[ 0 ], y: coords[ 1 ] },\n\t\t\tstatus: element === c.htmlElement ? 'visible' : 'invisible',\n\t\t};\n\t} );\n}\n\nconst computeBoundingBoxes = (\n\tclicks: ReadonlyArray< ExpandedClick >\n): Record< string, BoundingBox > =>\n\tpickBy(\n\t\tmapValues(\n\t\t\tkeyBy(\n\t\t\t\tclicks.map( ( c ) => ( {\n\t\t\t\t\t...c,\n\t\t\t\t\t_selector: c.xpath || c.cssPath,\n\t\t\t\t} ) ),\n\t\t\t\t'_selector'\n\t\t\t),\n\t\t\t( click ): BoundingBox | undefined => {\n\t\t\t\tif ( ! click.htmlElement ) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tconst bodyBox = document.body.getBoundingClientRect();\n\t\t\t\tconst elBox = click.htmlElement.getBoundingClientRect();\n\t\t\t\treturn {\n\t\t\t\t\ttop: elBox.top - bodyBox.top,\n\t\t\t\t\tleft: elBox.left - bodyBox.left,\n\t\t\t\t\twidth: elBox.width,\n\t\t\t\t\theight: elBox.height,\n\t\t\t\t};\n\t\t\t}\n\t\t),\n\t\t< T >( x: T | undefined ): x is T => undefined !== x\n\t);\n\nfunction getClickCoordinates(\n\tboundingBoxes: Record< string, BoundingBox >,\n\tclick: Click\n): XYCoords | false {\n\tconst box = boundingBoxes[ click.xpath || click.cssPath ];\n\tif ( ! box ) {\n\t\treturn false;\n\t}\n\tconst x = box.left + click.x * box.width;\n\tconst y = box.top + click.y * box.height;\n\treturn [ x, y ];\n}\n\nfunction areGlobalCoordsOutsideViewport( coords: XYCoords ): boolean {\n\tconst [ viewportX, viewportY ] = transformGlobalToViewportCoords( coords );\n\n\tconst viewportWidth = window.innerWidth;\n\tconst viewportHeight = window.innerHeight;\n\n\treturn (\n\t\tviewportX < 0 ||\n\t\tviewportX > viewportWidth ||\n\t\tviewportY < 0 ||\n\t\tviewportY > viewportHeight\n\t);\n}\n\nconst transformGlobalToViewportCoords = ( [ x, y ]: XYCoords ): XYCoords => [\n\tx - window.scrollX,\n\ty - window.scrollY,\n];\n\nfunction getAllSelectors( selector: string ): ReadonlyArray< string > {\n\tconst { getExperiment, getPageAttribute } = select( NAB_DATA );\n\tconst experimentId = getPageAttribute( 'editor/activeExperiment' );\n\tconst experiment = getExperiment( experimentId );\n\tif ( ! experiment ) {\n\t\treturn [ selector ];\n\t}\n\n\tif ( experiment.type === 'nab/heatmap' ) {\n\t\treturn [ selector ];\n\t}\n\n\tconst { getActiveAlternative } = select( NAB_HEATMAP );\n\tconst altIdx = getActiveAlternative();\n\tif ( altIdx === 0 ) {\n\t\treturn [ selector ];\n\t}\n\n\tconst control = experiment.alternatives[ 0 ];\n\tconst alternative =\n\t\tundefined !== altIdx ? experiment.alternatives[ altIdx ] : undefined;\n\n\tconst controlPost = control?.attributes.postId;\n\tconst alternativePost = alternative?.attributes.postId;\n\tif ( ! isPostId( controlPost ) || ! isPostId( alternativePost ) ) {\n\t\treturn [ selector ];\n\t}\n\n\treturn [\n\t\tselector,\n\t\tselector.replace(\n\t\t\tnew RegExp( `([\\\\b_])?${ controlPost }([\\\\b_])?`, 'g' ),\n\t\t\t`$1${ alternativePost }$2`\n\t\t),\n\t\tselector.replace(\n\t\t\tnew RegExp( `([\\\\b_])?${ alternativePost }([\\\\b_])?`, 'g' ),\n\t\t\t`$1${ controlPost }$2`\n\t\t),\n\t];\n}\n\nconst isPostId = ( id: unknown ): id is number =>\n\t'number' === typeof id && 0 < id;\n\nfunction isHtmlElement( n: Node | null ): n is HTMLElement {\n\treturn !! n && Node.ELEMENT_NODE === n.nodeType;\n}\n\nfunction isClickVisibleInConfetti( click: Click ): boolean {\n\tconst actualFilterOptions = getConfettiFilterOptions();\n\tconst activeFilter = getActiveConfettiFilter();\n\tconst disabledFilterOptions = getDisabledConfettiFilterOptions();\n\n\tlet filterValue = click[ activeFilter ];\n\tif (\n\t\t! Object.keys( actualFilterOptions[ activeFilter ] || {} ).includes(\n\t\t\t`${ filterValue }`\n\t\t)\n\t) {\n\t\tfilterValue = 'other';\n\t}\n\n\treturn ! disabledFilterOptions.includes( `${ filterValue }` );\n}\n","/**\n * WordPress dependencies\n */\nimport type * as wpData from '@safe-wordpress/data';\ntype WpData = typeof wpData;\n\n/**\n * External dependencies\n */\nimport type { Dict } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getDocumentHeight as _getDocumentHeight } from '../../../../public/utils/helpers/get-document-height';\n\nconst MAX_DESKTOP_HEIGHT = 100_000;\n\nexport function createElement< T extends HTMLElement = HTMLElement >(\n\ttype: string,\n\toptions: Dict & { style?: Dict< string > } = {}\n): T {\n\tconst el = document.createElement( type );\n\n\tconst { id, className, style, ...props } = options;\n\tif ( 'string' === typeof id ) {\n\t\tel.id = id;\n\t}\n\n\tif ( 'string' === typeof className ) {\n\t\tel.className = className;\n\t}\n\n\tif ( 'object' === typeof style ) {\n\t\tObject.keys( style ).forEach( ( k ) => {\n\t\t\t( el as unknown as { style: Dict< string > } ).style[ k ] =\n\t\t\t\tstyle[ k ] ?? '';\n\t\t} );\n\t}\n\n\tObject.keys( props ).forEach( ( p ) => {\n\t\t( el as unknown as Dict )[ p ] = props[ p ];\n\t} );\n\n\treturn el as T;\n}\n\nexport const getDocumentHeight = (): number => {\n\tconst pairs = Array.from(\n\t\tdocument.querySelectorAll( '.nab-overlay-element' )\n\t)\n\t\t.map( ( el ) => [ el.parentElement, el ] )\n\t\t.filter(\n\t\t\t( pair ): pair is [ HTMLElement, HTMLElement ] => !! pair[ 0 ]\n\t\t);\n\n\tpairs.forEach( ( [ p, c ] ) => p.removeChild( c ) );\n\tconst height = Math.min( _getDocumentHeight(), MAX_DESKTOP_HEIGHT );\n\tpairs.forEach( ( [ p, c ] ) => p.appendChild( c ) );\n\treturn height;\n};\n\nexport function createOverlayElement< T extends HTMLElement = HTMLElement >(\n\ttype: string\n): T {\n\tconst el = document.createElement( type );\n\tel.className = 'nab-overlay-element';\n\tel.style.position = 'absolute';\n\tel.style.left = '0px';\n\tel.style.top = '0px';\n\tel.style.zIndex = '999999';\n\tmaximizeElement( el );\n\n\treturn el as T;\n}\n\nexport function maximizeElement( el: HTMLElement ): void {\n\tconst width = document.body.clientWidth;\n\tconst height = getDocumentHeight();\n\n\tel.style.width = `${ width }px`;\n\tel.style.height = `${ height }px`;\n\n\tif ( isHTMLCanvas( el ) ) {\n\t\tel.width = width;\n\t\tel.height = height;\n\t}\n}\n\nexport const hasWordPressData = (\n\twin: unknown\n): win is {\n\treadonly wp: {\n\t\treadonly data: WpData;\n\t};\n} =>\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n\t!! ( win as any )?.wp?.data;\n\nconst isHTMLCanvas = ( el: HTMLElement ): el is HTMLCanvasElement =>\n\t'canvas' === el.nodeName.toLowerCase();\n","// Generated by CoffeeScript 1.8.0\nvar Framebuffer,\n\tHeights,\n\tNode,\n\tShader,\n\tTexture,\n\tWebGLHeatmap,\n\tfragmentShaderBlit,\n\tnukeVendorPrefix,\n\ttextureFloatShims,\n\tvertexShaderBlit,\n\t__indexOf =\n\t\t[].indexOf ||\n\t\tfunction ( item ) {\n\t\t\tfor ( var i = 0, l = this.length; i < l; i++ ) {\n\t\t\t\tif ( i in this && this[ i ] === item ) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\nnukeVendorPrefix = function () {\n\tvar getExtension, getSupportedExtensions, vendorRe, vendors;\n\tif ( window.WebGLRenderingContext != null ) {\n\t\tvendors = [ 'WEBKIT', 'MOZ', 'MS', 'O' ];\n\t\tvendorRe = /^WEBKIT_(.*)|MOZ_(.*)|MS_(.*)|O_(.*)/;\n\t\tgetExtension = WebGLRenderingContext.prototype.getExtension;\n\t\tWebGLRenderingContext.prototype.getExtension = function ( name ) {\n\t\t\tvar extobj, match, vendor, _i, _len;\n\t\t\tmatch = name.match( vendorRe );\n\t\t\tif ( match !== null ) {\n\t\t\t\tname = match[ 1 ];\n\t\t\t}\n\t\t\textobj = getExtension.call( this, name );\n\t\t\tif ( extobj === null ) {\n\t\t\t\tfor ( _i = 0, _len = vendors.length; _i < _len; _i++ ) {\n\t\t\t\t\tvendor = vendors[ _i ];\n\t\t\t\t\textobj = getExtension.call( this, vendor + '_' + name );\n\t\t\t\t\tif ( extobj !== null ) {\n\t\t\t\t\t\treturn extobj;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn extobj;\n\t\t\t}\n\t\t};\n\t\tgetSupportedExtensions =\n\t\t\tWebGLRenderingContext.prototype.getSupportedExtensions;\n\t\treturn ( WebGLRenderingContext.prototype.getSupportedExtensions =\n\t\t\tfunction () {\n\t\t\t\tvar extension, match, result, supported, _i, _len;\n\t\t\t\tsupported = getSupportedExtensions.call( this );\n\t\t\t\tresult = [];\n\t\t\t\tfor ( _i = 0, _len = supported.length; _i < _len; _i++ ) {\n\t\t\t\t\textension = supported[ _i ];\n\t\t\t\t\tmatch = extension.match( vendorRe );\n\t\t\t\t\tif ( match !== null ) {\n\t\t\t\t\t\textension = match[ 1 ];\n\t\t\t\t\t}\n\t\t\t\t\tif ( __indexOf.call( result, extension ) < 0 ) {\n\t\t\t\t\t\tresult.push( extension );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} );\n\t}\n};\n\ntextureFloatShims = function () {\n\tvar checkColorBuffer,\n\t\tcheckFloatLinear,\n\t\tcheckSupport,\n\t\tcheckTexture,\n\t\tcreateSourceCanvas,\n\t\tgetExtension,\n\t\tgetSupportedExtensions,\n\t\tname,\n\t\tshimExtensions,\n\t\tshimLookup,\n\t\tunshimExtensions,\n\t\tunshimLookup,\n\t\t_i,\n\t\t_len;\n\tcreateSourceCanvas = function () {\n\t\tvar canvas, ctx, imageData;\n\t\tcanvas = document.createElement( 'canvas' );\n\t\tcanvas.width = 2;\n\t\tcanvas.height = 2;\n\t\tctx = canvas.getContext( '2d' );\n\t\timageData = ctx.getImageData( 0, 0, 2, 2 );\n\t\timageData.data.set(\n\t\t\tnew Uint8ClampedArray( [\n\t\t\t\t0, 0, 0, 0, 255, 255, 255, 255, 0, 0, 0, 0, 255, 255, 255, 255,\n\t\t\t] )\n\t\t);\n\t\tctx.putImageData( imageData, 0, 0 );\n\t\treturn canvas;\n\t};\n\tcreateSourceCanvas();\n\tcheckFloatLinear = function ( gl, sourceType ) {\n\t\tvar buffer,\n\t\t\tcleanup,\n\t\t\tfragmentShader,\n\t\t\tframebuffer,\n\t\t\tpositionLoc,\n\t\t\tprogram,\n\t\t\treadBuffer,\n\t\t\tresult,\n\t\t\tsource,\n\t\t\tsourceCanvas,\n\t\t\tsourceLoc,\n\t\t\ttarget,\n\t\t\tvertexShader,\n\t\t\tvertices;\n\t\tprogram = gl.createProgram();\n\t\tvertexShader = gl.createShader( gl.VERTEX_SHADER );\n\t\tgl.attachShader( program, vertexShader );\n\t\tgl.shaderSource(\n\t\t\tvertexShader,\n\t\t\t'attribute vec2 position;\\nvoid main(){\\n    gl_Position = vec4(position, 0.0, 1.0);\\n}'\n\t\t);\n\t\tgl.compileShader( vertexShader );\n\t\tif ( ! gl.getShaderParameter( vertexShader, gl.COMPILE_STATUS ) ) {\n\t\t\tthrow gl.getShaderInfoLog( vertexShader );\n\t\t}\n\t\tfragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\n\t\tgl.attachShader( program, fragmentShader );\n\t\tgl.shaderSource(\n\t\t\tfragmentShader,\n\t\t\t'uniform sampler2D source;\\nvoid main(){\\n    gl_FragColor = texture2D(source, vec2(1.0, 1.0));\\n}'\n\t\t);\n\t\tgl.compileShader( fragmentShader );\n\t\tif ( ! gl.getShaderParameter( fragmentShader, gl.COMPILE_STATUS ) ) {\n\t\t\tthrow gl.getShaderInfoLog( fragmentShader );\n\t\t}\n\t\tgl.linkProgram( program );\n\t\tif ( ! gl.getProgramParameter( program, gl.LINK_STATUS ) ) {\n\t\t\tthrow gl.getProgramInfoLog( program );\n\t\t}\n\t\tgl.useProgram( program );\n\t\tcleanup = function () {\n\t\t\tgl.deleteShader( fragmentShader );\n\t\t\tgl.deleteShader( vertexShader );\n\t\t\tgl.deleteProgram( program );\n\t\t\tgl.deleteBuffer( buffer );\n\t\t\tgl.deleteTexture( source );\n\t\t\tgl.deleteTexture( target );\n\t\t\tgl.deleteFramebuffer( framebuffer );\n\t\t\tgl.bindBuffer( gl.ARRAY_BUFFER, null );\n\t\t\tgl.useProgram( null );\n\t\t\tgl.bindTexture( gl.TEXTURE_2D, null );\n\t\t\treturn gl.bindFramebuffer( gl.FRAMEBUFFER, null );\n\t\t};\n\t\ttarget = gl.createTexture();\n\t\tgl.bindTexture( gl.TEXTURE_2D, target );\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\t2,\n\t\t\t2,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\tgl.UNSIGNED_BYTE,\n\t\t\tnull\n\t\t);\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR );\n\t\tframebuffer = gl.createFramebuffer();\n\t\tgl.bindFramebuffer( gl.FRAMEBUFFER, framebuffer );\n\t\tgl.framebufferTexture2D(\n\t\t\tgl.FRAMEBUFFER,\n\t\t\tgl.COLOR_ATTACHMENT0,\n\t\t\tgl.TEXTURE_2D,\n\t\t\ttarget,\n\t\t\t0\n\t\t);\n\t\tsourceCanvas = createSourceCanvas();\n\t\tsource = gl.createTexture();\n\t\tgl.bindTexture( gl.TEXTURE_2D, source );\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\tgl.RGBA,\n\t\t\tsourceType,\n\t\t\tsourceCanvas\n\t\t);\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR );\n\t\tvertices = new Float32Array( [\n\t\t\t1, 1, -1, 1, -1, -1, 1, 1, -1, -1, 1, -1,\n\t\t] );\n\t\tbuffer = gl.createBuffer();\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, buffer );\n\t\tgl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\n\t\tpositionLoc = gl.getAttribLocation( program, 'position' );\n\t\tsourceLoc = gl.getUniformLocation( program, 'source' );\n\t\tgl.enableVertexAttribArray( positionLoc );\n\t\tgl.vertexAttribPointer( positionLoc, 2, gl.FLOAT, false, 0, 0 );\n\t\tgl.uniform1i( sourceLoc, 0 );\n\t\tgl.drawArrays( gl.TRIANGLES, 0, 6 );\n\t\treadBuffer = new Uint8Array( 4 * 4 );\n\t\tgl.readPixels( 0, 0, 2, 2, gl.RGBA, gl.UNSIGNED_BYTE, readBuffer );\n\t\tresult = Math.abs( readBuffer[ 0 ] - 127 ) < 10;\n\t\tcleanup();\n\t\treturn result;\n\t};\n\tcheckTexture = function ( gl, targetType ) {\n\t\tvar target;\n\t\ttarget = gl.createTexture();\n\t\tgl.bindTexture( gl.TEXTURE_2D, target );\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\t2,\n\t\t\t2,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\ttargetType,\n\t\t\tnull\n\t\t);\n\t\tif ( gl.getError() === 0 ) {\n\t\t\tgl.deleteTexture( target );\n\t\t\treturn true;\n\t\t} else {\n\t\t\tgl.deleteTexture( target );\n\t\t\treturn false;\n\t\t}\n\t};\n\tcheckColorBuffer = function ( gl, targetType ) {\n\t\tvar check, framebuffer, target;\n\t\ttarget = gl.createTexture();\n\t\tgl.bindTexture( gl.TEXTURE_2D, target );\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\t2,\n\t\t\t2,\n\t\t\t0,\n\t\t\tgl.RGBA,\n\t\t\ttargetType,\n\t\t\tnull\n\t\t);\n\t\tframebuffer = gl.createFramebuffer();\n\t\tgl.bindFramebuffer( gl.FRAMEBUFFER, framebuffer );\n\t\tgl.framebufferTexture2D(\n\t\t\tgl.FRAMEBUFFER,\n\t\t\tgl.COLOR_ATTACHMENT0,\n\t\t\tgl.TEXTURE_2D,\n\t\t\ttarget,\n\t\t\t0\n\t\t);\n\t\tcheck = gl.checkFramebufferStatus( gl.FRAMEBUFFER );\n\t\tgl.deleteTexture( target );\n\t\tgl.deleteFramebuffer( framebuffer );\n\t\tgl.bindTexture( gl.TEXTURE_2D, null );\n\t\tgl.bindFramebuffer( gl.FRAMEBUFFER, null );\n\t\tif ( check === gl.FRAMEBUFFER_COMPLETE ) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\tshimExtensions = [];\n\tshimLookup = {};\n\tunshimExtensions = [];\n\tcheckSupport = function () {\n\t\tvar canvas,\n\t\t\textobj,\n\t\t\tgl,\n\t\t\thalfFloatExt,\n\t\t\thalfFloatTexturing,\n\t\t\tsingleFloatExt,\n\t\t\tsingleFloatTexturing;\n\t\tcanvas = document.createElement( 'canvas' );\n\t\tgl = null;\n\t\ttry {\n\t\t\tgl = canvas.getContext( 'experimental-webgl' );\n\t\t\tif ( gl === null ) {\n\t\t\t\tgl = canvas.getContext( 'webgl' );\n\t\t\t}\n\t\t} catch ( _error ) {}\n\t\tif ( gl != null ) {\n\t\t\tsingleFloatExt = gl.getExtension( 'OES_texture_float' );\n\t\t\tif ( singleFloatExt === null ) {\n\t\t\t\tif ( checkTexture( gl, gl.FLOAT ) ) {\n\t\t\t\t\tsingleFloatTexturing = true;\n\t\t\t\t\tshimExtensions.push( 'OES_texture_float' );\n\t\t\t\t\tshimLookup.OES_texture_float = {\n\t\t\t\t\t\tshim: true,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tsingleFloatTexturing = false;\n\t\t\t\t\tunshimExtensions.push( 'OES_texture_float' );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( checkTexture( gl, gl.FLOAT ) ) {\n\t\t\t\t\tsingleFloatTexturing = true;\n\t\t\t\t\tshimExtensions.push( 'OES_texture_float' );\n\t\t\t\t} else {\n\t\t\t\t\tsingleFloatTexturing = false;\n\t\t\t\t\tunshimExtensions.push( 'OES_texture_float' );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( singleFloatTexturing ) {\n\t\t\t\textobj = gl.getExtension( 'WEBGL_color_buffer_float' );\n\t\t\t\tif ( extobj === null ) {\n\t\t\t\t\tif ( checkColorBuffer( gl, gl.FLOAT ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'WEBGL_color_buffer_float' );\n\t\t\t\t\t\tshimLookup.WEBGL_color_buffer_float = {\n\t\t\t\t\t\t\tshim: true,\n\t\t\t\t\t\t\tRGBA32F_EXT: 0x8814,\n\t\t\t\t\t\t\tRGB32F_EXT: 0x8815,\n\t\t\t\t\t\t\tFRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT: 0x8211,\n\t\t\t\t\t\t\tUNSIGNED_NORMALIZED_EXT: 0x8c17,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'WEBGL_color_buffer_float' );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( checkColorBuffer( gl, gl.FLOAT ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'WEBGL_color_buffer_float' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'WEBGL_color_buffer_float' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\textobj = gl.getExtension( 'OES_texture_float_linear' );\n\t\t\t\tif ( extobj === null ) {\n\t\t\t\t\tif ( checkFloatLinear( gl, gl.FLOAT ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'OES_texture_float_linear' );\n\t\t\t\t\t\tshimLookup.OES_texture_float_linear = {\n\t\t\t\t\t\t\tshim: true,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'OES_texture_float_linear' );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( checkFloatLinear( gl, gl.FLOAT ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'OES_texture_float_linear' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'OES_texture_float_linear' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\thalfFloatExt = gl.getExtension( 'OES_texture_half_float' );\n\t\t\tif ( halfFloatExt === null ) {\n\t\t\t\tif ( checkTexture( gl, 0x8d61 ) ) {\n\t\t\t\t\thalfFloatTexturing = true;\n\t\t\t\t\tshimExtensions.push( 'OES_texture_half_float' );\n\t\t\t\t\thalfFloatExt = shimLookup.OES_texture_half_float = {\n\t\t\t\t\t\tHALF_FLOAT_OES: 0x8d61,\n\t\t\t\t\t\tshim: true,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\thalfFloatTexturing = false;\n\t\t\t\t\tunshimExtensions.push( 'OES_texture_half_float' );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( checkTexture( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\thalfFloatTexturing = true;\n\t\t\t\t\tshimExtensions.push( 'OES_texture_half_float' );\n\t\t\t\t} else {\n\t\t\t\t\thalfFloatTexturing = false;\n\t\t\t\t\tunshimExtensions.push( 'OES_texture_half_float' );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( halfFloatTexturing ) {\n\t\t\t\textobj = gl.getExtension( 'EXT_color_buffer_half_float' );\n\t\t\t\tif ( extobj === null ) {\n\t\t\t\t\tif ( checkColorBuffer( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'EXT_color_buffer_half_float' );\n\t\t\t\t\t\tshimLookup.EXT_color_buffer_half_float = {\n\t\t\t\t\t\t\tshim: true,\n\t\t\t\t\t\t\tRGBA16F_EXT: 0x881a,\n\t\t\t\t\t\t\tRGB16F_EXT: 0x881b,\n\t\t\t\t\t\t\tFRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT: 0x8211,\n\t\t\t\t\t\t\tUNSIGNED_NORMALIZED_EXT: 0x8c17,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'EXT_color_buffer_half_float' );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( checkColorBuffer( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'EXT_color_buffer_half_float' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunshimExtensions.push( 'EXT_color_buffer_half_float' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\textobj = gl.getExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tif ( extobj === null ) {\n\t\t\t\t\tif ( checkFloatLinear( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\t\tshimExtensions.push( 'OES_texture_half_float_linear' );\n\t\t\t\t\t\treturn ( shimLookup.OES_texture_half_float_linear = {\n\t\t\t\t\t\t\tshim: true,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn unshimExtensions.push(\n\t\t\t\t\t\t\t'OES_texture_half_float_linear'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( checkFloatLinear( gl, halfFloatExt.HALF_FLOAT_OES ) ) {\n\t\t\t\t\t\treturn shimExtensions.push(\n\t\t\t\t\t\t\t'OES_texture_half_float_linear'\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn unshimExtensions.push(\n\t\t\t\t\t\t\t'OES_texture_half_float_linear'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tif ( window.WebGLRenderingContext != null ) {\n\t\tcheckSupport();\n\t\tunshimLookup = {};\n\t\tfor ( _i = 0, _len = unshimExtensions.length; _i < _len; _i++ ) {\n\t\t\tname = unshimExtensions[ _i ];\n\t\t\tunshimLookup[ name ] = true;\n\t\t}\n\t\tgetExtension = WebGLRenderingContext.prototype.getExtension;\n\t\tWebGLRenderingContext.prototype.getExtension = function ( name ) {\n\t\t\tvar extobj;\n\t\t\textobj = shimLookup[ name ];\n\t\t\tif ( extobj === void 0 ) {\n\t\t\t\tif ( unshimLookup[ name ] ) {\n\t\t\t\t\treturn null;\n\t\t\t\t} else {\n\t\t\t\t\treturn getExtension.call( this, name );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn extobj;\n\t\t\t}\n\t\t};\n\t\tgetSupportedExtensions =\n\t\t\tWebGLRenderingContext.prototype.getSupportedExtensions;\n\t\tWebGLRenderingContext.prototype.getSupportedExtensions = function () {\n\t\t\tvar extension, result, supported, _j, _k, _len1, _len2;\n\t\t\tsupported = getSupportedExtensions.call( this );\n\t\t\tresult = [];\n\t\t\tfor ( _j = 0, _len1 = supported.length; _j < _len1; _j++ ) {\n\t\t\t\textension = supported[ _j ];\n\t\t\t\tif ( unshimLookup[ extension ] === void 0 ) {\n\t\t\t\t\tresult.push( extension );\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor ( _k = 0, _len2 = shimExtensions.length; _k < _len2; _k++ ) {\n\t\t\t\textension = shimExtensions[ _k ];\n\t\t\t\tif ( __indexOf.call( result, extension ) < 0 ) {\n\t\t\t\t\tresult.push( extension );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\treturn ( WebGLRenderingContext.prototype.getFloatExtension = function (\n\t\t\tspec\n\t\t) {\n\t\t\tvar candidate,\n\t\t\t\tcandidates,\n\t\t\t\thalf,\n\t\t\t\thalfFramebuffer,\n\t\t\t\thalfLinear,\n\t\t\t\thalfTexture,\n\t\t\t\ti,\n\t\t\t\timportance,\n\t\t\t\tpreference,\n\t\t\t\tresult,\n\t\t\t\tsingle,\n\t\t\t\tsingleFramebuffer,\n\t\t\t\tsingleLinear,\n\t\t\t\tsingleTexture,\n\t\t\t\tuse,\n\t\t\t\t_j,\n\t\t\t\t_k,\n\t\t\t\t_l,\n\t\t\t\t_len1,\n\t\t\t\t_len2,\n\t\t\t\t_len3,\n\t\t\t\t_len4,\n\t\t\t\t_m,\n\t\t\t\t_ref,\n\t\t\t\t_ref1,\n\t\t\t\t_ref2;\n\t\t\tif ( spec.prefer == null ) {\n\t\t\t\tspec.prefer = [ 'half' ];\n\t\t\t}\n\t\t\tif ( spec.require == null ) {\n\t\t\t\tspec.require = [];\n\t\t\t}\n\t\t\tif ( spec.throws == null ) {\n\t\t\t\tspec.throws = true;\n\t\t\t}\n\t\t\tsingleTexture = this.getExtension( 'OES_texture_float' );\n\t\t\thalfTexture = this.getExtension( 'OES_texture_half_float' );\n\t\t\tsingleFramebuffer = this.getExtension( 'WEBGL_color_buffer_float' );\n\t\t\thalfFramebuffer = this.getExtension(\n\t\t\t\t'EXT_color_buffer_half_float'\n\t\t\t);\n\t\t\tsingleLinear = this.getExtension( 'OES_texture_float_linear' );\n\t\t\thalfLinear = this.getExtension( 'OES_texture_half_float_linear' );\n\t\t\tsingle = {\n\t\t\t\ttexture: singleTexture !== null,\n\t\t\t\tfilterable: singleLinear !== null,\n\t\t\t\trenderable: singleFramebuffer !== null,\n\t\t\t\tscore: 0,\n\t\t\t\tprecision: 'single',\n\t\t\t\thalf: false,\n\t\t\t\tsingle: true,\n\t\t\t\ttype: this.FLOAT,\n\t\t\t};\n\t\t\thalf = {\n\t\t\t\ttexture: halfTexture !== null,\n\t\t\t\tfilterable: halfLinear !== null,\n\t\t\t\trenderable: halfFramebuffer !== null,\n\t\t\t\tscore: 0,\n\t\t\t\tprecision: 'half',\n\t\t\t\thalf: true,\n\t\t\t\tsingle: false,\n\t\t\t\ttype:\n\t\t\t\t\t( _ref =\n\t\t\t\t\t\thalfTexture != null\n\t\t\t\t\t\t\t? halfTexture.HALF_FLOAT_OES\n\t\t\t\t\t\t\t: void 0 ) != null\n\t\t\t\t\t\t? _ref\n\t\t\t\t\t\t: null,\n\t\t\t};\n\t\t\tcandidates = [];\n\t\t\tif ( single.texture ) {\n\t\t\t\tcandidates.push( single );\n\t\t\t}\n\t\t\tif ( half.texture ) {\n\t\t\t\tcandidates.push( half );\n\t\t\t}\n\t\t\tresult = [];\n\t\t\tfor ( _j = 0, _len1 = candidates.length; _j < _len1; _j++ ) {\n\t\t\t\tcandidate = candidates[ _j ];\n\t\t\t\tuse = true;\n\t\t\t\t_ref1 = spec.require;\n\t\t\t\tfor ( _k = 0, _len2 = _ref1.length; _k < _len2; _k++ ) {\n\t\t\t\t\tname = _ref1[ _k ];\n\t\t\t\t\tif ( candidate[ name ] === false ) {\n\t\t\t\t\t\tuse = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( use ) {\n\t\t\t\t\tresult.push( candidate );\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor ( _l = 0, _len3 = result.length; _l < _len3; _l++ ) {\n\t\t\t\tcandidate = result[ _l ];\n\t\t\t\t_ref2 = spec.prefer;\n\t\t\t\tfor ( i = _m = 0, _len4 = _ref2.length; _m < _len4; i = ++_m ) {\n\t\t\t\t\tpreference = _ref2[ i ];\n\t\t\t\t\timportance = Math.pow( 2, spec.prefer.length - i - 1 );\n\t\t\t\t\tif ( candidate[ preference ] ) {\n\t\t\t\t\t\tcandidate.score += importance;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tresult.sort( function ( a, b ) {\n\t\t\t\tif ( a.score === b.score ) {\n\t\t\t\t\treturn 0;\n\t\t\t\t} else if ( a.score < b.score ) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else if ( a.score > b.score ) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t} );\n\t\t\tif ( result.length === 0 ) {\n\t\t\t\tif ( spec.throws ) {\n\t\t\t\t\tthrow (\n\t\t\t\t\t\t'No floating point texture support that is ' +\n\t\t\t\t\t\tspec.require.join( ', ' )\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult = result[ 0 ];\n\t\t\t\treturn {\n\t\t\t\t\tfilterable: result.filterable,\n\t\t\t\t\trenderable: result.renderable,\n\t\t\t\t\ttype: result.type,\n\t\t\t\t\tprecision: result.precision,\n\t\t\t\t};\n\t\t\t}\n\t\t} );\n\t}\n};\n\nnukeVendorPrefix();\n\ntextureFloatShims();\n\nShader = ( function () {\n\tfunction Shader( gl, _arg ) {\n\t\tvar fragment, vertex;\n\t\tthis.gl = gl;\n\t\t( vertex = _arg.vertex ), ( fragment = _arg.fragment );\n\t\tthis.program = this.gl.createProgram();\n\t\tthis.vs = this.gl.createShader( this.gl.VERTEX_SHADER );\n\t\tthis.fs = this.gl.createShader( this.gl.FRAGMENT_SHADER );\n\t\tthis.gl.attachShader( this.program, this.vs );\n\t\tthis.gl.attachShader( this.program, this.fs );\n\t\tthis.compileShader( this.vs, vertex );\n\t\tthis.compileShader( this.fs, fragment );\n\t\tthis.link();\n\t\tthis.value_cache = {};\n\t\tthis.uniform_cache = {};\n\t\tthis.attribCache = {};\n\t}\n\n\tShader.prototype.attribLocation = function ( name ) {\n\t\tvar location;\n\t\tlocation = this.attribCache[ name ];\n\t\tif ( location === void 0 ) {\n\t\t\tlocation = this.attribCache[ name ] = this.gl.getAttribLocation(\n\t\t\t\tthis.program,\n\t\t\t\tname\n\t\t\t);\n\t\t}\n\t\treturn location;\n\t};\n\n\tShader.prototype.compileShader = function ( shader, source ) {\n\t\tthis.gl.shaderSource( shader, source );\n\t\tthis.gl.compileShader( shader );\n\t\tif ( ! this.gl.getShaderParameter( shader, this.gl.COMPILE_STATUS ) ) {\n\t\t\tthrow 'Shader Compile Error: ' + this.gl.getShaderInfoLog( shader );\n\t\t}\n\t};\n\n\tShader.prototype.link = function () {\n\t\tthis.gl.linkProgram( this.program );\n\t\tif (\n\t\t\t! this.gl.getProgramParameter( this.program, this.gl.LINK_STATUS )\n\t\t) {\n\t\t\tthrow (\n\t\t\t\t'Shader Link Error: ' +\n\t\t\t\tthis.gl.getProgramInfoLog( this.program )\n\t\t\t);\n\t\t}\n\t};\n\n\tShader.prototype.use = function () {\n\t\tthis.gl.useProgram( this.program );\n\t\treturn this;\n\t};\n\n\tShader.prototype.uniformLoc = function ( name ) {\n\t\tvar location;\n\t\tlocation = this.uniform_cache[ name ];\n\t\tif ( location === void 0 ) {\n\t\t\tlocation = this.uniform_cache[ name ] = this.gl.getUniformLocation(\n\t\t\t\tthis.program,\n\t\t\t\tname\n\t\t\t);\n\t\t}\n\t\treturn location;\n\t};\n\n\tShader.prototype.int = function ( name, value ) {\n\t\tvar cached, loc;\n\t\tcached = this.value_cache[ name ];\n\t\tif ( cached !== value ) {\n\t\t\tthis.value_cache[ name ] = value;\n\t\t\tloc = this.uniformLoc( name );\n\t\t\tif ( loc ) {\n\t\t\t\tthis.gl.uniform1i( loc, value );\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\tShader.prototype.vec2 = function ( name, a, b ) {\n\t\tvar loc;\n\t\tloc = this.uniformLoc( name );\n\t\tif ( loc ) {\n\t\t\tthis.gl.uniform2f( loc, a, b );\n\t\t}\n\t\treturn this;\n\t};\n\n\tShader.prototype.float = function ( name, value ) {\n\t\tvar cached, loc;\n\t\tcached = this.value_cache[ name ];\n\t\tif ( cached !== value ) {\n\t\t\tthis.value_cache[ name ] = value;\n\t\t\tloc = this.uniformLoc( name );\n\t\t\tif ( loc ) {\n\t\t\t\tthis.gl.uniform1f( loc, value );\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\treturn Shader;\n} )();\n\nFramebuffer = ( function () {\n\tfunction Framebuffer( gl ) {\n\t\tthis.gl = gl;\n\t\tthis.buffer = this.gl.createFramebuffer();\n\t}\n\n\tFramebuffer.prototype.destroy = function () {\n\t\treturn this.gl.deleteFRamebuffer( this.buffer );\n\t};\n\n\tFramebuffer.prototype.bind = function () {\n\t\tthis.gl.bindFramebuffer( this.gl.FRAMEBUFFER, this.buffer );\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.unbind = function () {\n\t\tthis.gl.bindFramebuffer( this.gl.FRAMEBUFFER, null );\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.check = function () {\n\t\tvar result;\n\t\tresult = this.gl.checkFramebufferStatus( this.gl.FRAMEBUFFER );\n\t\tswitch ( result ) {\n\t\t\tcase this.gl.FRAMEBUFFER_UNSUPPORTED:\n\t\t\t\tthrow 'Framebuffer is unsupported';\n\t\t\t\tbreak;\n\t\t\tcase this.gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:\n\t\t\t\tthrow 'Framebuffer incomplete attachment';\n\t\t\t\tbreak;\n\t\t\tcase this.gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:\n\t\t\t\tthrow 'Framebuffer incomplete dimensions';\n\t\t\t\tbreak;\n\t\t\tcase this.gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:\n\t\t\t\tthrow 'Framebuffer incomplete missing attachment';\n\t\t}\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.color = function ( texture ) {\n\t\tthis.gl.framebufferTexture2D(\n\t\t\tthis.gl.FRAMEBUFFER,\n\t\t\tthis.gl.COLOR_ATTACHMENT0,\n\t\t\ttexture.target,\n\t\t\ttexture.handle,\n\t\t\t0\n\t\t);\n\t\tthis.check();\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.depth = function ( buffer ) {\n\t\tthis.gl.framebufferRenderbuffer(\n\t\t\tthis.gl.FRAMEBUFFER,\n\t\t\tthis.gl.DEPTH_ATTACHMENT,\n\t\t\tthis.gl.RENDERBUFFER,\n\t\t\tbuffer.id\n\t\t);\n\t\tthis.check();\n\t\treturn this;\n\t};\n\n\tFramebuffer.prototype.destroy = function () {\n\t\treturn this.gl.deleteFramebuffer( this.buffer );\n\t};\n\n\treturn Framebuffer;\n} )();\n\nTexture = ( function () {\n\tfunction Texture( gl, params ) {\n\t\tvar _ref, _ref1;\n\t\tthis.gl = gl;\n\t\tif ( params == null ) {\n\t\t\tparams = {};\n\t\t}\n\t\tthis.channels =\n\t\t\tthis.gl[\n\t\t\t\t( ( _ref = params.channels ) != null\n\t\t\t\t\t? _ref\n\t\t\t\t\t: 'rgba'\n\t\t\t\t).toUpperCase()\n\t\t\t];\n\t\tif ( typeof params.type === 'number' ) {\n\t\t\tthis.type = params.type;\n\t\t} else {\n\t\t\tthis.type =\n\t\t\t\tthis.gl[\n\t\t\t\t\t( ( _ref1 = params.type ) != null\n\t\t\t\t\t\t? _ref1\n\t\t\t\t\t\t: 'unsigned_byte'\n\t\t\t\t\t).toUpperCase()\n\t\t\t\t];\n\t\t}\n\t\tswitch ( this.channels ) {\n\t\t\tcase this.gl.RGBA:\n\t\t\t\tthis.chancount = 4;\n\t\t\t\tbreak;\n\t\t\tcase this.gl.RGB:\n\t\t\t\tthis.chancount = 3;\n\t\t\t\tbreak;\n\t\t\tcase this.gl.LUMINANCE_ALPHA:\n\t\t\t\tthis.chancount = 2;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.chancount = 1;\n\t\t}\n\t\tthis.target = this.gl.TEXTURE_2D;\n\t\tthis.handle = this.gl.createTexture();\n\t}\n\n\tTexture.prototype.destroy = function () {\n\t\treturn this.gl.deleteTexture( this.handle );\n\t};\n\n\tTexture.prototype.bind = function ( unit ) {\n\t\tif ( unit == null ) {\n\t\t\tunit = 0;\n\t\t}\n\t\tif ( unit > 15 ) {\n\t\t\tthrow 'Texture unit too large: ' + unit;\n\t\t}\n\t\tthis.gl.activeTexture( this.gl.TEXTURE0 + unit );\n\t\tthis.gl.bindTexture( this.target, this.handle );\n\t\treturn this;\n\t};\n\n\tTexture.prototype.setSize = function ( width, height ) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.gl.texImage2D(\n\t\t\tthis.target,\n\t\t\t0,\n\t\t\tthis.channels,\n\t\t\tthis.width,\n\t\t\tthis.height,\n\t\t\t0,\n\t\t\tthis.channels,\n\t\t\tthis.type,\n\t\t\tnull\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.upload = function ( data ) {\n\t\tthis.width = data.width;\n\t\tthis.height = data.height;\n\t\tthis.gl.texImage2D(\n\t\t\tthis.target,\n\t\t\t0,\n\t\t\tthis.channels,\n\t\t\tthis.channels,\n\t\t\tthis.type,\n\t\t\tdata\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.linear = function () {\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_MAG_FILTER,\n\t\t\tthis.gl.LINEAR\n\t\t);\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_MIN_FILTER,\n\t\t\tthis.gl.LINEAR\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.nearest = function () {\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_MAG_FILTER,\n\t\t\tthis.gl.NEAREST\n\t\t);\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_MIN_FILTER,\n\t\t\tthis.gl.NEAREST\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.clampToEdge = function () {\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_WRAP_S,\n\t\t\tthis.gl.CLAMP_TO_EDGE\n\t\t);\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_WRAP_T,\n\t\t\tthis.gl.CLAMP_TO_EDGE\n\t\t);\n\t\treturn this;\n\t};\n\n\tTexture.prototype.repeat = function () {\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_WRAP_S,\n\t\t\tthis.gl.REPEAT\n\t\t);\n\t\tthis.gl.texParameteri(\n\t\t\tthis.target,\n\t\t\tthis.gl.TEXTURE_WRAP_T,\n\t\t\tthis.gl.REPEAT\n\t\t);\n\t\treturn this;\n\t};\n\n\treturn Texture;\n} )();\n\nNode = ( function () {\n\tfunction Node( gl, width, height ) {\n\t\tvar floatExt;\n\t\tthis.gl = gl;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tfloatExt = this.gl.getFloatExtension( {\n\t\t\trequire: [ 'renderable' ],\n\t\t} );\n\t\tthis.texture = new Texture( this.gl, {\n\t\t\ttype: floatExt.type,\n\t\t} )\n\t\t\t.bind( 0 )\n\t\t\t.setSize( this.width, this.height )\n\t\t\t.nearest()\n\t\t\t.clampToEdge();\n\t\tthis.fbo = new Framebuffer( this.gl )\n\t\t\t.bind()\n\t\t\t.color( this.texture )\n\t\t\t.unbind();\n\t}\n\n\tNode.prototype.use = function () {\n\t\treturn this.fbo.bind();\n\t};\n\n\tNode.prototype.bind = function ( unit ) {\n\t\treturn this.texture.bind( unit );\n\t};\n\n\tNode.prototype.end = function () {\n\t\treturn this.fbo.unbind();\n\t};\n\n\tNode.prototype.resize = function ( width, height ) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this.texture.bind( 0 ).setSize( this.width, this.height );\n\t};\n\n\treturn Node;\n} )();\n\nvertexShaderBlit =\n\t'attribute vec4 position;\\nvarying vec2 texcoord;\\nvoid main(){\\n    texcoord = position.xy*0.5+0.5;\\n    gl_Position = position;\\n}';\n\nfragmentShaderBlit =\n\t'#ifdef GL_FRAGMENT_PRECISION_HIGH\\n    precision highp int;\\n    precision highp float;\\n#else\\n    precision mediump int;\\n    precision mediump float;\\n#endif\\nuniform sampler2D source;\\nvarying vec2 texcoord;';\n\nHeights = ( function () {\n\tfunction Heights( heatmap, gl, width, height ) {\n\t\tvar i, _i, _ref;\n\t\tthis.heatmap = heatmap;\n\t\tthis.gl = gl;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.shader = new Shader( this.gl, {\n\t\t\tvertex: 'attribute vec4 position, intensity;\\nvarying vec2 off, dim;\\nvarying float vIntensity;\\nuniform vec2 viewport;\\n\\nvoid main(){\\n    dim = abs(position.zw);\\n    off = position.zw;\\n    vec2 pos = position.xy + position.zw;\\n    vIntensity = intensity.x;\\n    gl_Position = vec4((pos/viewport)*2.0-1.0, 0.0, 1.0);\\n}',\n\t\t\tfragment:\n\t\t\t\t'#ifdef GL_FRAGMENT_PRECISION_HIGH\\n    precision highp int;\\n    precision highp float;\\n#else\\n    precision mediump int;\\n    precision mediump float;\\n#endif\\nvarying vec2 off, dim;\\nvarying float vIntensity;\\nvoid main(){\\n    float falloff = (1.0 - smoothstep(0.0, 1.0, length(off/dim)));\\n    float intensity = falloff*vIntensity;\\n    gl_FragColor = vec4(intensity);\\n}',\n\t\t} );\n\t\tthis.clampShader = new Shader( this.gl, {\n\t\t\tvertex: vertexShaderBlit,\n\t\t\tfragment:\n\t\t\t\tfragmentShaderBlit +\n\t\t\t\t'uniform float low, high;\\nvoid main(){\\n    gl_FragColor = vec4(clamp(texture2D(source, texcoord).rgb, low, high), 1.0);\\n}',\n\t\t} );\n\t\tthis.multiplyShader = new Shader( this.gl, {\n\t\t\tvertex: vertexShaderBlit,\n\t\t\tfragment:\n\t\t\t\tfragmentShaderBlit +\n\t\t\t\t'uniform float value;\\nvoid main(){\\n    gl_FragColor = vec4(texture2D(source, texcoord).rgb*value, 1.0);\\n}',\n\t\t} );\n\t\tthis.blurShader = new Shader( this.gl, {\n\t\t\tvertex: vertexShaderBlit,\n\t\t\tfragment:\n\t\t\t\tfragmentShaderBlit +\n\t\t\t\t'uniform vec2 viewport;\\nvoid main(){\\n    vec4 result = vec4(0.0);\\n    for(int x=-1; x<=1; x++){\\n        for(int y=-1; y<=1; y++){\\n            vec2 off = vec2(x,y)/viewport;\\n            //float factor = 1.0 - smoothstep(0.0, 1.5, length(off));\\n            float factor = 1.0;\\n            result += vec4(texture2D(source, texcoord+off).rgb*factor, factor);\\n        }\\n    }\\n    gl_FragColor = vec4(result.rgb/result.w, 1.0);\\n}',\n\t\t} );\n\t\tthis.nodeBack = new Node( this.gl, this.width, this.height );\n\t\tthis.nodeFront = new Node( this.gl, this.width, this.height );\n\t\tthis.vertexBuffer = this.gl.createBuffer();\n\t\tthis.vertexSize = 8;\n\t\tthis.maxPointCount = 1024 * 10;\n\t\tthis.vertexBufferData = new Float32Array(\n\t\t\tthis.maxPointCount * this.vertexSize * 6\n\t\t);\n\t\tthis.vertexBufferViews = [];\n\t\tfor (\n\t\t\ti = _i = 0, _ref = this.maxPointCount;\n\t\t\t0 <= _ref ? _i < _ref : _i > _ref;\n\t\t\ti = 0 <= _ref ? ++_i : --_i\n\t\t) {\n\t\t\tthis.vertexBufferViews.push(\n\t\t\t\tnew Float32Array(\n\t\t\t\t\tthis.vertexBufferData.buffer,\n\t\t\t\t\t0,\n\t\t\t\t\ti * this.vertexSize * 6\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tthis.bufferIndex = 0;\n\t\tthis.pointCount = 0;\n\t}\n\n\tHeights.prototype.resize = function ( width, height ) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.nodeBack.resize( this.width, this.height );\n\t\treturn this.nodeFront.resize( this.width, this.height );\n\t};\n\n\tHeights.prototype.update = function () {\n\t\tvar intensityLoc, positionLoc;\n\t\tif ( this.pointCount > 0 ) {\n\t\t\tthis.gl.enable( this.gl.BLEND );\n\t\t\tthis.nodeFront.use();\n\t\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.vertexBuffer );\n\t\t\tthis.gl.bufferData(\n\t\t\t\tthis.gl.ARRAY_BUFFER,\n\t\t\t\tthis.vertexBufferViews[ this.pointCount ],\n\t\t\t\tthis.gl.STREAM_DRAW\n\t\t\t);\n\t\t\tpositionLoc = this.shader.attribLocation( 'position' );\n\t\t\tintensityLoc = this.shader.attribLocation( 'intensity' );\n\t\t\tthis.gl.enableVertexAttribArray( 1 );\n\t\t\tthis.gl.vertexAttribPointer(\n\t\t\t\tpositionLoc,\n\t\t\t\t4,\n\t\t\t\tthis.gl.FLOAT,\n\t\t\t\tfalse,\n\t\t\t\t8 * 4,\n\t\t\t\t0 * 4\n\t\t\t);\n\t\t\tthis.gl.vertexAttribPointer(\n\t\t\t\tintensityLoc,\n\t\t\t\t4,\n\t\t\t\tthis.gl.FLOAT,\n\t\t\t\tfalse,\n\t\t\t\t8 * 4,\n\t\t\t\t4 * 4\n\t\t\t);\n\t\t\tthis.shader.use().vec2( 'viewport', this.width, this.height );\n\t\t\tthis.gl.drawArrays( this.gl.TRIANGLES, 0, this.pointCount * 6 );\n\t\t\tthis.gl.disableVertexAttribArray( 1 );\n\t\t\tthis.pointCount = 0;\n\t\t\tthis.bufferIndex = 0;\n\t\t\tthis.nodeFront.end();\n\t\t\treturn this.gl.disable( this.gl.BLEND );\n\t\t}\n\t};\n\n\tHeights.prototype.clear = function () {\n\t\tthis.nodeFront.use();\n\t\tthis.gl.clearColor( 0, 0, 0, 1 );\n\t\tthis.gl.clear( this.gl.COLOR_BUFFER_BIT );\n\t\treturn this.nodeFront.end();\n\t};\n\n\tHeights.prototype.clamp = function ( min, max ) {\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.heatmap.quad );\n\t\tthis.gl.vertexAttribPointer( 0, 4, this.gl.FLOAT, false, 0, 0 );\n\t\tthis.nodeFront.bind( 0 );\n\t\tthis.nodeBack.use();\n\t\tthis.clampShader\n\t\t\t.use()\n\t\t\t.int( 'source', 0 )\n\t\t\t.float( 'low', min )\n\t\t\t.float( 'high', max );\n\t\tthis.gl.drawArrays( this.gl.TRIANGLES, 0, 6 );\n\t\tthis.nodeBack.end();\n\t\treturn this.swap();\n\t};\n\n\tHeights.prototype.multiply = function ( value ) {\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.heatmap.quad );\n\t\tthis.gl.vertexAttribPointer( 0, 4, this.gl.FLOAT, false, 0, 0 );\n\t\tthis.nodeFront.bind( 0 );\n\t\tthis.nodeBack.use();\n\t\tthis.multiplyShader.use().int( 'source', 0 ).float( 'value', value );\n\t\tthis.gl.drawArrays( this.gl.TRIANGLES, 0, 6 );\n\t\tthis.nodeBack.end();\n\t\treturn this.swap();\n\t};\n\n\tHeights.prototype.blur = function () {\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.heatmap.quad );\n\t\tthis.gl.vertexAttribPointer( 0, 4, this.gl.FLOAT, false, 0, 0 );\n\t\tthis.nodeFront.bind( 0 );\n\t\tthis.nodeBack.use();\n\t\tthis.blurShader\n\t\t\t.use()\n\t\t\t.int( 'source', 0 )\n\t\t\t.vec2( 'viewport', this.width, this.height );\n\t\tthis.gl.drawArrays( this.gl.TRIANGLES, 0, 6 );\n\t\tthis.nodeBack.end();\n\t\treturn this.swap();\n\t};\n\n\tHeights.prototype.swap = function () {\n\t\tvar tmp;\n\t\ttmp = this.nodeFront;\n\t\tthis.nodeFront = this.nodeBack;\n\t\treturn ( this.nodeBack = tmp );\n\t};\n\n\tHeights.prototype.addVertex = function ( x, y, xs, ys, intensity ) {\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = x;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = y;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = xs;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = ys;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = intensity;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = intensity;\n\t\tthis.vertexBufferData[ this.bufferIndex++ ] = intensity;\n\t\treturn ( this.vertexBufferData[ this.bufferIndex++ ] = intensity );\n\t};\n\n\tHeights.prototype.addPoint = function ( x, y, size, intensity ) {\n\t\tvar s;\n\t\tif ( size == null ) {\n\t\t\tsize = 50;\n\t\t}\n\t\tif ( intensity == null ) {\n\t\t\tintensity = 0.2;\n\t\t}\n\t\tif ( this.pointCount >= this.maxPointCount - 1 ) {\n\t\t\tthis.update();\n\t\t}\n\t\ty = this.height - y;\n\t\ts = size / 2;\n\t\tthis.addVertex( x, y, -s, -s, intensity );\n\t\tthis.addVertex( x, y, +s, -s, intensity );\n\t\tthis.addVertex( x, y, -s, +s, intensity );\n\t\tthis.addVertex( x, y, -s, +s, intensity );\n\t\tthis.addVertex( x, y, +s, -s, intensity );\n\t\tthis.addVertex( x, y, +s, +s, intensity );\n\t\treturn ( this.pointCount += 1 );\n\t};\n\n\treturn Heights;\n} )();\n\nWebGLHeatmap = ( function () {\n\tfunction WebGLHeatmap( _arg ) {\n\t\tvar alphaEnd,\n\t\t\talphaRange,\n\t\t\talphaStart,\n\t\t\terror,\n\t\t\tgetColorFun,\n\t\t\tgradientTexture,\n\t\t\timage,\n\t\t\tintensityToAlpha,\n\t\t\toutput,\n\t\t\tquad,\n\t\t\ttextureGradient,\n\t\t\t_ref,\n\t\t\t_ref1;\n\t\t( _ref = _arg != null ? _arg : {} ),\n\t\t\t( this.canvas = _ref.canvas ),\n\t\t\t( this.width = _ref.width ),\n\t\t\t( this.height = _ref.height ),\n\t\t\t( intensityToAlpha = _ref.intensityToAlpha ),\n\t\t\t( gradientTexture = _ref.gradientTexture ),\n\t\t\t( alphaRange = _ref.alphaRange );\n\t\tif ( ! this.canvas ) {\n\t\t\tthis.canvas = document.createElement( 'canvas' );\n\t\t}\n\t\ttry {\n\t\t\tthis.gl = this.canvas.getContext( 'experimental-webgl', {\n\t\t\t\tdepth: false,\n\t\t\t\tantialias: false,\n\t\t\t} );\n\t\t\tif ( this.gl === null ) {\n\t\t\t\tthis.gl = this.canvas.getContext( 'webgl', {\n\t\t\t\t\tdepth: false,\n\t\t\t\t\tantialias: false,\n\t\t\t\t} );\n\t\t\t\tif ( this.gl === null ) {\n\t\t\t\t\tthrow 'WebGL not supported';\n\t\t\t\t}\n\t\t\t}\n\t\t} catch ( _error ) {\n\t\t\terror = _error;\n\t\t\tthrow 'WebGL not supported';\n\t\t}\n\t\tif ( window.WebGLDebugUtils != null ) {\n\t\t\tconsole.log( 'debugging mode' ); // eslint-disable-line\n\t\t\tthis.gl = WebGLDebugUtils.makeDebugContext(\n\t\t\t\tthis.gl,\n\t\t\t\tfunction ( err, funcName, args ) {\n\t\t\t\t\tthrow (\n\t\t\t\t\t\tWebGLDebugUtils.glEnumToString( err ) +\n\t\t\t\t\t\t' was caused by call to: ' +\n\t\t\t\t\t\tfuncName\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tthis.gl.enableVertexAttribArray( 0 );\n\t\tthis.gl.blendFunc( this.gl.ONE, this.gl.ONE );\n\t\tif ( gradientTexture ) {\n\t\t\ttextureGradient = this.gradientTexture = new Texture( this.gl, {\n\t\t\t\tchannels: 'rgba',\n\t\t\t} )\n\t\t\t\t.bind( 0 )\n\t\t\t\t.setSize( 2, 2 )\n\t\t\t\t.nearest()\n\t\t\t\t.clampToEdge();\n\t\t\tif ( typeof gradientTexture === 'string' ) {\n\t\t\t\timage = new Image();\n\t\t\t\timage.onload = function () {\n\t\t\t\t\treturn textureGradient.bind().upload( image );\n\t\t\t\t};\n\t\t\t\timage.src = gradientTexture;\n\t\t\t} else {\n\t\t\t\tif ( gradientTexture.width > 0 && gradientTexture.height > 0 ) {\n\t\t\t\t\ttextureGradient.upload( gradientTexture );\n\t\t\t\t} else {\n\t\t\t\t\tgradientTexture.onload = function () {\n\t\t\t\t\t\treturn textureGradient.upload( gradientTexture );\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tgetColorFun =\n\t\t\t\t'uniform sampler2D gradientTexture;\\nvec3 getColor(float intensity){\\n    return texture2D(gradientTexture, vec2(intensity, 0.0)).rgb;\\n}';\n\t\t} else {\n\t\t\ttextureGradient = null;\n\t\t\tgetColorFun =\n\t\t\t\t'vec3 getColor(float intensity){\\n    vec3 blue = vec3(0.0, 0.0, 1.0);\\n    vec3 cyan = vec3(0.0, 1.0, 1.0);\\n    vec3 green = vec3(0.0, 1.0, 0.0);\\n    vec3 yellow = vec3(1.0, 1.0, 0.0);\\n    vec3 red = vec3(1.0, 0.0, 0.0);\\n\\n    vec3 color = (\\n        fade(-0.25, 0.25, intensity)*blue +\\n        fade(0.0, 0.5, intensity)*cyan +\\n        fade(0.25, 0.75, intensity)*green +\\n        fade(0.5, 1.0, intensity)*yellow +\\n        smoothstep(0.75, 1.0, intensity)*red\\n    );\\n    return color;\\n}';\n\t\t}\n\t\tif ( intensityToAlpha == null ) {\n\t\t\tintensityToAlpha = true;\n\t\t}\n\t\tif ( intensityToAlpha ) {\n\t\t\t( _ref1 = alphaRange != null ? alphaRange : [ 0, 1 ] ),\n\t\t\t\t( alphaStart = _ref1[ 0 ] ),\n\t\t\t\t( alphaEnd = _ref1[ 1 ] );\n\t\t\toutput =\n\t\t\t\t'vec4 alphaFun(vec3 color, float intensity){\\n    float alpha = smoothstep(' +\n\t\t\t\talphaStart.toFixed( 8 ) +\n\t\t\t\t', ' +\n\t\t\t\talphaEnd.toFixed( 8 ) +\n\t\t\t\t', intensity);\\n    return vec4(color*alpha, alpha);\\n}';\n\t\t} else {\n\t\t\toutput =\n\t\t\t\t'vec4 alphaFun(vec3 color, float intensity){\\n    return vec4(color, 1.0);\\n}';\n\t\t}\n\t\tthis.shader = new Shader( this.gl, {\n\t\t\tvertex: vertexShaderBlit,\n\t\t\tfragment:\n\t\t\t\tfragmentShaderBlit +\n\t\t\t\t( 'float linstep(float low, float high, float value){\\n    return clamp((value-low)/(high-low), 0.0, 1.0);\\n}\\n\\nfloat fade(float low, float high, float value){\\n    float mid = (low+high)*0.5;\\n    float range = (high-low)*0.5;\\n    float x = 1.0 - clamp(abs(mid-value)/range, 0.0, 1.0);\\n    return smoothstep(0.0, 1.0, x);\\n}\\n\\n' +\n\t\t\t\t\tgetColorFun +\n\t\t\t\t\t'\\n' +\n\t\t\t\t\toutput +\n\t\t\t\t\t'\\n\\nvoid main(){\\n    float intensity = smoothstep(0.0, 1.0, texture2D(source, texcoord).r);\\n    vec3 color = getColor(intensity);\\n    gl_FragColor = alphaFun(color, intensity);\\n}' ),\n\t\t} );\n\t\tif ( this.width == null ) {\n\t\t\tthis.width = this.canvas.offsetWidth || 2;\n\t\t}\n\t\tif ( this.height == null ) {\n\t\t\tthis.height = this.canvas.offsetHeight || 2;\n\t\t}\n\t\tthis.canvas.width = this.width;\n\t\tthis.canvas.height = this.height;\n\t\tthis.gl.viewport( 0, 0, this.width, this.height );\n\t\tthis.quad = this.gl.createBuffer();\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.quad );\n\t\tquad = new Float32Array( [\n\t\t\t-1, -1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, 1, 0, 1, 1, -1, 0, 1, 1,\n\t\t\t1, 0, 1,\n\t\t] );\n\t\tthis.gl.bufferData( this.gl.ARRAY_BUFFER, quad, this.gl.STATIC_DRAW );\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, null );\n\t\tthis.heights = new Heights( this, this.gl, this.width, this.height );\n\t}\n\n\tWebGLHeatmap.prototype.adjustSize = function () {\n\t\tvar canvasHeight, canvasWidth;\n\t\tcanvasWidth = this.canvas.offsetWidth || 2;\n\t\tcanvasHeight = this.canvas.offsetHeight || 2;\n\t\tif ( this.width !== canvasWidth || this.height !== canvasHeight ) {\n\t\t\tthis.gl.viewport( 0, 0, canvasWidth, canvasHeight );\n\t\t\tthis.canvas.width = canvasWidth;\n\t\t\tthis.canvas.height = canvasHeight;\n\t\t\tthis.width = canvasWidth;\n\t\t\tthis.height = canvasHeight;\n\t\t\treturn this.heights.resize( this.width, this.height );\n\t\t}\n\t};\n\n\tWebGLHeatmap.prototype.display = function () {\n\t\tthis.gl.bindBuffer( this.gl.ARRAY_BUFFER, this.quad );\n\t\tthis.gl.vertexAttribPointer( 0, 4, this.gl.FLOAT, false, 0, 0 );\n\t\tthis.heights.nodeFront.bind( 0 );\n\t\tif ( this.gradientTexture ) {\n\t\t\tthis.gradientTexture.bind( 1 );\n\t\t}\n\t\tthis.shader.use().int( 'source', 0 ).int( 'gradientTexture', 1 );\n\t\treturn this.gl.drawArrays( this.gl.TRIANGLES, 0, 6 );\n\t};\n\n\tWebGLHeatmap.prototype.update = function () {\n\t\treturn this.heights.update();\n\t};\n\n\tWebGLHeatmap.prototype.clear = function () {\n\t\treturn this.heights.clear();\n\t};\n\n\tWebGLHeatmap.prototype.clamp = function ( min, max ) {\n\t\tif ( min == null ) {\n\t\t\tmin = 0;\n\t\t}\n\t\tif ( max == null ) {\n\t\t\tmax = 1;\n\t\t}\n\t\treturn this.heights.clamp( min, max );\n\t};\n\n\tWebGLHeatmap.prototype.multiply = function ( value ) {\n\t\tif ( value == null ) {\n\t\t\tvalue = 0.95;\n\t\t}\n\t\treturn this.heights.multiply( value );\n\t};\n\n\tWebGLHeatmap.prototype.blur = function () {\n\t\treturn this.heights.blur();\n\t};\n\n\tWebGLHeatmap.prototype.addPoint = function ( x, y, size, intensity ) {\n\t\treturn this.heights.addPoint( x, y, size, intensity );\n\t};\n\n\tWebGLHeatmap.prototype.addPoints = function ( items ) {\n\t\tvar item, _i, _len, _results;\n\t\t_results = [];\n\t\tfor ( _i = 0, _len = items.length; _i < _len; _i++ ) {\n\t\t\titem = items[ _i ];\n\t\t\t_results.push(\n\t\t\t\tthis.addPoint( item.x, item.y, item.size, item.intensity )\n\t\t\t);\n\t\t}\n\t\treturn _results;\n\t};\n\n\treturn WebGLHeatmap;\n} )();\n\nexport function createWebGLHeatmap( params ) {\n\treturn new WebGLHeatmap( params );\n}\n","/**\n * External dependencies\n */\nimport throttle from 'lodash/throttle';\nimport * as StackBlur from 'stackblur-canvas';\nimport type { HeatmapFrameAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport {\n\tSCROLLMAP_COLORS,\n\tSCROLLMAP_ROW_HEIGHT,\n\tSTATS_REFRESH_DELAY,\n} from './internal/constants';\nimport {\n\tareRawResults,\n\tgetIFrameLabels,\n\tgetOpacity,\n\tgetScrollSummary,\n\tprocessResults,\n} from './internal/store';\nimport {\n\tcreateElement,\n\tcreateOverlayElement,\n\tmaximizeElement,\n} from './internal/utils';\n\nconst scrollmap: Partial< {\n\taverageFold: HTMLElement;\n\tcanvas: HTMLCanvasElement;\n\timage: HTMLCanvasElement;\n\tstats: HTMLElement;\n\tstatsTracker: HTMLElement;\n} > = {};\n\nexport function reactToParentMessages( action: HeatmapFrameAction ): true {\n\tif ( 'scrollmap' !== action.mode ) {\n\t\tremoveScrollmapFromBody();\n\t\treturn true;\n\t}\n\n\tif ( ! areRawResults( [ 'still-loading', 'canceling', 'ready' ] ) ) {\n\t\treturn true;\n\t}\n\n\tswitch ( action.type ) {\n\t\tcase 'process-results':\n\t\t\tprocessResults();\n\t\t\treturn true;\n\n\t\tcase 'render-results':\n\t\t\trenderResults();\n\t\t\treturn true;\n\n\t\tcase 'update-opacity':\n\t\t\tsetOverlayOpacity();\n\t\t\treturn true;\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction renderResults() {\n\tif ( ! scrollmap.canvas ) {\n\t\tinitScrollmap();\n\t}\n\n\tsetOverlayOpacity();\n\tappendScrollmapInBody();\n\trenderScrollmap();\n}\n\nfunction setOverlayOpacity() {\n\tif ( ! scrollmap.canvas ) {\n\t\treturn;\n\t}\n\tconst opacity = getOpacity();\n\tscrollmap.canvas.style.opacity = `${ opacity / 100 }`;\n}\n\nfunction removeScrollmapFromBody() {\n\tif ( document.body === scrollmap.canvas?.parentNode ) {\n\t\tdocument.body.removeChild( scrollmap.canvas );\n\t}\n\n\tif ( document.body === scrollmap.stats?.parentNode ) {\n\t\tdocument.body.removeChild( scrollmap.stats );\n\t}\n\n\tif ( document.body === scrollmap.averageFold?.parentNode ) {\n\t\tdocument.body.removeChild( scrollmap.averageFold );\n\t}\n\n\tif ( document.body === scrollmap.statsTracker?.parentNode ) {\n\t\tdocument.body.removeChild( scrollmap.statsTracker );\n\t}\n}\n\nfunction appendScrollmapInBody() {\n\tif (\n\t\t! scrollmap.averageFold ||\n\t\t! scrollmap.stats ||\n\t\t! scrollmap.canvas ||\n\t\t! scrollmap.statsTracker\n\t) {\n\t\treturn;\n\t}\n\n\tscrollmap.averageFold.style.width = `${ document.body.clientWidth }px`;\n\tscrollmap.stats.style.width = `${ document.body.clientWidth }px`;\n\tmaximizeElement( scrollmap.canvas );\n\tmaximizeElement( scrollmap.statsTracker );\n\n\tif ( document.body === scrollmap.canvas.parentNode ) {\n\t\treturn;\n\t}\n\n\tdocument.body.appendChild( scrollmap.canvas );\n\tdocument.body.appendChild( scrollmap.averageFold );\n\tdocument.body.appendChild( scrollmap.stats );\n\tdocument.body.appendChild( scrollmap.statsTracker );\n}\n\nfunction initScrollmap() {\n\t// Canvas.\n\tscrollmap.canvas = createOverlayElement< HTMLCanvasElement >( 'canvas' );\n\tscrollmap.canvas.style.opacity = '0.75';\n\n\t// Average Fold.\n\tscrollmap.averageFold = createOverlayElement( 'div' );\n\tscrollmap.averageFold.style.display = 'none';\n\tscrollmap.averageFold.style.height = 'auto';\n\tscrollmap.averageFold.style.borderBottom = '2px dashed #262b2d';\n\tscrollmap.averageFold.style.textAlign = 'center';\n\n\tconst averageFoldContainer = createElement( 'span', {\n\t\tstyle: {\n\t\t\tfontSize: '13px',\n\t\t\tmargin: '0 auto',\n\t\t\tborderRadius: '4px',\n\t\t\tfontWeight: '600',\n\t\t\tfontFamily:\n\t\t\t\t'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif',\n\t\t\tbackground: '#262b2d',\n\t\t\tpointerEvents: 'none',\n\t\t\tcolor: '#eee',\n\t\t\tdisplay: 'inline-block',\n\t\t\ttransform: 'translate(-50%, -50%)',\n\t\t\tposition: 'absolute',\n\t\t\twhiteSpace: 'nowrap',\n\t\t},\n\t} );\n\n\tscrollmap.averageFold.appendChild( averageFoldContainer );\n\tconst scrollmapSpan = createElement( 'span', {\n\t\tclassName: 'nab-data-block',\n\t\tstyle: { padding: '0 1em' },\n\t} );\n\tconst scrollmapSpanIcon = createElement( 'span', {\n\t\tclassName: 'dashicons dashicons-image-flip-vertical',\n\t\tstyle: {\n\t\t\tverticalAlign: 'text-top',\n\t\t\tmarginRight: '5px',\n\t\t},\n\t} );\n\tconst scrollmapLabel = document.createTextNode(\n\t\tgetIFrameLabels().averageFold + ' '\n\t);\n\tconst scrollmapValue = createElement( 'output', {\n\t\tid: 'nab-average-fold',\n\t} );\n\tscrollmapValue.style.color = 'inherit';\n\tscrollmapValue.style.display = 'inline';\n\tscrollmapValue.style.fontSize = 'inherit';\n\tscrollmapValue.style.lineHeight = 'inherit';\n\tscrollmapValue.style.margin = '0';\n\tscrollmapValue.style.padding = '0';\n\n\taverageFoldContainer.appendChild( scrollmapSpan );\n\tscrollmapSpan.appendChild( scrollmapSpanIcon );\n\tscrollmapSpan.appendChild( scrollmapLabel );\n\tscrollmapSpan.appendChild( scrollmapValue );\n\n\t// Stats.\n\tscrollmap.stats = createOverlayElement( 'div' );\n\tscrollmap.stats.style.height = 'auto';\n\tscrollmap.stats.style.borderBottom = '2px dashed #262b2d';\n\tscrollmap.stats.style.opacity = '0';\n\tscrollmap.stats.style.transition = 'opacity 200ms ease-in-out';\n\n\tconst scrollStatsContainer = createElement( 'span', {\n\t\tstyle: {\n\t\t\tfontSize: '13px',\n\t\t\tleft: '1em',\n\t\t\tborderRadius: '4px',\n\t\t\tfontWeight: '600',\n\t\t\tfontFamily:\n\t\t\t\t'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif',\n\t\t\tbackground: '#262b2d',\n\t\t\tpointerEvents: 'none',\n\t\t\tcolor: '#eee',\n\t\t\tdisplay: 'inline-block',\n\t\t\tposition: 'absolute',\n\t\t\ttransform: 'translate(0, -50%)',\n\t\t\twhiteSpace: 'nowrap',\n\t\t},\n\t} );\n\n\tconst statsPopularity = createElement( 'span', {\n\t\tclassName: 'nab-data-block',\n\t\tstyle: { padding: '0 1em' },\n\t} );\n\tconst statsPopularityLabel = document.createTextNode(\n\t\tgetIFrameLabels().popularity + ' '\n\t);\n\tconst statsPopularityValue = createElement( 'output', {\n\t\tid: 'nab-popularity',\n\t} );\n\tscrollStatsContainer.appendChild( statsPopularity );\n\tstatsPopularity.appendChild( statsPopularityLabel );\n\tstatsPopularity.appendChild( statsPopularityValue );\n\n\t// Stats tracker.\n\tscrollmap.statsTracker = createOverlayElement( 'div' );\n\n\t// Event listeners.\n\tscrollmap.stats.appendChild( scrollStatsContainer );\n\n\tscrollmap.statsTracker.addEventListener( 'mouseenter', () => {\n\t\tif ( scrollmap.stats ) {\n\t\t\tscrollmap.stats.style.opacity = '1';\n\t\t}\n\t} );\n\n\tscrollmap.statsTracker.addEventListener( 'mouseleave', () => {\n\t\tif ( scrollmap.stats ) {\n\t\t\tscrollmap.stats.style.opacity = '0';\n\t\t}\n\t} );\n\n\t// Update position.\n\tscrollmap.statsTracker.addEventListener( 'mousemove', ( event ) => {\n\t\tif ( ! scrollmap.stats ) {\n\t\t\treturn;\n\t\t}\n\t\tscrollmap.stats.style.top = `${ Math.max( event.pageY, 0 ) }px`;\n\t} );\n\n\t// Update count.\n\tscrollmap.statsTracker.addEventListener(\n\t\t'mousemove',\n\t\tthrottle( ( event: MouseEvent ) => {\n\t\t\tconst popularityEl = document.getElementById( 'nab-popularity' );\n\t\t\tif ( ! popularityEl ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { rows, maxHits } = getScrollSummary();\n\t\t\tconst rowIndex = Math.floor( event.pageY / SCROLLMAP_ROW_HEIGHT );\n\t\t\tconst intensity = rows[ rowIndex ] || 0;\n\t\t\tconst popularity = Math.round( ( 100 * intensity ) / maxHits ) || 0;\n\t\t\tpopularityEl.textContent = `${ popularity.toLocaleString() }%`;\n\t\t}, STATS_REFRESH_DELAY )\n\t);\n}\n\nfunction renderScrollmap(): void {\n\tgenerateScrollmapImage();\n\n\tif ( ! scrollmap.canvas ) {\n\t\treturn;\n\t}\n\n\tconst image = scrollmap.image;\n\tconst ctx = scrollmap.canvas.getContext( '2d' );\n\tif ( image && ctx ) {\n\t\tscrollmap.canvas.width = image.width;\n\t\tscrollmap.canvas.height = image.height;\n\t\tctx.clearRect( 0, 0, scrollmap.canvas.width, scrollmap.canvas.height );\n\t\tctx.drawImage( image, 0, 0 );\n\t}\n\n\trenderAverageFold();\n}\n\nfunction renderAverageFold() {\n\tconst avgFoldEl = document.getElementById( 'nab-average-fold' );\n\tif ( ! avgFoldEl || ! scrollmap.averageFold ) {\n\t\treturn;\n\t}\n\n\tconst data = getScrollSummary();\n\tconst { averageFold } = data;\n\tif ( averageFold ) {\n\t\tavgFoldEl.textContent = `${ averageFold.toLocaleString() }px`;\n\t\tscrollmap.averageFold.style.top = `${ averageFold }px`;\n\t\tscrollmap.averageFold.style.display = 'block';\n\t} else {\n\t\tavgFoldEl.textContent = ``;\n\t\tscrollmap.averageFold.style.display = 'none';\n\t}\n}\n\nfunction generateScrollmapImage() {\n\tconst { rows, maxHits } = getScrollSummary();\n\tconst narrowCanvas = createElement< HTMLCanvasElement >( 'canvas' );\n\tnarrowCanvas.width = 1;\n\tnarrowCanvas.height = rows.length;\n\tconst narrowCtx = narrowCanvas.getContext( '2d' );\n\n\tconst colorIndexes = rows.map( ( hits ) =>\n\t\tMath.floor( ( hits / maxHits ) * ( SCROLLMAP_COLORS.length - 1 ) )\n\t);\n\tsmoothColorIndexTransition( colorIndexes ).forEach(\n\t\t( colorIndex, rowNumber ) => {\n\t\t\tif ( ! narrowCtx || ! scrollmap.canvas ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnarrowCtx.fillStyle = SCROLLMAP_COLORS[ colorIndex ] ?? '';\n\t\t\tnarrowCtx.fillRect( 0, rowNumber, scrollmap.canvas.width, 1 );\n\t\t}\n\t);\n\n\tStackBlur.canvasRGB(\n\t\tnarrowCanvas,\n\t\t0,\n\t\t0,\n\t\tnarrowCanvas.width,\n\t\tnarrowCanvas.height,\n\t\t100 / SCROLLMAP_ROW_HEIGHT\n\t);\n\tscrollmap.image = narrowCanvas;\n}\n\nfunction smoothColorIndexTransition( values: ReadonlyArray< number > ) {\n\tlet result = values;\n\tfor ( let i = 0; i < 5; ++i ) {\n\t\tresult = smooth( result );\n\t}\n\treturn result;\n}\n\nfunction smooth( values: ReadonlyArray< number > ) {\n\tif ( ! values.length ) {\n\t\treturn values;\n\t}\n\n\tconst weighted = average( values );\n\tconst originalMin = min( values );\n\tconst originalMax = max( values );\n\tconst originalSize = originalMax - originalMin;\n\n\tconst numOfItems = values.length;\n\tconst padding = 10;\n\tconst firstValue = values[ 0 ] || 0;\n\tconst lastValue = values[ values.length - 1 ] || 0;\n\tvalues = [\n\t\t...( new Array( padding ).fill( firstValue ) as number[] ),\n\t\t...values,\n\t\t...( new Array( padding ).fill( lastValue ) as number[] ),\n\t];\n\n\tlet smoothed: number[] = [];\n\tfor ( let i = 1; i < values.length - 1; ++i ) {\n\t\tconst curr = values[ i ];\n\t\tconst prev = smoothed[ i - 1 ] || values[ i - 1 ];\n\t\tconst next = values[ i + 1 ];\n\t\tconst improved = average(\n\t\t\t[ weighted, prev, curr, next ].filter( isDefined )\n\t\t);\n\t\tsmoothed.push( improved );\n\t}\n\tsmoothed = smoothed.splice( padding - 1, numOfItems );\n\n\tconst smoothedMin = min( smoothed );\n\tconst smoothedMax = max( smoothed );\n\tconst smoothedSize = smoothedMax - smoothedMin;\n\tconst normalized = smoothed.map(\n\t\t( value ) => ( value - smoothedMin ) / smoothedSize\n\t);\n\n\treturn normalized.map(\n\t\t( value ) => Math.round( value * originalSize ) + originalMin\n\t);\n}\n\nfunction isDefined< T >( v: T | undefined ): v is T {\n\treturn undefined !== v;\n}\n\nfunction average( values: ReadonlyArray< number > ) {\n\tconst sum = values.reduce( ( res, val ) => res + val, 0 );\n\tconst avg = sum / values.length;\n\treturn avg;\n}\n\nfunction min( values: ReadonlyArray< number > ) {\n\treturn values.reduce(\n\t\t( memo, value ) => Math.min( memo, value ),\n\t\tNumber.POSITIVE_INFINITY\n\t);\n}\n\nfunction max( values: ReadonlyArray< number > ) {\n\treturn values.reduce(\n\t\t( memo, value ) => Math.max( memo, value ),\n\t\tNumber.NEGATIVE_INFINITY\n\t);\n}\n","/**\n * External dependencies\n */\nimport type { ConversionEvent, Maybe, TrackEvent } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Session, Settings } from '../types';\nimport { getSettings } from '../utils/helpers/internal/get-settings';\n\nfunction sendToGA4( eventData: TrackEvent ) {\n\tconst settings = getSettings();\n\tif (\n\t\t( ! settings?.ga4TrackingMethod ||\n\t\t\tsettings.ga4TrackingMethod === 'gtm' ) &&\n\t\thasDataLayer( window )\n\t) {\n\t\twindow.dataLayer.push( {\n\t\t\tevent:\n\t\t\t\teventData.kind === 'visit'\n\t\t\t\t\t? 'experiment_impression'\n\t\t\t\t\t: 'conversion',\n\t\t\texperiment_id: eventData.experiment,\n\t\t\tvariant_id: eventData.alternative,\n\t\t\tvariant_name: getVariantName( settings, eventData ),\n\t\t\t...( eventData.kind === 'conversion' && {\n\t\t\t\tgoal_id: eventData.goal,\n\t\t\t\tgoal_name: getGoalName( settings, eventData ),\n\t\t\t} ),\n\t\t} );\n\t} else if (\n\t\t( ! settings?.ga4TrackingMethod ||\n\t\t\tsettings.ga4TrackingMethod === 'gtag' ) &&\n\t\thasGTag( window )\n\t) {\n\t\twindow.gtag(\n\t\t\t'event',\n\t\t\teventData.kind === 'visit' ? 'experiment_impression' : 'conversion',\n\t\t\t{\n\t\t\t\texperiment_id: eventData.experiment,\n\t\t\t\tvariant_id: eventData.alternative,\n\t\t\t\tvariant_name: getVariantName( settings, eventData ),\n\t\t\t\t...( eventData.kind === 'conversion' && {\n\t\t\t\t\tgoal_id: eventData.goal,\n\t\t\t\t\tgoal_name: getGoalName( settings, eventData ),\n\t\t\t\t} ),\n\t\t\t}\n\t\t);\n\t}\n} //end sendToGA4()\n\nconst hasGTag = (\n\twin: unknown\n): win is {\n\tgtag: (\n\t\tcommand: string,\n\t\teventName: string,\n\t\tparams?: Record< string, unknown >\n\t) => void;\n} => !! win && 'object' === typeof win && 'gtag' in win;\n\nconst hasDataLayer = (\n\twin: unknown\n): win is {\n\tdataLayer: Array< Record< string, unknown > >;\n} => !! win && 'object' === typeof win && 'dataLayer' in win;\n\nexport function initGA4Tracking( session: Session ): void {\n\tif ( ! session.isGA4Integrated ) {\n\t\treturn;\n\t}\n\n\twindow.addEventListener(\n\t\t'nelio-ab-testing/track',\n\t\t( e: CustomEventInit< { event: TrackEvent } > ) => {\n\t\t\tif (\n\t\t\t\te.detail &&\n\t\t\t\te.detail.event &&\n\t\t\t\t[ 'visit', 'conversion' ].includes( e.detail.event.kind )\n\t\t\t) {\n\t\t\t\tsendToGA4( e.detail.event );\n\t\t\t}\n\t\t}\n\t);\n} //end initGA4Tracking()\n\nexport function getGA4ClientId(): string | undefined {\n\tconst match = document.cookie.match( /_ga=GA\\d\\.\\d\\.(\\d+\\.\\d+)/ );\n\treturn match ? match[ 1 ] : undefined;\n} //end getGA4ClientId()\n\nfunction getVariantName(\n\tsettings: Maybe< Required< Settings > >,\n\teventData: TrackEvent\n): Maybe< string > {\n\tif ( ! settings ) {\n\t\treturn undefined;\n\t}\n\n\tconst exp = settings.experiments.find(\n\t\t( e ) => e.id === eventData.experiment\n\t);\n\tif ( ! exp ) {\n\t\treturn undefined;\n\t}\n\n\tif ( ! exp.alternatives ) {\n\t\treturn undefined;\n\t}\n\n\tif ( ! exp.alternatives[ eventData.alternative ] ) {\n\t\treturn undefined;\n\t}\n\n\tconst alt = exp.alternatives[ eventData.alternative ];\n\tif (\n\t\t!! alt &&\n\t\ttypeof alt === 'object' &&\n\t\t'name' in alt &&\n\t\ttypeof alt.name === 'string'\n\t) {\n\t\treturn alt.name;\n\t}\n\n\treturn eventData.alternative === 0\n\t\t? 'Control'\n\t\t: `Variant ${ eventData.alternative }`;\n}\n\nfunction getGoalName(\n\tsettings: Maybe< Required< Settings > >,\n\teventData: ConversionEvent\n): Maybe< string > {\n\tif ( ! settings ) {\n\t\treturn undefined;\n\t}\n\n\tconst exp = settings.experiments.find(\n\t\t( e ) => e.id === eventData.experiment\n\t);\n\tif ( ! exp ) {\n\t\treturn undefined;\n\t}\n\n\tif ( ! exp.goals ) {\n\t\treturn undefined;\n\t}\n\n\tif ( ! exp.goals[ eventData.goal ] ) {\n\t\treturn undefined;\n\t}\n\n\tconst goal = exp.goals[ eventData.goal ];\n\tif ( ! goal ) {\n\t\treturn undefined;\n\t}\n\n\treturn goal.name;\n}\n","/**\n * Internal dependencies\n */\nimport type {\n\tConversionAction,\n\tConvertibleAction,\n\tConvertingGoal,\n\tGoalSummary,\n\tSession,\n} from '../types';\n\nexport function isGdprAccepted( session: Session ): boolean {\n\tconst { gdprCookie } = session;\n\n\tif ( ! gdprCookie.name ) {\n\t\treturn true;\n\t}\n\n\tconst matches = ( pattern: string, value: string ) => {\n\t\tconst parts = pattern.split( '*' );\n\t\treturn (\n\t\t\tvalue.startsWith( parts[ 0 ] ?? '' ) &&\n\t\t\tvalue.endsWith( parts[ parts.length - 1 ] ?? '' ) &&\n\t\t\t0 <=\n\t\t\t\tpattern\n\t\t\t\t\t.split( '*' )\n\t\t\t\t\t.reduce(\n\t\t\t\t\t\t( start, search ) =>\n\t\t\t\t\t\t\tstart < 0 ? start : value.indexOf( search, start ),\n\t\t\t\t\t\t0\n\t\t\t\t\t)\n\t\t);\n\t};\n\n\treturn document.cookie\n\t\t.split( ';' )\n\t\t.map( ( c ) => c.trim() )\n\t\t.map( ( c ) => c.split( '=' ) )\n\t\t.map( ( [ n, ...v ] ) => [ n, v.join( '=' ) ] )\n\t\t.filter(\n\t\t\t( c ): c is [ string, string ] =>\n\t\t\t\tc[ 0 ] !== undefined && c[ 1 ] !== undefined\n\t\t)\n\t\t.filter( ( [ n ] ) => matches( gdprCookie.name, n ) )\n\t\t.some(\n\t\t\t( [ _, v ] ) =>\n\t\t\t\t! gdprCookie.value ||\n\t\t\t\tmatches( gdprCookie.value, v ) ||\n\t\t\t\tmatches( gdprCookie.value, decodeURIComponent( v ) )\n\t\t);\n}\n\nexport function getAllActions(\n\texperiments: Session[ 'experiments' ]\n): ReadonlyArray< ConvertibleAction > {\n\treturn experiments.reduce( ( result, experiment ) => {\n\t\texperiment?.goals.forEach( ( goal ) => {\n\t\t\tconst relevantActions = goal.conversionActions.map(\n\t\t\t\t( action ) => ( {\n\t\t\t\t\t...action,\n\t\t\t\t\texperiment: experiment.id,\n\t\t\t\t\talternative: experiment.alternative,\n\t\t\t\t\tgoal: goal.id,\n\t\t\t\t} )\n\t\t\t);\n\t\t\tresult = [ ...result, ...relevantActions ];\n\t\t} );\n\n\t\treturn result;\n\t}, [] as ReadonlyArray< ConvertibleAction > );\n}\n\nexport function getConvertingGoals(\n\texperiments: Session[ 'experiments' ],\n\tactionMatcher: ( act: ConversionAction ) => boolean\n): ReadonlyArray< ConvertingGoal > {\n\treturn experiments.reduce( ( result, experiment ) => {\n\t\tconst relevantGoals = experiment.goals.filter( ( goal ) =>\n\t\t\thasMatchingAction( goal, actionMatcher )\n\t\t);\n\t\tconst eventsFromGoals = relevantGoals?.map( ( goal ) => ( {\n\t\t\tgoal: goal.id,\n\t\t\texperiment: experiment.id,\n\t\t} ) );\n\n\t\treturn eventsFromGoals ? [ ...result, ...eventsFromGoals ] : result;\n\t}, [] as ReadonlyArray< ConvertingGoal > );\n}\n\ntype Fn = () => void;\nconst onScrollDownFns: Fn[] = [];\nexport function onScrollDown( fn: Fn ): void {\n\tonScrollDownFns.push( fn );\n\tif ( 1 === onScrollDownFns.length ) {\n\t\tlet maxScroll = window.scrollY + window.innerHeight;\n\t\tdocument.addEventListener( 'scroll', () => {\n\t\t\tconst bottom = window.scrollY + window.innerHeight;\n\t\t\tif ( bottom <= maxScroll ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmaxScroll = bottom;\n\t\t\tonScrollDownFns.forEach( ( f ) => f() );\n\t\t} );\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction hasMatchingAction(\n\tgoal: GoalSummary,\n\tactionMatcher: ( action: ConversionAction ) => boolean\n): boolean {\n\treturn goal.conversionActions.reduce(\n\t\t( memo, action ) => memo || actionMatcher( action ),\n\t\tfalse\n\t);\n}\n","const Node = window.Node;\nconst XPathResult = window.XPathResult;\n\ntype Step = {\n\treadonly value: string;\n\treadonly optimized: boolean;\n};\n\n// Code from Chromium project.\n// https://github.com/chromium/chromium/blob/master/third_party/blink/renderer/devtools/front_end/elements/DOMPath.js\n\nexport function getElementByXPath( xpath: string ): Node | null {\n\treturn document.evaluate(\n\t\txpath,\n\t\tdocument,\n\t\tnull,\n\t\tXPathResult.FIRST_ORDERED_NODE_TYPE,\n\t\tnull\n\t).singleNodeValue;\n}\n\nexport function xPath( node: Node, optimized: boolean ): string {\n\tif ( node.nodeType === Node.DOCUMENT_NODE ) {\n\t\treturn '/';\n\t}\n\n\tconst steps: Step[] = [];\n\n\tlet contextNode: Node | null = node;\n\twhile ( contextNode ) {\n\t\tconst step = _xPathValue( contextNode, optimized );\n\t\tif ( ! step ) {\n\t\t\tbreak; // Error - bail out early.\n\t\t}\n\n\t\tsteps.push( step );\n\t\tif ( step.optimized ) {\n\t\t\tbreak;\n\t\t}\n\n\t\tcontextNode = contextNode.parentNode;\n\t}\n\n\tsteps.reverse();\n\tconst path = steps.map( ( s ) => s.value ).join( '/' );\n\treturn steps[ 0 ]?.optimized ? path : `/${ path }`;\n}\n\nfunction _xPathValue( node: Node, optimized: boolean ): Step | null {\n\tconst ownIndex = _xPathIndex( node );\n\tif ( ownIndex === -1 ) {\n\t\treturn null; // Error.\n\t}\n\n\tlet ownValue = '';\n\tswitch ( node.nodeType ) {\n\t\tcase Node.ELEMENT_NODE:\n\t\t\tif ( ! isHTMLElement( node ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( optimized && node.getAttribute( 'id' ) ) {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: `//*[@id=\"${ node.getAttribute( 'id' ) || '' }\"]`,\n\t\t\t\t\toptimized: true,\n\t\t\t\t};\n\t\t\t}\n\t\t\townValue = node.localName;\n\t\t\tbreak;\n\n\t\tcase Node.ATTRIBUTE_NODE:\n\t\t\townValue = `@${ node.nodeName }`;\n\t\t\tbreak;\n\n\t\tcase Node.TEXT_NODE:\n\t\tcase Node.CDATA_SECTION_NODE:\n\t\t\townValue = 'text()';\n\t\t\tbreak;\n\n\t\tcase Node.PROCESSING_INSTRUCTION_NODE:\n\t\t\townValue = 'processing-instruction()';\n\t\t\tbreak;\n\n\t\tcase Node.COMMENT_NODE:\n\t\t\townValue = 'comment()';\n\t\t\tbreak;\n\n\t\tcase Node.DOCUMENT_NODE:\n\t\t\townValue = '';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\townValue = '';\n\t\t\tbreak;\n\t}\n\n\tif ( ownIndex > 0 ) {\n\t\townValue += `[${ ownIndex }]`;\n\t}\n\n\treturn {\n\t\tvalue: ownValue,\n\t\toptimized: node.nodeType === Node.DOCUMENT_NODE,\n\t};\n}\n\nfunction _xPathIndex( node: Node ): number {\n\t// Returns -1 in case of error,\n\t//          0 if no siblings matching the same expression,\n\t//          <XPath index among the same expression-matching sibling nodes> otherwise.\n\tfunction areNodesSimilar( left: Node, right: Node ): boolean {\n\t\tif ( left === right ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( isHTMLElement( left ) && isHTMLElement( right ) ) {\n\t\t\treturn left.localName === right.localName;\n\t\t}\n\n\t\tif ( left.nodeType === right.nodeType ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// XPath treats CDATA as text nodes.\n\t\tconst leftType =\n\t\t\tleft.nodeType === Node.CDATA_SECTION_NODE\n\t\t\t\t? Node.TEXT_NODE\n\t\t\t\t: left.nodeType;\n\t\tconst rightType =\n\t\t\tright.nodeType === Node.CDATA_SECTION_NODE\n\t\t\t\t? Node.TEXT_NODE\n\t\t\t\t: right.nodeType;\n\t\treturn leftType === rightType;\n\t}\n\n\tconst siblings = node.parentNode ? node.parentNode.children : null;\n\tif ( ! siblings ) {\n\t\treturn 0; // Root node - no siblings.\n\t}\n\n\tlet hasSameNamedElements;\n\tfor ( let i = 0; i < siblings.length; ++i ) {\n\t\tconst sibling = siblings[ i ];\n\t\tif ( ! sibling ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( areNodesSimilar( node, sibling ) && sibling !== node ) {\n\t\t\thasSameNamedElements = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif ( ! hasSameNamedElements ) {\n\t\treturn 0;\n\t}\n\n\tlet ownIndex = 1; // XPath indices start with 1.\n\tfor ( let i = 0; i < siblings.length; ++i ) {\n\t\tconst sibling = siblings[ i ];\n\t\tif ( ! sibling ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( areNodesSimilar( node, sibling ) ) {\n\t\t\tif ( sibling === node ) {\n\t\t\t\treturn ownIndex;\n\t\t\t}\n\t\t\t++ownIndex;\n\t\t}\n\t}\n\treturn -1; // An error occurred: |node| not found in parent's children.\n}\n\nconst isHTMLElement = ( n: Node ): n is HTMLElement =>\n\tNode.ELEMENT_NODE === n.nodeType;\n","/**\n * External dependencies\n */\nimport type { Maybe } from '@nab/types';\n\ntype CookieName =\n\t| 'nabAlternative'\n\t| 'nabCheckWritePermission'\n\t| 'nabExperimentsWithPageViews'\n\t| 'nabIsUserLoggedIn'\n\t| 'nabSimulateStaging'\n\t| 'nabSegmentation'\n\t| 'nabUniqueViews'\n\t| 'nabSessionChecksum';\ntype CookieListenerId = string;\ntype CookieOptions = {\n\treadonly path: string;\n\treadonly expires: number;\n};\n\nexport function setCookie(\n\tname: CookieName,\n\tvalue: number | boolean | string,\n\toptions?: Partial< CookieOptions >\n): void {\n\tconst opts: CookieOptions = {\n\t\tpath: '/',\n\t\texpires: 0,\n\t\t...( options || {} ),\n\t};\n\n\tlet cookie = `${ name }=${ encodeURIComponent( value ) };`;\n\n\tif ( 0 < opts.expires ) {\n\t\tconst expiration = new Date(\n\t\t\tnew Date().getTime() + opts.expires * 864e5\n\t\t);\n\t\tcookie += ` expires=${ expiration.toUTCString() };`;\n\t}\n\n\tcookie += ` path=${ opts.path };`;\n\tcookie += ' SameSite=None; Secure;';\n\n\tdocument.cookie = cookie;\n}\n\nexport function getCookie( name: string ): Maybe< string > {\n\tconst cookies = document.cookie\n\t\t.split( ';' )\n\t\t.map( ( cookie ) => cookie.trim() )\n\t\t.reduce(\n\t\t\t( memo, cookie ) => {\n\t\t\t\tmemo[ cookie.split( '=' )[ 0 ] ?? '' ] =\n\t\t\t\t\tcookie.split( '=' )[ 1 ] ?? '';\n\t\t\t\treturn memo;\n\t\t\t},\n\t\t\t{} as Record< string, string >\n\t\t);\n\n\tif ( ! cookies[ name ] ) {\n\t\treturn;\n\t}\n\treturn decodeURIComponent( cookies[ name ] ?? '' );\n}\n\nexport function removeCookie( name: string ): void {\n\tdocument.cookie = `${ name }=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=None; Secure`;\n}\n\nexport function addCookieListener( fn: () => void ): CookieListenerId {\n\tconst id = getNewId();\n\tlisteners[ id ] = fn;\n\tresetTimeout();\n\treturn id;\n}\n\nexport function removeCookieListener( name: string ): void {\n\tif ( listeners[ name ] ) {\n\t\tdelete listeners[ name ];\n\t}\n}\n\n// ========\n// INTERNAL\n// ========\n\nconst trackState = {\n\ttimeoutId: undefined as undefined | ReturnType< typeof setInterval >,\n\tcookie: '',\n\tcounter: 0,\n};\nconst listeners: Record< CookieListenerId, () => void > = {};\n\nfunction tick() {\n\tif ( ! trackState.counter || trackState.cookie !== document.cookie ) {\n\t\tObject.values( listeners ).forEach( ( fn ) => fn() );\n\t}\n\ttrackState.cookie = document.cookie ?? '';\n\t++trackState.counter;\n\n\tif ( ! Object.values( listeners ).length ) {\n\t\treturn;\n\t}\n\n\ttrackState.timeoutId = setTimeout(\n\t\ttick,\n\t\ttrackState.counter < 120 ? 500 : 2000\n\t);\n}\n\nfunction resetTimeout() {\n\ttrackState.counter = 0;\n\tclearInterval( trackState.timeoutId );\n\ttrackState.timeoutId = setTimeout( tick, 500 );\n}\n\nconst getNewId = () => {\n\tlet id = '';\n\tdo {\n\t\tid = `${ Math.random() }`.slice( 2 );\n\t} while ( Object.keys( listeners ).includes( id ) );\n\treturn id;\n};\n","/**\n * Internal dependencies\n */\nimport { headReady } from './head-ready';\n\nexport function appendStyle( css: string ): void {\n\theadReady( () => {\n\t\tconst style = document.createElement( 'style' );\n\t\tstyle.innerHTML = css;\n\t\tdocument.head.appendChild( style );\n\t} );\n}\n","export function domReady( callback: () => unknown ): void {\n\tif ( typeof document === 'undefined' ) {\n\t\treturn;\n\t}\n\n\tif (\n\t\tdocument.readyState === 'complete' || // DOMContentLoaded + Images/Styles/etc loaded, so we call directly.\n\t\tdocument.readyState === 'interactive' // DOMContentLoaded fires at this point, so we call directly.\n\t) {\n\t\treturn void callback();\n\t}\n\n\t// DOMContentLoaded has not fired yet, delay callback until then.\n\tdocument.addEventListener( 'DOMContentLoaded', callback );\n}\n","let observing = false;\nconst OBSERVER = new MutationObserver( checkPendingSelectors );\n\nexport function elementReady( selector: string, callback: Callback ): void {\n\ttry {\n\t\tconst el = document.querySelector< HTMLElement >( selector );\n\t\tif ( el ) {\n\t\t\tcallback( el, setCss( selector ) );\n\t\t\treturn;\n\t\t}\n\n\t\tenqueueSelectorCallback( selector, callback );\n\t} catch ( _ ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log( `Element ${ selector } not found.` );\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\ntype Callback = (\n\tel: HTMLElement,\n\tsetCss: ( style: string ) => void\n) => unknown;\n\nconst setCss =\n\t( selector: string ) =>\n\t( css: string ): void => {\n\t\tconst style = document.createElement( 'style' );\n\t\tstyle.textContent = `${ selector } {\\n${ trim( css ) }\\n}`;\n\t\tdocument.head?.appendChild( style );\n\t};\n\nconst trim = ( s = '' ) => s.replace( /^\\s*/, '' ).replace( /\\s*$/, '' );\n\nconst PENDING_SELECTORS = new Map< string, ReadonlyArray< Callback > >();\nfunction enqueueSelectorCallback( selector: string, callback: Callback ) {\n\tconst selectors = PENDING_SELECTORS.get( selector ) ?? [];\n\tPENDING_SELECTORS.set( selector, [ ...selectors, callback ] );\n\tif ( ! observing ) {\n\t\tobserving = true;\n\t\tOBSERVER.observe( document.body, {\n\t\t\tchildList: true,\n\t\t\tsubtree: true,\n\t\t} );\n\t}\n}\n\nfunction checkPendingSelectors() {\n\tfor ( const [ selector, callbacks ] of PENDING_SELECTORS ) {\n\t\tconst el = document.querySelector< HTMLElement >( selector );\n\t\tif ( el ) {\n\t\t\tcallbacks.forEach( ( cb ) => cb( el, setCss( selector ) ) );\n\t\t\tPENDING_SELECTORS.delete( selector );\n\t\t}\n\t}\n\n\tif ( PENDING_SELECTORS.size === 0 ) {\n\t\tOBSERVER.disconnect();\n\t\tobserving = false;\n\t}\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-function-type, @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-return */\ntype ValidFlow< Fns > = Fns extends []\n\t? []\n\t: Fns extends [ ( i: infer I ) => infer R ]\n\t? [ ( i: I ) => R ]\n\t: Fns extends [ ( i: infer I1 ) => infer O1, ...infer Rest1 ]\n\t? Rest1 extends [ ( i: infer I2 ) => any, ...infer Rest2 ]\n\t\t? [ O1 ] extends [ I2 ]\n\t\t\t? [ ( i: I1 ) => O1, ...ValidFlow< Rest1 > ]\n\t\t\t: [ ( i: I1 ) => O1, ( i: O1 ) => unknown, ...ValidFlow< Rest2 > ]\n\t\t: [ never ]\n\t: [ never ];\n\ntype Input< Fns extends Function[] > = Fns extends [\n\t( i: infer I ) => any,\n\t...Function[],\n]\n\t? I\n\t: never;\n\ntype Output< Fns extends Function[] > = Fns extends [\n\t( i: any ) => infer R,\n\t...infer Rest,\n]\n\t? Rest extends []\n\t\t? R\n\t\t: Rest extends Function[]\n\t\t? Output< Rest >\n\t\t: never\n\t: never;\n\nexport function flow< Fns extends Function[] >(\n\t...fns: Fns extends ValidFlow< Fns > ? Fns : ValidFlow< Fns >\n): ( input: Input< Fns > ) => Output< Fns > {\n\treturn ( input: Input< Fns > ) =>\n\t\t( fns as Array< ( i: any ) => any > ).reduce(\n\t\t\t( r, f ) => f( r ),\n\t\t\tinput as any\n\t\t) as Output< Fns >;\n}\n","/**\n * Internal dependencies\n */\nimport type { ActiveExperiment, Experiment, Session } from '../../types';\n\nexport const getActiveExperiments = (\n\tsession: Session\n): ReadonlyArray< ActiveExperiment > =>\n\tsession.experiments.filter( isActiveExperiment );\n\nconst isActiveExperiment = ( e: Experiment ): e is ActiveExperiment => e.active;\n","/**\n * Internal dependencies\n */\nimport { addQueryArgs } from '../url';\nimport type { ParamValue, Session } from '../../types';\n\nexport const getApiUrl = (\n\tapi: Session[ 'api' ],\n\tpath: string,\n\targs?: Record< string, ParamValue >\n): string =>\n\taddQueryArgs(\n\t\t'rest' === api.mode\n\t\t\t? addQueryArgs( api.url, { path } )\n\t\t\t: `${ api.url }${ path }`,\n\t\targs\n\t);\n","export function getClosest< T extends HTMLElement = HTMLElement >(\n\tnode: HTMLElement,\n\tnodeType: string\n): T | false {\n\tlet currentNode: HTMLElement | null = node;\n\tdo {\n\t\tif ( nodeType.toLowerCase() === currentNode.nodeName.toLowerCase() ) {\n\t\t\treturn currentNode as T;\n\t\t}\n\t\tcurrentNode = currentNode.parentElement;\n\t} while ( currentNode );\n\n\treturn false;\n}\n","export function getDocumentHeight(): number {\n\tconst body = document.body;\n\tconst html = document.documentElement;\n\treturn Math.max(\n\t\tbody.scrollHeight,\n\t\tbody.offsetHeight,\n\t\thtml.clientHeight,\n\t\thtml.scrollHeight,\n\t\thtml.offsetHeight\n\t);\n}\n","/**\n * External dependencies\n */\nimport md5 from 'md5';\nimport type { ExperimentId, Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { log } from './log';\nimport { canVisitorParticipate } from './internal/can-visitor-participate';\nimport { getSettings } from './internal/get-settings';\nimport { getApiUrl } from '../helpers';\n\nimport {\n\taddCookieListener,\n\tgetCookie,\n\tremoveCookie,\n\tremoveCookieListener,\n\tsetCookie,\n} from '../cookies';\nimport {\n\tupdateSegmentationSettings,\n\tgetAllActiveSegments,\n} from '../segmentation';\nimport { getQueryArg, REFERRER_PARAM, removeTestingArgs } from '../url';\nimport {\n\tgetExperimentsWithPageViews,\n\tgetUniqueViews as doGetUniqueViews,\n} from '../tracking';\nimport { isGdprAccepted } from '../../tracking/utils';\nimport type { AlternativeIndex, Session, Settings } from '../../types';\nimport type { Uuid } from 'uuid';\nimport { getGA4ClientId } from '../../tracking/ga4';\n\ntype QuotaCheck = {\n\treadonly zero: boolean;\n\treadonly timestamp: number;\n};\n\nconst MINUTE_IN_MILLIS = 60_000;\nconst QUOTA_CHECK_LIVESPAN = 10 * MINUTE_IN_MILLIS;\n\nexport function setNabReferrer(): void {\n\t// @ts-expect-error Were creating this variable.\n\twindow.nabReferrer =\n\t\tgetQueryArg( document.location.href, REFERRER_PARAM ) ||\n\t\tdocument.referrer;\n}\n\nexport const getSession = async (): Promise< Maybe< Session > > => {\n\tconst settings = getSettings();\n\tif ( ! canVisitorParticipate( settings ) ) {\n\t\treturn;\n\t}\n\n\tawait updateSegmentationSettings( settings );\n\tconst alternative = updateAlternativeCookie( settings );\n\tif ( 'none' === alternative ) {\n\t\tlog( 'No alternative assigned' );\n\t\treturn;\n\t}\n\n\tconst session = {\n\t\t...settings,\n\t\talternative,\n\t\tcurrentUrl: window.location.href,\n\t\tisStagingSite: settings.isStagingSite || isStagingSimulated(),\n\t\texperiments: settings.experiments.map( ( e ) => ( {\n\t\t\t...e,\n\t\t\talternative: alternative % e.alternatives.length,\n\t\t} ) ),\n\t\tuntestedUrl: removeTestingArgs( window.location.href ),\n\t\thasQuota: hasQuota( settings ),\n\t};\n\n\tif ( isGdprAccepted( session ) ) {\n\t\tvoid updateECommerceSession( session );\n\t} else {\n\t\tconst id = addCookieListener( () => {\n\t\t\tif ( ! isGdprAccepted( session ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvoid updateECommerceSession( session );\n\t\t\tremoveCookieListener( id );\n\t\t} );\n\t}\n\n\treturn session;\n};\n\n// =======\n// HELPERS\n// =======\n\nfunction isStagingSimulated() {\n\tif ( undefined !== getQueryArg( window.location.href, 'nabstaging' ) ) {\n\t\tsetCookie( 'nabSimulateStaging', 'true' );\n\t}\n\treturn 'true' === getCookie( 'nabSimulateStaging' );\n}\n\nconst updateAlternativeCookie = ( settings: Settings ) => {\n\tconst { maxCombinations } = settings;\n\tlet alternative = getAlternativeFromCookie( settings );\n\n\tif ( false === alternative ) {\n\t\talternative =\n\t\t\trandom( 100 ) <= settings.participationChance\n\t\t\t\t? random( maxCombinations - 1 )\n\t\t\t\t: 'none';\n\t\tresetCookies( alternative );\n\t}\n\n\tconst newAlternative = shouldAlternativeBeOverwritten(\n\t\tsettings,\n\t\talternative\n\t);\n\tif ( false !== newAlternative ) {\n\t\talternative = newAlternative % settings.maxCombinations;\n\t\tresetCookies( alternative );\n\t}\n\n\tresetCookieExpirations();\n\treturn alternative;\n};\n\nfunction getAlternativeFromCookie(\n\tsettings: Settings\n): false | number | 'none' {\n\tconst nabAlt = getCookie( 'nabAlternative' ) ?? '';\n\tif ( 'none' === nabAlt ) {\n\t\treturn 'none';\n\t}\n\n\tconst value = Number.parseInt( nabAlt );\n\tif ( isNaN( value ) ) {\n\t\treturn false;\n\t}\n\n\tif ( value < 0 ) {\n\t\treturn false;\n\t}\n\n\tif ( value >= settings.maxCombinations ) {\n\t\treturn false;\n\t}\n\n\treturn value;\n}\n\nconst updateECommerceSession = async ( session: Session ) => {\n\tif ( ! session.ajaxUrl ) {\n\t\treturn;\n\t}\n\n\tconst oldChecksum = getCookie( 'nabSessionChecksum' );\n\tconst checksum = getSessionChecksum( session.alternative );\n\tif ( ! session.forceECommerceSessionSync && oldChecksum === checksum ) {\n\t\treturn;\n\t}\n\n\tconst body = new FormData();\n\tbody.append( 'action', 'nab_sync_ecommerce_session' );\n\tbody.append( 'alternative', `${ session.alternative }` );\n\tbody.append(\n\t\t'expsWithView',\n\t\tJSON.stringify( getViewedAlternatives( session ) )\n\t);\n\tbody.append( 'expSegments', JSON.stringify( getSegments( session ) ) );\n\tbody.append( 'uniqueViews', JSON.stringify( getUniqueViews( session ) ) );\n\tif ( session.isGA4Integrated ) {\n\t\tbody.append( 'ga4ClientId', getGA4ClientId() ?? '' );\n\t}\n\n\t// NOTE. Were syncing the session using an event to prevent GTMetrix from grading sites poorly.\n\tawait new Promise< void >( ( resolve ) => {\n\t\tlet running = false;\n\t\tconst sync = () => {\n\t\t\tif ( running ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\trunning = true;\n\t\t\tvoid fetch( session.ajaxUrl, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tcredentials: 'same-origin',\n\t\t\t\tbody,\n\t\t\t} ).finally( () => {\n\t\t\t\twindow.removeEventListener( 'keyup', sync );\n\t\t\t\twindow.removeEventListener( 'mousemove', sync );\n\t\t\t\twindow.removeEventListener( 'click', sync );\n\t\t\t\tresolve();\n\t\t\t} );\n\t\t};\n\t\twindow.addEventListener( 'keyup', sync );\n\t\twindow.addEventListener( 'mousemove', sync );\n\t\twindow.addEventListener( 'click', sync );\n\t} );\n\n\tsetCookie( 'nabSessionChecksum', checksum );\n};\n\nconst random = ( max: number ) =>\n\tMath.min( Math.floor( Math.random() * ( max + 1 ) ), max );\n\nconst getViewedAlternatives = (\n\tsession: Session\n): Partial< Record< ExperimentId, AlternativeIndex > > =>\n\tObject.keys( getExperimentsWithPageViews() ).reduce(\n\t\t( res, key ) => {\n\t\t\tconst id = ( Number.parseInt( key ) || 0 ) as ExperimentId;\n\t\t\tconst exp = session.experiments.find( ( e ) => e.id === id );\n\t\t\tif ( exp ) {\n\t\t\t\tres[ id ] = exp.alternative;\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{} as Partial< Record< ExperimentId, AlternativeIndex > >\n\t);\n\nconst getSegments = (\n\tsession: Session\n): Partial< Record< ExperimentId, ReadonlyArray< number > > > => {\n\tconst allSegments = getAllActiveSegments();\n\treturn Object.keys( allSegments ).reduce(\n\t\t( res, key ) => {\n\t\t\tconst id = ( Number.parseInt( key ) || 0 ) as ExperimentId;\n\t\t\tconst exp = session.experiments.find( ( e ) => e.id === id );\n\t\t\tif ( exp ) {\n\t\t\t\tres[ id ] = allSegments[ id ] ?? [ 0 ];\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{} as Partial< Record< ExperimentId, ReadonlyArray< number > > >\n\t);\n};\n\nconst getUniqueViews = (\n\tsession: Session\n): Partial< Record< ExperimentId, Uuid > > => {\n\tconst uniqueViews = doGetUniqueViews();\n\treturn session.experiments.reduce(\n\t\t( res, experiment ) => {\n\t\t\tconst id = experiment.id;\n\t\t\tconst viewUuid = uniqueViews[ id ];\n\t\t\tif ( viewUuid ) {\n\t\t\t\tres[ id ] = viewUuid;\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{} as Record< ExperimentId, Uuid >\n\t);\n};\n\nconst getSessionChecksum = ( alternative: number ): string => {\n\tconst epv = getExperimentsWithPageViews();\n\tconst expIds = Object.keys( epv ).sort();\n\tconst tenMinutesTimestamp =\n\t\tnew Date( Object.values( epv ).sort().reverse()[ 0 ] || 0 )\n\t\t\t.toISOString()\n\t\t\t.substring( 0, 15 ) + '0';\n\treturn md5( [ alternative, ...expIds, tenMinutesTimestamp ].join( ':' ) );\n};\n\nfunction shouldAlternativeBeOverwritten(\n\tsettings: Settings,\n\tassignedAlternative: 'none' | number\n): number | false {\n\tconst search = document.location.search;\n\tconst queryAlternative =\n\t\t/\\bnab\\b=[0-9]+/.test( search ) && /\\bnabforce\\b/.test( search )\n\t\t\t? Number.parseInt(\n\t\t\t\t\tsearch.replace( /^.*\\bnab\\b=([0-9]+).*$/, '$1' )\n\t\t\t  ) || 0\n\t\t\t: false;\n\n\tif ( false !== queryAlternative ) {\n\t\treturn assignedAlternative !== queryAlternative\n\t\t\t? queryAlternative\n\t\t\t: false;\n\t}\n\n\tconst cookieAlternative = settings.cookieTesting;\n\tif ( false !== cookieAlternative ) {\n\t\treturn assignedAlternative !== cookieAlternative\n\t\t\t? cookieAlternative\n\t\t\t: false;\n\t}\n\n\treturn false;\n}\n\nfunction resetCookies( alternative: number | 'none' ): void {\n\tsetCookie( 'nabAlternative', alternative, { expires: 120 } );\n\tremoveCookie( 'nabExperimentsWithPageViews' );\n\tremoveCookie( 'nabUniqueViews' );\n}\n\nfunction resetCookieExpirations(): void {\n\t(\n\t\t[\n\t\t\t'nabAlternative',\n\t\t\t'nabExperimentsWithPageViews',\n\t\t\t'nabUniqueViews',\n\t\t] as const\n\t )\n\t\t.map( ( n ) => [ n, getCookie( n ) ?? '' ] as const )\n\t\t.filter( ( [ _, v ] ) => !! v )\n\t\t.forEach( ( [ n, v ] ) => setCookie( n, v, { expires: 120 } ) );\n}\n\nasync function hasQuota( settings: Settings ): Promise< boolean > {\n\ttry {\n\t\tconst quotaString = sessionStorage.getItem( 'nabq' ) ?? '';\n\t\tconst quotaCheck = JSON.parse( quotaString ) as unknown;\n\t\tif ( isValidQuotaCheck( quotaCheck ) ) {\n\t\t\treturn ! quotaCheck.zero;\n\t\t}\n\t} catch ( _ ) {}\n\n\tsessionStorage.removeItem( 'nabq' );\n\tconst quotaCheck = await checkQuota( settings );\n\tif ( ! quotaCheck ) {\n\t\treturn true;\n\t}\n\n\tsessionStorage.setItem( 'nabq', JSON.stringify( quotaCheck ) );\n\treturn ! quotaCheck.zero;\n}\n\nfunction isValidQuotaCheck( q: unknown ): q is QuotaCheck {\n\treturn (\n\t\t!! q &&\n\t\t'object' === typeof q &&\n\t\t'timestamp' in q &&\n\t\t'zero' in q &&\n\t\t'boolean' === typeof q.zero &&\n\t\t'number' === typeof q.timestamp &&\n\t\tDate.now() - q.timestamp <= QUOTA_CHECK_LIVESPAN\n\t);\n}\n\nasync function checkQuota(\n\tsettings: Settings\n): Promise< Maybe< QuotaCheck > > {\n\ttry {\n\t\tconst url = getApiUrl( settings.api, '/check', {\n\t\t\tsiteId: settings.site,\n\t\t} );\n\t\tconst res = await window.fetch( url );\n\t\tconst data: string = await res.text();\n\t\tconst zero = ! JSON.parse( data );\n\t\treturn { timestamp: Date.now(), zero };\n\t} catch ( _ ) {}\n\treturn undefined;\n}\n","/**\n * Internal dependencies\n */\nimport { domReady } from './dom-ready';\n\ntype Callback = () => unknown;\n\nlet isHeadReady = false;\nconst pending: Callback[] = [];\nexport const headReady = ( callback: Callback ): void =>\n\tisHeadReady ? void callback() : void pending.push( callback );\n\n// =======\n// HELPERS\n// =======\n\nconst markHeadAsReady = () => {\n\tif ( isHeadReady ) {\n\t\treturn;\n\t}\n\tisHeadReady = true;\n\tpending.forEach( ( fn ) => fn() );\n};\n\nconst checkHead = () => {\n\tif ( isHeadReady ) {\n\t\treturn;\n\t}\n\tif ( document.body !== null ) {\n\t\treturn markHeadAsReady();\n\t}\n\tsetTimeout( checkHead, 100 );\n};\n\ncheckHead();\ndomReady( markHeadAsReady );\n","export * from './append-style';\nexport * from './dom-ready';\nexport * from './element-ready';\nexport * from './get-active-experiments';\nexport * from './get-api-url';\nexport * from './get-closest';\nexport * from './get-document-height';\nexport * from './get-session';\nexport * from './flow';\nexport * from './head-ready';\nexport * from './log';\nexport * from './preload-query-args';\n","/**\n * External dependencies\n */\nimport type { Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { log } from '../log';\nimport { getCookie, removeCookie, setCookie } from '../../cookies';\nimport type { Session } from '../../../types';\n\ntype ParticipationSettings = Pick<\n\tSession,\n\t'excludeBots' | 'gdprCookie' | 'participationChance'\n>;\n\nexport function canVisitorParticipate(\n\tsettings: Maybe< ParticipationSettings >\n): settings is ParticipationSettings {\n\tif ( ! settings ) {\n\t\tlog( 'Settings not found' );\n\t\treturn false;\n\t}\n\n\tif ( isIE() ) {\n\t\tlog( 'IE detected' );\n\t\treturn false;\n\t}\n\n\tif ( settings.excludeBots && isBot() ) {\n\t\tlog( 'Bot detected' );\n\t\treturn false;\n\t}\n\n\tif ( ! areCookiesEnabled() ) {\n\t\tlog( 'Cookies not enabled' );\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction isBot(): boolean {\n\tconst userAgent = window.navigator?.userAgent;\n\treturn (\n\t\t!! userAgent &&\n\t\t/bot|spider|crawl|http|lighthouse|meta-externalagent|meta-externalfetcher|facebookexternalhit|facebookcatalog|gtmetrix/i.test(\n\t\t\tuserAgent\n\t\t)\n\t);\n}\n\nfunction isIE(): boolean {\n\tconst ua = window.navigator.userAgent || '';\n\treturn -1 !== ua.indexOf( 'MSIE ' ) || -1 !== ua.indexOf( 'Trident/' );\n}\n\nfunction areCookiesEnabled() {\n\tsetCookie( 'nabCheckWritePermission', true );\n\tif ( ! getCookie( 'nabCheckWritePermission' ) ) {\n\t\treturn false;\n\t}\n\n\tremoveCookie( 'nabCheckWritePermission' );\n\treturn true;\n} //end areCookiesEnable();\n","/**\n * External dependencies\n */\nimport type { Maybe, SiteId, Url } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { parseJavaScript } from '../internal/parse-javascript';\nimport type { Settings } from '../../../types';\n\nexport const getSettings = (): Maybe< Required< Settings > > => {\n\tconst win = window as unknown;\n\tif ( ! hasSettings( win ) ) {\n\t\treturn;\n\t}\n\n\tconst settings = win.nabSettings;\n\treturn {\n\t\tajaxUrl: '' as Url,\n\t\talternativeUrls: [],\n\t\tapi: { mode: 'native', url: '' as Url },\n\t\tcookieTesting: false,\n\t\texcludeBots: true,\n\t\tforceECommerceSessionSync: false,\n\t\tgdprCookie: { name: '', value: '' },\n\t\theatmaps: [],\n\t\thideQueryArgs: false,\n\t\tignoreTrailingSlash: true,\n\t\tisGA4Integrated: false,\n\t\tga4TrackingMethod: false,\n\t\tisStagingSite: false,\n\t\tisTestedPostRequest: false,\n\t\tmaxCombinations: 2,\n\t\tnabPosition: 'last',\n\t\tnumOfAlternatives: 0,\n\t\toptimizeXPath: true,\n\t\tparticipationChance: 100,\n\t\tpostId: 0,\n\t\tpreloadQueryArgUrls: [],\n\t\tsegmentMatching: 'all',\n\t\tsingleConvPerView: true,\n\t\tsite: '' as SiteId,\n\t\ttimezone: '',\n\t\tuseControlUrl: false,\n\t\tuseSendBeacon: true,\n\t\tversion: 'unknown',\n\t\t...settings,\n\t\texperiments: parseJavaScript( settings.experiments ),\n\t\tthrottle: {\n\t\t\tglobal: fixThrottleWait( settings.throttle?.global ),\n\t\t\twoocommerce: fixThrottleWait( settings.throttle?.woocommerce ),\n\t\t},\n\t};\n};\n\n// ========\n// INTERNAL\n// ========\n\nconst hasSettings = (\n\twin: unknown\n): win is { nabSettings: Partial< Settings > } =>\n\t!! win && 'object' === typeof win && 'nabSettings' in win;\n\nfunction fixThrottleWait( wait = 0 ): number {\n\treturn Math.max( 0, Math.min( 10, wait ) );\n}\n","/**\n * Internal dependencies\n */\nimport { domReady } from '../dom-ready';\nimport type { ExperimentSummary } from '../../../types';\n\nexport function parseJavaScript< T extends ExperimentSummary >(\n\texperiments: ReadonlyArray< T > | undefined\n): ReadonlyArray< T > {\n\texperiments = experiments ?? [];\n\treturn experiments.map( ( e ) => {\n\t\tconst goals = e.goals.map( ( g ) => ( {\n\t\t\t...g,\n\t\t\tconversionActions: g.conversionActions.map( ( ca ) => {\n\t\t\t\tif ( ! ca.active ) {\n\t\t\t\t\treturn ca;\n\t\t\t\t}\n\n\t\t\t\tif ( 'nab/custom-event' !== ca.type ) {\n\t\t\t\t\treturn ca;\n\t\t\t\t}\n\n\t\t\t\tconst snippet = ca.attributes.snippet;\n\t\t\t\tif ( 'string' !== typeof snippet ) {\n\t\t\t\t\treturn ca;\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-eval\n\t\t\t\tdomReady( () => eval( snippet ) );\n\n\t\t\t\treturn ca;\n\t\t\t} ),\n\t\t} ) );\n\n\t\tif ( ! e.active ) {\n\t\t\treturn { ...e, goals };\n\t\t}\n\n\t\treturn {\n\t\t\t...e,\n\t\t\talternatives:\n\t\t\t\te.type === 'nab/css' || e.type === 'nab/javascript'\n\t\t\t\t\t? e.alternatives.map( ( a ) => ( {\n\t\t\t\t\t\t\t...a,\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, no-eval\n\t\t\t\t\t\t\trun: eval( `(()=>${ a.run as string })()` ),\n\t\t\t\t\t  } ) )\n\t\t\t\t\t: e.alternatives,\n\t\t\tgoals,\n\t\t};\n\t} );\n}\n","const LOG_REGEX = /\\bnabjslog\\b/;\nexport function log( ...args: unknown[] ): void {\n\tif (\n\t\tLOG_REGEX.test( window.location.search ) ||\n\t\tLOG_REGEX.test( document.cookie )\n\t) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log( '[NAB]', ...args );\n\t}\n}\n\nexport function logIf( condition: boolean, ...args: unknown[] ): void {\n\tif ( ! condition ) {\n\t\treturn;\n\t}\n\tlog( ...args );\n}\n\nconst logs: string[] = [];\nexport function logOnce( text: string ): void {\n\tif ( logs.includes( text ) ) {\n\t\treturn;\n\t}\n\tlogs.push( text );\n\tlog( text );\n}\n","/**\n * Internal dependencies\n */\nimport { domReady } from './dom-ready';\nimport type { PreloadQueryArgUrl, Session } from '../../types';\nimport { addNabQueryArg } from '../url';\n\nexport const preloadQueryArgs = ( session: Session ): void =>\n\tdomReady( () => {\n\t\tdoPreloadQueryArgs( session );\n\t\tfixSelfHashUrls();\n\t} );\n\n// =======\n// HELPERS\n// =======\n\nexport const doPreloadQueryArgs = ( session: Session ): void => {\n\tif ( ! session.preloadQueryArgUrls.length ) {\n\t\treturn;\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/prefer-regexp-exec\n\tconst matches = document.cookie.match( /nabAlternative=[0-9]+/ ) || [ '' ];\n\tconst alt: number = Number.parseInt( matches[ 0 ].split( '=' )[ 1 ] ?? '' );\n\tif ( isNaN( alt ) ) {\n\t\treturn;\n\t}\n\n\tconst site = document.location.protocol + '//' + document.location.hostname;\n\tconst anchors = Array.from(\n\t\tdocument.querySelectorAll< HTMLAnchorElement >( 'a' )\n\t)\n\t\t.filter( ( a ) => a.href )\n\t\t.filter( ( a ) => typeof a.href === 'string' )\n\t\t.filter( ( a ) => 0 === a.href.indexOf( site ) )\n\t\t.filter( ( a ) => -1 === a.href.indexOf( '#' ) )\n\t\t.filter( ( a ) => -1 === a.href.indexOf( '/wp-content/' ) );\n\n\tconst config = [ ...session.preloadQueryArgUrls ].sort( ( x ) =>\n\t\tx.type === 'alt-urls' ? -1 : 1\n\t);\n\tanchors.forEach( preloadQueryArg( config, alt, session.nabPosition ) );\n};\n\nconst fixSelfHashUrls = () => {\n\tconst current = new URL( document.location.href );\n\tif ( ! /\\bnab=/.test( current.search ) ) {\n\t\treturn;\n\t}\n\n\tcurrent.hash = '';\n\tcurrent.searchParams.delete( 'nab' );\n\tArray.from(\n\t\tdocument.querySelectorAll< HTMLAnchorElement >( 'a[href*=\"#\"]' )\n\t)\n\t\t.filter( ( a ) => a.href )\n\t\t.filter( ( a ) => typeof a.href === 'string' )\n\t\t.filter( ( a ) => a.href.replace( /#.*$/, '' ) === current.href )\n\t\t.forEach( ( a ) => {\n\t\t\ta.href = a.href.replace( /^[^#]*#/, '#' );\n\t\t} );\n};\n\nconst preloadQueryArg =\n\t(\n\t\tconfig: ReadonlyArray< PreloadQueryArgUrl >,\n\t\talt: number,\n\t\tnabPosition: 'first' | 'last'\n\t) =>\n\t( a: HTMLAnchorElement ): void => {\n\t\tif ( ! a.href || typeof a.href !== 'string' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( a.href.indexOf( 'nab=' ) !== -1 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scopes = getMatchingScopes( config, a.href );\n\t\tif ( ! scopes.length ) {\n\t\t\treturn;\n\t\t}\n\t\tconst altCount = Math.max( ...scopes.map( ( s ) => s.altCount ) );\n\t\tconst nab = alt % altCount;\n\t\tconst url = getAlternativeUrl( scopes, alt ) || a.href;\n\t\ta.href = addNabQueryArg( url, nab, nabPosition );\n\t};\n\nfunction getMatchingScopes(\n\tconfig: ReadonlyArray< PreloadQueryArgUrl >,\n\tlink: string\n): ReadonlyArray< PreloadQueryArgUrl > {\n\tlink = link.toLowerCase();\n\treturn config.filter( ( s ) => {\n\t\tconst scope = s.type === 'alt-urls' ? s.altUrls : s.scope;\n\t\treturn scope.some( ( l ): boolean => {\n\t\t\tif ( isPartialUrl( l ) ) {\n\t\t\t\treturn link.includes( getPart( l ) );\n\t\t\t}\n\t\t\tif ( isPartialNotIncludedUrl( l ) ) {\n\t\t\t\treturn ! link.includes( getPart( l ) );\n\t\t\t}\n\t\t\tif ( isExclusionUrl( l ) ) {\n\t\t\t\treturn l.substring( 1 ) !== link;\n\t\t\t}\n\t\t\treturn link === l;\n\t\t} );\n\t} );\n}\n\nfunction getAlternativeUrl(\n\tconfig: ReadonlyArray< PreloadQueryArgUrl >,\n\tnab: number\n) {\n\tconst scope = config.find( ( s ) => s.type === 'alt-urls' );\n\treturn scope?.type === 'alt-urls'\n\t\t? scope.altUrls[ nab % scope.altCount ]\n\t\t: undefined;\n}\n\nfunction isExclusionUrl( url: string ): boolean {\n\treturn url.startsWith( '!' ) && ! url.startsWith( '!*' );\n}\n\nfunction isPartialUrl( url: string ): boolean {\n\treturn url.startsWith( '*' ) && url.endsWith( '*' );\n}\n\nfunction isPartialNotIncludedUrl( url: string ): boolean {\n\treturn url.startsWith( '!*' ) && url.endsWith( '*' );\n}\n\nfunction getPart( partialUrl: string ): string {\n\treturn partialUrl.substring(\n\t\t// We either remove '!*' or '*' at the beginning\n\t\tisPartialNotIncludedUrl( partialUrl ) ? 2 : 1,\n\t\t// And we remove the final '*' at the end\n\t\tpartialUrl.length - 1\n\t);\n}\n","/**\n * External dependencies\n */\nimport type { Dict, ExperimentId, SegmentationRule } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { isValidSegmentationRule } from './segmentation-rules';\nimport {\n\tupdateFirstVisit,\n\tgetSegmentationSettings,\n\tsetSegmentationSettings,\n\ttype SegmentationSettings,\n} from './segmentation-settings';\nimport { getExperimentsWithPageViews } from '../tracking';\n\nimport type { ExperimentSummary, HeatmapSummary, Settings } from '../../types';\nimport { getApiUrl } from '../helpers';\n\nexport async function updateSegmentationSettings(\n\tsettings: Settings\n): Promise< void > {\n\tconst allExperiments = settings.experiments;\n\tconst allHeatmaps = settings.heatmaps;\n\tconst relevantExperiments = allExperiments.filter(\n\t\t( e ) => e.active || 'site' === e.segmentEvaluation\n\t);\n\n\tif (\n\t\tisGeoDataNeeded( allExperiments, allHeatmaps ) &&\n\t\tisGeoDataOutdated()\n\t) {\n\t\tif ( isGeoDataNeededNow( relevantExperiments, allHeatmaps ) ) {\n\t\t\tawait updateGeoData( settings );\n\t\t} else {\n\t\t\tsetTimeout( () => void updateGeoData( settings ), 0 );\n\t\t}\n\t}\n\n\tupdateFirstVisit();\n\tupdateActiveSegments( relevantExperiments );\n} //end updateSegmentationSettings();\n\nexport function areSegmentsValid( settings: Settings ): boolean {\n\tconst { experiments } = settings;\n\tconst activeExperimentIds = experiments\n\t\t.filter( ( e ) => !! e.active )\n\t\t.map( ( e ) => e.id );\n\n\tif ( ! activeExperimentIds.length ) {\n\t\treturn true;\n\t}\n\n\treturn settings.segmentMatching === 'all'\n\t\t? activeExperimentIds.every( doesExperimentHaveValidSegments )\n\t\t: activeExperimentIds.some( doesExperimentHaveValidSegments );\n}\n\nexport function doesExperimentHaveValidSegments( id: ExperimentId ): boolean {\n\tconst activeSegments = getAllActiveSegments();\n\treturn ! isEmptyArray( activeSegments[ id ] );\n}\n\nconst isHeatmapActive: Partial< Record< ExperimentId, boolean > > = {};\nexport function areHeatmapConditionsValid( heatmap: HeatmapSummary ): boolean {\n\tif ( undefined === isHeatmapActive[ heatmap.id ] ) {\n\t\tisHeatmapActive[ heatmap.id ] = heatmap.participation.every(\n\t\t\tisValidSegmentationRule\n\t\t);\n\t}\n\treturn !! isHeatmapActive[ heatmap.id ];\n}\n\nexport function getSegmentationGeoData(): Partial<\n\tSegmentationSettings[ 'geo' ]\n> {\n\tconst segmentationSettings = getSegmentationSettings();\n\treturn segmentationSettings.geo || {};\n}\n\nconst RETURNING_VISITOR_MINUTES_THRESHOLD = 30;\nexport function isReturningVisitor(): boolean {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst minutesSinceFirstVisit = segmentationSettings.firstVisit\n\t\t? gapInMinutes( Date.now(), segmentationSettings.firstVisit )\n\t\t: 0;\n\treturn minutesSinceFirstVisit >= RETURNING_VISITOR_MINUTES_THRESHOLD;\n}\n\nexport function getAllActiveSegments(): Partial<\n\tRecord< ExperimentId, ReadonlyArray< number > >\n> {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst activeSegments = segmentationSettings.activeSegments || {};\n\treturn activeSegments;\n}\n\nexport function getActiveSegments(\n\texperiment: ExperimentSummary\n): ReadonlyArray< number > {\n\tif ( isActiveSegmentImplicit( experiment ) ) {\n\t\treturn [ 0 ];\n\t}\n\tconst activeSegments = getAllActiveSegments();\n\treturn activeSegments[ experiment.id ] || [];\n}\n\nexport function cleanOldSegments(\n\texperiments: ReadonlyArray< ExperimentId >\n): void {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst activeSegments = segmentationSettings.activeSegments || {};\n\n\tconst viewedExperimentIds = Object.keys( getExperimentsWithPageViews() )\n\t\t.map( ( id ) => Number.parseInt( id ) )\n\t\t.filter( ( id ) => ! isNaN( id ) && 0 < id );\n\n\t// Remove experiments that do not exist or didn't have views.\n\tconst newActiveSegments = Object.keys( activeSegments )\n\t\t.map( ( experimentId ) => Number.parseInt( experimentId ) )\n\t\t.filter(\n\t\t\t( experimentId ): experimentId is ExperimentId =>\n\t\t\t\t! isNaN( experimentId ) && 0 < experimentId\n\t\t)\n\t\t.reduce(\n\t\t\t( result, experimentId ) => {\n\t\t\t\tif (\n\t\t\t\t\texperiments.includes( experimentId ) ||\n\t\t\t\t\tviewedExperimentIds.includes( experimentId )\n\t\t\t\t) {\n\t\t\t\t\tresult[ experimentId ] =\n\t\t\t\t\t\tactiveSegments[ experimentId ] ?? [];\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t{} as Partial< Record< ExperimentId, ReadonlyArray< number > > >\n\t\t);\n\n\tsetSegmentationSettings( {\n\t\t...segmentationSettings,\n\t\tactiveSegments: newActiveSegments,\n\t} );\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction isGeoDataOutdated() {\n\tconst geoData = getSegmentationGeoData();\n\tif ( ! geoData.lastUpdate ) {\n\t\treturn true;\n\t}\n\n\tconst lastUpdate = geoData.lastUpdate;\n\tconst now = new Date().getTime();\n\tconst lastUpdateDate = new Date( lastUpdate ).getTime();\n\tconst diffTime = Math.abs( now - lastUpdateDate );\n\tconst diffDays = Math.ceil( diffTime / ( 1000 * 60 * 60 * 24 ) );\n\n\treturn isNaN( diffDays ) || diffDays > 7; // Update segmentation data every week.\n}\n\nconst isGeoDataNeeded = (\n\texps: Settings[ 'experiments' ],\n\theatmaps: Settings[ 'heatmaps' ]\n): boolean => !! getIdsThatNeedGeo( exps, heatmaps ).length;\n\nfunction isGeoDataNeededNow(\n\texps: Settings[ 'experiments' ],\n\theatmaps: Settings[ 'heatmaps' ]\n): boolean {\n\tconst idsWithGeoNeeds = getIdsThatNeedGeo( exps, heatmaps );\n\tconst settings = getSegmentationSettings();\n\treturn idsWithGeoNeeds.some( ( id ) => ! settings.activeSegments[ id ] );\n}\n\nconst getIdsThatNeedGeo = (\n\texps: Settings[ 'experiments' ],\n\theatmaps: Settings[ 'heatmaps' ]\n): ReadonlyArray< ExperimentId > => [\n\t...exps\n\t\t.filter( ( e ) =>\n\t\t\te.segments.some( ( s ) => s.segmentationRules.some( isGeoRule ) )\n\t\t)\n\t\t.map( ( e ) => e.id ),\n\t...heatmaps\n\t\t.filter( ( h ) => h.participation.some( isGeoRule ) )\n\t\t.map( ( h ) => h.id ),\n];\n\nconst isGeoRule = ( r: SegmentationRule ) =>\n\tr.type === 'nab/ip-address' || r.type === 'nab/location';\n\nasync function updateGeoData( settings: Settings ) {\n\ttry {\n\t\tconst url = getApiUrl( settings.api, '/ipc', {\n\t\t\tsiteId: settings.site,\n\t\t} );\n\t\tconst res = await window.fetch( url );\n\t\tconst data: string = await res.text();\n\t\tconst jsonData = JSON.parse( data ) as Dict;\n\t\tif ( ! hasGeoData( jsonData ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetSegmentationSettings( {\n\t\t\t...getSegmentationSettings(),\n\t\t\tgeo: {\n\t\t\t\tipAddress: jsonData.ip,\n\t\t\t\tlocation: jsonData.location,\n\t\t\t\tlastUpdate: new Date().toISOString(),\n\t\t\t},\n\t\t} );\n\t} catch ( _ ) {}\n}\n\nfunction updateActiveSegments( experiments: Settings[ 'experiments' ] ) {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst previousActiveSegments = segmentationSettings.activeSegments || {};\n\n\tconst activeSegments = experiments.reduce(\n\t\t( r, e ) =>\n\t\t\tisActiveSegmentImplicit( e )\n\t\t\t\t? r\n\t\t\t\t: { ...r, [ e.id ]: calculateActiveSegments( e ) },\n\t\t{} as SegmentationSettings[ 'activeSegments' ]\n\t);\n\n\tsetSegmentationSettings( {\n\t\t...segmentationSettings,\n\t\tactiveSegments: {\n\t\t\t...activeSegments,\n\t\t\t...previousActiveSegments,\n\t\t},\n\t} );\n}\n\nfunction calculateActiveSegments(\n\texperiment: ExperimentSummary\n): ReadonlyArray< number > {\n\tconst activeSegments = experiment.segments\n\t\t.map( ( { segmentationRules }, index ) =>\n\t\t\tsegmentationRules.every( isValidSegmentationRule ) ? index + 1 : 0\n\t\t)\n\t\t.filter( ( segmentIndex ) => 0 < segmentIndex );\n\n\treturn activeSegments.length ? [ 0, ...activeSegments ] : [];\n}\n\nfunction gapInMinutes( a: number, b: number ): number {\n\treturn Math.abs( a - b ) / 60_000;\n}\n\nconst isEmptyArray = ( arr?: unknown ): arr is unknown[] =>\n\t!! arr && Array.isArray( arr ) && ! arr.length;\n\nconst hasGeoData = (\n\tx: Dict\n): x is {\n\treadonly ip: string;\n\treadonly location: string;\n} => !! x.ip && !! x.location;\n\nconst isActiveSegmentImplicit = ( e: ExperimentSummary ): boolean =>\n\t! e.segments.length;\n","/**\n * External dependencies\n */\nimport { UAParser } from 'ua-parser-js';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/browser/types';\n\nexport const type = 'nab/browser';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst visitorBrowser = getVisitorBrowser();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) =>\n\t\t\t\tisSameBrowser( value, visitorBrowser )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => ! isSameBrowser( value, visitorBrowser )\n\t\t\t);\n\t}\n}\n\nfunction getVisitorBrowser() {\n\tconst parser = new UAParser();\n\tconst browserData = parser.getBrowser();\n\treturn browserData.name;\n}\n\nfunction isSameBrowser( browserName: string, visitorBrowserName?: string ) {\n\treturn browserName === visitorBrowserName;\n}\n","/**\n * Internal dependencies\n */\nimport { getCookie } from '../../cookies';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/cookie/types';\n\nexport const type = 'nab/cookie';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { name, condition, value } = attributes;\n\n\tconst actualValue = getCookie( name );\n\n\tswitch ( condition ) {\n\t\tcase 'is-any-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( expected ) => !! expected )\n\t\t\t\t.some( ( expectedValue ) => expectedValue === actualValue );\n\n\t\tcase 'is-none-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( expected ) => !! expected )\n\t\t\t\t.every( ( expectedValue ) => expectedValue !== actualValue );\n\n\t\tcase 'is-equal-to':\n\t\t\treturn actualValue === value;\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn actualValue !== value;\n\n\t\tcase 'contains':\n\t\t\treturn !! actualValue?.includes( value );\n\n\t\tcase 'does-not-contain':\n\t\t\treturn ! actualValue || ! actualValue.includes( value );\n\n\t\tcase 'exists':\n\t\t\treturn undefined !== actualValue;\n\n\t\tcase 'does-not-exist':\n\t\t\treturn undefined === actualValue;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/day-of-week/types';\n\nexport const type = 'nab/day-of-week';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst DAYS = [\n\t\t'Sunday',\n\t\t'Monday',\n\t\t'Tuesday',\n\t\t'Wednesday',\n\t\t'Thursday',\n\t\t'Friday',\n\t\t'Saturday',\n\t];\n\tconst { condition, values } = attributes;\n\n\tconst visitorDay = new Date().getDay();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) => value === DAYS[ visitorDay ] );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => value !== DAYS[ visitorDay ]\n\t\t\t);\n\t}\n}\n","/**\n * External dependencies\n */\nimport { UAParser } from 'ua-parser-js';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/device-type/types';\n\nexport const type = 'nab/device-type';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst parser = new UAParser();\n\tconst visitorDeviceType = parser.getDevice().type || 'desktop';\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) => value === visitorDeviceType );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every( ( { value } ) => value !== visitorDeviceType );\n\t}\n}\n","/**\n * External dependencies\n */\nimport type { SegmentationRule } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport * as browser from './browser';\nimport * as cookie from './cookie';\nimport * as dayOfWeek from './day-of-week';\nimport * as deviceType from './device-type';\nimport * as ipAddress from './ip-address';\nimport * as language from './language';\nimport * as location from './location';\nimport * as operatingSystem from './operating-system';\nimport * as queryParameter from './query-parameter';\nimport * as referringUrl from './referring-url';\nimport * as time from './time';\nimport * as userLogin from './user-login';\nimport * as visitorType from './visitor-type';\nimport * as windowWidth from './window-width';\n\ntype Validator = {\n\treadonly type: string;\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\treadonly validate: ( attrs: any ) => boolean;\n};\n\nexport const isValidSegmentationRule = ( {\n\ttype,\n\tattributes,\n}: Omit< SegmentationRule, 'id' > ): boolean => {\n\tconst segmentationRuleValidators: ReadonlyArray< Validator > = [\n\t\tbrowser,\n\t\tcookie,\n\t\tdayOfWeek,\n\t\tdeviceType,\n\t\tipAddress,\n\t\tlanguage,\n\t\tlocation,\n\t\toperatingSystem,\n\t\tqueryParameter,\n\t\treferringUrl,\n\t\ttime,\n\t\tuserLogin,\n\t\tvisitorType,\n\t\twindowWidth,\n\t];\n\n\treturn !! segmentationRuleValidators\n\t\t.find( ( validator ) => validator.type === type )\n\t\t?.validate( attributes );\n};\n","/**\n * Internal dependencies\n */\nimport { getSegmentationGeoData } from '../index';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/ip-address/types';\n\nexport const type = 'nab/ip-address';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst geoData = getSegmentationGeoData();\n\tconst visitorIp = geoData.ipAddress;\n\tif ( 'string' !== typeof visitorIp ) {\n\t\treturn false;\n\t}\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( ipPattern ) =>\n\t\t\t\tmatches( visitorIp, ipPattern )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( ipPattern ) => ! matches( visitorIp, ipPattern )\n\t\t\t);\n\t}\n}\n\nfunction matches( ip: string, pattern: string ) {\n\tconst re = pattern.replace( '*', '\\\\d?\\\\d?\\\\d' ).replace( '.', '\\\\.' );\n\treturn new RegExp( re ).test( ip );\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/language/types';\n\nexport const type = 'nab/language';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, language } = attributes;\n\n\tconst currentLanguages = window.navigator.languages.map( ( l ) =>\n\t\tl.toLowerCase()\n\t);\n\tconst hasLanguage = ( expected: string ) =>\n\t\tcurrentLanguages.some( ( actual ) => actual.startsWith( expected ) );\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn language.some( ( { value } ) => hasLanguage( value ) );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn ! language.some( ( { value } ) => hasLanguage( value ) );\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { getSegmentationGeoData } from '../index';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/location/types';\n\nexport const type = 'nab/location';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, location } = attributes;\n\n\tconst geoData = getSegmentationGeoData();\n\tconst visitorLocation = geoData.location;\n\tif ( 'string' !== typeof visitorLocation ) {\n\t\treturn false;\n\t}\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn location.some( ( { value } ) =>\n\t\t\t\tvisitorLocation.startsWith( value )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn location.every(\n\t\t\t\t( { value } ) => ! visitorLocation.startsWith( value )\n\t\t\t);\n\t}\n}\n","/**\n * External dependencies\n */\nimport { UAParser } from 'ua-parser-js';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/operating-system/types';\n\nexport const type = 'nab/operating-system';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst visitorOS = getVisitorOS();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) => isSameOS( value, visitorOS ) );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => ! isSameOS( value, visitorOS )\n\t\t\t);\n\t}\n}\n\nfunction getVisitorOS() {\n\tconst parser = new UAParser();\n\tconst operatingSystemData = parser.getOS();\n\tlet osName = operatingSystemData.name;\n\n\tif ( 'Windows' === osName && operatingSystemData.version ) {\n\t\tosName += ' ' + operatingSystemData.version;\n\t}\n\n\tif (\n\t\t'Mac OS' === osName &&\n\t\toperatingSystemData.version &&\n\t\toperatingSystemData.version.startsWith( '10' )\n\t) {\n\t\tosName += ' X';\n\t}\n\n\treturn osName;\n}\n\nfunction isSameOS( operatingSystemName: string, visitorOS?: string ) {\n\tif (\n\t\t'Windows' === operatingSystemName &&\n\t\t'string' === typeof visitorOS &&\n\t\tvisitorOS.startsWith( 'Windows' )\n\t) {\n\t\treturn true;\n\t}\n\n\treturn operatingSystemName === visitorOS;\n}\n","/**\n * Internal dependencies\n */\nimport { getQueryArgs } from '../../url';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/query-parameter/types';\n\nexport const type = 'nab/query-parameter';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { name, condition, value } = attributes;\n\n\tconst actualValue = getQueryArgs( document.URL )[ name ];\n\n\tswitch ( condition ) {\n\t\tcase 'is-any-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( expected ) => !! expected )\n\t\t\t\t.some( ( expectedValue ) => expectedValue === actualValue );\n\n\t\tcase 'is-none-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( expected ) => !! expected )\n\t\t\t\t.every( ( expectedValue ) => expectedValue !== actualValue );\n\n\t\tcase 'is-equal-to':\n\t\t\treturn actualValue === value;\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn actualValue !== value;\n\n\t\tcase 'contains':\n\t\t\treturn !! actualValue?.includes( value );\n\n\t\tcase 'does-not-contain':\n\t\t\treturn ! actualValue || ! actualValue.includes( value );\n\n\t\tcase 'exists':\n\t\t\treturn undefined !== actualValue;\n\n\t\tcase 'does-not-exist':\n\t\t\treturn undefined === actualValue;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/referring-url/types';\n\nexport const type = 'nab/referring-url';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, value } = attributes;\n\n\tconst referrer = document.referrer;\n\n\tswitch ( condition ) {\n\t\tcase 'is-any-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( url ) => !! url )\n\t\t\t\t.some( ( url ) => url === referrer );\n\n\t\tcase 'is-none-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( url ) => !! url )\n\t\t\t\t.every( ( url ) => url !== referrer );\n\n\t\tcase 'is-equal-to':\n\t\t\treturn referrer === value;\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn referrer !== value;\n\n\t\tcase 'contains':\n\t\t\treturn !! referrer?.includes( value );\n\n\t\tcase 'does-not-contain':\n\t\t\treturn ! referrer || ! referrer.includes( value );\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/time/types';\n\nexport const type = 'nab/time';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst PERIODS = [\n\t\t'00-02',\n\t\t'02-04',\n\t\t'04-06',\n\t\t'06-08',\n\t\t'08-10',\n\t\t'10-12',\n\t\t'12-14',\n\t\t'14-16',\n\t\t'16-18',\n\t\t'18-20',\n\t\t'20-22',\n\t\t'22-24',\n\t];\n\tconst { condition, values } = attributes;\n\n\tconst visitorHour = new Date().getHours();\n\tconst visitorPeriod = Math.floor( visitorHour / 2 );\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some(\n\t\t\t\t( { value } ) => value === PERIODS[ visitorPeriod ]\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => value !== PERIODS[ visitorPeriod ]\n\t\t\t);\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { getCookie } from '../../cookies';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/user-login/types';\n\nexport const type = 'nab/user-login';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition } = attributes;\n\tconst isUserLoggedIn = !! getCookie( 'nabIsUserLoggedIn' );\n\n\tswitch ( condition ) {\n\t\tcase 'is-logged-in':\n\t\t\treturn isUserLoggedIn;\n\n\t\tcase 'is-not-logged-in':\n\t\t\treturn ! isUserLoggedIn;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { isReturningVisitor } from '../index';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/visitor-type/types';\n\nexport const type = 'nab/visitor-type';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition } = attributes;\n\n\tswitch ( condition ) {\n\t\tcase 'is-new-visitor':\n\t\t\treturn ! isReturningVisitor();\n\t\tcase 'is-returning-visitor':\n\t\t\treturn isReturningVisitor();\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/window-width/types';\n\nexport const type = 'nab/window-width';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, value, interval } = attributes;\n\n\tconst currentWidth =\n\t\twindow.innerWidth ||\n\t\tdocument.documentElement.clientWidth ||\n\t\tdocument.body.clientWidth;\n\n\tswitch ( condition ) {\n\t\tcase 'is-greater-than':\n\t\t\treturn undefined !== value && currentWidth > value;\n\n\t\tcase 'is-less-than':\n\t\t\treturn undefined !== value && currentWidth < value;\n\n\t\tcase 'between':\n\t\t\treturn (\n\t\t\t\t'number' === typeof interval?.min &&\n\t\t\t\t'number' === typeof interval?.max &&\n\t\t\t\tinterval.min <= currentWidth &&\n\t\t\t\tcurrentWidth <= interval.max\n\t\t\t);\n\t}\n}\n","/**\n * External dependencies\n */\nimport type { ExperimentId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getCookie, setCookie } from '../cookies';\n\nexport type SegmentationSettings = {\n\treadonly activeSegments: Partial<\n\t\tRecord< ExperimentId, ReadonlyArray< number > >\n\t>;\n\treadonly firstVisit: number;\n\treadonly geo: {\n\t\treadonly ipAddress: string;\n\t\treadonly location: string;\n\t\treadonly lastUpdate: string;\n\t};\n};\n\nexport function updateFirstVisit(): void {\n\tconst settings = getSegmentationSettings();\n\tsetSegmentationSettings( {\n\t\t...settings,\n\t\tfirstVisit:\n\t\t\tsettings.firstVisit ||\n\t\t\tNumber.parseInt( Date.now().toString() ) ||\n\t\t\t0,\n\t} );\n}\n\nconst DEFAULT_SEGMENTATION_SETTINGS: SegmentationSettings = {\n\tactiveSegments: {},\n\tgeo: {\n\t\tlocation: '',\n\t\tipAddress: '',\n\t\tlastUpdate: '',\n\t},\n\tfirstVisit: 0,\n};\nexport function getSegmentationSettings(): SegmentationSettings {\n\ttry {\n\t\tconst settings = JSON.parse(\n\t\t\tgetCookie( 'nabSegmentation' ) || '{}'\n\t\t) as Partial< SegmentationSettings >;\n\t\treturn {\n\t\t\t...DEFAULT_SEGMENTATION_SETTINGS,\n\t\t\t...settings,\n\t\t};\n\t} catch ( _ ) {\n\t\treturn DEFAULT_SEGMENTATION_SETTINGS;\n\t}\n}\n\nexport function setSegmentationSettings(\n\tsettings: SegmentationSettings\n): void {\n\tsetCookie( 'nabSegmentation', JSON.stringify( settings ), {\n\t\texpires: 120,\n\t} );\n}\n","/**\n * External dependencies\n */\nimport pick from 'lodash/pick';\nimport type { Uuid } from 'uuid';\nimport type {\n\tExperimentId,\n\tMaybe,\n\tTrackEvent,\n\tUniqueVisitEvent,\n\tVisitEvent,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getCookie, removeCookie, setCookie } from './cookies';\nimport {\n\tareHeatmapConditionsValid,\n\tdoesExperimentHaveValidSegments,\n} from './segmentation';\nimport type { GoalIndex, HeatmapSummary, Session } from '../types';\n\ntype ExpsWithViews = Partial< Record< ExperimentId, Timestamp > >;\ntype Timestamp = number;\n\nconst TEN_DAYS_IN_MILLIS = 14400 * 60000;\n\nexport function updateExperimentsWithPageViews(\n\tevents: ReadonlyArray< VisitEvent >,\n\tsession: Session\n): void {\n\tremoveOldExperimentsFromCookie( session );\n\tif ( ! events.length ) {\n\t\treturn;\n\t}\n\n\tconst now = new Date().getTime();\n\tsetExperimentsWithPageViewsCookie( {\n\t\t...getExperimentsWithPageViews(),\n\t\t...events.reduce( ( result, event ) => {\n\t\t\tresult[ event.experiment ] = now;\n\t\t\treturn result;\n\t\t}, {} as ExpsWithViews ),\n\t} );\n}\n\nexport function getUniqueViews(): Partial< Record< ExperimentId, Uuid > > {\n\ttry {\n\t\tconst value = getCookie( 'nabUniqueViews' ) ?? '';\n\t\treturn JSON.parse( value ) as Partial< Record< ExperimentId, Uuid > >;\n\t} catch ( _ ) {\n\t\treturn {};\n\t}\n}\n\nexport function updateUniqueViews(\n\tvalue: ReadonlyArray< UniqueVisitEvent >\n): void {\n\tconst allUniqueViews = {\n\t\t...getUniqueViews(),\n\t\t...value.reduce( ( r, v ) => ( { ...r, [ v.experiment ]: v.id } ), {} ),\n\t};\n\n\tconst views = getExperimentsWithPageViews();\n\tconst uniqueViews = pick( allUniqueViews, Object.keys( views ) );\n\tif ( 0 === Object.keys( uniqueViews ).length ) {\n\t\tremoveCookie( 'nabUniqueViews' );\n\t\treturn;\n\t}\n\n\tsetCookie( 'nabUniqueViews', JSON.stringify( uniqueViews ), {\n\t\texpires: 120,\n\t} );\n}\n\nexport function canSynchEvent( event: TrackEvent, session: Session ): boolean {\n\tconst heatmap = getHeatmap( event.experiment, session );\n\tif ( heatmap ) {\n\t\treturn areHeatmapConditionsValid( heatmap );\n\t}\n\n\tif ( ! doesExperimentHaveValidSegments( event.experiment ) ) {\n\t\treturn false;\n\t}\n\n\tconst experimentsWithPageViews = getExperimentsWithPageViews();\n\tconst timestamp = experimentsWithPageViews[ event.experiment ];\n\tif ( ! timestamp ) {\n\t\treturn 'visit' === event.kind;\n\t}\n\n\tif ( 'visit' === event.kind ) {\n\t\tif ( 'regular' === event.type ) {\n\t\t\treturn true;\n\t\t}\n\t\tconst wait = session.throttle[ event.type ];\n\t\tconst now = new Date().getTime();\n\t\treturn timestamp + wait * 60000 < now;\n\t}\n\n\treturn (\n\t\t'conversion' !== event.kind ||\n\t\tcanSynchConversion( event.experiment, event.goal, session )\n\t);\n}\n\nexport function getExperimentsWithPageViews(): ExpsWithViews {\n\ttry {\n\t\tconst value = getCookie( 'nabExperimentsWithPageViews' ) ?? '';\n\t\treturn JSON.parse( value ) as ExpsWithViews;\n\t} catch ( _ ) {\n\t\treturn {};\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\nlet synchedGoals: ReadonlyArray< string > = [];\nfunction canSynchConversion(\n\texperimentId: ExperimentId,\n\tgoalIndex: GoalIndex,\n\tsession: Session\n): boolean {\n\tif ( ! session.singleConvPerView ) {\n\t\treturn true;\n\t}\n\n\tif ( synchedGoals.includes( `${ experimentId }-${ goalIndex }` ) ) {\n\t\treturn false;\n\t}\n\n\tsynchedGoals = [ ...synchedGoals, `${ experimentId }-${ goalIndex }` ];\n\treturn true;\n}\n\nfunction setExperimentsWithPageViewsCookie( value: ExpsWithViews ): void {\n\tif ( 0 === Object.keys( value ).length ) {\n\t\tremoveCookie( 'nabExperimentsWithPageViews' );\n\t\treturn;\n\t}\n\tsetCookie( 'nabExperimentsWithPageViews', JSON.stringify( value ), {\n\t\texpires: 120,\n\t} );\n}\n\nlet wasCookieCleaned = false;\nfunction removeOldExperimentsFromCookie( session: Session ): void {\n\tif ( wasCookieCleaned ) {\n\t\treturn;\n\t}\n\twasCookieCleaned = true;\n\n\tconst { experiments } = session;\n\tconst experimentsWithPageViews = getExperimentsWithPageViews();\n\tconst experimentIds = experiments.map( ( e ) => e.id );\n\tconst experimentIdsWithPageViews = Object.keys(\n\t\texperimentsWithPageViews\n\t).map( toExperimentId );\n\n\tconst { global: g, woocommerce: w } = session.throttle;\n\tconst now = new Date().getTime();\n\tconst validationTimestamp = now - ( Math.max( g, w ) + 5 ) * 60000;\n\n\tconst isInvalid = ( id: ExperimentId ): boolean =>\n\t\t! experimentIds.includes( id );\n\tconst wasValidTenDaysAgo = ( id: ExperimentId ): boolean => {\n\t\tconst timestamp = experimentsWithPageViews[ id ];\n\t\treturn (\n\t\t\t!! timestamp && Math.abs( now - timestamp ) <= TEN_DAYS_IN_MILLIS\n\t\t);\n\t};\n\n\tconst newExperimentsWithPageViews = experimentIdsWithPageViews.reduce(\n\t\t( result, id ) => {\n\t\t\tconst timestamp = experimentsWithPageViews[ id ];\n\n\t\t\tif ( isInvalid( id ) || ! timestamp ) {\n\t\t\t\treturn !! timestamp && wasValidTenDaysAgo( id )\n\t\t\t\t\t? { ...result, [ id ]: timestamp }\n\t\t\t\t\t: result;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...result,\n\t\t\t\t[ id ]: Math.max( timestamp, validationTimestamp ),\n\t\t\t};\n\t\t},\n\t\t{} as ExpsWithViews\n\t);\n\n\tsetExperimentsWithPageViewsCookie( newExperimentsWithPageViews );\n}\n\nconst toExperimentId = ( x: string ) =>\n\t( Number.parseInt( x ) || 0 ) as ExperimentId;\n\nconst getHeatmap = (\n\tid: ExperimentId,\n\tsession: Session\n): Maybe< HeatmapSummary > => session.heatmaps.find( ( hm ) => hm.id === id );\n","/**\n * Internal dependencies\n */\nimport type { ParamValue } from '../types';\n\nexport const REFERRER_PARAM = 'nab_referrer';\n\nexport function buildUrl(\n\turl: string,\n\targs: Record< string, ParamValue | undefined > = {},\n\thash?: string\n): string {\n\tconst keys = Object.keys( args );\n\tif ( keys.length ) {\n\t\turl +=\n\t\t\t'?' +\n\t\t\tkeys\n\t\t\t\t.filter( ( k ) => undefined !== args[ k ] )\n\t\t\t\t.map(\n\t\t\t\t\t( key ) =>\n\t\t\t\t\t\t`${ key }=${ encodeURIComponent( args[ key ] ?? '' ) }`\n\t\t\t\t)\n\t\t\t\t.map( ( arg ) =>\n\t\t\t\t\t/=$/.test( arg ) ? arg.slice( 0, -1 ) : arg\n\t\t\t\t)\n\t\t\t\t.reduce( ( search, pair ) => `${ search }&${ pair }` );\n\t}\n\n\tif ( hash ) {\n\t\turl += '#' + hash;\n\t}\n\n\treturn url;\n}\n\nexport function removeArgsAndHash( url: string ): string {\n\tconst { cleanUrl } = fragments( url );\n\treturn cleanUrl;\n}\n\nexport function getHash( url: string ): string {\n\tconst { hash } = fragments( url );\n\treturn hash;\n}\n\nexport function addQueryArgs(\n\turl: string,\n\targs?: Record< string, ParamValue | undefined >\n): string {\n\targs = args ?? {};\n\tconst { cleanUrl, hash } = fragments( url );\n\n\tconst oldArgs = getQueryArgs( url );\n\tconst newArgs = {\n\t\t...( 'nab' in args || 'nab' in oldArgs ? { nab: '' } : {} ),\n\t\t...oldArgs,\n\t\t...args,\n\t};\n\treturn buildUrl( cleanUrl, newArgs, hash );\n}\n\nexport function addNabQueryArg(\n\turl: string,\n\tvalue: number,\n\tposition: 'first' | 'last'\n): string {\n\tconst { cleanUrl, hash } = fragments( url );\n\n\tconst { nab: _, ...args } = getQueryArgs( url );\n\tconst nab = value;\n\tconst newArgs = {\n\t\t...( 'first' === position ? { nab } : {} ),\n\t\t...args,\n\t\t...( 'last' === position ? { nab } : {} ),\n\t};\n\treturn buildUrl( cleanUrl, newArgs, hash );\n}\n\nexport function removeQueryArgs(\n\turl: string,\n\t...names: ReadonlyArray< string >\n): string {\n\turl = url || '';\n\n\tif ( 0 === names.length ) {\n\t\treturn url;\n\t}\n\n\tconst { cleanUrl, hash } = fragments( url );\n\n\tconst args = getQueryArgs( url );\n\tfor ( const key of names ) {\n\t\tdelete args[ key ];\n\t}\n\n\treturn buildUrl( cleanUrl, args, hash );\n}\n\nexport const removeTestingArgs = ( url: string, keepNab = false ): string =>\n\tremoveQueryArgs(\n\t\turl,\n\t\tkeepNab ? '' : 'nab',\n\t\t'nabforce',\n\t\t'nabstaging',\n\t\t'nablog',\n\t\t'nab_experiments_with_page_view',\n\t\tREFERRER_PARAM\n\t);\n\nexport function getQueryArg( url: string, name: string ): string | undefined {\n\treturn getQueryArgs( url )[ name ];\n}\n\nexport function getQueryArgs( url: string ): Record< string, string > {\n\tconst { search } = fragments( url );\n\tif ( ! search ) {\n\t\treturn {};\n\t}\n\tconst args = search.split( '&' );\n\treturn args.reduce(\n\t\t( res, arg ) => {\n\t\t\tconst [ key, value = '' ] = arg.split( '=' );\n\t\t\tif ( key ) {\n\t\t\t\tres[ key ] = decodeURIComponent( value );\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{} as Record< string, string >\n\t);\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction fragments( url: string ) {\n\tconst baseUrl =\n\t\t0 <= url.indexOf( '#' ) ? url.substr( 0, url.indexOf( '#' ) ) : url;\n\tconst hash =\n\t\t0 <= url.indexOf( '#' ) ? url.substr( url.indexOf( '#' ) + 1 ) : '';\n\n\tconst cleanUrl =\n\t\t0 <= baseUrl.indexOf( '?' )\n\t\t\t? baseUrl.substr( 0, baseUrl.indexOf( '?' ) )\n\t\t\t: baseUrl;\n\n\tconst search =\n\t\t0 <= baseUrl.indexOf( '?' )\n\t\t\t? baseUrl.substr( baseUrl.indexOf( '?' ) + 1 )\n\t\t\t: '';\n\n\treturn {\n\t\tcleanUrl,\n\t\tsearch,\n\t\thash,\n\t};\n}\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    basePickBy = require('./_basePickBy'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  if (object == null) {\n    return {};\n  }\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\n    return [prop];\n  });\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, props, function(value, path) {\n    return predicate(value, path[0]);\n  });\n}\n\nmodule.exports = pickBy;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n/* eslint-disable no-bitwise -- used for calculations */\n\n/* eslint-disable unicorn/prefer-query-selector -- aiming at\n  backward-compatibility */\n\n/**\n* StackBlur - a fast almost Gaussian Blur For Canvas\n*\n* In case you find this class useful - especially in commercial projects -\n* I am not totally unhappy for a small donation to my PayPal account\n* mario@quasimondo.de\n*\n* Or support me on flattr:\n* {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.\n*\n* @module StackBlur\n* @author Mario Klingemann\n* Contact: mario@quasimondo.com\n* Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}\n* Twitter: @quasimondo\n*\n* @copyright (c) 2010 Mario Klingemann\n*\n* Permission is hereby granted, free of charge, to any person\n* obtaining a copy of this software and associated documentation\n* files (the \"Software\"), to deal in the Software without\n* restriction, including without limitation the rights to use,\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the\n* Software is furnished to do so, subject to the following\n* conditions:\n*\n* The above copyright notice and this permission notice shall be\n* included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n* OTHER DEALINGS IN THE SOFTWARE.\n*/\nvar mulTable = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259];\nvar shgTable = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];\n/**\n * @param {string|HTMLImageElement} img\n * @param {string|HTMLCanvasElement} canvas\n * @param {Float} radius\n * @param {boolean} blurAlphaChannel\n * @param {boolean} useOffset\n * @param {boolean} skipStyles\n * @returns {undefined}\n */\n\nfunction processImage(img, canvas, radius, blurAlphaChannel, useOffset, skipStyles) {\n  if (typeof img === 'string') {\n    img = document.getElementById(img);\n  }\n\n  if (!img || Object.prototype.toString.call(img).slice(8, -1) === 'HTMLImageElement' && !('naturalWidth' in img)) {\n    return;\n  }\n\n  var dimensionType = useOffset ? 'offset' : 'natural';\n  var w = img[dimensionType + 'Width'];\n  var h = img[dimensionType + 'Height']; // add ImageBitmap support,can blur texture source\n\n  if (Object.prototype.toString.call(img).slice(8, -1) === 'ImageBitmap') {\n    w = img.width;\n    h = img.height;\n  }\n\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  if (!canvas || !('getContext' in canvas)) {\n    return;\n  }\n\n  if (!skipStyles) {\n    canvas.style.width = w + 'px';\n    canvas.style.height = h + 'px';\n  }\n\n  canvas.width = w;\n  canvas.height = h;\n  var context = canvas.getContext('2d');\n  context.clearRect(0, 0, w, h);\n  context.drawImage(img, 0, 0, img.naturalWidth, img.naturalHeight, 0, 0, w, h);\n\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  if (blurAlphaChannel) {\n    processCanvasRGBA(canvas, 0, 0, w, h, radius);\n  } else {\n    processCanvasRGB(canvas, 0, 0, w, h, radius);\n  }\n}\n/**\n * @param {string|HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @throws {Error|TypeError}\n * @returns {ImageData} See {@link https://html.spec.whatwg.org/multipage/canvas.html#imagedata}\n */\n\n\nfunction getImageDataFromCanvas(canvas, topX, topY, width, height) {\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  if (!canvas || _typeof(canvas) !== 'object' || !('getContext' in canvas)) {\n    throw new TypeError('Expecting canvas with `getContext` method ' + 'in processCanvasRGB(A) calls!');\n  }\n\n  var context = canvas.getContext('2d');\n\n  try {\n    return context.getImageData(topX, topY, width, height);\n  } catch (e) {\n    throw new Error('unable to access image data: ' + e);\n  }\n}\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {undefined}\n */\n\n\nfunction processCanvasRGBA(canvas, topX, topY, width, height, radius) {\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  radius |= 0;\n  var imageData = getImageDataFromCanvas(canvas, topX, topY, width, height);\n  imageData = processImageDataRGBA(imageData, topX, topY, width, height, radius);\n  canvas.getContext('2d').putImageData(imageData, topX, topY);\n}\n/**\n * @param {ImageData} imageData\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {ImageData}\n */\n\n\nfunction processImageDataRGBA(imageData, topX, topY, width, height, radius) {\n  var pixels = imageData.data;\n  var div = 2 * radius + 1; // const w4 = width << 2;\n\n  var widthMinus1 = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1 = radius + 1;\n  var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  var stackStart = new BlurStack();\n  var stack = stackStart;\n  var stackEnd;\n\n  for (var i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  var stackIn = null,\n      stackOut = null,\n      yw = 0,\n      yi = 0;\n  var mulSum = mulTable[radius];\n  var shgSum = shgTable[radius];\n\n  for (var y = 0; y < height; y++) {\n    stack = stackStart;\n    var pr = pixels[yi],\n        pg = pixels[yi + 1],\n        pb = pixels[yi + 2],\n        pa = pixels[yi + 3];\n\n    for (var _i = 0; _i < radiusPlus1; _i++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack.a = pa;\n      stack = stack.next;\n    }\n\n    var rInSum = 0,\n        gInSum = 0,\n        bInSum = 0,\n        aInSum = 0,\n        rOutSum = radiusPlus1 * pr,\n        gOutSum = radiusPlus1 * pg,\n        bOutSum = radiusPlus1 * pb,\n        aOutSum = radiusPlus1 * pa,\n        rSum = sumFactor * pr,\n        gSum = sumFactor * pg,\n        bSum = sumFactor * pb,\n        aSum = sumFactor * pa;\n\n    for (var _i2 = 1; _i2 < radiusPlus1; _i2++) {\n      var p = yi + ((widthMinus1 < _i2 ? widthMinus1 : _i2) << 2);\n      var r = pixels[p],\n          g = pixels[p + 1],\n          b = pixels[p + 2],\n          a = pixels[p + 3];\n      var rbs = radiusPlus1 - _i2;\n      rSum += (stack.r = r) * rbs;\n      gSum += (stack.g = g) * rbs;\n      bSum += (stack.b = b) * rbs;\n      aSum += (stack.a = a) * rbs;\n      rInSum += r;\n      gInSum += g;\n      bInSum += b;\n      aInSum += a;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var x = 0; x < width; x++) {\n      var paInitial = aSum * mulSum >>> shgSum;\n      pixels[yi + 3] = paInitial;\n\n      if (paInitial !== 0) {\n        var _a2 = 255 / paInitial;\n\n        pixels[yi] = (rSum * mulSum >>> shgSum) * _a2;\n        pixels[yi + 1] = (gSum * mulSum >>> shgSum) * _a2;\n        pixels[yi + 2] = (bSum * mulSum >>> shgSum) * _a2;\n      } else {\n        pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n      }\n\n      rSum -= rOutSum;\n      gSum -= gOutSum;\n      bSum -= bOutSum;\n      aSum -= aOutSum;\n      rOutSum -= stackIn.r;\n      gOutSum -= stackIn.g;\n      bOutSum -= stackIn.b;\n      aOutSum -= stackIn.a;\n\n      var _p = x + radius + 1;\n\n      _p = yw + (_p < widthMinus1 ? _p : widthMinus1) << 2;\n      rInSum += stackIn.r = pixels[_p];\n      gInSum += stackIn.g = pixels[_p + 1];\n      bInSum += stackIn.b = pixels[_p + 2];\n      aInSum += stackIn.a = pixels[_p + 3];\n      rSum += rInSum;\n      gSum += gInSum;\n      bSum += bInSum;\n      aSum += aInSum;\n      stackIn = stackIn.next;\n      var _stackOut = stackOut,\n          _r = _stackOut.r,\n          _g = _stackOut.g,\n          _b = _stackOut.b,\n          _a = _stackOut.a;\n      rOutSum += _r;\n      gOutSum += _g;\n      bOutSum += _b;\n      aOutSum += _a;\n      rInSum -= _r;\n      gInSum -= _g;\n      bInSum -= _b;\n      aInSum -= _a;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (var _x = 0; _x < width; _x++) {\n    yi = _x << 2;\n\n    var _pr = pixels[yi],\n        _pg = pixels[yi + 1],\n        _pb = pixels[yi + 2],\n        _pa = pixels[yi + 3],\n        _rOutSum = radiusPlus1 * _pr,\n        _gOutSum = radiusPlus1 * _pg,\n        _bOutSum = radiusPlus1 * _pb,\n        _aOutSum = radiusPlus1 * _pa,\n        _rSum = sumFactor * _pr,\n        _gSum = sumFactor * _pg,\n        _bSum = sumFactor * _pb,\n        _aSum = sumFactor * _pa;\n\n    stack = stackStart;\n\n    for (var _i3 = 0; _i3 < radiusPlus1; _i3++) {\n      stack.r = _pr;\n      stack.g = _pg;\n      stack.b = _pb;\n      stack.a = _pa;\n      stack = stack.next;\n    }\n\n    var yp = width;\n    var _gInSum = 0,\n        _bInSum = 0,\n        _aInSum = 0,\n        _rInSum = 0;\n\n    for (var _i4 = 1; _i4 <= radius; _i4++) {\n      yi = yp + _x << 2;\n\n      var _rbs = radiusPlus1 - _i4;\n\n      _rSum += (stack.r = _pr = pixels[yi]) * _rbs;\n      _gSum += (stack.g = _pg = pixels[yi + 1]) * _rbs;\n      _bSum += (stack.b = _pb = pixels[yi + 2]) * _rbs;\n      _aSum += (stack.a = _pa = pixels[yi + 3]) * _rbs;\n      _rInSum += _pr;\n      _gInSum += _pg;\n      _bInSum += _pb;\n      _aInSum += _pa;\n      stack = stack.next;\n\n      if (_i4 < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = _x;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var _y = 0; _y < height; _y++) {\n      var _p2 = yi << 2;\n\n      pixels[_p2 + 3] = _pa = _aSum * mulSum >>> shgSum;\n\n      if (_pa > 0) {\n        _pa = 255 / _pa;\n        pixels[_p2] = (_rSum * mulSum >>> shgSum) * _pa;\n        pixels[_p2 + 1] = (_gSum * mulSum >>> shgSum) * _pa;\n        pixels[_p2 + 2] = (_bSum * mulSum >>> shgSum) * _pa;\n      } else {\n        pixels[_p2] = pixels[_p2 + 1] = pixels[_p2 + 2] = 0;\n      }\n\n      _rSum -= _rOutSum;\n      _gSum -= _gOutSum;\n      _bSum -= _bOutSum;\n      _aSum -= _aOutSum;\n      _rOutSum -= stackIn.r;\n      _gOutSum -= stackIn.g;\n      _bOutSum -= stackIn.b;\n      _aOutSum -= stackIn.a;\n      _p2 = _x + ((_p2 = _y + radiusPlus1) < heightMinus1 ? _p2 : heightMinus1) * width << 2;\n      _rSum += _rInSum += stackIn.r = pixels[_p2];\n      _gSum += _gInSum += stackIn.g = pixels[_p2 + 1];\n      _bSum += _bInSum += stackIn.b = pixels[_p2 + 2];\n      _aSum += _aInSum += stackIn.a = pixels[_p2 + 3];\n      stackIn = stackIn.next;\n      _rOutSum += _pr = stackOut.r;\n      _gOutSum += _pg = stackOut.g;\n      _bOutSum += _pb = stackOut.b;\n      _aOutSum += _pa = stackOut.a;\n      _rInSum -= _pr;\n      _gInSum -= _pg;\n      _bInSum -= _pb;\n      _aInSum -= _pa;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n\n  return imageData;\n}\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {undefined}\n */\n\n\nfunction processCanvasRGB(canvas, topX, topY, width, height, radius) {\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  radius |= 0;\n  var imageData = getImageDataFromCanvas(canvas, topX, topY, width, height);\n  imageData = processImageDataRGB(imageData, topX, topY, width, height, radius);\n  canvas.getContext('2d').putImageData(imageData, topX, topY);\n}\n/**\n * @param {ImageData} imageData\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {ImageData}\n */\n\n\nfunction processImageDataRGB(imageData, topX, topY, width, height, radius) {\n  var pixels = imageData.data;\n  var div = 2 * radius + 1; // const w4 = width << 2;\n\n  var widthMinus1 = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1 = radius + 1;\n  var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  var stackStart = new BlurStack();\n  var stack = stackStart;\n  var stackEnd;\n\n  for (var i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  var stackIn = null;\n  var stackOut = null;\n  var mulSum = mulTable[radius];\n  var shgSum = shgTable[radius];\n  var p, rbs;\n  var yw = 0,\n      yi = 0;\n\n  for (var y = 0; y < height; y++) {\n    var pr = pixels[yi],\n        pg = pixels[yi + 1],\n        pb = pixels[yi + 2],\n        rOutSum = radiusPlus1 * pr,\n        gOutSum = radiusPlus1 * pg,\n        bOutSum = radiusPlus1 * pb,\n        rSum = sumFactor * pr,\n        gSum = sumFactor * pg,\n        bSum = sumFactor * pb;\n    stack = stackStart;\n\n    for (var _i5 = 0; _i5 < radiusPlus1; _i5++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack = stack.next;\n    }\n\n    var rInSum = 0,\n        gInSum = 0,\n        bInSum = 0;\n\n    for (var _i6 = 1; _i6 < radiusPlus1; _i6++) {\n      p = yi + ((widthMinus1 < _i6 ? widthMinus1 : _i6) << 2);\n      rSum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - _i6);\n      gSum += (stack.g = pg = pixels[p + 1]) * rbs;\n      bSum += (stack.b = pb = pixels[p + 2]) * rbs;\n      rInSum += pr;\n      gInSum += pg;\n      bInSum += pb;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var x = 0; x < width; x++) {\n      pixels[yi] = rSum * mulSum >>> shgSum;\n      pixels[yi + 1] = gSum * mulSum >>> shgSum;\n      pixels[yi + 2] = bSum * mulSum >>> shgSum;\n      rSum -= rOutSum;\n      gSum -= gOutSum;\n      bSum -= bOutSum;\n      rOutSum -= stackIn.r;\n      gOutSum -= stackIn.g;\n      bOutSum -= stackIn.b;\n      p = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;\n      rInSum += stackIn.r = pixels[p];\n      gInSum += stackIn.g = pixels[p + 1];\n      bInSum += stackIn.b = pixels[p + 2];\n      rSum += rInSum;\n      gSum += gInSum;\n      bSum += bInSum;\n      stackIn = stackIn.next;\n      rOutSum += pr = stackOut.r;\n      gOutSum += pg = stackOut.g;\n      bOutSum += pb = stackOut.b;\n      rInSum -= pr;\n      gInSum -= pg;\n      bInSum -= pb;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (var _x2 = 0; _x2 < width; _x2++) {\n    yi = _x2 << 2;\n\n    var _pr2 = pixels[yi],\n        _pg2 = pixels[yi + 1],\n        _pb2 = pixels[yi + 2],\n        _rOutSum2 = radiusPlus1 * _pr2,\n        _gOutSum2 = radiusPlus1 * _pg2,\n        _bOutSum2 = radiusPlus1 * _pb2,\n        _rSum2 = sumFactor * _pr2,\n        _gSum2 = sumFactor * _pg2,\n        _bSum2 = sumFactor * _pb2;\n\n    stack = stackStart;\n\n    for (var _i7 = 0; _i7 < radiusPlus1; _i7++) {\n      stack.r = _pr2;\n      stack.g = _pg2;\n      stack.b = _pb2;\n      stack = stack.next;\n    }\n\n    var _rInSum2 = 0,\n        _gInSum2 = 0,\n        _bInSum2 = 0;\n\n    for (var _i8 = 1, yp = width; _i8 <= radius; _i8++) {\n      yi = yp + _x2 << 2;\n      _rSum2 += (stack.r = _pr2 = pixels[yi]) * (rbs = radiusPlus1 - _i8);\n      _gSum2 += (stack.g = _pg2 = pixels[yi + 1]) * rbs;\n      _bSum2 += (stack.b = _pb2 = pixels[yi + 2]) * rbs;\n      _rInSum2 += _pr2;\n      _gInSum2 += _pg2;\n      _bInSum2 += _pb2;\n      stack = stack.next;\n\n      if (_i8 < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = _x2;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var _y2 = 0; _y2 < height; _y2++) {\n      p = yi << 2;\n      pixels[p] = _rSum2 * mulSum >>> shgSum;\n      pixels[p + 1] = _gSum2 * mulSum >>> shgSum;\n      pixels[p + 2] = _bSum2 * mulSum >>> shgSum;\n      _rSum2 -= _rOutSum2;\n      _gSum2 -= _gOutSum2;\n      _bSum2 -= _bOutSum2;\n      _rOutSum2 -= stackIn.r;\n      _gOutSum2 -= stackIn.g;\n      _bOutSum2 -= stackIn.b;\n      p = _x2 + ((p = _y2 + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;\n      _rSum2 += _rInSum2 += stackIn.r = pixels[p];\n      _gSum2 += _gInSum2 += stackIn.g = pixels[p + 1];\n      _bSum2 += _bInSum2 += stackIn.b = pixels[p + 2];\n      stackIn = stackIn.next;\n      _rOutSum2 += _pr2 = stackOut.r;\n      _gOutSum2 += _pg2 = stackOut.g;\n      _bOutSum2 += _pb2 = stackOut.b;\n      _rInSum2 -= _pr2;\n      _gInSum2 -= _pg2;\n      _bInSum2 -= _pb2;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n\n  return imageData;\n}\n/**\n *\n */\n\n\nvar BlurStack =\n/**\n * Set properties.\n */\nfunction BlurStack() {\n  _classCallCheck(this, BlurStack);\n\n  this.r = 0;\n  this.g = 0;\n  this.b = 0;\n  this.a = 0;\n  this.next = null;\n};\n\nexport { BlurStack, processCanvasRGB as canvasRGB, processCanvasRGBA as canvasRGBA, processImage as image, processImageDataRGB as imageDataRGB, processImageDataRGBA as imageDataRGBA };\n","// Generated ESM version of ua-parser-js\n// DO NOT EDIT THIS FILE!\n// Source: /src/main/ua-parser.js\n\n/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v2.0.7\n   Copyright  2012-2025 Faisal Salman <f@faisalman.com>\n   AGPLv3 License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://uaparser.dev\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n/* jshint esversion: 6 */ \n/* globals window */\n\n\n    \n    //////////////\n    // Constants\n    /////////////\n\n    var LIBVERSION  = '2.0.7',\n        UA_MAX_LENGTH = 500,\n        USER_AGENT  = 'user-agent',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        TYPEOF = {\n            FUNCTION    : 'function',\n            OBJECT      : 'object',\n            STRING      : 'string',\n            UNDEFINED   : 'undefined'\n        },\n\n        // properties\n        BROWSER     = 'browser',\n        CPU         = 'cpu',\n        DEVICE      = 'device',\n        ENGINE      = 'engine',\n        OS          = 'os',\n        RESULT      = 'result',\n\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n\n        // device types\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        XR          = 'xr',\n        EMBEDDED    = 'embedded',\n\n        // browser types\n        INAPP       = 'inapp',\n\n        // client hints\n        BRANDS      = 'brands',\n        FORMFACTORS = 'formFactors',\n        FULLVERLIST = 'fullVersionList',\n        PLATFORM    = 'platform',\n        PLATFORMVER = 'platformVersion',\n        BITNESS     = 'bitness',\n        CH          = 'sec-ch-ua',\n        CH_FULL_VER_LIST= CH + '-full-version-list',\n        CH_ARCH         = CH + '-arch',\n        CH_BITNESS      = CH + '-' + BITNESS,\n        CH_FORM_FACTORS = CH + '-form-factors',\n        CH_MOBILE       = CH + '-' + MOBILE,\n        CH_MODEL        = CH + '-' + MODEL,\n        CH_PLATFORM     = CH + '-' + PLATFORM,\n        CH_PLATFORM_VER = CH_PLATFORM + '-version',\n        CH_ALL_VALUES   = [BRANDS, FULLVERLIST, MOBILE, MODEL, PLATFORM, PLATFORMVER, ARCHITECTURE, FORMFACTORS, BITNESS],\n\n        // device vendors\n        AMAZON      = 'Amazon',\n        APPLE       = 'Apple',\n        ASUS        = 'ASUS',\n        BLACKBERRY  = 'BlackBerry',\n        GOOGLE      = 'Google',\n        HUAWEI      = 'Huawei',\n        LENOVO      = 'Lenovo',\n        HONOR       = 'Honor',\n        LG          = 'LG',\n        MICROSOFT   = 'Microsoft',\n        MOTOROLA    = 'Motorola',\n        NVIDIA      = 'Nvidia',\n        ONEPLUS     = 'OnePlus',\n        OPPO        = 'OPPO',\n        SAMSUNG     = 'Samsung',\n        SHARP       = 'Sharp',\n        SONY        = 'Sony',\n        XIAOMI      = 'Xiaomi',\n        ZEBRA       = 'Zebra',\n\n        // browsers\n        CHROME      = 'Chrome',\n        CHROMIUM    = 'Chromium',\n        CHROMECAST  = 'Chromecast',\n        EDGE        = 'Edge',\n        FIREFOX     = 'Firefox',\n        OPERA       = 'Opera',\n        FACEBOOK    = 'Facebook',\n        SOGOU       = 'Sogou',\n\n        PREFIX_MOBILE  = 'Mobile ',\n        SUFFIX_BROWSER = ' Browser',\n\n        // os\n        WINDOWS     = 'Windows';\n   \n    var isWindow            = typeof window !== TYPEOF.UNDEFINED,\n        NAVIGATOR           = (isWindow && window.navigator) ? \n                                window.navigator : \n                                undefined,\n        NAVIGATOR_UADATA    = (NAVIGATOR && NAVIGATOR.userAgentData) ? \n                                NAVIGATOR.userAgentData : \n                                undefined;\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (defaultRgx, extensions) {\n            var mergedRgx = {};\n            var extraRgx = extensions;\n            if (!isExtensions(extensions)) {\n                extraRgx = {};\n                for (var i in extensions) {\n                    for (var j in extensions[i]) {\n                        extraRgx[j] = extensions[i][j].concat(extraRgx[j] ? extraRgx[j] : []);\n                    }\n                }\n            }\n            for (var k in defaultRgx) {\n                mergedRgx[k] = extraRgx[k] && extraRgx[k].length % 2 === 0 ? extraRgx[k].concat(defaultRgx[k]) : defaultRgx[k];\n            }\n            return mergedRgx;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            if (typeof str1 === TYPEOF.OBJECT && str1.length > 0) {\n                for (var i in str1) {\n                    if (lowerize(str2) == lowerize(str1[i])) return true;\n                }\n                return false;\n            }\n            return isString(str1) ? lowerize(str2) == lowerize(str1) : false;\n        },\n        isExtensions = function (obj, deep) {\n            for (var prop in obj) {\n                return /^(browser|cpu|device|engine|os)$/.test(prop) || (deep ? isExtensions(obj[prop]) : false);\n            }\n        },\n        isString = function (val) {\n            return typeof val === TYPEOF.STRING;\n        },\n        itemListToArray = function (header) {\n            if (!header) return undefined;\n            var arr = [];\n            var tokens = strip(/\\\\?\\\"/g, header).split(',');\n            for (var i = 0; i < tokens.length; i++) {\n                if (tokens[i].indexOf(';') > -1) {\n                    var token = trim(tokens[i]).split(';v=');\n                    arr[i] = { brand : token[0], version : token[1] };\n                } else {\n                    arr[i] = trim(tokens[i]);\n                }\n            }\n            return arr;\n        },\n        lowerize = function (str) {\n            return isString(str) ? str.toLowerCase() : str;\n        },\n        majorize = function (version) {\n            return isString(version) ? strip(/[^\\d\\.]/g, version).split('.')[0] : undefined;\n        },\n        setProps = function (arr) {\n            for (var i in arr) {\n                if (!arr.hasOwnProperty(i)) continue;\n\n                var propName = arr[i];\n                if (typeof propName == TYPEOF.OBJECT && propName.length == 2) {\n                    this[propName[0]] = propName[1];\n                } else {\n                    this[propName] = undefined;\n                }\n            }\n            return this;\n        },\n        strip = function (pattern, str) {\n            return isString(str) ? str.replace(pattern, EMPTY) : str;\n        },\n        stripQuotes = function (str) {\n            return strip(/\\\\?\\\"/g, str); \n        },\n        trim = function (str, len) {\n            str = strip(/^\\s\\s*/, String(str));\n            return typeof len === TYPEOF.UNDEFINED ? str : str.substring(0, len);\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            if(!ua || !arrays) return;\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === TYPEOF.OBJECT && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == TYPEOF.FUNCTION) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length >= 3) {\n                                    // Check whether q[1] FUNCTION or REGEX\n                                    if (typeof q[1] === TYPEOF.FUNCTION && !(q[1].exec && q[1].test)) {\n                                        if (q.length > 3) {\n                                            this[q[0]] = match ? q[1].apply(this, q.slice(2)) : undefined;\n                                        } else {\n                                            // call function (usually string mapper)\n                                            this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                        }\n                                    } else {\n                                        if (q.length == 3) {\n                                            // sanitize match using given regex\n                                            this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                        } else if (q.length == 4) {\n                                            this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                        } else if (q.length > 4) {\n                                            this[q[0]] = match ? q[3].apply(this, [match.replace(q[1], q[2])].concat(q.slice(4))) : undefined;\n                                        }\n                                    }\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === TYPEOF.OBJECT && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return map.hasOwnProperty('*') ? map['*'] : str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    var windowsVersionMap = {\n            'ME'    : '4.90',\n            'NT 3.51': '3.51',\n            'NT 4.0': '4.0',\n            '2000'  : ['5.0', '5.01'],\n            'XP'    : ['5.1', '5.2'],\n            'Vista' : '6.0',\n            '7'     : '6.1',\n            '8'     : '6.2',\n            '8.1'   : '6.3',\n            '10'    : ['6.4', '10.0'],\n            'NT'    : ''\n        },\n        \n        formFactorsMap = {\n            'embedded'  : 'Automotive',\n            'mobile'    : 'Mobile',\n            'tablet'    : ['Tablet', 'EInk'],\n            'smarttv'   : 'TV',\n            'wearable'  : 'Watch',\n            'xr'        : ['VR', 'XR'],\n            '?'         : ['Desktop', 'Unknown'],\n            '*'         : undefined\n        },\n\n        browserHintsMap = {\n            'Chrome'        : 'Google Chrome',\n            'Edge'          : 'Microsoft Edge',\n            'Edge WebView2' : 'Microsoft Edge WebView2',\n            'Chrome WebView': 'Android WebView',\n            'Chrome Headless':'HeadlessChrome',\n            'Huawei Browser': 'HuaweiBrowser',\n            'MIUI Browser'  : 'Miui Browser',\n            'Opera Mobi'    : 'OperaMobile',\n            'Yandex'        : 'YaBrowser'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var defaultRegexes = {\n\n        browser : [[\n\n            // Most common regardless engine\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, PREFIX_MOBILE + 'Chrome']], [\n            /webview.+edge\\/([\\w\\.]+)/i                                         // Microsoft Edge\n            ], [VERSION, [NAME, EDGE+' WebView']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       \n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bop(?:rg)?x\\/([\\w\\.]+)/i                                          // Opera GX\n            ], [VERSION, [NAME, OPERA+' GX']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i            // Baidu\n            ], [VERSION, [NAME, 'Baidu']], [\n            /\\b(?:mxbrowser|mxios|myie2)\\/?([-\\w\\.]*)\\b/i                       // Maxthon\n            ], [VERSION, [NAME, 'Maxthon']], [\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\/ ]?([\\w\\.]*)/i,      \n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir\n            // Trident based\n            /(avant|iemobile|slim(?:browser|boat|jet))[\\/ ]?([\\d\\.]*)/i,        // Avant/IEMobile/SlimBrowser/SlimBoat/Slimjet\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Blink/Webkit/KHTML based                                         // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon/LG Browser/Otter/qutebrowser/Dooble/Palemoon\n            /(atlas|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser|palemoon)\\/([-\\w\\.]+)/i,\n                                                                                // Atlas/Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio/Dragon\n            /(heytap|ovi|115|surf|qwant)browser\\/([\\d\\.]+)/i,                   // HeyTap/Ovi/115/Surf\n            /(qwant)(?:ios|mobile)\\/([\\d\\.]+)/i,                                // Qwant\n            /(ecosia|weibo)(?:__| \\w+@)([\\d\\.]+)/i                              // Ecosia/Weibo\n            ], [NAME, VERSION], [\n            /quark(?:pc)?\\/([-\\w\\.]+)/i                                         // Quark\n            ], [VERSION, [NAME, 'Quark']], [\n            /\\bddg\\/([\\w\\.]+)/i                                                 // DuckDuckGo\n            ], [VERSION, [NAME, 'DuckDuckGo']], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UCBrowser']], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i,\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /slbrowser\\/([\\w\\.]+)/i                                             // Smart Lenovo Browser\n            ], [VERSION, [NAME, 'Smart ' + LENOVO + SUFFIX_BROWSER]], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure' + SUFFIX_BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI' + SUFFIX_BROWSER]], [\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, PREFIX_MOBILE + FIREFOX]], [\n            /\\bqihoobrowser\\/?([\\w\\.]*)/i                                       // 360\n            ], [VERSION, [NAME, '360']], [\n            /\\b(qq)\\/([\\w\\.]+)/i                                                // QQ\n            ], [[NAME, /(.+)/, '$1Browser'], VERSION], [\n            /(oculus|sailfish|huawei|vivo|pico)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1' + SUFFIX_BROWSER], VERSION], [              // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser\n            /samsungbrowser\\/([\\w\\.]+)/i                                        // Samsung Internet\n            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [\n            /metasr[\\/ ]?([\\d\\.]+)/i                                            // Sogou Explorer\n            ], [VERSION, [NAME, SOGOU + ' Explorer']], [\n            /(sogou)mo\\w+\\/([\\d\\.]+)/i                                          // Sogou Mobile\n            ], [[NAME, SOGOU + ' Mobile'], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|2345(?=browser|chrome|explorer))\\w*[\\/ ]?v?([\\w\\.]+)/i   // QQ/2345\n            ], [NAME, VERSION], [\n            /(lbbrowser|rekonq|steam(?= (clie|tenf|gameo)))/i                   // LieBao Browser/Rekonq/Steam\n            ], [NAME], [\n            /ome\\/([\\w\\.]+) \\w* ?(iron) saf/i,                                  // Iron\n            /ome\\/([\\w\\.]+).+qihu (360)[es]e/i                                  // 360\n            ], [VERSION, NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION, [TYPE, INAPP]], [\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /(daum)apps[\\/ ]([\\w\\.]+)/i,                                        // Daum App\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(alipay)client\\/([\\w\\.]+)/i,                                       // Alipay\n            /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,                               // Twitter\n            /(bing)(?:web|sapphire)\\/([\\w\\.]+)/i,                               // Bing\n            /(instagram|snapchat|klarna)[\\/ ]([-\\w\\.]+)/i                       // Instagram/Snapchat/Klarna\n            ], [NAME, VERSION, [TYPE, INAPP]], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA'], [TYPE, INAPP]], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok'], [TYPE, INAPP]], [\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME, [TYPE, INAPP]], [\n            /(zalo(?:app)?)[\\/\\sa-z]*([\\w\\.-]+)/i                               // Zalo \n            ], [[NAME, /(.+)/, 'Zalo'], VERSION, [TYPE, INAPP]], [\n\n            /(chromium)[\\/ ]([-\\w\\.]+)/i                                        // Chromium\n            ], [NAME, VERSION], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            /wv\\).+chrome\\/([\\w\\.]+).+edgw\\//i                                  // Edge WebView2\n            ], [VERSION, [NAME, EDGE+' WebView2']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android' + SUFFIX_BROWSER]], [\n\n            /chrome\\/([\\w\\.]+) mobile/i                                         // Chrome Mobile\n            ], [VERSION, [NAME, PREFIX_MOBILE + 'Chrome']], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile(?:\\/\\w+ | ?)safari/i                 // Safari Mobile\n            ], [VERSION, [NAME, PREFIX_MOBILE + 'Safari']], [\n            /iphone .*mobile(?:\\/\\w+ | ?)safari/i\n            ], [[NAME, PREFIX_MOBILE + 'Safari']], [\n            /version\\/([\\w\\.\\,]+) .*(safari)/i                                  // Safari\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, '1']], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(?:mobile|tablet);.*(firefox)\\/([\\w\\.-]+)/i                        // Firefox Mobile\n            ], [[NAME, PREFIX_MOBILE + FIREFOX], VERSION], [\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(wolvic|librewolf)\\/([\\w\\.]+)/i                                    // Wolvic/LibreWolf\n            ], [NAME, VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+(?= .+rv\\:.+gecko\\/\\d+)|[0-4][\\w\\.]+(?!.+compatible))/i, // Mozilla\n\n            // Other\n            /(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser/Ladybird\n            /\\b(links) \\(([\\w\\.]+)/i                                            // Links\n            ], [NAME, [VERSION, /_/g, '.']], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /[^\\d\\.]+./, EMPTY]]\n        ],\n\n        cpu : [[\n\n            /\\b((amd|x|x86[-_]?|wow|win)64)\\b/i                                 // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i,                                                     // IA32 (quicktime)\n            /\\b((i[346]|x)86)(pc)?\\b/i                                          // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?[89]e?l?|_?64))\\b/i                               // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(v[67])?ht?n?[fl]p?)\\b/i                                     // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /( (ce|mobile); ppc;|\\/[\\w\\.]+arm\\b)/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            / sun4\\w[;\\)]/i                                                     // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            /\\b(avr32|ia64(?=;)|68k(?=\\))|\\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\\b|pa-risc)/i,\n            /((ppc|powerpc)(64)?)( mac|;|\\))/i,                                 // PowerPC\n            /(?:osf1|[freopnt]{3,4}bsd) (alpha)/i                               // Alpha\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n            /mc680.0/i\n            ], [[ARCHITECTURE, '68k']], [\n            /winnt.+\\[axp/i\n            ], [[ARCHITECTURE, 'alpha']]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-(?![lr])\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]((?!sm-[lr]|browser)[-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)[\\/\\);]/i                           // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\b(?:ios|apple\\w+)\\/.+[\\(\\/](ipad)/i,                              // iPad\n            /\\b(ipad)[\\d,]*[;\\] ].+(mac |i(pad)?)os/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Honor\n            /\\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\\)|;)/i\n            ], [MODEL, [VENDOR, HONOR], [TYPE, TABLET]], [\n            /honor([-\\w ]+)[;\\)]/i\n            ], [MODEL, [VENDOR, HONOR], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\\w\\. ]*(?= bui|\\)))\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei) ?([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][\\dc][adnt]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /oid[^\\)]+; (2[\\dbc]{4}(182|283|rp\\w{2})[cgl]|m2105k81a?c)(?: bui|\\))/i,\n            /\\b(?:xiao)?((?:red)?mi[-_ ]?pad[\\w- ]*)(?: bui|\\))/i               // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n                                                                                // Xiaomi Redmi / POCO / Black Shark / Qin\n            /oid[^\\)]+; (redmi[\\-_ ]?(?:note|k)?[\\w_ ]+|m?[12]\\d[01]\\d\\w{3,6}|poco[\\w ]+|(shark )?\\w{3}-[ah]0|qin ?[1-3](s\\+|ultra| pro)?)( bui|; wv|\\))/i,\n                                                                                // Xiaomi Mi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note|max|cc)?[_ ]?(?:\\d{0,2}\\w?)[_ ]?(?:plus|se|lite|pro)?( 5g|lte)?)(?: bui|\\))/i,\n            / ([\\w ]+) miui\\/v?\\d/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n\n            // OnePlus\n            /droid.+; (cph2[3-6]\\d[13579]|((gm|hd)19|(ac|be|in|kb)20|(d[en]|eb|le|mt)21|ne22)[0-2]\\d|p[g-k]\\w[1m]10)\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, ONEPLUS], [TYPE, MOBILE]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, OPPO], [TYPE, MOBILE]], [\n            /\\b(opd2(\\d{3}a?))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, strMapper, { 'OnePlus' : ['203', '304', '403', '404', '413', '415'], '*' : OPPO }], [TYPE, TABLET]], [\n\n            // BLU\n            /(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\\w\\+ ]*)(?: bui|\\))/i  // Vivo series\n            ], [MODEL, [VENDOR, 'BLU'], [TYPE, MOBILE]], [    \n\n            // Vivo\n            /; vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\\d{3,4}(?:f[cu]|xu|[av])|yt\\d?-[jx]?\\d+[lfmx])( bui|;|\\)|\\/)/i,\n            /lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\\w- ]+?)|tb[\\w-]{6,7})( bui|;|\\)|\\/)/i\n            ], [MODEL, [VENDOR, LENOVO], [TYPE, TABLET]], [            \n            /lenovo[-_ ]?([-\\w ]+?)(?: bui|\\)|\\/)/i\n            ], [MODEL, [VENDOR, LENOVO], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ]([\\w\\s]+)(\\)| bui)/i,\n            /((?:moto(?! 360)[-\\w\\(\\) ]+|xt\\d{3,4}[cgkosw\\+]?[-\\d]*|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+(?!.*(?:browser|netcast|android tv|watch|webos))(\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Nokia\n            /(nokia) (t[12][01])/i\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n            /(?:maemo|nokia).*(n900|lumia \\d+|rm-\\d+)/i,\n            /nokia[-_ ]?(([-\\w\\. ]*?))( bui|\\)|;|\\/)/i\n            ], [[MODEL, /_/g, ' '], [TYPE, MOBILE], [VENDOR, 'Nokia']], [\n\n            // Google\n            /(pixel (c|tablet))\\b/i                                             // Google Pixel C/Tablet\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n                                                                                // Google Pixel\n            /droid.+;(?: google)? (g(01[13]a|020[aem]|025[jn]|1b60|1f8f|2ybb|4s1m|576d|5nz6|8hhn|8vou|a02099|c15s|d1yq|e2ae|ec77|gh2x|kv4x|p4bc|pj41|r83y|tt9q|ur25|wvk6)|pixel[\\d ]*a?( pro)?( xl)?( fold)?( \\(5g\\))?)( bui|\\))/i\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n            /(google) (pixelbook( go)?)/i\n            ], [VENDOR, MODEL], [\n\n            // Sony\n            /droid.+; (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-\\w\\w\\d\\d)(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo(?!bc)\\w\\w)( bui|\\))/i,                           // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /(?:blackberry|\\(bb10;) (\\w+)/i\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // TCL\n            /tcl (xess p17aa)/i,\n            /droid [\\w\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n            ], [MODEL, [VENDOR, 'TCL'], [TYPE, TABLET]], [\n            /droid [\\w\\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n            ], [MODEL, [VENDOR, 'TCL'], [TYPE, MOBILE]], [\n\n            // itel\n            /(itel) ((\\w+))/i\n            ], [[VENDOR, lowerize], MODEL, [TYPE, strMapper, { 'tablet' : ['p10001l', 'w7001'], '*' : 'mobile' }]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n                \n            // Ulefone\n            /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n\n            // Energizer\n            /; (energy ?\\w+)(?: bui|\\))/i,\n            /; energizer ([\\w ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Energizer'], [TYPE, MOBILE]], [\n\n            // Cat\n            /; cat (b35);/i,\n            /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Cat'], [TYPE, MOBILE]], [\n\n            // Smartfren\n            /((?:new )?andromax[\\w- ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Smartfren'], [TYPE, MOBILE]], [\n\n            // Nothing\n            /droid.+; (a(in)?(0(15|59|6[35])|142)p?)/i\n            ], [MODEL, [VENDOR, 'Nothing'], [TYPE, MOBILE]], [\n\n            // Archos\n            /; (x67 5g|tikeasy \\w+|ac[1789]\\d\\w+)( b|\\))/i,\n            /archos ?(5|gamepad2?|([\\w ]*[t1789]|hello) ?\\d+[\\w ]*)( b|\\))/i\n            ], [MODEL, [VENDOR, 'Archos'], [TYPE, TABLET]], [\n            /archos ([\\w ]+)( b|\\))/i,\n            /; (ac[3-6]\\d\\w{2,8})( b|\\))/i \n            ], [MODEL, [VENDOR, 'Archos'], [TYPE, MOBILE]], [\n\n            // HMD\n            /; (n159v)/i\n            ], [MODEL, [VENDOR, 'HMD'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(imo) (tab \\w+)/i,                                                 // IMO\n            /(infinix|tecno) (x1101b?|p904|dp(7c|8d|10a)( pro)?|p70[1-3]a?|p904|t1101)/i                     // Infinix XPad / Tecno\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|tecno|micromax|advan)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron/Tecno/Micromax/Advan\n                                                                                // BLU/HMD/IMO/Infinix/Lava/OnePlus/TCL/Wiko\n            /; (blu|hmd|imo|infinix|lava|oneplus|tcl|wiko)[_ ]([\\w\\+ ]+?)(?: bui|\\)|; r)/i,\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(oppo) ?([\\w ]+) bui/i,                                            // OPPO\n            /(hisense) ([ehv][\\w ]+)\\)/i,                                       // Hisense\n            /droid[^;]+; (philips)[_ ]([sv-x][\\d]{3,4}[xz]?)/i                  // Philips\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i                                              // Kindle\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /((?:tegranote|shield t(?!.+d tv))[\\w- ]*?)(?: b|\\))/i              // Nvidia Tablets\n            ], [MODEL, [VENDOR, NVIDIA], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i               // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /(philips)[\\w ]+tv/i,                                               // Philips\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(vizio)(?: |.+model\\/)(\\w+-\\w+)/i,                                 // Vizio\n            /tcast.+(lg)e?. ([-\\w]+)/i                                          // LG SmartTV\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey.*devicetype\\/chromecast/i                                    // Google Chromecast Third Generation\n            ], [[MODEL, CHROMECAST+' Third Generation'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /crkey.*devicetype\\/([^/]*)/i                                       // Google Chromecast with specific device type\n            ], [[MODEL, /^/, 'Chromecast '], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /fuchsia.*crkey/i                                                   // Google Chromecast Nest Hub\n            ], [[MODEL, CHROMECAST+' Nest Hub'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast, Linux-based or unknown\n            ], [[MODEL, CHROMECAST], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /(portaltv)/i                                                       // Facebook Portal TV\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /(shield \\w+ tv)/i                                                  // Nvidia Shield TV\n            ], [MODEL, [VENDOR, NVIDIA], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                          // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mi(tv|box)-?\\w+) bui/i                                            // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, /.+\\/(\\w+)/, '$1', strMapper, {'LG':'lge'}], [MODEL, trim], [TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(playstation \\w+)/i                                                // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) (\\w+)/i,                                                // Nintendo\n            /(retroid) (pocket ([^\\)]+))/i,                                     // Retroid Pocket\n            /(valve).+(steam deck)/i,\n            /droid.+; ((shield|rgcube|gr0006))( bui|\\))/i                       // Nvidia Portable/Anbernic/Logitech\n            ], [[VENDOR, strMapper, { 'Nvidia': 'Shield', 'Anbernic': 'RGCUBE', 'Logitech': 'GR0006' }], MODEL, [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /\\b(sm-[lr]\\d\\d[0156][fnuw]?s?|gear live)\\b/i                       // Samsung Galaxy Watch\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]], [\n            /((pebble))app/i,                                                   // Pebble\n            /(asus|google|lg|oppo|xiaomi) ((pixel |zen)?watch[\\w ]*)( bui|\\))/i // Asus ZenWatch / LG Watch / Pixel Watch / Xiaomi Watch\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(ow(?:19|20)?we?[1-3]{1,3})/i                                      // Oppo Watch\n            ], [MODEL, [VENDOR, OPPO], [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /(opwwe\\d{3})/i                                                     // OnePlus Watch\n            ], [MODEL, [VENDOR, ONEPLUS], [TYPE, WEARABLE]], [\n            /(moto 360)/i                                                       // Motorola 360\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, WEARABLE]], [\n            /(smartwatch 3)/i                                                   // Sony SmartWatch\n            ], [MODEL, [VENDOR, SONY], [TYPE, WEARABLE]], [\n            /(g watch r)/i                                                      // LG G Watch R\n            ], [MODEL, [VENDOR, LG], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // XR\n            ///////////////////\n\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, XR]], [\n            /(pico) ([\\w ]+) os\\d/i                                             // Pico\n            ], [VENDOR, MODEL, [TYPE, XR]], [\n            /(quest( \\d| pro)?s?).+vr/i                                         // Meta Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, XR]], [\n            /mobile vr; rv.+firefox/i                                           // Unidentifiable VR device using Firefox Reality / Wolvic\n            ], [[TYPE, XR]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n            /(homepod).+mac os/i                                                // Apple HomePod\n            ], [MODEL, [VENDOR, APPLE], [TYPE, EMBEDDED]], [\n            /windows iot/i                                                      // Unidentifiable embedded device using Windows IoT\n            ], [[TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid.+; ([\\w- ]+) (4k|android|smart|google)[- ]?tv/i              // Unidentifiable SmartTV\n            ], [MODEL, [TYPE, SMARTTV]], [\n            /\\b((4k|android|smart|opera)[- ]?tv|tv; rv:|large screen[\\w ]+safari)\\b/i\n            ], [[TYPE, SMARTTV]], [\n            /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew|; hmsc).+?(mobile|vr|\\d) safari/i\n            ], [MODEL, [TYPE, strMapper, { 'mobile' : 'Mobile', 'xr' : 'VR', '*' : TABLET }]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /droid .+?; ([\\w\\. -]+)( bui|\\))/i                                  // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /(arkweb)\\/([\\w\\.]+)/i                                              // ArkWeb\n            ], [NAME, VERSION], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna/Servo\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n\n            /\\b(libweb)/i                                                       // LibWeb\n            ], [NAME, VERSION], [\n            /ladybird\\//i\n            ], [[NAME, 'LibWeb']], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /(windows nt) (6\\.[23]); arm/i                                      // Windows RT\n            ], [[NAME, /N/, 'R'], [VERSION, strMapper, windowsVersionMap]], [\n            /(windows (?:phone|mobile|iot))(?: os)?[\\/ ]?([\\d\\.]*( se)?)/i,     // Windows IoT/Mobile/Phone\n                                                                                // Windows NT/3.1/95/98/ME/2000/XP/Vista/7/8/8.1/10/11\n            /(windows)[\\/ ](1[01]|2000|3\\.1|7|8(\\.1)?|9[58]|me|server 20\\d\\d( r2)?|vista|xp)/i\n            ], [NAME, VERSION], [\n            /windows nt ?([\\d\\.\\)]*)(?!.+xbox)/i,\n            /\\bwin(?=3| ?9|n)(?:nt| 9x )?([\\d\\.;]*)/i\n            ], [[VERSION, /(;|\\))/g, '', strMapper, windowsVersionMap], [NAME, WINDOWS]], [\n            /(windows ce)\\/?([\\d\\.]*)/i                                         // Windows CE\n            ], [NAME, VERSION], [\n\n            // iOS/macOS\n            /[adehimnop]{4,7}\\b(?:.*os ([\\w]+) like mac|; opera)/i,             // iOS\n            /(?:ios;fbsv|ios(?=.+ip(?:ad|hone)|.+apple ?tv)|ip(?:ad|hone)(?: |.+i(?:pad)?)os|apple ?tv.+ios)[\\/ ]([\\w\\.]+)/i,\n            /\\btvos ?([\\w\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+(haiku|morphos))/i                   // Mac OS\n            ], [[NAME, 'macOS'], [VERSION, /_/g, '.']], [\n\n            // Google Chromecast\n            /android ([\\d\\.]+).*crkey/i                                         // Google Chromecast, Android-based\n            ], [VERSION, [NAME, CHROMECAST + ' Android']], [\n            /fuchsia.*crkey\\/([\\d\\.]+)/i                                        // Google Chromecast, Fuchsia-based\n            ], [VERSION, [NAME, CHROMECAST + ' Fuchsia']], [\n            /crkey\\/([\\d\\.]+).*devicetype\\/smartspeaker/i                       // Google Chromecast, Linux-based Smart Speaker\n            ], [VERSION, [NAME, CHROMECAST + ' SmartSpeaker']], [\n            /linux.*crkey\\/([\\d\\.]+)/i                                          // Google Chromecast, Legacy Linux-based\n            ], [VERSION, [NAME, CHROMECAST + ' Linux']], [\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast, unknown\n            ], [VERSION, [NAME, CHROMECAST]], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86)/i                              // Android-x86\n            ], [VERSION, NAME], [                                               \n            /(ubuntu) ([\\w\\.]+) like android/i                                  // Ubuntu Touch\n            ], [[NAME, /(.+)/, '$1 Touch'], VERSION], [\n            /(harmonyos)[\\/ ]?([\\d\\.]*)/i,                                      // HarmonyOS\n                                                                                // Android/Blackberry/WebOS/QNX/Bada/RIM/KaiOS/Maemo/MeeGo/S40/Sailfish OS/OpenHarmony/Tizen\n            /(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen)\\w*[-\\/\\.; ]?([\\d\\.]*)/i\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\\/ ]?([\\w\\.]*)/i       // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i,                             // WebOS\n            /webos(?:[ \\/]?|\\.tv-20(?=2[2-9]))(\\d[\\d\\.]*)/i\n            ], [VERSION, [NAME, 'webOS']], [\n            /web0s;.+?(?:chr[o0]me|safari)\\/(\\d+)/i\n                                                                                // https://webostv.developer.lge.com/develop/specifications/web-api-and-web-engine\n            ], [[VERSION, strMapper, {'25':'120','24':'108','23':'94','22':'87','6':'79','5':'68','4':'53','3':'38','2':'538','1':'537','*':'TV'}], [NAME, 'webOS']], [                   \n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google ChromeOS\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, \"Chrome OS\"], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) (\\w+)/i,                                    // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n            /(pico) .+os([\\w\\.]+)/i,                                            // Pico\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /linux.+(mint)[\\/\\(\\) ]?([\\w\\.]*)/i,                                // Mint\n            /(mageia|vectorlinux|fuchsia|arcaos|arch(?= ?linux))[;l ]([\\d\\.]*)/i,  // Mageia/VectorLinux/Fuchsia/ArcaOS/Arch\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire|knoppix)(?: gnu[\\/ ]linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire/Knoppix\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /\\b(aix)[; ]([1-9\\.]{0,4})/i,                                       // AIX\n            /(hurd|linux|morphos)(?: (?:arm|x86|ppc)\\w*| ?)([\\w\\.]*)/i,         // Hurd/Linux/MorphOS\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) ?(r\\d)?/i                                                  // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\d\\.]*)/i                                               // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /\\b(beos|os\\/2|amigaos|openvms|hp-ux|serenityos)/i,                 // BeOS/OS2/AmigaOS/OpenVMS/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Factories\n    ////////////////\n\n    var defaultProps = (function () {\n            var props = { init : {}, isIgnore : {}, isIgnoreRgx : {}, toString : {}};\n            setProps.call(props.init, [\n                [BROWSER, [NAME, VERSION, MAJOR, TYPE]],\n                [CPU, [ARCHITECTURE]],\n                [DEVICE, [TYPE, MODEL, VENDOR]],\n                [ENGINE, [NAME, VERSION]],\n                [OS, [NAME, VERSION]]\n            ]);\n            setProps.call(props.isIgnore, [\n                [BROWSER, [VERSION, MAJOR]],\n                [ENGINE, [VERSION]],\n                [OS, [VERSION]]\n            ]);\n            setProps.call(props.isIgnoreRgx, [\n                [BROWSER, / ?browser$/i],\n                [OS, / ?os$/i]\n            ]);\n            setProps.call(props.toString, [\n                [BROWSER, [NAME, VERSION]],\n                [CPU, [ARCHITECTURE]],\n                [DEVICE, [VENDOR, MODEL]],\n                [ENGINE, [NAME, VERSION]],\n                [OS, [NAME, VERSION]]\n            ]);\n            return props;\n    })();\n\n    var createIData = function (item, itemType) {\n\n        var init_props = defaultProps.init[itemType],\n            is_ignoreProps = defaultProps.isIgnore[itemType] || 0,\n            is_ignoreRgx = defaultProps.isIgnoreRgx[itemType] || 0,\n            toString_props = defaultProps.toString[itemType] || 0;\n\n        function IData () {\n            setProps.call(this, init_props);\n        }\n\n        IData.prototype.getItem = function () {\n            return item;\n        };\n\n        IData.prototype.withClientHints = function () {\n\n            // nodejs / non-client-hints browsers\n            if (!NAVIGATOR_UADATA) {\n                return item\n                        .parseCH()\n                        .get();\n            }\n\n            // browsers based on chromium 85+\n            return NAVIGATOR_UADATA\n                    .getHighEntropyValues(CH_ALL_VALUES)\n                    .then(function (res) {\n                        return item\n                                .setCH(new UACHData(res, false))\n                                .parseCH()\n                                .get();\n            });\n        };\n\n        IData.prototype.withFeatureCheck = function () {\n            return item.detectFeature().get();\n        };\n\n        if (itemType != RESULT) {\n            IData.prototype.is = function (strToCheck) {\n                var is = false;\n                for (var i in this) {\n                    if (this.hasOwnProperty(i) && !has(is_ignoreProps, i) && lowerize(is_ignoreRgx ? strip(is_ignoreRgx, this[i]) : this[i]) == lowerize(is_ignoreRgx ? strip(is_ignoreRgx, strToCheck) : strToCheck)) {\n                        is = true;\n                        if (strToCheck != TYPEOF.UNDEFINED) break;\n                    } else if (strToCheck == TYPEOF.UNDEFINED && is) {\n                        is = !is;\n                        break;\n                    }\n                }\n                return is;\n            };\n            IData.prototype.toString = function () {\n                var str = EMPTY;\n                for (var i in toString_props) {\n                    if (typeof(this[toString_props[i]]) !== TYPEOF.UNDEFINED) {\n                        str += (str ? ' ' : EMPTY) + this[toString_props[i]];\n                    }\n                }\n                return str || TYPEOF.UNDEFINED;\n            };\n        }\n\n        IData.prototype.then = function (cb) { \n            var that = this;\n            var IDataResolve = function () {\n                for (var prop in that) {\n                    if (that.hasOwnProperty(prop)) {\n                        this[prop] = that[prop];\n                    }\n                }\n            };\n            IDataResolve.prototype = {\n                is : IData.prototype.is,\n                toString : IData.prototype.toString,\n                withClientHints : IData.prototype.withClientHints,\n                withFeatureCheck : IData.prototype.withFeatureCheck\n            };\n            var resolveData = new IDataResolve();\n            cb(resolveData);\n            return resolveData;\n        };\n\n        return new IData();\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    function UACHData (uach, isHttpUACH) {\n        uach = uach || {};\n        setProps.call(this, CH_ALL_VALUES);\n        if (isHttpUACH) {\n            setProps.call(this, [\n                [BRANDS, itemListToArray(uach[CH])],\n                [FULLVERLIST, itemListToArray(uach[CH_FULL_VER_LIST])],\n                [MOBILE, /\\?1/.test(uach[CH_MOBILE])],\n                [MODEL, stripQuotes(uach[CH_MODEL])],\n                [PLATFORM, stripQuotes(uach[CH_PLATFORM])],\n                [PLATFORMVER, stripQuotes(uach[CH_PLATFORM_VER])],\n                [ARCHITECTURE, stripQuotes(uach[CH_ARCH])],\n                [FORMFACTORS, itemListToArray(uach[CH_FORM_FACTORS])],\n                [BITNESS, stripQuotes(uach[CH_BITNESS])]\n            ]);\n        } else {\n            for (var prop in uach) {\n                if(this.hasOwnProperty(prop) && typeof uach[prop] !== TYPEOF.UNDEFINED) this[prop] = uach[prop];\n            }\n        }\n    }\n\n    function UAItem (itemType, ua, rgxMap, uaCH) {\n        setProps.call(this, [\n            ['itemType', itemType],\n            ['ua', ua],\n            ['uaCH', uaCH],\n            ['rgxMap', rgxMap],\n            ['data', createIData(this, itemType)]\n        ]);\n        return this;\n    }\n\n    UAItem.prototype.get = function (prop) {\n        if (!prop) return this.data;\n        return this.data.hasOwnProperty(prop) ? this.data[prop] : undefined;\n    };\n\n    UAItem.prototype.set = function (prop, val) {\n        this.data[prop] = val;\n        return this;\n    };\n\n    UAItem.prototype.setCH = function (ch) {\n        this.uaCH = ch;\n        return this;\n    };\n\n    UAItem.prototype.detectFeature = function () {\n        if (NAVIGATOR && NAVIGATOR.userAgent == this.ua) {\n            switch (this.itemType) {\n                case BROWSER:\n                    // Brave-specific detection\n                    if (NAVIGATOR.brave && typeof NAVIGATOR.brave.isBrave == TYPEOF.FUNCTION) {\n                        this.set(NAME, 'Brave');\n                    }\n                    break;\n                case DEVICE:\n                    // Chrome-specific detection: check for 'mobile' value of navigator.userAgentData\n                    if (!this.get(TYPE) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[MOBILE]) {\n                        this.set(TYPE, MOBILE);\n                    }\n                    // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n                    if (this.get(MODEL) == 'Macintosh' && NAVIGATOR && typeof NAVIGATOR.standalone !== TYPEOF.UNDEFINED && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 2) {\n                        this.set(MODEL, 'iPad')\n                            .set(TYPE, TABLET);\n                    }\n                    break;\n                case OS:\n                    // Chrome-specific detection: check for 'platform' value of navigator.userAgentData\n                    if (!this.get(NAME) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[PLATFORM]) {\n                        this.set(NAME, NAVIGATOR_UADATA[PLATFORM]);\n                    }\n                    break;\n                case RESULT:\n                    var data = this.data;\n                    var detect = function (itemType) {\n                        return data[itemType]\n                                .getItem()\n                                .detectFeature()\n                                .get();\n                    };\n                    this.set(BROWSER, detect(BROWSER))\n                        .set(CPU, detect(CPU))\n                        .set(DEVICE, detect(DEVICE))\n                        .set(ENGINE, detect(ENGINE))\n                        .set(OS, detect(OS));\n            }\n        }\n        return this;\n    };\n\n    UAItem.prototype.parseUA = function () {\n        if (this.itemType != RESULT) {\n            rgxMapper.call(this.data, this.ua, this.rgxMap);\n        }\n        switch (this.itemType) {\n            case BROWSER:\n                this.set(MAJOR, majorize(this.get(VERSION)));\n                break;\n            case OS:\n                if (this.get(NAME) == 'iOS' && this.get(VERSION) == '18.6') {\n                    // Based on the assumption that iOS version is tightly coupled with Safari version\n                    var realVersion = /\\) Version\\/([\\d\\.]+)/.exec(this.ua); // Get Safari version\n                    if (realVersion && parseInt(realVersion[1].substring(0,2), 10) >= 26) {\n                        this.set(VERSION, realVersion[1]);  // Set as iOS version\n                    }\n                }\n                break;\n        }\n        return this;\n    };\n\n    UAItem.prototype.parseCH = function () {\n        var uaCH = this.uaCH,\n            rgxMap = this.rgxMap;\n\n        switch (this.itemType) {\n            case BROWSER:\n            case ENGINE:\n                var brands = uaCH[FULLVERLIST] || uaCH[BRANDS], prevName;\n                if (brands) {\n                    for (var i=0; i<brands.length; i++) {\n                        var brandName = brands[i].brand || brands[i],\n                            brandVersion = brands[i].version;\n                        if (this.itemType == BROWSER && \n                            !/not.a.brand/i.test(brandName) && \n                            (!prevName || \n                                (/Chrom/.test(prevName) && brandName != CHROMIUM) || \n                                (prevName == EDGE && /WebView2/.test(brandName))\n                            )) {\n                                brandName = strMapper(brandName, browserHintsMap);\n                                prevName = this.get(NAME);\n                                if (!(prevName && !/Chrom/.test(prevName) && /Chrom/.test(brandName))) {\n                                    this.set(NAME, brandName)\n                                        .set(VERSION, brandVersion)\n                                        .set(MAJOR, majorize(brandVersion));\n                                }\n                                prevName = brandName;\n                        }\n                        if (this.itemType == ENGINE && brandName == CHROMIUM) {\n                            this.set(VERSION, brandVersion);\n                        }\n                    }\n                }\n                break;\n            case CPU:\n                var archName = uaCH[ARCHITECTURE];\n                if (archName) {\n                    if (archName && uaCH[BITNESS] == '64') archName += '64';\n                    rgxMapper.call(this.data, archName + ';', rgxMap);\n                }\n                break;\n            case DEVICE:\n                if (uaCH[MOBILE]) {\n                    this.set(TYPE, MOBILE);\n                }\n                if (uaCH[MODEL]) {\n                    this.set(MODEL, uaCH[MODEL]);\n                    if (!this.get(TYPE) || !this.get(VENDOR)) {\n                        var reParse = {};\n                        rgxMapper.call(reParse, 'droid 9; ' + uaCH[MODEL] + ')', rgxMap);\n                        if (!this.get(TYPE) && !!reParse.type) {\n                            this.set(TYPE, reParse.type);\n                        }\n                        if (!this.get(VENDOR) && !!reParse.vendor) {\n                            this.set(VENDOR, reParse.vendor);\n                        }\n                    }\n                }\n                if (uaCH[FORMFACTORS]) {\n                    var ff;\n                    if (typeof uaCH[FORMFACTORS] !== 'string') {\n                        var idx = 0;\n                        while (!ff && idx < uaCH[FORMFACTORS].length) {\n                            ff = strMapper(uaCH[FORMFACTORS][idx++], formFactorsMap);\n                        }\n                    } else {\n                        ff = strMapper(uaCH[FORMFACTORS], formFactorsMap);\n                    }\n                    this.set(TYPE, ff);\n                }\n                break;\n            case OS:\n                var osName = uaCH[PLATFORM];\n                if(osName) {\n                    var osVersion = uaCH[PLATFORMVER];\n                    if (osName == WINDOWS) osVersion = (parseInt(majorize(osVersion), 10) >= 13 ? '11' : '10');\n                    this.set(NAME, osName)\n                        .set(VERSION, osVersion);\n                }\n                // Xbox-Specific Detection\n                if (this.get(NAME) == WINDOWS && uaCH[MODEL] == 'Xbox') {\n                    this.set(NAME, 'Xbox')\n                        .set(VERSION, undefined);\n                }           \n                break;\n            case RESULT:\n                var data = this.data;\n                var parse = function (itemType) {\n                    return data[itemType]\n                            .getItem()\n                            .setCH(uaCH)\n                            .parseCH()\n                            .get();\n                };\n                this.set(BROWSER, parse(BROWSER))\n                    .set(CPU, parse(CPU))\n                    .set(DEVICE, parse(DEVICE))\n                    .set(ENGINE, parse(ENGINE))\n                    .set(OS, parse(OS));\n        }\n        return this;\n    };\n\n    function UAParser (ua, extensions, headers) {\n\n        if (typeof ua === TYPEOF.OBJECT) {\n            if (isExtensions(ua, true)) {\n                if (typeof extensions === TYPEOF.OBJECT) {\n                    headers = extensions;               // case UAParser(extensions, headers)           \n                }\n                extensions = ua;                        // case UAParser(extensions)\n            } else {\n                headers = ua;                           // case UAParser(headers)\n                extensions = undefined;\n            }\n            ua = undefined;\n        } else if (typeof ua === TYPEOF.STRING && !isExtensions(extensions, true)) {\n            headers = extensions;                       // case UAParser(ua, headers)\n            extensions = undefined;\n        }\n\n        if (headers) {\n            if (typeof headers.append === TYPEOF.FUNCTION) {\n                // Convert Headers object into a plain object\n                var kv = {};\n                headers.forEach(function (v, k) { kv[String(k).toLowerCase()] = v; });\n                headers = kv;\n            } else {\n                // Normalize headers field name into lowercase\n                var normalized = {};\n                for (var header in headers) {\n                    if (headers.hasOwnProperty(header)) {\n                        normalized[String(header).toLowerCase()] = headers[header];\n                    }\n                }\n                headers = normalized;\n            }\n        }\n        \n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions, headers).getResult();\n        }\n\n        var userAgent = typeof ua === TYPEOF.STRING ? ua :                                       // Passed user-agent string\n                                (headers && headers[USER_AGENT] ? headers[USER_AGENT] :     // User-Agent from passed headers\n                                ((NAVIGATOR && NAVIGATOR.userAgent) ? NAVIGATOR.userAgent : // navigator.userAgent\n                                    EMPTY)),                                                // empty string\n\n            httpUACH = new UACHData(headers, true),\n            regexMap = extensions ? \n                        extend(defaultRegexes, extensions) : \n                        defaultRegexes,\n\n            createItemFunc = function (itemType) {\n                if (itemType == RESULT) {\n                    return function () {\n                        return new UAItem(itemType, userAgent, regexMap, httpUACH)\n                                    .set('ua', userAgent)\n                                    .set(BROWSER, this.getBrowser())\n                                    .set(CPU, this.getCPU())\n                                    .set(DEVICE, this.getDevice())\n                                    .set(ENGINE, this.getEngine())\n                                    .set(OS, this.getOS())\n                                    .get();\n                    };\n                } else {\n                    return function () {\n                        return new UAItem(itemType, userAgent, regexMap[itemType], httpUACH)\n                                    .parseUA()\n                                    .get();\n                    };\n                }\n            };\n            \n        // public methods\n        setProps.call(this, [\n            ['getBrowser', createItemFunc(BROWSER)],\n            ['getCPU', createItemFunc(CPU)],\n            ['getDevice', createItemFunc(DEVICE)],\n            ['getEngine', createItemFunc(ENGINE)],\n            ['getOS', createItemFunc(OS)],\n            ['getResult', createItemFunc(RESULT)],\n            ['getUA', function () { return userAgent; }],\n            ['setUA', function (ua) {\n                if (isString(ua)) userAgent = trim(ua, UA_MAX_LENGTH);\n                return this;\n            }]\n        ])\n        .setUA(userAgent);\n\n        return this;\n    }\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR, TYPE]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    export {UAParser};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","/**\n * External dependencies\n */\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\nimport type { HeatmapFrameAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { reactToParentMessages as heatmapReact } from './heatmap';\nimport { reactToParentMessages as scrollmapReact } from './scrollmap';\nimport { reactToParentMessages as confettiReact } from './confetti';\n\nimport { disableLinks, loadAssets, onPageReady } from './internal/page';\nimport { hasWordPressData } from './internal/utils';\nimport {\n\tisInteractive,\n\tmarkPageAsReady,\n\tmarkScriptAsReady,\n\tonWindowResize,\n\tprocessResults,\n} from './internal/store';\n\nimport { domReady } from '../../../public/utils/helpers';\n\ntype MaybeHeatmapFrameAction = {\n\treadonly plugin?: string;\n};\n\nfunction init() {\n\tif ( ! hasWordPressData( window.parent ) ) {\n\t\tconsole.error( 'Parent window doesnt have expected API. Bye!' ); // eslint-disable-line\n\t\treturn;\n\t}\n\n\twindow.addEventListener( 'message', reactToParentMessages, false );\n\n\twindow.addEventListener( 'resize', debounce( onWindowResize, 100 ) );\n\tonWindowResize();\n\n\tmarkScriptAsReady();\n\tdomReady( loadAssets );\n\tdomReady( disableLinks );\n\tonPageReady( markPageAsReady );\n}\n\nfunction reactToParentMessages( message: { data: MaybeHeatmapFrameAction } ) {\n\tconst action = message.data;\n\tif ( ! isHeatmapFrameAction( action ) ) {\n\t\treturn;\n\t}\n\tmakeHeatmapInteractive();\n\theatmapReact( action );\n\tscrollmapReact( action );\n\tconfettiReact( action );\n}\n\nlet hasListeners = false;\nconst refresh = throttle( processResults, 500 );\nfunction makeHeatmapInteractive() {\n\tconst interactive = isInteractive();\n\tif ( interactive === hasListeners ) {\n\t\treturn;\n\t}\n\n\tif ( interactive ) {\n\t\tdocument.addEventListener( 'mousemove', refresh );\n\t\tdocument.addEventListener( 'click', refresh );\n\t\twindow.addEventListener( 'scroll', refresh );\n\t} else {\n\t\tdocument.removeEventListener( 'mousemove', refresh );\n\t\tdocument.removeEventListener( 'click', refresh );\n\t\twindow.removeEventListener( 'scroll', refresh );\n\t}\n\n\thasListeners = interactive;\n}\n\nconst isHeatmapFrameAction = (\n\taction: MaybeHeatmapFrameAction\n): action is HeatmapFrameAction => action.plugin === 'nelio-ab-testing';\n\n// =======\n// KICKOFF\n// =======\n\ninit();\n"],"names":["throttle","STATS_REFRESH_DELAY","areRawResults","getActiveConfettiFilter","getConfettiFilterOptions","getConfettiClicks","getIFrameLabels","getOpacity","processResults","isInteractive","createElement","createOverlayElement","maximizeElement","confetti","reactToParentMessages","action","mode","removeConfettiFromBody","type","renderResults","setOverlayOpacity","makeConfettiInteractive","canvas","initConfetti","appendConfettiInBody","renderConfetti","i","overlay","style","pointerEvents","stats","statsTracker","opacity","document","body","_a","parentNode","removeChild","_b","_c","_d","appendChild","background","height","borderBottom","transition","scrollStatsContainer","fontSize","left","borderRadius","fontWeight","fontFamily","color","display","position","transform","whiteSpace","statsPopularity","className","padding","statsPopularityLabel","createTextNode","clicksAbove","statsPopularityValue","id","lineHeight","margin","addEventListener","event","top","Math","max","pageY","clicksEl","getElementById","clicks","filter","click","visibility","realCoordinates","y","Number","POSITIVE_INFINITY","textContent","length","ctx","getContext","clearRect","width","lineWidth","strokeStyle","activeFilter","options","forEach","c","renderClick","filterOptions","x","activeOptions","fillStyle","beginPath","arc","PI","closePath","fill","stroke","domReady","HEATMAP_GL_CANVAS_SCALE","HEATMAP_POINT_SIZE","HEATMAP_MAX_SIZE_MULTIPLIER","HEATMAP_MIN_INTENSITY","HEATMAP_INTENSITY_RANGE","getClicksPerSquare","getHeatmapClicks","getIntensity","getDocumentHeight","createWebGLHeatmap","heatmap","initWebGLHeatmap","appendHeatmapInBody","removeHeatmapFromBody","refreshHeatmap","updateIntensity","makeHeatmapInteractive","resetHeatmap","renderHeatmap","instance","maximizeHeatmap","clientWidth","adjustSize","mixBlendMode","toFixed","transformOrigin","cps","maxClicksInSquare","intensity","clear","update","multiply","clicksInSquare","getClicksInSquare","normalizedSquareIntensity","clickIntensity","scale","mapScale","addPoint","value","inputStart","inputEnd","outputStart","outputEnd","slope","coords","columns","col","floor","row","index","HEATMAP_MAX_INTENSITY","SCROLLMAP_ROW_HEIGHT","SCROLLMAP_COLORS","SCROLL_STEP_IN_PX","_isPageReady","isPageReady","prq","onPageReady","cb","push","_once","loadAssets","doLoadPage","disableLinks","Array","from","querySelectorAll","link","setAttribute","fetchLazyLoadImages","scanPage","wait","markPageAsLoaded","images","reverse","img","src","getAttribute","window","scrollTo","ms","Promise","resolve","setTimeout","f","isEqual","keyBy","mapValues","pickBy","getElementByXPath","getBodyHeight","NAB_DATA","NAB_HEATMAP","select","parent","wp","data","dispatch","_f","_e","alternative","getAlternative","status","getRawResultStatus","modes","some","m","getRawClicks","getRawScrolls","getClicksInResolution","getActiveResolution","getScrollSummary","isClickVisibleInConfetti","getActiveFilter","getDisabledConfettiFilterOptions","getDisabledFilterOptions","markScriptAsReady","alt","setIFrameStatus","markPageAsReady","res","map","expandClick","page","clickVisibilityProps","computeClickVisibilityProps","dimensions","getPageDimensions","setPageInfo","onWindowResize","pageDimensions","storeDimensions","selector","xpath","cssPath","Object","assign","htmlElement","el","getAllSelectors","reduce","r","s","querySelector","_","isHtmlElement","parseInt","location","search","replace","split","find","startsWith","innerWidth","bodyHeight","iframeHeight","boundingBoxes","computeBoundingBoxes","interactive","getClickCoordinates","areGlobalCoordsOutsideViewport","viewportCoords","transformGlobalToViewportCoords","match","elementFromPoint","element","_selector","undefined","bodyBox","getBoundingClientRect","elBox","box","viewportX","viewportY","viewportWidth","viewportHeight","innerHeight","scrollX","scrollY","getExperiment","getPageAttribute","experimentId","experiment","getActiveAlternative","altIdx","control","alternatives","controlPost","attributes","postId","alternativePost","isPostId","RegExp","n","Node","ELEMENT_NODE","nodeType","actualFilterOptions","disabledFilterOptions","filterValue","keys","includes","_getDocumentHeight","MAX_DESKTOP_HEIGHT","props","__rest","k","p","pairs","parentElement","pair","min","zIndex","isHTMLCanvas","hasWordPressData","win","nodeName","toLowerCase","Framebuffer","Heights","Shader","Texture","WebGLHeatmap","fragmentShaderBlit","nukeVendorPrefix","textureFloatShims","vertexShaderBlit","__indexOf","indexOf","item","l","getExtension","getSupportedExtensions","vendorRe","vendors","WebGLRenderingContext","prototype","name","extobj","vendor","_i","_len","call","extension","result","supported","checkColorBuffer","checkFloatLinear","checkSupport","checkTexture","createSourceCanvas","shimExtensions","shimLookup","unshimExtensions","unshimLookup","imageData","getImageData","set","Uint8ClampedArray","putImageData","gl","sourceType","buffer","cleanup","fragmentShader","framebuffer","positionLoc","program","readBuffer","source","sourceCanvas","sourceLoc","target","vertexShader","vertices","createProgram","createShader","VERTEX_SHADER","attachShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","FRAGMENT_SHADER","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","deleteShader","deleteProgram","deleteBuffer","deleteTexture","deleteFramebuffer","bindBuffer","ARRAY_BUFFER","bindTexture","TEXTURE_2D","bindFramebuffer","FRAMEBUFFER","createTexture","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","createFramebuffer","framebufferTexture2D","COLOR_ATTACHMENT0","Float32Array","createBuffer","bufferData","STATIC_DRAW","getAttribLocation","getUniformLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform1i","drawArrays","TRIANGLES","Uint8Array","readPixels","abs","targetType","getError","check","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","halfFloatExt","halfFloatTexturing","singleFloatExt","singleFloatTexturing","_error","OES_texture_float","shim","WEBGL_color_buffer_float","RGBA32F_EXT","RGB32F_EXT","FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT","UNSIGNED_NORMALIZED_EXT","OES_texture_float_linear","OES_texture_half_float","HALF_FLOAT_OES","EXT_color_buffer_half_float","RGBA16F_EXT","RGB16F_EXT","OES_texture_half_float_linear","_j","_k","_len1","_len2","getFloatExtension","spec","candidate","candidates","half","halfFramebuffer","halfLinear","halfTexture","importance","preference","single","singleFramebuffer","singleLinear","singleTexture","use","_l","_len3","_len4","_m","_ref","_ref1","_ref2","prefer","require","throws","texture","filterable","renderable","score","precision","pow","sort","a","b","join","_arg","fragment","vertex","vs","fs","value_cache","uniform_cache","attribCache","attribLocation","shader","uniformLoc","int","cached","loc","vec2","uniform2f","float","uniform1f","destroy","deleteFRamebuffer","bind","unbind","FRAMEBUFFER_UNSUPPORTED","FRAMEBUFFER_INCOMPLETE_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_DIMENSIONS","FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT","handle","depth","framebufferRenderbuffer","DEPTH_ATTACHMENT","RENDERBUFFER","params","channels","toUpperCase","chancount","RGB","LUMINANCE_ALPHA","unit","activeTexture","TEXTURE0","setSize","upload","linear","nearest","NEAREST","clampToEdge","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","repeat","REPEAT","floatExt","fbo","end","resize","clampShader","multiplyShader","blurShader","nodeBack","nodeFront","vertexBuffer","vertexSize","maxPointCount","vertexBufferData","vertexBufferViews","bufferIndex","pointCount","intensityLoc","enable","BLEND","STREAM_DRAW","disableVertexAttribArray","disable","clearColor","COLOR_BUFFER_BIT","clamp","quad","swap","blur","tmp","addVertex","xs","ys","size","alphaEnd","alphaRange","alphaStart","error","getColorFun","gradientTexture","image","intensityToAlpha","output","textureGradient","antialias","WebGLDebugUtils","console","log","makeDebugContext","err","funcName","args","glEnumToString","blendFunc","ONE","Image","onload","offsetWidth","offsetHeight","viewport","heights","canvasHeight","canvasWidth","addPoints","items","_results","StackBlur","scrollmap","removeScrollmapFromBody","initScrollmap","appendScrollmapInBody","renderScrollmap","averageFold","textAlign","averageFoldContainer","scrollmapSpan","scrollmapSpanIcon","verticalAlign","marginRight","scrollmapLabel","scrollmapValue","popularity","popularityEl","rows","maxHits","rowIndex","round","toLocaleString","generateScrollmapImage","drawImage","renderAverageFold","avgFoldEl","narrowCanvas","narrowCtx","colorIndexes","hits","smoothColorIndexTransition","colorIndex","rowNumber","fillRect","canvasRGB","values","smooth","weighted","average","originalMin","originalMax","originalSize","numOfItems","firstValue","lastValue","smoothed","curr","prev","next","improved","isDefined","splice","smoothedMin","smoothedMax","smoothedSize","normalized","v","sum","val","avg","memo","NEGATIVE_INFINITY","getSettings","sendToGA4","eventData","settings","ga4TrackingMethod","hasDataLayer","dataLayer","kind","experiment_id","variant_id","variant_name","getVariantName","goal_id","goal","goal_name","getGoalName","hasGTag","gtag","initGA4Tracking","session","isGA4Integrated","e","detail","getGA4ClientId","cookie","exp","experiments","goals","isGdprAccepted","gdprCookie","matches","pattern","parts","endsWith","start","trim","decodeURIComponent","getAllActions","relevantActions","conversionActions","getConvertingGoals","actionMatcher","relevantGoals","hasMatchingAction","eventsFromGoals","onScrollDownFns","onScrollDown","fn","maxScroll","bottom","XPathResult","evaluate","FIRST_ORDERED_NODE_TYPE","singleNodeValue","xPath","node","optimized","DOCUMENT_NODE","steps","contextNode","step","_xPathValue","path","ownIndex","_xPathIndex","ownValue","isHTMLElement","localName","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","areNodesSimilar","right","leftType","rightType","siblings","children","hasSameNamedElements","sibling","setCookie","opts","expires","encodeURIComponent","expiration","Date","getTime","toUTCString","getCookie","cookies","removeCookie","addCookieListener","getNewId","listeners","resetTimeout","removeCookieListener","trackState","timeoutId","counter","tick","clearInterval","random","slice","headReady","appendStyle","css","innerHTML","head","callback","readyState","observing","OBSERVER","MutationObserver","checkPendingSelectors","elementReady","setCss","enqueueSelectorCallback","PENDING_SELECTORS","Map","selectors","get","observe","childList","subtree","callbacks","delete","disconnect","flow","fns","input","getActiveExperiments","isActiveExperiment","active","addQueryArgs","getApiUrl","api","url","getClosest","currentNode","html","documentElement","scrollHeight","clientHeight","md5","canVisitorParticipate","updateSegmentationSettings","getAllActiveSegments","getQueryArg","REFERRER_PARAM","removeTestingArgs","getExperimentsWithPageViews","getUniqueViews","doGetUniqueViews","MINUTE_IN_MILLIS","QUOTA_CHECK_LIVESPAN","setNabReferrer","nabReferrer","href","referrer","getSession","__awaiter","updateAlternativeCookie","currentUrl","isStagingSite","isStagingSimulated","untestedUrl","hasQuota","updateECommerceSession","maxCombinations","getAlternativeFromCookie","participationChance","resetCookies","newAlternative","shouldAlternativeBeOverwritten","resetCookieExpirations","nabAlt","isNaN","ajaxUrl","oldChecksum","checksum","getSessionChecksum","forceECommerceSessionSync","FormData","append","JSON","stringify","getViewedAlternatives","getSegments","running","sync","fetch","method","credentials","finally","removeEventListener","key","allSegments","uniqueViews","viewUuid","epv","expIds","tenMinutesTimestamp","toISOString","substring","assignedAlternative","queryAlternative","test","cookieAlternative","cookieTesting","quotaString","sessionStorage","getItem","quotaCheck","parse","isValidQuotaCheck","zero","removeItem","checkQuota","setItem","q","timestamp","now","siteId","site","text","isHeadReady","pending","markHeadAsReady","checkHead","isIE","excludeBots","isBot","areCookiesEnabled","userAgent","navigator","ua","parseJavaScript","hasSettings","nabSettings","alternativeUrls","heatmaps","hideQueryArgs","ignoreTrailingSlash","isTestedPostRequest","nabPosition","numOfAlternatives","optimizeXPath","preloadQueryArgUrls","segmentMatching","singleConvPerView","timezone","useControlUrl","useSendBeacon","version","global","fixThrottleWait","woocommerce","g","ca","snippet","eval","run","LOG_REGEX","logIf","condition","logs","logOnce","addNabQueryArg","preloadQueryArgs","doPreloadQueryArgs","fixSelfHashUrls","protocol","hostname","anchors","config","preloadQueryArg","current","URL","hash","searchParams","scopes","getMatchingScopes","altCount","nab","getAlternativeUrl","scope","altUrls","isPartialUrl","getPart","isPartialNotIncludedUrl","isExclusionUrl","partialUrl","isValidSegmentationRule","updateFirstVisit","getSegmentationSettings","setSegmentationSettings","allExperiments","allHeatmaps","relevantExperiments","segmentEvaluation","isGeoDataNeeded","isGeoDataOutdated","isGeoDataNeededNow","updateGeoData","updateActiveSegments","areSegmentsValid","activeExperimentIds","every","doesExperimentHaveValidSegments","activeSegments","isEmptyArray","isHeatmapActive","areHeatmapConditionsValid","participation","getSegmentationGeoData","segmentationSettings","geo","RETURNING_VISITOR_MINUTES_THRESHOLD","isReturningVisitor","minutesSinceFirstVisit","firstVisit","gapInMinutes","getActiveSegments","isActiveSegmentImplicit","cleanOldSegments","viewedExperimentIds","newActiveSegments","geoData","lastUpdate","lastUpdateDate","diffTime","diffDays","ceil","exps","getIdsThatNeedGeo","idsWithGeoNeeds","segments","segmentationRules","isGeoRule","h","jsonData","hasGeoData","ipAddress","ip","previousActiveSegments","calculateActiveSegments","segmentIndex","arr","isArray","UAParser","validate","visitorBrowser","getVisitorBrowser","isSameBrowser","parser","browserData","getBrowser","browserName","visitorBrowserName","actualValue","expected","expectedValue","DAYS","visitorDay","getDay","visitorDeviceType","getDevice","browser","dayOfWeek","deviceType","language","operatingSystem","queryParameter","referringUrl","time","userLogin","visitorType","windowWidth","segmentationRuleValidators","validator","visitorIp","ipPattern","re","currentLanguages","languages","hasLanguage","actual","visitorLocation","visitorOS","getVisitorOS","isSameOS","operatingSystemData","getOS","osName","operatingSystemName","getQueryArgs","PERIODS","visitorHour","getHours","visitorPeriod","isUserLoggedIn","interval","currentWidth","toString","DEFAULT_SEGMENTATION_SETTINGS","pick","TEN_DAYS_IN_MILLIS","updateExperimentsWithPageViews","events","removeOldExperimentsFromCookie","setExperimentsWithPageViewsCookie","updateUniqueViews","allUniqueViews","views","canSynchEvent","getHeatmap","experimentsWithPageViews","canSynchConversion","synchedGoals","goalIndex","wasCookieCleaned","experimentIds","experimentIdsWithPageViews","toExperimentId","w","validationTimestamp","isInvalid","wasValidTenDaysAgo","newExperimentsWithPageViews","hm","buildUrl","arg","removeArgsAndHash","cleanUrl","fragments","getHash","oldArgs","newArgs","removeQueryArgs","names","keepNab","baseUrl","substr","debounce","heatmapReact","scrollmapReact","confettiReact","init","message","isHeatmapFrameAction","hasListeners","refresh","plugin"],"ignoreList":[],"sourceRoot":""}