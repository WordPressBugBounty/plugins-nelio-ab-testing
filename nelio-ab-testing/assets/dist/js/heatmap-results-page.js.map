{"version":3,"file":"js/heatmap-results-page.js","mappings":"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","sources":["webpack://nab/./assets/src/admin/pages/heatmap-results/components/filter-options-list/filter-toggle.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/filter-options-list/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/filter-options-list/style.scss?5d0a","webpack://nab/./assets/src/admin/pages/heatmap-results/components/filter-section/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/filter-section/style.scss?0cfd","webpack://nab/./assets/src/admin/pages/heatmap-results/components/heatmap-intensity/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/heatmap-intensity/style.scss?097d","webpack://nab/./assets/src/admin/pages/heatmap-results/components/hooks.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/components/kind-selector/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/kind-selector/style.scss?329b","webpack://nab/./assets/src/admin/pages/heatmap-results/components/layout/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/layout/style.scss?0d50","webpack://nab/./assets/src/admin/pages/heatmap-results/components/opacity/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/opacity/style.scss?f755","webpack://nab/./assets/src/admin/pages/heatmap-results/components/provider/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/results-not-available/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/results-not-available/style.scss?857b","webpack://nab/./assets/src/admin/pages/heatmap-results/components/scrollmap-legend/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/scrollmap-legend/style.scss?9853","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/advanced/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/advanced/style.scss?6010","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/error-message.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/export/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/export/style.scss?a432","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/footer-actions.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/header.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/no-quota-warning/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/no-quota-warning/style.scss?fe2a","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/participation-conditions/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/style.scss?c8d3","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/summary/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/summary/stats.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/sidebar/summary/style.scss?dc43","webpack://nab/./assets/src/admin/pages/heatmap-results/components/status-manager/index.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/components/variant-switcher/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/variant-switcher/style.scss?4086","webpack://nab/./assets/src/admin/pages/heatmap-results/components/view/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/components/view/style.scss?967f","webpack://nab/./assets/src/admin/pages/heatmap-results/index.tsx","webpack://nab/./assets/src/admin/pages/heatmap-results/store/actions.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/data/actions.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/data/config.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/data/reducer.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/data/selectors.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/data/side-effects.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/index.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/misc/actions.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/misc/config.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/misc/reducer.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/misc/selectors.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/reducer.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/selectors.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/side-effects.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/ui/actions.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/ui/config.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/ui/reducer.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/store/ui/selectors.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/utils/confetti-options.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/utils/index.ts","webpack://nab/./assets/src/admin/pages/heatmap-results/utils/internal/confetti-colors.ts","webpack://nab/./assets/src/admin/pages/results/components/hooks.ts","webpack://nab/./assets/src/admin/pages/results/components/sidebar/description.tsx","webpack://nab/./assets/src/admin/pages/results/components/sidebar/summary/date-info.tsx","webpack://nab/./assets/src/admin/pages/results/components/sidebar/summary/status.tsx","webpack://nab/./assets/src/admin/scripts/heatmap-renderer/internal/constants.ts","webpack://nab/./assets/src/images/full-logo.svg","webpack://nab/./node_modules/clsx/dist/clsx.mjs","webpack://nab/./packages/safe-wordpress/api-fetch.ts","webpack://nab/./packages/safe-wordpress/components.tsx","webpack://nab/./packages/safe-wordpress/compose/hooks/use-event/index.ts","webpack://nab/./packages/safe-wordpress/compose/hooks/use-resize-observer/index.ts","webpack://nab/./packages/safe-wordpress/compose/hooks/use-resize-observer/use-resize-observer.ts","webpack://nab/./packages/safe-wordpress/compose/index.ts","webpack://nab/./packages/safe-wordpress/data.ts","webpack://nab/./packages/safe-wordpress/dom-ready.ts","webpack://nab/./packages/safe-wordpress/element.ts","webpack://nab/./packages/safe-wordpress/i18n.ts","webpack://nab/./packages/safe-wordpress/url.ts","webpack://nab/external window [\"nab\",\"commands\"]","webpack://nab/external window [\"nab\",\"components\"]","webpack://nab/external window [\"nab\",\"data\"]","webpack://nab/external window [\"nab\",\"date\"]","webpack://nab/external window [\"nab\",\"experimentLibrary\"]","webpack://nab/external window [\"nab\",\"i18n\"]","webpack://nab/external window [\"nab\",\"segmentationRuleLibrary\"]","webpack://nab/external window [\"nab\",\"utils\"]","webpack://nab/external window [\"wp\",\"apiFetch\"]","webpack://nab/external window [\"wp\",\"components\"]","webpack://nab/external window [\"wp\",\"compose\"]","webpack://nab/external window [\"wp\",\"data\"]","webpack://nab/external window [\"wp\",\"date\"]","webpack://nab/external window [\"wp\",\"domReady\"]","webpack://nab/external window [\"wp\",\"element\"]","webpack://nab/external window [\"wp\",\"i18n\"]","webpack://nab/external window [\"wp\",\"url\"]","webpack://nab/external window \"lodash\"","webpack://nab/external window \"React\"","webpack://nab/external window \"ReactJSXRuntime\"","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/chunk loaded","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/webpack/before-startup","webpack://nab/webpack/startup","webpack://nab/webpack/after-startup"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@safe-wordpress/compose';\nimport { BaseControl, Dashicon } from '@safe-wordpress/components';\n\nexport type FilterToggleProps = {\n\treadonly label: string | JSX.Element;\n\treadonly className: string;\n\treadonly heading?: string;\n\treadonly checked: boolean;\n\treadonly onChange: ( checked: boolean ) => void;\n\treadonly color: string;\n\treadonly disabled: boolean;\n};\n\nexport const FilterToggle = ( {\n\tlabel,\n\tclassName,\n\theading,\n\tchecked,\n\tonChange,\n\tcolor,\n\tdisabled,\n}: FilterToggleProps ): JSX.Element => {\n\tconst instanceId = useInstanceId( FilterToggle );\n\tconst id = `inspector-checkbox-control-${ instanceId }`;\n\n\tconst style = color\n\t\t? {\n\t\t\t\tborderColor: color,\n\t\t\t\tbackgroundColor: color,\n\t\t\t\topacity: checked ? 1 : 0.5,\n\t\t  }\n\t\t: {};\n\n\treturn (\n\t\t<BaseControl label={ heading } id={ id } className={ className }>\n\t\t\t<span className=\"components-checkbox-control__input-container\">\n\t\t\t\t<input\n\t\t\t\t\tid={ id }\n\t\t\t\t\tstyle={ style }\n\t\t\t\t\tclassName=\"components-checkbox-control__input\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tvalue=\"1\"\n\t\t\t\t\tonChange={ ( ev ) => onChange( !! ev.target.checked ) }\n\t\t\t\t\tchecked={ checked }\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t/>\n\t\t\t\t{ checked ? (\n\t\t\t\t\t<Dashicon\n\t\t\t\t\t\ticon=\"yes\"\n\t\t\t\t\t\tclassName=\"components-checkbox-control__checked\"\n\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t/>\n\t\t\t\t) : null }\n\t\t\t</span>\n\t\t\t<label\n\t\t\t\tclassName=\"components-checkbox-control__label\"\n\t\t\t\thtmlFor={ id }\n\t\t\t>\n\t\t\t\t{ label }\n\t\t\t</label>\n\t\t</BaseControl>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport { CheckboxControl } from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport { map, noop, sortBy, sum, uniq, values, without } from 'lodash';\nimport { compactInteger } from '@nab/i18n';\nimport { getCountryName } from '@nab/utils';\nimport type { ConfettiOption } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { FilterToggle } from './filter-toggle';\nimport { useIsLocked } from '../hooks';\nimport { store as NAB_HEATMAP } from '../../store';\n\nexport const FilterOptionsList = (): JSX.Element | null => {\n\tconst isLocked = useIsLocked();\n\tconst filterOptions = useFilterOptions();\n\tconst disabledFilterOptions = useDisabledFilterOptions();\n\tconst toggleDisabledFilterOption = useFilterOptionToggler();\n\n\tif ( ! filterOptions ) {\n\t\treturn null;\n\t}\n\n\tconst totalClicks = sum( map( filterOptions, 'value' ) );\n\n\treturn (\n\t\t<>\n\t\t\t<CheckboxControl\n\t\t\t\tclassName=\"nab-filter-option nab-filter-option--header\"\n\t\t\t\tlabel={\n\t\t\t\t\t<span className=\"nab-filter-option-label__container\">\n\t\t\t\t\t\t<span className=\"nab-filter-option-label__name\">\n\t\t\t\t\t\t\t{ _x( 'Name', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"nab-filter-option-label__amount\">\n\t\t\t\t\t\t\t{ _x( 'Amount', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t}\n\t\t\t\tchecked={ ! disabledFilterOptions.length }\n\t\t\t\tonChange={ ( isChecked ) =>\n\t\t\t\t\ttoggleDisabledFilterOption( 'all', isChecked )\n\t\t\t\t}\n\t\t\t\tdisabled={ isLocked }\n\t\t\t/>\n\n\t\t\t{ filterOptions.map( ( { key, label, value, color } ) => (\n\t\t\t\t<FilterToggle\n\t\t\t\t\tkey={ key }\n\t\t\t\t\tcolor={ color }\n\t\t\t\t\tdisabled={ isLocked }\n\t\t\t\t\tclassName={ clsx( 'nab-filter-option', {\n\t\t\t\t\t\t'nab-filter-option--deactivated':\n\t\t\t\t\t\t\tdisabledFilterOptions.includes( key ),\n\t\t\t\t\t} ) }\n\t\t\t\t\tlabel={\n\t\t\t\t\t\t<span className=\"nab-filter-option-label__container\">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"nab-filter-option-label__name\"\n\t\t\t\t\t\t\t\ttitle={ label }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"nab-filter-option-label__amount-container\">\n\t\t\t\t\t\t\t\t<span className=\"nab-filter-option-label__value\">\n\t\t\t\t\t\t\t\t\t{ 'number' === typeof value\n\t\t\t\t\t\t\t\t\t\t? compactInteger( value )\n\t\t\t\t\t\t\t\t\t\t: value }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span className=\"nab-bar__container\">\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName=\"nab-bar__value\"\n\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\twidth: ! value\n\t\t\t\t\t\t\t\t\t\t\t\t? '0px'\n\t\t\t\t\t\t\t\t\t\t\t\t: `${ (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t( value /\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttotalClicks ) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t100\n\t\t\t\t\t\t\t\t\t\t\t\t  ).toFixed( 2 ) }%`,\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\tchecked={ ! disabledFilterOptions.includes( key ) }\n\t\t\t\t\tonChange={ ( isChecked ) =>\n\t\t\t\t\t\ttoggleDisabledFilterOption( key, isChecked )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useFilterOptions = () => {\n\tconst { activeFilter, filterOptions, firstDayOfWeek } = useSelect(\n\t\t( select ) => ( {\n\t\t\tactiveFilter: select( NAB_HEATMAP ).getActiveFilter(),\n\t\t\tfilterOptions: select( NAB_HEATMAP ).getConfettiFilterOptions(\n\t\t\t\tselect( NAB_HEATMAP ).getActiveAlternative(),\n\t\t\t\tselect( NAB_HEATMAP ).getActiveResolution()\n\t\t\t),\n\t\t\tfirstDayOfWeek: select( NAB_HEATMAP ).getFirstDayOfWeek(),\n\t\t} ),\n\t\t[]\n\t);\n\n\tlet options: ReadonlyArray< ConfettiOption > = values(\n\t\tfilterOptions[ activeFilter ]\n\t);\n\tif ( 'dayOfWeek' === activeFilter ) {\n\t\toptions = [\n\t\t\t...[ ...options ].splice( firstDayOfWeek ),\n\t\t\t...[ ...options ].splice( 0, firstDayOfWeek ),\n\t\t];\n\t}\n\n\tif ( 'country' === activeFilter ) {\n\t\toptions = options.map( ( option ) => ( {\n\t\t\t...option,\n\t\t\tlabel:\n\t\t\t\t'other' === option.key\n\t\t\t\t\t? _x( 'Other', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t: getCountryName( option.key ),\n\t\t} ) );\n\t\toptions = sortAlphabetically( options );\n\t}\n\n\treturn options;\n};\n\nconst useDisabledFilterOptions = () =>\n\tuseSelect(\n\t\t( select ) => select( NAB_HEATMAP ).getDisabledFilterOptions(),\n\t\t[]\n\t);\n\nconst useFilterOptionToggler = () => {\n\tconst { setDisabledFilterOptions } = useDispatch( NAB_HEATMAP );\n\n\tconst filterOptions = useFilterOptions();\n\tconst disabledFilterOptions = useDisabledFilterOptions();\n\tconst activeFilter = useSelect(\n\t\t( select ) => select( NAB_HEATMAP ).getActiveFilter(),\n\t\t[]\n\t);\n\n\tif ( ! activeFilter || ! filterOptions.length ) {\n\t\treturn noop;\n\t}\n\n\treturn ( key: ConfettiOption[ 'key' ], active: boolean ): void => {\n\t\tif ( 'all' === key ) {\n\t\t\treturn void setDisabledFilterOptions(\n\t\t\t\tactive ? [] : map( filterOptions, 'key' )\n\t\t\t);\n\t\t}\n\n\t\tvoid setDisabledFilterOptions(\n\t\t\tactive\n\t\t\t\t? without( disabledFilterOptions, key )\n\t\t\t\t: uniq( [ ...disabledFilterOptions, key ] )\n\t\t);\n\t};\n};\n\n// =======\n// HELPERS\n// =======\n\nconst sortAlphabetically = ( options: ReadonlyArray< ConfettiOption > ) =>\n\tsortBy( [ ...options ], [ 'label' ] );\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { SelectControl } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { sortBy } from 'lodash';\nimport type { ConfettiType, HeatmapMode } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { FilterOptionsList } from '../filter-options-list';\nimport { useActiveFilter, useIsLocked } from '../hooks';\n\nexport type FilterSectionProps = {\n\treadonly kind: HeatmapMode;\n};\n\nexport const FilterSection = ( {\n\tkind,\n}: FilterSectionProps ): JSX.Element | null =>\n\t'confetti' === kind ? <ConfettiFilterSection /> : null;\n\n// =======\n// HELPERS\n// =======\n\nconst ConfettiFilterSection = (): JSX.Element => {\n\tconst isLocked = useIsLocked();\n\tconst [ activeFilter, setActiveFilter ] = useActiveFilter();\n\tconst options = useConfettiOptions();\n\n\treturn (\n\t\t<>\n\t\t\t<SelectControl\n\t\t\t\tclassName=\"nab-confetti-filter\"\n\t\t\t\tdisabled={ isLocked }\n\t\t\t\tlabel={ _x( 'Filter', 'text', 'nelio-ab-testing' ) }\n\t\t\t\tvalue={ activeFilter } // e.g: value = [ 'a', 'c' ]\n\t\t\t\tonChange={ ( value ) => setActiveFilter( value ) }\n\t\t\t\toptions={ options }\n\t\t\t/>\n\t\t\t<FilterOptionsList />\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useConfettiOptions = () => CONFETTI_OPTIONS;\n\n// ====\n// DATA\n// ====\n\nconst CONFETTI_OPTIONS: ReadonlyArray< {\n\treadonly value: ConfettiType;\n\treadonly label: string;\n} > = sortBy(\n\t[\n\t\t{\n\t\t\tvalue: 'country',\n\t\t\tlabel: _x( 'Country', 'text', 'nelio-ab-testing' ),\n\t\t},\n\t\t{\n\t\t\tvalue: 'device',\n\t\t\tlabel: _x( 'Device Type', 'text', 'nelio-ab-testing' ),\n\t\t},\n\t\t{\n\t\t\tvalue: 'os',\n\t\t\tlabel: _x( 'Operating System', 'text', 'nelio-ab-testing' ),\n\t\t},\n\t\t{\n\t\t\tvalue: 'browser',\n\t\t\tlabel: _x( 'Browser', 'text', 'nelio-ab-testing' ),\n\t\t},\n\t\t{\n\t\t\tvalue: 'dayOfWeek',\n\t\t\tlabel: _x( 'Day of Week', 'text', 'nelio-ab-testing' ),\n\t\t},\n\t\t{\n\t\t\tvalue: 'hourOfDay',\n\t\t\tlabel: _x( 'Time of Day', 'text', 'nelio-ab-testing' ),\n\t\t},\n\t\t{\n\t\t\tvalue: 'timeToClick',\n\t\t\tlabel: _x( 'Time to Click', 'text', 'nelio-ab-testing' ),\n\t\t},\n\t\t{\n\t\t\tvalue: 'windowWidth',\n\t\t\tlabel: _x( 'Window Width', 'text', 'nelio-ab-testing' ),\n\t\t},\n\t],\n\t'label'\n);\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { RangeControl } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { useHeatmapIntensity, useIsLocked } from '../hooks';\n\nexport const HeatmapIntensity = (): JSX.Element => {\n\tconst isLocked = useIsLocked();\n\tconst [ heatmapIntensity, setHeatmapIntensity ] = useHeatmapIntensity();\n\n\treturn (\n\t\t<RangeControl\n\t\t\tdisabled={ isLocked }\n\t\t\tclassName=\"nab-heatmap-intensity\"\n\t\t\tlabel={ _x( 'Heat Intensity', 'text', 'nelio-ab-testing' ) }\n\t\t\tvalue={ heatmapIntensity }\n\t\t\tonChange={ ( value ) => setHeatmapIntensity( value || 40 ) }\n\t\t\tmin={ 40 }\n\t\t\tmax={ 100 }\n\t\t/>\n\t);\n};\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport { store as NAB_DATA, usePageAttribute } from '@nab/data';\nimport type {\n\tAlternativeIndex,\n\tClick,\n\tConfettiType,\n\tExperiment,\n\tHeatmapDataStatus,\n\tHeatmapMode,\n\tHeatmapResolution,\n\tMaybe,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { store as NAB_HEATMAP } from '../store';\nimport { ProcessedResultsStatus } from '../store/data/config';\n\nexport const useActiveExperiment = (): Maybe< Experiment > =>\n\tuseSelect( ( select ) => {\n\t\tconst { getPageAttribute, getExperiment } = select( NAB_DATA );\n\t\tconst activeExperiment = getPageAttribute( 'editor/activeExperiment' );\n\t\treturn getExperiment( activeExperiment ?? 0 );\n\t}, [] );\n\nexport const useActiveAlternative = (): [\n\tAlternativeIndex,\n\t( alternative: AlternativeIndex ) => void,\n] => [\n\tuseSelect( ( select ) => select( NAB_HEATMAP ).getActiveAlternative(), [] ),\n\tuseDispatch( NAB_HEATMAP ).setActiveAlternative,\n];\n\nexport const useProgress = (): [ number, ( progress: number ) => void ] => {\n\tconst [ alt ] = useActiveAlternative();\n\tconst { setRawResultProgress } = useDispatch( NAB_HEATMAP );\n\treturn [\n\t\tuseSelect(\n\t\t\t( select ) => select( NAB_HEATMAP ).getRawResultProgress( alt ),\n\t\t\t[ alt ]\n\t\t),\n\t\t( progress: number ) => setRawResultProgress( alt, progress ),\n\t];\n};\n\nexport const useResultsStopper = (): [ boolean, () => void ] => {\n\tconst [ alt ] = useActiveAlternative();\n\tconst [ status ] = useRawResultsStatus();\n\tconst { setRawResultStatus: doSetRawResultStatus } =\n\t\tuseDispatch( NAB_HEATMAP );\n\tconst setResultStatus = (): undefined => {\n\t\tswitch ( status.mode ) {\n\t\t\tcase 'canceling':\n\t\t\tcase 'ready':\n\t\t\tcase 'error':\n\t\t\tcase 'missing':\n\t\t\t\treturn undefined;\n\t\t\tcase 'loading':\n\t\t\tcase 'still-loading':\n\t\t\t\tvoid doSetRawResultStatus( alt, { mode: 'canceling' } );\n\t\t\t\treturn undefined;\n\t\t}\n\t};\n\treturn [ status.mode === 'canceling', setResultStatus ];\n};\n\nexport const useRawResultsStatus = (): [\n\tHeatmapDataStatus,\n\t( status: HeatmapDataStatus ) => void,\n] => {\n\tconst [ alt ] = useActiveAlternative();\n\tconst { setRawResultStatus } = useDispatch( NAB_HEATMAP );\n\treturn [\n\t\tuseSelect(\n\t\t\t( select ) => select( NAB_HEATMAP ).getRawResultStatus( alt ),\n\t\t\t[ alt ]\n\t\t),\n\t\t( status: HeatmapDataStatus ) => setRawResultStatus( alt, status ),\n\t];\n};\n\nexport const useIsLoadingRawResults = (): boolean => {\n\tconst status = useRawResultsStatus()[ 0 ].mode;\n\treturn status === 'missing' || status === 'loading';\n};\n\nexport const useRawClicks = (): ReadonlyArray< Click > => {\n\tconst [ alt ] = useActiveAlternative();\n\treturn useSelect(\n\t\t( select ) => select( NAB_HEATMAP ).getRawClicks( alt ),\n\t\t[ alt ]\n\t);\n};\n\nexport const useProcessedResultsStatus = (): ProcessedResultsStatus => {\n\tconst [ alt ] = useActiveAlternative();\n\tconst [ res ] = useActiveResolution();\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_HEATMAP ).getProcessedResultStatus( alt, res ),\n\t\t[ alt, res ]\n\t);\n};\n\nexport const useHasProcessedResults = (): boolean => {\n\tconst [ alt ] = useActiveAlternative();\n\tconst [ res ] = useActiveResolution();\n\treturn useSelect(\n\t\t( select ) => select( NAB_HEATMAP ).hasProcessedResults( alt, res ),\n\t\t[ alt, res ]\n\t);\n};\n\nexport const useIsProcessingResults = (): boolean =>\n\t'processing' === useProcessedResultsStatus();\n\nexport const useIsHeatmap = (): boolean =>\n\t'nab/heatmap' === useActiveExperiment()?.type;\n\nexport const useActiveFilter = (): [\n\tConfettiType,\n\t( val: ConfettiType ) => void,\n] => {\n\tconst [ _, setDisFilterOpts ] = useDisabledFilterOptions();\n\tconst activeFilter = useSelect(\n\t\t( select ) => select( NAB_HEATMAP ).getActiveFilter(),\n\t\t[]\n\t);\n\tconst { setActiveFilter: doSetActiveFilter } = useDispatch( NAB_HEATMAP );\n\n\tconst setActiveFilter = ( filter: ConfettiType ): void => {\n\t\tif ( filter === activeFilter ) {\n\t\t\treturn;\n\t\t}\n\t\tsetDisFilterOpts( [] );\n\t\tvoid doSetActiveFilter( filter );\n\t};\n\n\treturn [ activeFilter, setActiveFilter ];\n};\n\nexport const useDisabledFilterOptions = (): [\n\tReadonlyArray< string >,\n\t( val: ReadonlyArray< string > ) => void,\n] => [\n\tuseSelect(\n\t\t( select ) => select( NAB_HEATMAP ).getDisabledFilterOptions(),\n\t\t[]\n\t),\n\tuseDispatch( NAB_HEATMAP ).setDisabledFilterOptions,\n];\n\nexport const useActiveMode = (): [\n\tHeatmapMode,\n\t( val: HeatmapMode ) => void,\n] => [\n\tuseSelect( ( select ) => select( NAB_HEATMAP ).getActiveMode(), [] ),\n\tuseDispatch( NAB_HEATMAP ).setActiveMode,\n];\n\nexport const useSidebarVisibility = (): [\n\tboolean,\n\t( visible: boolean ) => void,\n] => [\n\tuseSelect( ( select ) => select( NAB_HEATMAP ).isSidebarVisible(), [] ),\n\tuseDispatch( NAB_HEATMAP ).makeSidebarVisible,\n];\n\nexport const useActiveResolution = (): [\n\tHeatmapResolution,\n\t( val: HeatmapResolution ) => void,\n] => [\n\tuseSelect( ( select ) => select( NAB_HEATMAP ).getActiveResolution(), [] ),\n\tuseDispatch( NAB_HEATMAP ).setActiveResolution,\n];\n\nexport const useHeatmapIntensity = (): [ number, ( val: number ) => void ] => [\n\tuseSelect( ( select ) => select( NAB_HEATMAP ).getIntensity(), [] ),\n\tuseDispatch( NAB_HEATMAP ).setIntensity,\n];\n\nexport const useInteractivity = (): [ boolean, ( val: boolean ) => void ] => [\n\tuseSelect( ( select ) => select( NAB_HEATMAP ).isInteractive(), [] ),\n\tuseDispatch( NAB_HEATMAP ).setInteractive,\n];\n\nexport const useHeatmapOpacity = (): [ number, ( val: number ) => void ] => [\n\tuseSelect( ( select ) => select( NAB_HEATMAP ).getOpacity(), [] ),\n\tuseDispatch( NAB_HEATMAP ).setOpacity,\n];\n\nexport const useIsLocked = (): boolean => {\n\tconst [ isLocked ] = usePageAttribute( 'isLocked', false );\n\tconst [ isStopping ] = usePageAttribute(\n\t\t'editor/isExperimentBeingStopped',\n\t\tfalse\n\t);\n\tconst rawStatus = useRawResultsStatus()[ 0 ].mode;\n\tconst processedStatus = useProcessedResultsStatus();\n\treturn (\n\t\tisLocked ||\n\t\tisStopping ||\n\t\t'missing' === rawStatus ||\n\t\t'loading' === rawStatus ||\n\t\t'missing' === processedStatus ||\n\t\t'processing' === processedStatus\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\nimport { PanelBody, PanelRow, ToggleControl } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\nimport { addQueryArgs } from '@safe-wordpress/url';\nimport type { HeatmapMode } from '@nab/types';\n\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport { store as NAB_DATA, usePageAttribute } from '@nab/data';\n\n/**\n * Internal dependencies\n */\nimport { Opacity } from '../opacity';\nimport { HeatmapIntensity } from '../heatmap-intensity';\nimport { ScrollmapLegend } from '../scrollmap-legend';\nimport { FilterSection } from '../filter-section';\nimport { useActiveMode, useInteractivity, useIsLocked } from '../hooks';\nimport './style.scss';\nimport { ClipboardButton } from '@nab/components';\n\nexport const KindSelector = (): JSX.Element => {\n\tconst [ activeMode, setActiveMode ] = useActiveMode();\n\tconst [ isInteractive, setInteractive ] = useInteractivity();\n\tconst isLocked = useIsLocked();\n\tconst homeUrl = useHomeUrl();\n\tconst [ isPublicView ] = usePageAttribute( 'results/isPublicView', false );\n\tconst [ isReadOnlyActive, setReadOnly ] = usePageAttribute(\n\t\t'results/isReadOnlyActive',\n\t\tfalse\n\t);\n\tconst [ experimentId ] = usePageAttribute( 'editor/activeExperiment', 0 );\n\tconst [ experimentType ] = usePageAttribute(\n\t\t'editor/activeExperimentType',\n\t\t''\n\t);\n\tconst { setPublicResultStatus } = useDispatch( NAB_DATA );\n\n\tconst publicResultUrl = addQueryArgs( homeUrl, {\n\t\t'nab-result': true,\n\t\texperiment: experimentId,\n\t\tpreview: '',\n\t} );\n\n\treturn (\n\t\t<TabPanel\n\t\t\tclassName={ clsx( 'nab-heatmap-kind-selector', {\n\t\t\t\t'nab-heatmap-kind-selector--locked': isLocked,\n\t\t\t} ) }\n\t\t\tactiveClass=\"nab-heatmap-kind-selector__tab--active\"\n\t\t\torientation=\"horizontal\"\n\t\t\ttabs={ TABS }\n\t\t\tactiveTab={ activeMode }\n\t\t\tonSelect={ setActiveMode }\n\t\t>\n\t\t\t{ ( tab: Tab ) => (\n\t\t\t\t<PanelBody\n\t\t\t\t\tclassName=\"nab-heatmap-settings\"\n\t\t\t\t\ttitle={ _x( 'Settings', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t>\n\t\t\t\t\t<Opacity />\n\t\t\t\t\t{ 'heatmap' === tab.name && <HeatmapIntensity /> }\n\t\t\t\t\t{ ( 'heatmap' === tab.name || 'confetti' === tab.name ) && (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tclassName=\"nab-heatmap-settings__interactive-option\"\n\t\t\t\t\t\t\tchecked={ isInteractive }\n\t\t\t\t\t\t\tonChange={ setInteractive }\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t'heatmap' === tab.name\n\t\t\t\t\t\t\t\t\t? _x(\n\t\t\t\t\t\t\t\t\t\t\t'Interactive heatmap',\n\t\t\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t: _x(\n\t\t\t\t\t\t\t\t\t\t\t'Interactive confetti',\n\t\t\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<FilterSection kind={ tab.name } />\n\t\t\t\t\t{ 'scrollmap' === tab.name && <ScrollmapLegend /> }\n\t\t\t\t\t{ 'heatmap' === tab.name &&\n\t\t\t\t\t\t'nab/heatmap' === experimentType &&\n\t\t\t\t\t\t! isPublicView && (\n\t\t\t\t\t\t\t<PanelRow className=\"nab-heatmap-settings__public-selector\">\n\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t\t\t'Public results',\n\t\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tdisabled={ isLocked }\n\t\t\t\t\t\t\t\t\tchecked={ isReadOnlyActive }\n\t\t\t\t\t\t\t\t\tonChange={ ( checked ) => {\n\t\t\t\t\t\t\t\t\t\tvoid setPublicResultStatus( checked );\n\t\t\t\t\t\t\t\t\t\tsetReadOnly( checked );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ !! isReadOnlyActive && (\n\t\t\t\t\t\t\t\t\t<div className=\"nab-heatmap-settings__public-result\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"nab-heatmap-settings__public-result-url\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"nab-heatmap-settings__public-result-url-input\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={ publicResultUrl }\n\t\t\t\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<ClipboardButton\n\t\t\t\t\t\t\t\t\t\t\t\ttext={ publicResultUrl }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t) }\n\t\t</TabPanel>\n\t);\n};\n\n// ============\n// HELPER VIEWS\n// ============\n\ntype TabPanelProps = {\n\treadonly className: string;\n\treadonly activeClass: string;\n\treadonly orientation: 'horizontal';\n\treadonly onSelect: ( tab: HeatmapMode ) => void;\n\treadonly children: ( tab: Tab ) => JSX.Element;\n\treadonly activeTab: HeatmapMode;\n\treadonly tabs: typeof TABS;\n};\n\n// NOTICE. This is a workaround until TabPanel can be controlled/uncontrolled.\nconst TabPanel = ( {\n\tclassName,\n\tactiveClass,\n\torientation,\n\tonSelect,\n\tchildren,\n\tactiveTab,\n\ttabs,\n}: TabPanelProps ) => (\n\t<div className={ className }>\n\t\t<div\n\t\t\trole=\"tablist\"\n\t\t\taria-orientation={ orientation }\n\t\t\tclassName=\"components-tab-panel__tabs\"\n\t\t>\n\t\t\t{ tabs.map( ( tab ) => (\n\t\t\t\t<button\n\t\t\t\t\tkey={ tab.name }\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\trole=\"tab\"\n\t\t\t\t\ttabIndex={ tab.name === activeTab ? -1 : undefined }\n\t\t\t\t\taria-selected=\"false\"\n\t\t\t\t\tid={ `tab-panel-1-${ tab.name }` }\n\t\t\t\t\taria-controls={ `tab-panel-1-${ tab.name }-view` }\n\t\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t\t'components-button components-tab-panel__tabs-item':\n\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t[ tab.className ]: true,\n\t\t\t\t\t\t[ activeClass ]: tab.name === activeTab,\n\t\t\t\t\t} ) }\n\t\t\t\t\tonClick={ () => onSelect( tab.name ) }\n\t\t\t\t>\n\t\t\t\t\t{ tab.title }\n\t\t\t\t</button>\n\t\t\t) ) }\n\t\t</div>\n\t\t<div\n\t\t\taria-labelledby={ `tab-panel-1-${ activeTab || tabs[ 0 ].name }` }\n\t\t\trole=\"tabpanel\"\n\t\t\tid={ `tab-panel-1-${ activeTab || tabs[ 0 ].name }-view` }\n\t\t\tclassName=\"components-tab-panel__tab-content\"\n\t\t>\n\t\t\t{ children(\n\t\t\t\ttabs.find( ( t ) => t.name === activeTab ) || tabs[ 0 ]\n\t\t\t) }\n\t\t</div>\n\t</div>\n);\n\n// =====\n// HOOKS\n// =====\n\nconst useHomeUrl = () =>\n\tuseSelect(\n\t\t( select ) => select( NAB_DATA ).getPluginSetting( 'homeUrl' ),\n\t\t[]\n\t);\n\n// ====\n// DATA\n// ====\n\ntype Tab = {\n\treadonly name: HeatmapMode;\n\treadonly title: string;\n\treadonly className: string;\n};\n\nconst TABS: Readonly< [ Tab, Tab, Tab ] > = [\n\t{\n\t\tname: 'heatmap',\n\t\ttitle: _x( 'Heatmap', 'text', 'nelio-ab-testing' ),\n\t\tclassName: 'nab-heatmap-kind-selector__tab',\n\t},\n\t{\n\t\tname: 'scrollmap',\n\t\ttitle: _x( 'Scrollmap', 'text', 'nelio-ab-testing' ),\n\t\tclassName: 'nab-heatmap-kind-selector__tab',\n\t},\n\t{\n\t\tname: 'confetti',\n\t\ttitle: _x( 'Confetti', 'text', 'nelio-ab-testing' ),\n\t\tclassName: 'nab-heatmap-kind-selector__tab',\n\t},\n];\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type {\n\tAlternativeId,\n\tAlternativeIndex,\n\tDict,\n\tHeatmap,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { useActiveExperiment, useSidebarVisibility } from '../hooks';\nimport { store as NAB_HEATMAP } from '../../store';\nimport { Sidebar } from '../sidebar';\nimport { View } from '../view';\n\nexport type LayoutProps = {\n\treadonly alternativeId: AlternativeId;\n};\n\nexport const Layout = (): JSX.Element => {\n\tconst [ isVisible ] = useSidebarVisibility();\n\tconst contentUrls = useContentUrls();\n\n\treturn (\n\t\t<div className=\"nab-heatmap-results\">\n\t\t\t<Sidebar\n\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t'nab-heatmap-results__sidebar': true,\n\t\t\t\t\t'nab-heatmap-results__sidebar--is-collapsed': ! isVisible,\n\t\t\t\t} ) }\n\t\t\t/>\n\n\t\t\t{ contentUrls.map( ( { alternative, url } ) => (\n\t\t\t\t<View\n\t\t\t\t\tkey={ `nab-heatmap-results__content--alternative-${ alternative }` }\n\t\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t\t'nab-heatmap-results__content': true,\n\t\t\t\t\t\t'nab-heatmap-results__content--is-fullscreen':\n\t\t\t\t\t\t\t! isVisible,\n\t\t\t\t\t} ) }\n\t\t\t\t\talternative={ alternative }\n\t\t\t\t\tcontentUrl={ url }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\ntype Result = { readonly alternative: AlternativeIndex; url: string };\nconst useContentUrls = (): ReadonlyArray< Result > => {\n\tconst experiment = useActiveExperiment();\n\tconst iframes = useSelect(\n\t\t( select ) => select( NAB_HEATMAP ).getIFrames(),\n\t\t[]\n\t);\n\n\tif ( ! experiment ) {\n\t\treturn [];\n\t}\n\n\tif ( isHeatmap( experiment ) ) {\n\t\treturn [ { alternative: 0, url: experiment.links.heatmap } ];\n\t}\n\n\treturn experiment.alternatives\n\t\t.map( ( alt, index ) => ( {\n\t\t\talternative: index,\n\t\t\turl: alt.links.heatmap,\n\t\t} ) )\n\t\t.filter( ( _, i ) => iframes.includes( i ) );\n};\n\nconst isHeatmap = ( e: Dict ): e is Heatmap => 'nab/heatmap' === e.type;\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { RangeControl } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { useIsLocked, useHeatmapOpacity } from '../hooks';\n\nexport const Opacity = (): JSX.Element => {\n\tconst isLocked = useIsLocked();\n\tconst [ opacity, setOpacity ] = useHeatmapOpacity();\n\n\treturn (\n\t\t<RangeControl\n\t\t\tdisabled={ isLocked }\n\t\t\tclassName=\"nab-heatmap-opacity\"\n\t\t\tlabel={ _x( 'Opacity', 'text', 'nelio-ab-testing' ) }\n\t\t\tvalue={ opacity }\n\t\t\tonChange={ ( value ) => setOpacity( value ?? 25 ) }\n\t\t\tmin={ 25 }\n\t\t\tmax={ 75 }\n\t\t/>\n\t);\n};\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@safe-wordpress/element';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport { store as NAB_DATA } from '@nab/data';\nimport type {\n\tAlternativeIndex,\n\tExperimentId,\n\tExperimentTypeName,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { StatusManager } from '../status-manager';\nimport { store as NAB_HEATMAP } from '../../store';\nimport { useActiveAlternative, useActiveExperiment } from '../hooks';\n\nexport type ResultsProviderProps = {\n\treadonly experimentId: ExperimentId;\n\treadonly experimentType: ExperimentTypeName;\n\treadonly isPublicView: boolean;\n\treadonly isReadOnlyActive: boolean;\n\treadonly alternativeIndex: number;\n\treadonly firstDayOfWeek: number;\n\treadonly children: JSX.Element | JSX.Element[];\n};\n\nexport const ResultsProvider = (\n\tprops: ResultsProviderProps\n): JSX.Element | null => {\n\tconst { experimentId } = props;\n\tconst experiment = useSelect(\n\t\t( select ) => select( NAB_DATA ).getExperiment( experimentId ),\n\t\t[ experimentId ]\n\t);\n\tconst alternative = useSelect(\n\t\t( select ) => select( NAB_HEATMAP ).getActiveAlternative(),\n\t\t[]\n\t);\n\tuseInitEffect( props );\n\tuseResultLoader( experimentId, alternative );\n\tuseResultProcessor();\n\n\tif ( ! experiment ) {\n\t\treturn null;\n\t}\n\n\tconst { children } = props;\n\treturn (\n\t\t<div>\n\t\t\t<StatusManager />\n\t\t\t{ children }\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useInitEffect = ( props: ResultsProviderProps ) => {\n\tconst { setPageAttribute } = useDispatch( NAB_DATA );\n\tconst { setActiveAlternative, setFirstDayOfWeek } =\n\t\tuseDispatch( NAB_HEATMAP );\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_DATA ).getExperimentResults( props.experimentId ),\n\t\t[ props.experimentId ]\n\t);\n\n\tconst {\n\t\texperimentId,\n\t\texperimentType,\n\t\talternativeIndex,\n\t\tfirstDayOfWeek,\n\t\tisPublicView,\n\t\tisReadOnlyActive,\n\t} = props;\n\n\tuseEffect( () => {\n\t\tvoid setPageAttribute( 'editor/activeExperiment', experimentId );\n\t\tvoid setPageAttribute( 'editor/activeExperimentType', experimentType );\n\t\tvoid setPageAttribute( 'results/isPublicView', isPublicView );\n\t\tvoid setPageAttribute( 'results/isReadOnlyActive', isReadOnlyActive );\n\t\tvoid setActiveAlternative( alternativeIndex );\n\t\tvoid setFirstDayOfWeek( firstDayOfWeek % 7 );\n\t}, [\n\t\texperimentId,\n\t\texperimentType,\n\t\talternativeIndex,\n\t\tfirstDayOfWeek,\n\t\tisPublicView,\n\t\tisReadOnlyActive,\n\t\tsetPageAttribute,\n\t\tsetActiveAlternative,\n\t\tsetFirstDayOfWeek,\n\t] );\n};\n\nconst useResultLoader = (\n\texperimentId: ExperimentId,\n\talternative: AlternativeIndex\n) => {\n\tconst experiment = useSelect(\n\t\t( select ) => select( NAB_DATA ).getExperiment( experimentId ),\n\t\t[ experimentId ]\n\t);\n\tconst isExperimentLoading = useSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_DATA ).hasFinishedResolution( 'getExperiment', [\n\t\t\t\texperimentId,\n\t\t\t] ) &&\n\t\t\t! select( NAB_DATA ).hasResolutionFailed( 'getExperiment', [\n\t\t\t\texperimentId,\n\t\t\t] ),\n\t\t[ experimentId ]\n\t);\n\tconst { loadResults, setRawResultStatus } = useDispatch( NAB_HEATMAP );\n\n\tuseEffect( () => {\n\t\tif ( isExperimentLoading ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( experiment ) {\n\t\t\tvoid loadResults( experiment, alternative );\n\t\t} else {\n\t\t\tvoid setRawResultStatus( alternative, {\n\t\t\t\tmode: 'error',\n\t\t\t\trationale: 'experiment-not-found',\n\t\t\t} );\n\t\t}\n\t}, [\n\t\texperiment,\n\t\talternative,\n\t\tisExperimentLoading,\n\t\tloadResults,\n\t\tsetRawResultStatus,\n\t] );\n};\n\nconst useResultProcessor = () => {\n\tconst { requestResultProcessing } = useDispatch( NAB_HEATMAP );\n\tconst experiment = useActiveExperiment();\n\tconst [ alternative ] = useActiveAlternative();\n\tconst resolution = useSelect(\n\t\t( select ) => select( NAB_HEATMAP ).getActiveResolution(),\n\t\t[]\n\t);\n\tconst { clicks, scrolls, processedStatus, rawStatus } = useSelect(\n\t\t( select ) => ( {\n\t\t\tmode: select( NAB_HEATMAP ).getActiveMode(),\n\t\t\tclicks: select( NAB_HEATMAP ).getRawClicks( alternative ),\n\t\t\tscrolls: select( NAB_HEATMAP ).getRawScrolls( alternative ),\n\t\t\tprocessedStatus: select( NAB_HEATMAP ).getProcessedResultStatus(\n\t\t\t\talternative,\n\t\t\t\tresolution\n\t\t\t),\n\t\t\trawStatus:\n\t\t\t\tselect( NAB_HEATMAP ).getRawResultStatus( alternative )?.mode,\n\t\t} ),\n\t\t[ alternative, resolution ]\n\t);\n\n\tuseEffect( () => {\n\t\tif ( ! experiment ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\trawStatus === 'missing' ||\n\t\t\trawStatus === 'loading' ||\n\t\t\trawStatus === 'error'\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( processedStatus === 'ready' || processedStatus === 'processing' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvoid requestResultProcessing( alternative, resolution );\n\t}, [\n\t\texperiment,\n\t\talternative,\n\t\tresolution,\n\t\tclicks,\n\t\tscrolls,\n\t\tprocessedStatus,\n\t\trawStatus,\n\t\trequestResultProcessing,\n\t] );\n};\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport Logo from '../../../../../images/full-logo.svg';\n\nexport const ResultsNotAvailable = (): JSX.Element => (\n\t<div className=\"nab-heatmap-no-longer-available\">\n\t\t<Logo\n\t\t\tclassName=\"nab-heatmap-no-longer-available__logo\"\n\t\t\ttitle=\"Nelio A/B Testing\"\n\t\t\talt=\"Nelio A/B Testing\"\n\t\t/>\n\n\t\t<h1 className=\"nab-heatmap-no-longer-available__title\">\n\t\t\t{ _x( 'Heatmap not found', 'text', 'nelio-ab-testing' ) }\n\t\t</h1>\n\n\t\t<p className=\"nab-heatmap-no-longer-available__explanation\">\n\t\t\t{ _x(\n\t\t\t\t'Oops! It looks like your heatmap is no longer available. Please keep in mind that heatmap data is only stored up to two years in Nelios cloud.',\n\t\t\t\t'user',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t) }\n\t\t</p>\n\t</div>\n);\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { BaseControl } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport const ScrollmapLegend = (): JSX.Element => (\n\t<BaseControl\n\t\tid=\"nab-scrollmap-legend\"\n\t\tclassName=\"nab-scrollmap-legend\"\n\t\tlabel={ _x( 'Scrollmap Legend', 'text', 'nelio-ab-testing' ) }\n\t>\n\t\t<div className=\"nab-scrollmap-legend__container\">\n\t\t\t<div className=\"nab-scrollmap-legend__scale\">\n\t\t\t\t<div className=\"nab-scrollmap-legend__percent nab-scrollmap-legend__percent--0\"></div>\n\t\t\t\t<div className=\"nab-scrollmap-legend__percent nab-scrollmap-legend__percent--25\"></div>\n\t\t\t\t<div className=\"nab-scrollmap-legend__percent nab-scrollmap-legend__percent--50\"></div>\n\t\t\t\t<div className=\"nab-scrollmap-legend__percent nab-scrollmap-legend__percent--75\"></div>\n\t\t\t\t<div className=\"nab-scrollmap-legend__percent nab-scrollmap-legend__percent--100\"></div>\n\t\t\t</div>\n\t\t\t<div className=\"nab-scrollmap-legend__text\">\n\t\t\t\t<span>\n\t\t\t\t\t{ _x( 'Less popular', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t{ _x( 'More popular', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t</BaseControl>\n);\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { PanelBody, Button } from '@safe-wordpress/components';\nimport { useDispatch } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport {\n\tuseActiveAlternative,\n\tuseActiveMode,\n\tuseActiveResolution,\n\tuseIsLocked,\n\tuseIsProcessingResults,\n} from '../../hooks';\nimport { store as NAB_HEATMAP } from '../../../store';\n\nexport const Advanced = (): JSX.Element | null => {\n\tconst isLocked = useIsLocked();\n\tconst isVisible = useIsVisible();\n\tconst repositionData = useRepositionData();\n\tconst isProcessing = useIsProcessingResults();\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody\n\t\t\tinitialOpen={ false }\n\t\t\tclassName=\"nab-advanced\"\n\t\t\ttitle={ _x( 'Advanced', 'text', 'nelio-ab-testing' ) }\n\t\t>\n\t\t\t<p>\n\t\t\t\t{ _x(\n\t\t\t\t\t'Under some circumstances, when your page loads content dynamically, the results may be shifted from their correct position. Refresh the view to re-render the results properly:',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</p>\n\n\t\t\t<Button\n\t\t\t\tclassName=\"nab-advanced__reposition-button\"\n\t\t\t\tdisabled={ isLocked }\n\t\t\t\tisBusy={ isProcessing }\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tonClick={ repositionData }\n\t\t\t>\n\t\t\t\t{ isProcessing\n\t\t\t\t\t? _x( 'Refreshing View', 'command', 'nelio-ab-testing' )\n\t\t\t\t\t: _x( 'Refresh View', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t</PanelBody>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsVisible = () => 'scrollmap' !== useActiveMode()[ 0 ];\n\nconst useRepositionData = () => {\n\tconst [ alternative ] = useActiveAlternative();\n\tconst [ resolution ] = useActiveResolution();\n\tconst { requestResultProcessing } = useDispatch( NAB_HEATMAP );\n\treturn () => requestResultProcessing( alternative, resolution );\n};\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\nimport { Button } from '@safe-wordpress/components';\nimport type { HeatmapDataStatus } from '@nab/types';\n\n/**\n * External dependencies\n */\nimport { useRawResultsStatus } from '../hooks';\n\nexport const ErrorMessage = (): JSX.Element | null => {\n\tconst [ status, setStatus ] = useRawResultsStatus();\n\tconst errorMessage = getErrorMessage( status );\n\tconst dismiss = () => setStatus( { mode: 'ready' } );\n\n\tif ( ! errorMessage ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"nab-heatmap-results-sidebar__error-message\">\n\t\t\t<div>{ errorMessage }</div>\n\t\t\t<div>\n\t\t\t\t<Button\n\t\t\t\t\ticon=\"no\"\n\t\t\t\t\tonClick={ dismiss }\n\t\t\t\t\tlabel={ _x( 'Dismiss', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t></Button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nfunction getErrorMessage( status: HeatmapDataStatus ): string {\n\tif ( 'ready' !== status.mode ) {\n\t\treturn '';\n\t}\n\n\tswitch ( status.partialError ) {\n\t\tcase 'unknown':\n\t\t\treturn _x(\n\t\t\t\t'Something went wrong and results couldnt be fully loaded',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'stuck-results':\n\t\t\treturn _x(\n\t\t\t\t'Results are still being computed in Nelios cloud',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase undefined:\n\t\t\treturn '';\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { PanelBody, Button } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { store as NAB_DATA } from '@nab/data';\nimport { downloadAsCsv } from '@nab/utils';\nimport type { Click } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { useIsHeatmap, useIsLocked, useRawClicks } from '../../hooks';\nimport { store as NAB_HEATMAP } from '../../../store';\n\nexport const Export = (): JSX.Element | null => {\n\tconst isLocked = useIsLocked();\n\tconst isHeatmap = useIsHeatmap();\n\tconst expId = useActiveExperimentId();\n\tconst altId = useActiveAlternativeId();\n\tconst cliks = useRawClicks();\n\tconst handleDownload = useDownloadHandle(\n\t\tisHeatmap ? `${ expId }` : `${ expId }-${ altId }`,\n\t\tcliks\n\t);\n\n\treturn (\n\t\t<PanelBody\n\t\t\tinitialOpen={ false }\n\t\t\tclassName=\"nab-export\"\n\t\t\ttitle={ _x( 'Export', 'text', 'nelio-ab-testing' ) }\n\t\t>\n\t\t\t<p>\n\t\t\t\t{ _x(\n\t\t\t\t\t'Export all the clicks of the heatmap:',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</p>\n\n\t\t\t<Button\n\t\t\t\tclassName=\"nab-export__button\"\n\t\t\t\tdisabled={ isLocked }\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tonClick={ handleDownload }\n\t\t\t>\n\t\t\t\t{ _x( 'Download CSV', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t</PanelBody>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useActiveExperimentId = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_DATA ).getPageAttribute( 'editor/activeExperiment' ),\n\t\t[]\n\t);\n\nconst useActiveAlternativeId = () =>\n\tuseSelect( ( select ) => select( NAB_HEATMAP ).getActiveAlternative(), [] );\n\nconst useDownloadHandle =\n\t( id: string, clicks: ReadonlyArray< Click > ) => () => {\n\t\tconst columns = [\n\t\t\t{\n\t\t\t\taccessor: ( item: Click ) =>\n\t\t\t\t\titem.xpath || item.cssPath || 'unknown',\n\t\t\t\tname: _x( 'Element', 'text', 'nelio-ab-testing' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\taccessor: ( item: Click ) => item.x,\n\t\t\t\tname: _x( 'X coordinate', 'text', 'nelio-ab-testing' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\taccessor: ( item: Click ) => item.y,\n\t\t\t\tname: _x( 'Y coordinate', 'text', 'nelio-ab-testing' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\taccessor: ( item: Click ) => item.browser,\n\t\t\t\tname: _x( 'Browser', 'text', 'nelio-ab-testing' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\taccessor: ( item: Click ) => item.country,\n\t\t\t\tname: _x( 'Country', 'text', 'nelio-ab-testing' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\taccessor: ( item: Click ) => item.os,\n\t\t\t\tname: _x( 'OS', 'text', 'nelio-ab-testing' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\taccessor: ( item: Click ) => item.device,\n\t\t\t\tname: _x( 'Device', 'text', 'nelio-ab-testing' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\taccessor: ( item: Click ) => item.windowWidthInPx,\n\t\t\t\tname: _x( 'Window Width', 'text', 'nelio-ab-testing' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\taccessor: ( item: Click ) => item.dayOfWeek,\n\t\t\t\tname: _x( 'Day of Week', 'text', 'nelio-ab-testing' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\taccessor: ( item: Click ) => item.hourOfDay,\n\t\t\t\tname: _x( 'Hour of Day', 'text', 'nelio-ab-testing' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\taccessor: ( item: Click ) => item.timeToClick,\n\t\t\t\tname: _x( 'Time to Click', 'text', 'nelio-ab-testing' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\taccessor: ( item: Click ) => item.timestamp,\n\t\t\t\tname: _x( 'Timestamp', 'text', 'nelio-ab-testing' ),\n\t\t\t},\n\t\t];\n\n\t\tdownloadAsCsv(\n\t\t\t[\n\t\t\t\tcolumns.map( ( col ) => col.name ),\n\t\t\t\t...clicks.map( ( click ) =>\n\t\t\t\t\tcolumns.map( ( col ) => col.accessor( click ) )\n\t\t\t\t),\n\t\t\t],\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: Unique identifier. */\n\t\t\t\t_x( 'heatmap-clicks-%s.csv', 'text', 'nelio-ab-testing' ),\n\t\t\t\tid\n\t\t\t)\n\t\t);\n\t};\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { Button, Dashicon } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * Internal dependencies\n */\nimport {\n\tuseActiveResolution,\n\tuseIsLocked,\n\tuseSidebarVisibility,\n} from '../hooks';\n\nexport const FooterActions = (): JSX.Element => {\n\tconst [ isVisible, setVisibility ] = useSidebarVisibility();\n\tconst isLocked = useIsLocked();\n\tconst [ resolution, setResolution ] = useActiveResolution();\n\n\treturn (\n\t\t<div className=\"nab-heatmap-results-sidebar__footer-actions\">\n\t\t\t<div\n\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t'nab-heatmap-results-sidebar__visibility-toggle': true,\n\t\t\t\t\t'nab-heatmap-results-sidebar__visibility-toggle--hide':\n\t\t\t\t\t\t!! isVisible,\n\t\t\t\t\t'nab-heatmap-results-sidebar__visibility-toggle--show':\n\t\t\t\t\t\t! isVisible,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\tonClick={ () => setVisibility( ! isVisible ) }\n\t\t\t\t>\n\t\t\t\t\t{ isVisible ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Dashicon icon=\"admin-collapse\" />\n\t\t\t\t\t\t\t<span className=\"nab-heatmap-results-sidebar__visibility-toggle-label\">\n\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t'Hide Controls',\n\t\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Dashicon icon=\"admin-collapse\" />\n\t\t\t\t\t) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\n\t\t\t<div className=\"nab-heatmap-results-sidebar__resolutions\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t\t'nab-heatmap-results-sidebar__resolution': true,\n\t\t\t\t\t\t'nab-heatmap-results-sidebar__resolution--is-active':\n\t\t\t\t\t\t\t'desktop' === resolution,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\tonClick={ () => setResolution( 'desktop' ) }\n\t\t\t\t\t\tdisabled={ isLocked }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Dashicon icon=\"desktop\" />\n\t\t\t\t\t\t<span className=\"screen-reader-text\">\n\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t'Enter desktop preview mode',\n\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t\t'nab-heatmap-results-sidebar__resolution': true,\n\t\t\t\t\t\t'nab-heatmap-results-sidebar__resolution--is-active':\n\t\t\t\t\t\t\t'tablet' === resolution,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\tonClick={ () => setResolution( 'tablet' ) }\n\t\t\t\t\t\tdisabled={ isLocked }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Dashicon icon=\"tablet\" />\n\t\t\t\t\t\t<span className=\"screen-reader-text\">\n\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t'Enter tablet preview mode',\n\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t\t'nab-heatmap-results-sidebar__resolution': true,\n\t\t\t\t\t\t'nab-heatmap-results-sidebar__resolution--is-active':\n\t\t\t\t\t\t\t'smartphone' === resolution,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\tonClick={ () => setResolution( 'smartphone' ) }\n\t\t\t\t\t\tdisabled={ isLocked }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Dashicon icon=\"smartphone\" />\n\t\t\t\t\t\t<span className=\"screen-reader-text\">\n\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t'Enter mobile preview mode',\n\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport { Button, Dashicon, Spinner } from '@safe-wordpress/components';\nimport { useDispatch } from '@safe-wordpress/data';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { store as NAB_DATA, useAdminUrl, usePageAttribute } from '@nab/data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tuseActiveExperiment,\n\tuseProgress,\n\tuseRawResultsStatus,\n\tuseResultsStopper,\n} from '../hooks';\nimport { VariantSwitcher } from '../variant-switcher';\n\nexport const Header = (): JSX.Element => {\n\tconst isHeatmapExperiment = useIsHeatmapExperiment();\n\tconst isRunning = useIsRunning();\n\tconst [ status ] = useRawResultsStatus();\n\tconst dataStatus = status.mode;\n\n\tconst [ progress ] = useProgress();\n\tconst [ isStopping, stopResultLoading ] = useResultsStopper();\n\n\tconst { stopExperiment } = useDispatch( NAB_DATA );\n\n\tif (\n\t\t'loading' === dataStatus ||\n\t\t'error' === dataStatus ||\n\t\t'missing' === dataStatus\n\t) {\n\t\treturn (\n\t\t\t<div className=\"nab-heatmap-results-sidebar__header-actions\">\n\t\t\t\t<BackButton />\n\n\t\t\t\t{ ! isHeatmapExperiment && (\n\t\t\t\t\t<div className=\"nab-heatmap-results-sidebar__alt-switcher\">\n\t\t\t\t\t\t<VariantSwitcher />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( 'still-loading' === dataStatus || 'canceling' === dataStatus ) {\n\t\treturn (\n\t\t\t<div className=\"nab-heatmap-results-sidebar__header-actions\">\n\t\t\t\t<BackButton />\n\t\t\t\t<div className=\"nab-heatmap-results-sidebar__running-actions\">\n\t\t\t\t\t{ !! progress ? (\n\t\t\t\t\t\t<span className=\"nab-heatmap-results-sidebar__progress\">\n\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t/* translators: %d: Percentage. */\n\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t'Fetching more data (%d%%)',\n\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tMath.min( progress, 99 )\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t) }\n\t\t\t\t\t{ 'canceling' !== dataStatus && (\n\t\t\t\t\t\t<Button variant=\"link\" onClick={ stopResultLoading }>\n\t\t\t\t\t\t\t{ _x( 'Cancel', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"nab-heatmap-results-sidebar__header-actions\">\n\t\t\t<BackButton />\n\n\t\t\t{ isHeatmapExperiment && isRunning && (\n\t\t\t\t<div className=\"nab-heatmap-results-sidebar__running-actions\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ () => void stopExperiment() }\n\t\t\t\t\t\tdisabled={ isStopping }\n\t\t\t\t\t\tisBusy={ isStopping }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ isStopping\n\t\t\t\t\t\t\t? _x( 'Stopping', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t\t\t: _x( 'Stop', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t{ ! isHeatmapExperiment && (\n\t\t\t\t<div className=\"nab-heatmap-results-sidebar__alt-switcher\">\n\t\t\t\t\t<VariantSwitcher />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\nconst BackButton = () => {\n\tconst [ isPublicView ] = usePageAttribute( 'results/isPublicView', false );\n\tconst backUrl = useBackUrl();\n\n\tif ( isPublicView ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"nab-heatmap-results-sidebar__back\">\n\t\t\t<a\n\t\t\t\tclassName=\"nab-heatmap-results-sidebar__back-link\"\n\t\t\t\thref={ backUrl }\n\t\t\t\ttitle={ _x( 'Back', 'command', 'nelio-ab-testing' ) }\n\t\t\t>\n\t\t\t\t<Dashicon icon=\"arrow-left-alt2\" />\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useBackUrl = () => {\n\tconst experimentsUrl = useAdminUrl( 'edit.php', {\n\t\tpost_type: 'nab_experiment',\n\t} );\n\tconst experiment = useActiveExperiment();\n\tif ( ! experiment ) {\n\t\treturn;\n\t}\n\n\treturn experiment.type === 'nab/heatmap'\n\t\t? experimentsUrl\n\t\t: experiment.links.edit;\n};\n\nconst useIsHeatmapExperiment = () =>\n\tuseActiveExperiment()?.type === 'nab/heatmap';\n\nconst useIsRunning = () => useActiveExperiment()?.status === 'running';\n","/**\n * WordPress dependencies\n */\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { Header } from './header';\nimport { FooterActions } from './footer-actions';\n\nimport { Summary } from './summary';\nimport { Description } from '../../../results/components/sidebar/description';\nimport { KindSelector } from '../kind-selector';\nimport { Export } from './export';\nimport { Advanced } from './advanced';\nimport { ErrorMessage } from './error-message';\nimport { ParticipationConditions } from './participation-conditions';\nimport { NoQuotaWarning } from './no-quota-warning';\n\nexport type SidebarProps = {\n\treadonly className?: string;\n};\n\nexport const Sidebar = ( { className }: SidebarProps ): JSX.Element => {\n\treturn (\n\t\t<div className={ clsx( [ 'nab-heatmap-results-sidebar', className ] ) }>\n\t\t\t<Header />\n\t\t\t<NoQuotaWarning />\n\n\t\t\t<div className=\"nab-heatmap-results-sidebar__wrapper\">\n\t\t\t\t<KindSelector />\n\t\t\t\t<Summary />\n\t\t\t\t<Description />\n\t\t\t\t<ParticipationConditions />\n\t\t\t\t<Export />\n\t\t\t\t<Advanced />\n\t\t\t</div>\n\n\t\t\t<ErrorMessage />\n\t\t\t<FooterActions />\n\t\t</div>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport { Dashicon } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { store as NAB_DATA } from '@nab/data';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { useActiveExperiment } from '../../hooks';\n\nexport const NoQuotaWarning = (): JSX.Element | null => {\n\tconst quota = useSelect( ( select ) => select( NAB_DATA ).getQuota(), [] );\n\tconst status = useActiveExperiment()?.status;\n\n\tif ( ! quota || quota.availableQuota ) {\n\t\treturn null;\n\t}\n\n\tif ( 'running' !== status ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"nab-heatmap-results-sidebar__no-quota-warning\">\n\t\t\t<Dashicon icon=\"warning\" />\n\t\t\t<span>\n\t\t\t\t{ _x(\n\t\t\t\t\t'Event tracking has stopped because theres no more quota available at the moment.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</span>\n\t\t</div>\n\t);\n};\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { PanelBody } from '@safe-wordpress/components';\nimport { useDispatch } from '@safe-wordpress/data';\nimport { useEffect } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { store as NAB_DATA } from '@nab/data';\nimport { SegmentationRule as Condition } from '@nab/components';\nimport { Experiment, Heatmap, Maybe } from '@nab/types';\nimport { useActiveExperiment } from '../../hooks';\n\nexport const ParticipationConditions = (): JSX.Element | null => {\n\tconst exp = useActiveExperiment();\n\tconst conditions = hasConditions( exp ) ? exp.participationConditions : [];\n\n\t// HACK. We need this effect to use the SegmentationRule component from regular results page.\n\tconst { setPageAttribute } = useDispatch( NAB_DATA );\n\tuseEffect(\n\t\t() => void setPageAttribute( 'editor/activeSegment', 'default' ),\n\t\t[ setPageAttribute ]\n\t);\n\n\tif ( ! conditions.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody\n\t\t\tinitialOpen={ false }\n\t\t\tclassName=\"nab-participation-conditions\"\n\t\t\ttitle={ _x( 'Participation', 'text', 'nelio-ab-testing' ) }\n\t\t>\n\t\t\t<p>\n\t\t\t\t{ _x(\n\t\t\t\t\t'Only visitors who met all the following criteria contributed to this heatmap:',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t{ conditions.map( ( condition ) => (\n\t\t\t\t<Condition key={ condition.id } rule={ condition } />\n\t\t\t) ) }\n\t\t</PanelBody>\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst hasConditions = ( e: Maybe< Experiment | Heatmap > ): e is Heatmap =>\n\t!! e && 'participationConditions' in e;\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { PanelBody } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { store as NAB_DATA, useExperimentAttribute } from '@nab/data';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { Stats } from './stats';\nimport { Status } from '../../../../results/components/sidebar/summary/status';\nimport { DateInfo } from '../../../../results/components/sidebar/summary/date-info';\nimport { store as NAB_HEATMAP } from '../../../store';\nimport { useActiveAlternative, useActiveExperiment } from '../../hooks';\n\nexport const Summary = (): JSX.Element => {\n\tconst status = useExperimentAttribute( 'status', 'running' );\n\tconst views = useAlternativeViews();\n\tconst clicks = useClickCount();\n\tconst dates = {\n\t\tstart: useExperimentAttribute( 'startDate', '' ),\n\t\tend: useExperimentAttribute( 'endDate', false ),\n\t\tendMode: useExperimentAttribute( 'endMode', 'manual' ),\n\t\tendValue: useExperimentAttribute( 'endValue', 0 ),\n\t};\n\n\treturn (\n\t\t<PanelBody\n\t\t\tclassName=\"nab-experiment-summary\"\n\t\t\ttitle={ _x( 'Summary', 'text (experiment)', 'nelio-ab-testing' ) }\n\t\t>\n\t\t\t<Status status={ status } />\n\t\t\t<Stats views={ views } clicks={ clicks } />\n\t\t\t<DateInfo { ...dates } />\n\t\t</PanelBody>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useClickCount = () =>\n\tuseSelect( ( select ): number => {\n\t\tconst alternative = select( NAB_HEATMAP ).getActiveAlternative();\n\t\tconst resolution = select( NAB_HEATMAP ).getActiveResolution();\n\t\treturn select( NAB_HEATMAP ).getClicksInResolution(\n\t\t\talternative,\n\t\t\tresolution\n\t\t).length;\n\t}, [] );\n\nconst useAlternativeViews = () => {\n\tconst exp = useActiveExperiment();\n\tconst [ altIdx ] = useActiveAlternative();\n\tconst alt = exp?.alternatives[ altIdx ];\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\texp?.id && alt?.id\n\t\t\t\t? select( NAB_DATA ).getAlternativePageViews( exp.id, alt.id )\n\t\t\t\t: 0,\n\t\t[ exp?.id, alt?.id ]\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport { PanelRow } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { compactInteger } from '@nab/i18n';\n\nexport type StatsProps = {\n\treadonly clicks?: number;\n\treadonly views?: number;\n};\n\nexport const Stats = ( { clicks, views }: StatsProps ): JSX.Element => (\n\t<>\n\t\t<PanelRow className=\"nab-experiment-summary__pageviews\">\n\t\t\t<span>{ _x( 'Page Views', 'text', 'nelio-ab-testing' ) }</span>\n\t\t\t<span>\n\t\t\t\t{ 'undefined' !== typeof views ? compactInteger( views ) : '-' }\n\t\t\t</span>\n\t\t</PanelRow>\n\t\t<PanelRow className=\"nab-experiment-summary__clicks\">\n\t\t\t<span>\n\t\t\t\t{ _x( 'Total Click Count', 'text', 'nelio-ab-testing' ) }\n\t\t\t</span>\n\t\t\t<span>\n\t\t\t\t{ 'undefined' !== typeof clicks\n\t\t\t\t\t? compactInteger( clicks )\n\t\t\t\t\t: '-' }\n\t\t\t</span>\n\t\t</PanelRow>\n\t</>\n);\n","// extracted by mini-css-extract-plugin\nexport {};","export const StatusManager = (): null => null;\n","/**\n * WordPress dependencies\n */\nimport { SelectControl } from '@safe-wordpress/components';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { addQueryArgs } from '@safe-wordpress/url';\n\n/**\n * External dependencies\n */\nimport { indexOf, map } from 'lodash';\nimport { usePageAttribute } from '@nab/data';\nimport { getLetter } from '@nab/utils';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport {\n\tuseActiveExperiment,\n\tuseProcessedResultsStatus,\n\tuseRawResultsStatus,\n} from '../hooks';\nimport { store as NAB_HEATMAP } from '../../store';\n\nexport const VariantSwitcher = (): JSX.Element | null => {\n\tconst [ alternative, setAlternative ] = useAlternative();\n\tconst alternatives = useAlternatives();\n\tconst disabled = useIsDisabled();\n\n\tif ( ! alternative || ! alternatives.length ) {\n\t\treturn null;\n\t}\n\n\tconst options = alternatives.map( ( id, index ) => ( {\n\t\tvalue: id,\n\t\tlabel: sprintf(\n\t\t\t/* translators: %s: Variant letter. */\n\t\t\t_x( 'Variant %s', 'text', 'nelio-ab-testing' ),\n\t\t\tgetLetter( index )\n\t\t),\n\t} ) );\n\n\treturn (\n\t\t<div className=\"nab-heatmap-results-header__variant\">\n\t\t\t<SelectControl\n\t\t\t\tdisabled={ disabled }\n\t\t\t\tvalue={ alternative }\n\t\t\t\toptions={ options }\n\t\t\t\tonChange={ setAlternative }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useAlternative = () => {\n\tconst altIndex = useSelect(\n\t\t( select ) => select( NAB_HEATMAP ).getActiveAlternative(),\n\t\t[]\n\t);\n\tconst alternatives = useAlternatives();\n\tconst alternative = alternatives[ altIndex ];\n\tconst { setActiveAlternative } = useDispatch( NAB_HEATMAP );\n\tconst setAlternative = ( alt: string ) => {\n\t\tconst index = indexOf( alternatives, alt );\n\t\tvoid setActiveAlternative( index );\n\t\tconst url = addQueryArgs( document.location.href, {\n\t\t\theatmap: index,\n\t\t} );\n\t\twindow.history.replaceState( {}, '', url );\n\t};\n\treturn [ alternative, setAlternative ] as const;\n};\n\nconst useAlternatives = () => {\n\tconst experiment = useActiveExperiment();\n\treturn experiment?.type === 'nab/heatmap'\n\t\t? []\n\t\t: map( experiment?.alternatives, 'id' );\n};\n\nconst useIsDisabled = (): boolean => {\n\tconst [ isLocked ] = usePageAttribute( 'isLocked', false );\n\tconst [ isStopping ] = usePageAttribute(\n\t\t'editor/isExperimentBeingStopped',\n\t\tfalse\n\t);\n\tconst rawStatus = useRawResultsStatus()[ 0 ].mode;\n\tconst processedStatus = useProcessedResultsStatus();\n\treturn (\n\t\tisLocked ||\n\t\tisStopping ||\n\t\t'missing' === rawStatus ||\n\t\t'loading' === rawStatus ||\n\t\t'processing' === processedStatus\n\t);\n};\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { select as doSelect, useDispatch } from '@safe-wordpress/data';\nimport { useCallback, useEffect } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport { BigMessage, LoadingAnimation } from '@nab/components';\nimport type {\n\tAlternativeIndex,\n\tHeatmapErrorRationale,\n\tHeatmapFrameAction,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport {\n\tuseActiveAlternative,\n\tuseActiveFilter,\n\tuseActiveMode,\n\tuseActiveResolution,\n\tuseDisabledFilterOptions,\n\tuseHasProcessedResults,\n\tuseHeatmapIntensity,\n\tuseHeatmapOpacity,\n\tuseInteractivity,\n\tuseIsProcessingResults,\n\tuseProcessedResultsStatus,\n\tuseRawResultsStatus,\n} from '../hooks';\nimport { store as NAB_HEATMAP } from '../../store';\n\nexport type ViewProps = {\n\treadonly className: string;\n\treadonly alternative: AlternativeIndex;\n\treadonly contentUrl?: string;\n};\n\nexport const View = ( {\n\tclassName,\n\talternative,\n\tcontentUrl,\n}: ViewProps ): JSX.Element => {\n\tconst [ activeAlternative ] = useActiveAlternative();\n\tuseProcessResultsEffect( alternative );\n\tuseRenderResultsEffect( alternative );\n\tuseOpacityChangeEffect( alternative );\n\tuseIntensityChangeEffect( alternative );\n\tuseInteractivityChangeEffect( alternative );\n\n\tconst [ resolution ] = useActiveResolution();\n\tconst awaitRendererScript = useRendererScriptWaiter( alternative );\n\n\tconst isHidden = alternative !== activeAlternative;\n\n\treturn (\n\t\t<div className={ className }>\n\t\t\t<FeedbackMessage />\n\t\t\t<iframe\n\t\t\t\tid={ `nab-heatmap-results__iframe-${ alternative }` }\n\t\t\t\tclassName={ clsx( {\n\t\t\t\t\t'nab-heatmap-results__iframe': true,\n\t\t\t\t\t[ `nab-heatmap-results__iframe--${ resolution }` ]: true,\n\t\t\t\t\t'nab-heatmap-results__iframe--is-hidden': isHidden,\n\t\t\t\t} ) }\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Content of the heatmap',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tsrc={ contentUrl }\n\t\t\t\tonLoad={ () => awaitRendererScript() }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\n// ============\n// HELPER VIEWS\n// ============\n\nconst FeedbackMessage = () => {\n\tconst isProcessingData = useIsProcessingResults();\n\tconst hasProcessedResults = useHasProcessedResults();\n\tconst [ status ] = useRawResultsStatus();\n\n\tif (\n\t\tstatus.mode === 'still-loading' ||\n\t\tstatus.mode === 'canceling' ||\n\t\tstatus.mode === 'ready'\n\t) {\n\t\tif ( ! isProcessingData || hasProcessedResults ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"nab-heatmap-results__loader\">\n\t\t\t\t<LoadingAnimation\n\t\t\t\t\ttext={ _x(\n\t\t\t\t\t\t'Processing results',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( 'error' === status.mode ) {\n\t\treturn (\n\t\t\t<div className=\"nab-heatmap-results__loader\">\n\t\t\t\t<BigMessage\n\t\t\t\t\ticon={ getErrorIcon( status.rationale ) }\n\t\t\t\t\ttext={ getErrorMessage( status.rationale ) }\n\t\t\t\t/>\n\t\t\t\t{ 'unreachable-servers' === status.rationale && (\n\t\t\t\t\t<div className=\"nab-heatmap-results__adblock-explanation\">\n\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t'If youre using an adblocker on your browser, please disable it as its probably blocking Nelio A/B Testings requests, thus preventing the plugin from pulling your heatmap data.',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"nab-heatmap-results__loader\">\n\t\t\t<LoadingAnimation\n\t\t\t\ttext={\n\t\t\t\t\tstatus.mode === 'loading'\n\t\t\t\t\t\t? _x( 'Fetching results', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t\t: _x( 'Loading page', 'text', 'nelio-ab-testing' )\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useRendererScriptWaiter = ( alternative: AlternativeIndex ) => {\n\tconst { setIFrameStatus } = useDispatch( NAB_HEATMAP );\n\treturn () =>\n\t\tvoid setTimeout( () => {\n\t\t\tconst { getIFrameStatus } = doSelect( NAB_HEATMAP );\n\t\t\tconst status = getIFrameStatus( alternative );\n\t\t\tconst isWaitingScript = 'waiting-script' === status;\n\t\t\tif ( isWaitingScript ) {\n\t\t\t\tvoid setIFrameStatus( alternative, 'script-not-found' );\n\t\t\t}\n\t\t}, 30000 );\n};\n\nconst useProcessResultsEffect = ( alternative: AlternativeIndex ) => {\n\tconst postMessage = usePostMessage( alternative );\n\tconst [ activeAlternative ] = useActiveAlternative();\n\tconst [ mode ] = useActiveMode();\n\tconst status = useProcessedResultsStatus();\n\n\tuseEffect( () => {\n\t\tif ( activeAlternative !== alternative ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( 'outdated' !== status ) {\n\t\t\treturn;\n\t\t}\n\t\tpostMessage( {\n\t\t\tplugin: 'nelio-ab-testing',\n\t\t\ttype: 'process-results',\n\t\t\tmode,\n\t\t} );\n\t}, [ activeAlternative, alternative, status, mode, postMessage ] );\n};\n\nconst useRenderResultsEffect = ( alternative: AlternativeIndex ) => {\n\tconst [ activeAlternative ] = useActiveAlternative();\n\tconst postMessage = usePostMessage( alternative );\n\tconst [ filter ] = useActiveFilter();\n\tconst [ mode ] = useActiveMode();\n\tconst [ resolution ] = useActiveResolution();\n\tconst [ disabledFilterOptions ] = useDisabledFilterOptions();\n\n\tconst status = useProcessedResultsStatus();\n\n\tuseEffect( () => {\n\t\tif ( activeAlternative !== alternative ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( status !== 'ready' && status !== 'outdated' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tpostMessage( {\n\t\t\tplugin: 'nelio-ab-testing',\n\t\t\ttype: 'render-results',\n\t\t\tmode,\n\t\t} );\n\t}, [\n\t\tactiveAlternative,\n\t\talternative,\n\t\tdisabledFilterOptions,\n\t\tfilter,\n\t\tmode,\n\t\tresolution,\n\t\tstatus,\n\t\tpostMessage,\n\t] );\n};\n\nconst useOpacityChangeEffect = ( alternative: AlternativeIndex ) => {\n\tconst postMessage = usePostMessage( alternative );\n\tconst [ mode ] = useActiveMode();\n\tconst [ opacity ] = useHeatmapOpacity();\n\tconst [ activeAlternative ] = useActiveAlternative();\n\tuseEffect( () => {\n\t\tif ( activeAlternative !== alternative ) {\n\t\t\treturn;\n\t\t}\n\n\t\tpostMessage( {\n\t\t\tplugin: 'nelio-ab-testing',\n\t\t\ttype: 'update-opacity',\n\t\t\tmode,\n\t\t\tvalue: opacity,\n\t\t} );\n\t}, [ activeAlternative, alternative, mode, opacity, postMessage ] );\n};\n\nconst useIntensityChangeEffect = ( alternative: AlternativeIndex ) => {\n\tconst postMessage = usePostMessage( alternative );\n\tconst [ intensity ] = useHeatmapIntensity();\n\tconst [ activeAlternative ] = useActiveAlternative();\n\tconst [ mode ] = useActiveMode();\n\tuseEffect( () => {\n\t\tif ( 'heatmap' !== mode ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( activeAlternative !== alternative ) {\n\t\t\treturn;\n\t\t}\n\n\t\tpostMessage( {\n\t\t\tplugin: 'nelio-ab-testing',\n\t\t\ttype: 'update-intensity',\n\t\t\tmode,\n\t\t\tvalue: intensity,\n\t\t} );\n\t}, [ activeAlternative, alternative, intensity, mode, postMessage ] );\n};\n\nconst useInteractivityChangeEffect = ( alternative: AlternativeIndex ) => {\n\tconst postMessage = usePostMessage( alternative );\n\tconst [ isInteractive ] = useInteractivity();\n\tconst [ activeAlternative ] = useActiveAlternative();\n\tconst [ mode ] = useActiveMode();\n\tuseEffect( () => {\n\t\tif ( 'heatmap' !== mode && 'confetti' !== mode ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( activeAlternative !== alternative ) {\n\t\t\treturn;\n\t\t}\n\n\t\tpostMessage( {\n\t\t\tplugin: 'nelio-ab-testing',\n\t\t\ttype: 'make-interactive',\n\t\t\tmode,\n\t\t\tvalue: isInteractive,\n\t\t} );\n\t}, [ activeAlternative, alternative, isInteractive, mode, postMessage ] );\n};\n\nconst usePostMessage = ( alternative: AlternativeIndex ) =>\n\tuseCallback(\n\t\t( action: HeatmapFrameAction ) => {\n\t\t\tconst id = `nab-heatmap-results__iframe-${ alternative }`;\n\t\t\tconst iframe = document.getElementById( id ) as HTMLIFrameElement;\n\t\t\tif ( iframe?.contentWindow?.postMessage ) {\n\t\t\t\tiframe.contentWindow.postMessage( action );\n\t\t\t}\n\t\t},\n\t\t[ alternative ]\n\t);\n\n// =======\n// HELPERS\n// =======\n\nfunction getErrorMessage( rationale: HeatmapErrorRationale ) {\n\tswitch ( rationale ) {\n\t\tcase 'no-script':\n\t\t\treturn _x( 'Unable to render heatmap', 'text', 'nelio-ab-testing' );\n\n\t\tcase 'experiment-not-found':\n\t\t\treturn _x( 'Experiment not found', 'text', 'nelio-ab-testing' );\n\n\t\tcase 'alternative-not-found':\n\t\t\treturn _x( 'Page not found', 'text', 'nelio-ab-testing' );\n\n\t\tcase 'unreachable-servers':\n\t\t\treturn _x(\n\t\t\t\t'There was an error while retrieving data from the cloud',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'stuck-empty-results':\n\t\tcase 'heatmap-data-not-available':\n\t\t\treturn _x(\n\t\t\t\t'Heatmap data is currently unavailable',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'no-heatmap-data':\n\t\t\treturn _x( 'No heatmap data', 'text', 'nelio-ab-testing' );\n\n\t\tcase 'unknown':\n\t\t\treturn _x( 'Something went wrong', 'text', 'nelio-ab-testing' );\n\t}\n}\n\nfunction getErrorIcon( rationale: HeatmapErrorRationale ): 'crash' | 'info' {\n\tswitch ( rationale ) {\n\t\tcase 'no-script':\n\t\tcase 'experiment-not-found':\n\t\tcase 'alternative-not-found':\n\t\tcase 'unreachable-servers':\n\t\tcase 'unknown':\n\t\t\treturn 'crash';\n\n\t\tcase 'stuck-empty-results':\n\t\tcase 'heatmap-data-not-available':\n\t\tcase 'no-heatmap-data':\n\t\t\treturn 'info';\n\t}\n}\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport domReady from '@safe-wordpress/dom-ready';\nimport { StrictMode, render } from '@safe-wordpress/element';\n\n/**\n * External dependencies\n */\nimport { registerCommands } from '@nab/commands';\nimport { registerCoreExperiments } from '@nab/experiment-library';\nimport { registerCoreSegmentationRules } from '@nab/segmentation-rule-library';\nimport {\n\tisExperimentTooOldToHaveHeatmaps,\n\tcreateStagingNotice,\n} from '@nab/utils';\nimport type { ExperimentId, ExperimentTypeName, SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { ResultsNotAvailable } from './components/results-not-available';\nimport { ResultsProvider } from './components/provider';\nimport { Layout } from './components/layout';\n\ntype Settings = {\n\treadonly alternativeIndex: number;\n\treadonly endDate: string | false;\n\treadonly experimentId: ExperimentId;\n\treadonly experimentType: ExperimentTypeName;\n\treadonly firstDayOfWeek: number;\n\treadonly staging: 'environment-type' | 'url' | false;\n\treadonly isPublicView: boolean;\n\treadonly isReadOnlyActive: boolean;\n\treadonly siteId: SiteId;\n};\n\nexport function initPage( id: string, settings: Settings ): void {\n\tconst content = document.getElementById( id );\n\n\tif ( isExperimentTooOldToHaveHeatmaps( settings.endDate || '' ) ) {\n\t\treturn render(\n\t\t\t<StrictMode>\n\t\t\t\t<ResultsNotAvailable />\n\t\t\t</StrictMode>,\n\t\t\tcontent\n\t\t);\n\t}\n\n\tconst {\n\t\texperimentId,\n\t\texperimentType,\n\t\talternativeIndex,\n\t\tisPublicView,\n\t\tisReadOnlyActive,\n\t\tstaging,\n\t\tfirstDayOfWeek,\n\t} = settings;\n\n\tcreateStagingNotice( staging );\n\tregisterCoreExperiments();\n\tregisterCoreSegmentationRules();\n\n\tdomReady( () => registerCommands() );\n\n\trender(\n\t\t<StrictMode>\n\t\t\t<ResultsProvider\n\t\t\t\texperimentId={ experimentId }\n\t\t\t\texperimentType={ experimentType }\n\t\t\t\talternativeIndex={ alternativeIndex }\n\t\t\t\tfirstDayOfWeek={ firstDayOfWeek }\n\t\t\t\tisPublicView={ isPublicView }\n\t\t\t\tisReadOnlyActive={ isReadOnlyActive }\n\t\t\t>\n\t\t\t\t<Layout />\n\t\t\t</ResultsProvider>\n\t\t</StrictMode>,\n\t\tcontent\n\t);\n}\n","export * from './data/actions';\nexport * from './misc/actions';\nexport * from './ui/actions';\n","/**\n * External dependencies\n */\nimport type {\n\tAlternativeIndex,\n\tClick,\n\tHeatmapDataStatus,\n\tHeatmapResolution,\n\tMaybe,\n\tRawHeatmapResults,\n\tScroll,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { PageData, ProcessedResults, RawResults } from './config';\n\nexport type DataAction =\n\t| ReceiveRawResults\n\t| SetRawResultStatus\n\t| SetRawResultProgress\n\t| UpdateLoadAttempts\n\t| SetProcessedResults\n\t| SetPageInfo\n\t| MarkResultsAsProcessing\n\t| RequestResultProcessing;\n\nexport function receiveRawResults(\n\talternative: AlternativeIndex,\n\tdata: RawResults\n): ReceiveRawResults {\n\treturn {\n\t\ttype: 'RECEIVE_RAW_RESULTS',\n\t\talternative,\n\t\tdata,\n\t};\n}\n\nexport function setRawResultStatus(\n\talternative: AlternativeIndex,\n\tstatus: HeatmapDataStatus\n): SetRawResultStatus {\n\treturn {\n\t\ttype: 'SET_RAW_RESULT_STATUS',\n\t\talternative,\n\t\tstatus,\n\t};\n}\n\nexport function setRawResultProgress(\n\talternative: AlternativeIndex,\n\tprogress: number\n): SetRawResultProgress {\n\treturn {\n\t\ttype: 'SET_RAW_RESULT_PROGRESS',\n\t\talternative,\n\t\tprogress,\n\t};\n}\n\nexport function updateLoadAttempts(\n\talternative: AlternativeIndex,\n\tclicks: Maybe< RawHeatmapResults< Click > >,\n\tscrolls: Maybe< RawHeatmapResults< Scroll > >\n): UpdateLoadAttempts {\n\treturn {\n\t\ttype: 'UPDATE_LOAD_ATTEMPTS',\n\t\talternative,\n\t\tclicks,\n\t\tscrolls,\n\t};\n}\n\nexport function setProcessedResults(\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution,\n\tresults: ProcessedResults\n): SetProcessedResults {\n\treturn {\n\t\ttype: 'SET_PROCESSED_RESULTS',\n\t\talternative,\n\t\tresolution,\n\t\tresults,\n\t};\n}\n\nexport function setPageInfo(\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution,\n\tpage: PageData\n): SetPageInfo {\n\treturn {\n\t\ttype: 'SET_PAGE_INFO',\n\t\talternative,\n\t\tresolution,\n\t\tpage,\n\t};\n}\n\nexport function markResultsAsProcessing(\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution\n): MarkResultsAsProcessing {\n\treturn {\n\t\ttype: 'MARK_RESULTS_AS_PROCESSING',\n\t\talternative,\n\t\tresolution,\n\t};\n}\n\nexport function requestResultProcessing(\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution\n): RequestResultProcessing {\n\treturn {\n\t\ttype: 'REQUEST_RESULTS_PROCESSING',\n\t\talternative,\n\t\tresolution,\n\t};\n}\n\n// ============\n// HELPER TYPES\n// ============\n\ntype ReceiveRawResults = {\n\treadonly type: 'RECEIVE_RAW_RESULTS';\n\treadonly alternative: AlternativeIndex;\n\treadonly data: RawResults;\n};\n\ntype SetRawResultStatus = {\n\treadonly type: 'SET_RAW_RESULT_STATUS';\n\treadonly alternative: AlternativeIndex;\n\treadonly status: HeatmapDataStatus;\n};\n\ntype SetRawResultProgress = {\n\treadonly type: 'SET_RAW_RESULT_PROGRESS';\n\treadonly alternative: AlternativeIndex;\n\treadonly progress: number;\n};\n\ntype UpdateLoadAttempts = {\n\treadonly type: 'UPDATE_LOAD_ATTEMPTS';\n\treadonly alternative: AlternativeIndex;\n\treadonly clicks: Maybe< RawHeatmapResults< Click > >;\n\treadonly scrolls: Maybe< RawHeatmapResults< Scroll > >;\n};\n\ntype SetProcessedResults = {\n\treadonly type: 'SET_PROCESSED_RESULTS';\n\treadonly alternative: AlternativeIndex;\n\treadonly resolution: HeatmapResolution;\n\treadonly results: ProcessedResults;\n};\n\ntype SetPageInfo = {\n\treadonly type: 'SET_PAGE_INFO';\n\treadonly alternative: AlternativeIndex;\n\treadonly resolution: HeatmapResolution;\n\treadonly page: PageData;\n};\n\ntype MarkResultsAsProcessing = {\n\treadonly type: 'MARK_RESULTS_AS_PROCESSING';\n\treadonly alternative: AlternativeIndex;\n\treadonly resolution: HeatmapResolution;\n};\n\ntype RequestResultProcessing = {\n\treadonly type: 'REQUEST_RESULTS_PROCESSING';\n\treadonly alternative: AlternativeIndex;\n\treadonly resolution: HeatmapResolution;\n};\n","/**\n * External dependencies\n */\nimport type {\n\tAlternativeIndex,\n\tClicksPerSquare,\n\tClickVisibilityProps,\n\tConfettiOption,\n\tConfettiType,\n\tDict,\n\tHeatmapDataStatus,\n\tHeatmapResolution,\n\tHeatmapResults,\n\tClickWithVisibility,\n\tScroll,\n\tScrollSummary,\n} from '@nab/types';\n\nexport type State = {\n\treadonly confettiFilterOptions: Partial<\n\t\tRecord< ConfettiType, Dict< ConfettiOption > >\n\t>;\n\treadonly byAlternative: Record< AlternativeIndex, ProcessedAlternative >;\n};\n\nexport const INIT: State = {\n\tconfettiFilterOptions: {},\n\tbyAlternative: {},\n};\n\nexport type ProcessedAlternative = {\n\treadonly raw: RawResults;\n\treadonly byResolution: Record< HeatmapResolution, ResolutionResults >;\n\treadonly loadAttempts: {\n\t\treadonly clicks: LoadAttemptsData;\n\t\treadonly scrolls: LoadAttemptsData;\n\t};\n};\n\nexport type RawResults = {\n\treadonly results: HeatmapResults;\n\treadonly status: HeatmapDataStatus;\n\treadonly progress: number;\n};\n\nexport type LoadAttemptsData = {\n\treadonly count: number;\n\treadonly length: number;\n};\n\ntype Selector = string;\nexport type ResolutionResults =\n\t| {\n\t\t\treadonly results?: undefined;\n\t\t\treadonly page: PageData;\n\t\t\treadonly status: 'missing' | 'processing' | 'outdated';\n\t\t\treadonly confettiFilterOptions?: undefined;\n\t  }\n\t| {\n\t\t\treadonly results: ProcessedResults;\n\t\t\treadonly page: PageData;\n\t\t\treadonly status: 'processing' | 'ready' | 'outdated';\n\t\t\treadonly confettiFilterOptions: Partial<\n\t\t\t\tRecord< ConfettiType, Dict< ConfettiOption > >\n\t\t\t>;\n\t  };\n\nexport type ProcessedResults = {\n\treadonly clicks: ReadonlyArray< ClickWithVisibility >;\n\treadonly clicksPerSquare: ClicksPerSquare;\n\treadonly scrolls: ReadonlyArray< Scroll >;\n\treadonly scrollSummary: ScrollSummary;\n};\n\nexport type ProcessedResultsStatus = ResolutionResults[ 'status' ];\n\nexport type PageData = {\n\treadonly clickVisibilityProps: Record< Selector, ClickVisibilityProps >;\n\treadonly dimensions: {\n\t\treadonly width: number;\n\t\treadonly bodyHeight: number;\n\t\treadonly iframeHeight: number;\n\t};\n};\n","/**\n * External dependencies\n */\nimport { isEqual, mapValues } from 'lodash';\nimport type {\n\tAlternativeIndex,\n\tAnyAction,\n\tConfettiOption,\n\tConfettiType,\n\tDict,\n\tHeatmapResolution,\n\tMaybe,\n\tRawHeatmapResults,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT } from './config';\nimport { getConfettiFilterOptions } from '../../utils';\n\nimport type { DataAction as Action } from './actions';\nimport type {\n\tLoadAttemptsData,\n\tProcessedAlternative,\n\tResolutionResults,\n\tState,\n} from './config';\n\nexport function reducer( state = INIT, action: AnyAction ): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n}\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_RAW_RESULTS':\n\t\tcase 'SET_PROCESSED_RESULTS': {\n\t\t\tconst alternative =\n\t\t\t\tstate.byAlternative[ action.alternative ] ??\n\t\t\t\tDEFAULT_ALTERNATIVE;\n\t\t\tconst newAlternative = reduceAlternative(\n\t\t\t\tstate,\n\t\t\t\talternative,\n\t\t\t\taction\n\t\t\t);\n\t\t\tif ( isEqual( alternative, newAlternative ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\tstate = {\n\t\t\t\t...state,\n\t\t\t\tbyAlternative: {\n\t\t\t\t\t...state.byAlternative,\n\t\t\t\t\t[ action.alternative ]: newAlternative,\n\t\t\t\t},\n\t\t\t};\n\t\t\tstate = updateConfettiOptions( state );\n\t\t\treturn state;\n\t\t}\n\n\t\tcase 'UPDATE_LOAD_ATTEMPTS':\n\t\tcase 'SET_RAW_RESULT_STATUS':\n\t\tcase 'SET_RAW_RESULT_PROGRESS':\n\t\tcase 'MARK_RESULTS_AS_PROCESSING':\n\t\tcase 'REQUEST_RESULTS_PROCESSING':\n\t\tcase 'SET_PAGE_INFO': {\n\t\t\tconst alternative =\n\t\t\t\tstate.byAlternative[ action.alternative ] ??\n\t\t\t\tDEFAULT_ALTERNATIVE;\n\t\t\tconst newAlternative = reduceAlternative(\n\t\t\t\tstate,\n\t\t\t\talternative,\n\t\t\t\taction\n\t\t\t);\n\t\t\tif ( isEqual( alternative, newAlternative ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tbyAlternative: {\n\t\t\t\t\t...state.byAlternative,\n\t\t\t\t\t[ action.alternative ]: newAlternative,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n}\n\nfunction reduceAlternative(\n\tstate: State,\n\talternative: ProcessedAlternative,\n\taction: Action\n): ProcessedAlternative {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_RAW_RESULTS': {\n\t\t\treturn {\n\t\t\t\traw: action.data,\n\t\t\t\tbyResolution: mapValues(\n\t\t\t\t\talternative.byResolution,\n\t\t\t\t\t< R extends ResolutionResults >( r: R ): R => ( {\n\t\t\t\t\t\t...r,\n\t\t\t\t\t\tstatus: 'missing' === r.status ? 'missing' : 'outdated',\n\t\t\t\t\t} )\n\t\t\t\t),\n\t\t\t\tloadAttempts: alternative.loadAttempts,\n\t\t\t};\n\t\t}\n\n\t\tcase 'SET_RAW_RESULT_STATUS': {\n\t\t\treturn {\n\t\t\t\t...alternative,\n\t\t\t\traw: {\n\t\t\t\t\t...alternative.raw,\n\t\t\t\t\tstatus: action.status,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase 'SET_RAW_RESULT_PROGRESS': {\n\t\t\treturn {\n\t\t\t\t...alternative,\n\t\t\t\traw: {\n\t\t\t\t\t...alternative.raw,\n\t\t\t\t\tprogress: action.progress,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase 'UPDATE_LOAD_ATTEMPTS': {\n\t\t\treturn {\n\t\t\t\t...alternative,\n\t\t\t\tloadAttempts: {\n\t\t\t\t\tclicks: updateLoadAttempts(\n\t\t\t\t\t\talternative.loadAttempts.clicks,\n\t\t\t\t\t\taction.clicks\n\t\t\t\t\t),\n\t\t\t\t\tscrolls: updateLoadAttempts(\n\t\t\t\t\t\talternative.loadAttempts.scrolls,\n\t\t\t\t\t\taction.scrolls\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase 'SET_PROCESSED_RESULTS': {\n\t\t\tif ( ! hasRawData( state, action.alternative ) ) {\n\t\t\t\treturn alternative;\n\t\t\t}\n\t\t\tconst prevResults: ResolutionResults =\n\t\t\t\talternative.byResolution[ action.resolution ];\n\t\t\tconst results: ResolutionResults = {\n\t\t\t\t...prevResults,\n\t\t\t\tresults: action.results,\n\t\t\t\tstatus: 'ready',\n\t\t\t\tconfettiFilterOptions: getConfettiFilterOptions(\n\t\t\t\t\taction.results.clicks\n\t\t\t\t),\n\t\t\t};\n\t\t\treturn {\n\t\t\t\t...alternative,\n\t\t\t\tbyResolution: {\n\t\t\t\t\t...alternative.byResolution,\n\t\t\t\t\t[ action.resolution ]: results,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase 'MARK_RESULTS_AS_PROCESSING': {\n\t\t\tif (\n\t\t\t\t! canProcessResults(\n\t\t\t\t\tstate,\n\t\t\t\t\taction.alternative,\n\t\t\t\t\taction.resolution\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn alternative;\n\t\t\t}\n\t\t\tconst prevStatus =\n\t\t\t\talternative.byResolution[ action.resolution ].status;\n\t\t\treturn {\n\t\t\t\t...alternative,\n\t\t\t\tbyResolution: {\n\t\t\t\t\t...alternative.byResolution,\n\t\t\t\t\t[ action.resolution ]: {\n\t\t\t\t\t\t...alternative.byResolution[ action.resolution ],\n\t\t\t\t\t\tstatus:\n\t\t\t\t\t\t\t'missing' === prevStatus\n\t\t\t\t\t\t\t\t? 'initializing'\n\t\t\t\t\t\t\t\t: 'processing',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase 'REQUEST_RESULTS_PROCESSING': {\n\t\t\tif (\n\t\t\t\t! canProcessResults(\n\t\t\t\t\tstate,\n\t\t\t\t\taction.alternative,\n\t\t\t\t\taction.resolution\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn alternative;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...alternative,\n\t\t\t\tbyResolution: {\n\t\t\t\t\t...alternative.byResolution,\n\t\t\t\t\t[ action.resolution ]: {\n\t\t\t\t\t\t...alternative.byResolution[ action.resolution ],\n\t\t\t\t\t\tstatus: 'outdated',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase 'SET_PAGE_INFO': {\n\t\t\tconst prevResults: ResolutionResults =\n\t\t\t\talternative.byResolution[ action.resolution ];\n\t\t\tconst results: ResolutionResults =\n\t\t\t\tprevResults.status === 'missing'\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t...prevResults,\n\t\t\t\t\t\t\tpage: action.page,\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\t...prevResults,\n\t\t\t\t\t\t\tpage: action.page,\n\t\t\t\t\t\t\tstatus: 'outdated',\n\t\t\t\t\t  };\n\t\t\treturn {\n\t\t\t\t...alternative,\n\t\t\t\tbyResolution: {\n\t\t\t\t\t...alternative.byResolution,\n\t\t\t\t\t[ action.resolution ]: results,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\nconst NO_PROCESSED_RESULTS: ResolutionResults = {\n\tpage: {\n\t\tclickVisibilityProps: {},\n\t\tdimensions: { width: 0, bodyHeight: 0, iframeHeight: 0 },\n\t},\n\tstatus: 'missing',\n};\n\nconst DEFAULT_ALTERNATIVE: ProcessedAlternative = {\n\traw: {\n\t\tresults: { clicks: [], scrolls: [] },\n\t\tstatus: { mode: 'missing' },\n\t\tprogress: 0,\n\t},\n\tbyResolution: {\n\t\tdesktop: NO_PROCESSED_RESULTS,\n\t\tsmartphone: NO_PROCESSED_RESULTS,\n\t\ttablet: NO_PROCESSED_RESULTS,\n\t},\n\tloadAttempts: {\n\t\tclicks: { count: 0, length: 0 },\n\t\tscrolls: { count: 0, length: 0 },\n\t},\n};\n\nfunction hasRawData( state: State, index: AlternativeIndex ) {\n\tconst alternative = state.byAlternative[ index ] ?? DEFAULT_ALTERNATIVE;\n\tconst rawStatus = alternative.raw.status.mode;\n\treturn (\n\t\trawStatus === 'still-loading' ||\n\t\trawStatus === 'canceling' ||\n\t\trawStatus === 'ready'\n\t);\n}\n\nfunction canProcessResults(\n\tstate: State,\n\tindex: AlternativeIndex,\n\tresolution: HeatmapResolution\n): boolean {\n\tif ( ! hasRawData( state, index ) ) {\n\t\treturn false;\n\t}\n\n\tconst alternative = state.byAlternative[ index ] ?? DEFAULT_ALTERNATIVE;\n\tconst processedStatus = alternative.byResolution[ resolution ].status;\n\tif ( processedStatus === 'processing' ) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nfunction updateConfettiOptions( state: State ): State {\n\tconst allClicks = Object.values( state.byAlternative ).flatMap(\n\t\t( alt ) => alt.raw.results.clicks\n\t);\n\tconst confettiFilterOptions = mapValues(\n\t\tgetConfettiFilterOptions( allClicks ),\n\t\t( options ) =>\n\t\t\tmapValues( options, ( option ) => ( { ...option, value: 0 } ) )\n\t);\n\n\tif ( isEqual( state.confettiFilterOptions, confettiFilterOptions ) ) {\n\t\treturn state;\n\t}\n\n\tstate = {\n\t\tconfettiFilterOptions,\n\t\tbyAlternative: mapValues( state.byAlternative, ( alternative ) => {\n\t\t\tconst newAlternative = {\n\t\t\t\t...alternative,\n\t\t\t\tbyResolution: mapValues(\n\t\t\t\t\talternative.byResolution,\n\t\t\t\t\t( resolution ) =>\n\t\t\t\t\t\t! resolution.confettiFilterOptions\n\t\t\t\t\t\t\t? resolution\n\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t...resolution,\n\t\t\t\t\t\t\t\t\tconfettiFilterOptions:\n\t\t\t\t\t\t\t\t\t\tmergeConfettiFilterOptions(\n\t\t\t\t\t\t\t\t\t\t\tconfettiFilterOptions,\n\t\t\t\t\t\t\t\t\t\t\tresolution.confettiFilterOptions\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t  }\n\t\t\t\t),\n\t\t\t};\n\t\t\treturn isEqual( alternative, newAlternative )\n\t\t\t\t? alternative\n\t\t\t\t: newAlternative;\n\t\t} ),\n\t};\n\treturn state;\n}\n\nfunction mergeConfettiFilterOptions(\n\tdefaults: Partial< Record< ConfettiType, Dict< ConfettiOption > > >,\n\tcurrent: Partial< Record< ConfettiType, Dict< ConfettiOption > > >\n): Partial< Record< ConfettiType, Dict< ConfettiOption > > > {\n\treturn mapValues(\n\t\tdefaults,\n\t\t( options: Dict< ConfettiOption >, type: ConfettiType ) =>\n\t\t\tmapValues(\n\t\t\t\toptions,\n\t\t\t\t( option, key ): ConfettiOption => ( {\n\t\t\t\t\t...option,\n\t\t\t\t\tvalue: current[ type ]?.[ key ]?.value ?? 0,\n\t\t\t\t} )\n\t\t\t)\n\t);\n}\n\nfunction updateLoadAttempts(\n\tattempts: LoadAttemptsData,\n\tdata: Maybe< RawHeatmapResults >\n): LoadAttemptsData {\n\tif ( ! data ) {\n\t\treturn {\n\t\t\t...attempts,\n\t\t\tcount: 1,\n\t\t};\n\t}\n\n\tif ( ! data.more || attempts.length !== data.data.length ) {\n\t\treturn {\n\t\t\tcount: 1,\n\t\t\tlength: data.data.length,\n\t\t};\n\t}\n\n\treturn {\n\t\t...attempts,\n\t\tcount: attempts.count + 1,\n\t};\n}\n","/**\n * External dependencies\n */\nimport { EMPTY_ARRAY } from '@nab/utils';\nimport type {\n\tAlternativeIndex,\n\tClick,\n\tClickVisibilityProps,\n\tClicksPerSquare,\n\tConfettiOption,\n\tConfettiType,\n\tDict,\n\tHeatmapDataStatus,\n\tHeatmapResolution,\n\tMaybe,\n\tClickWithVisibility,\n\tScroll,\n\tScrollSummary,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { State } from '../config';\nimport type {\n\tPageData,\n\tProcessedAlternative,\n\tProcessedResultsStatus,\n} from './config';\n\n// ========\n// RAW DATA\n// ========\n\nconst NO_STATUS: HeatmapDataStatus = { mode: 'missing' };\nexport function getRawResultStatus(\n\tstate: State,\n\talternative: AlternativeIndex\n): HeatmapDataStatus {\n\treturn state.data.byAlternative[ alternative ]?.raw.status ?? NO_STATUS;\n}\n\nexport function getRawResultProgress(\n\tstate: State,\n\talternative: AlternativeIndex\n): number {\n\treturn state.data.byAlternative[ alternative ]?.raw.progress ?? 0;\n}\n\nexport function getRawClicks(\n\tstate: State,\n\talternative: AlternativeIndex\n): ReadonlyArray< Click > {\n\treturn (\n\t\tstate.data.byAlternative[ alternative ]?.raw.results.clicks ??\n\t\tEMPTY_ARRAY\n\t);\n}\n\nexport function getRawScrolls(\n\tstate: State,\n\talternative: AlternativeIndex\n): ReadonlyArray< Scroll > {\n\treturn (\n\t\tstate.data.byAlternative[ alternative ]?.raw.results.scrolls ??\n\t\tEMPTY_ARRAY\n\t);\n}\n\nconst DEFAULT_ATTEMPTS = {\n\tclicks: { count: 0, length: 0 },\n\tscrolls: { count: 0, length: 0 },\n};\nexport function getLoadAttempts(\n\tstate: State,\n\talternative: AlternativeIndex\n): ProcessedAlternative[ 'loadAttempts' ] {\n\treturn (\n\t\tstate.data.byAlternative[ alternative ]?.loadAttempts ??\n\t\tDEFAULT_ATTEMPTS\n\t);\n}\n\nexport function canRawDataBeProcessed(\n\tstate: State,\n\talternative: AlternativeIndex\n): boolean {\n\tconst status = state.data.byAlternative[ alternative ]?.raw.status.mode;\n\treturn (\n\t\t'still-loading' === status ||\n\t\t'ready' === status ||\n\t\t'canceling' === status\n\t);\n}\n\n// ==============\n// PROCESSED DATA\n// ==============\n\nexport function hasProcessedResults(\n\tstate: State,\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution\n): boolean {\n\treturn !! state.data.byAlternative[ alternative ]?.byResolution[\n\t\tresolution\n\t].results;\n}\n\nexport function getProcessedResultStatus(\n\tstate: State,\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution\n): ProcessedResultsStatus {\n\treturn (\n\t\tstate.data.byAlternative[ alternative ]?.byResolution[ resolution ]\n\t\t\t.status ?? 'missing'\n\t);\n}\n\nexport function getClicksInResolution(\n\tstate: State,\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution\n): ReadonlyArray< ClickWithVisibility > {\n\treturn (\n\t\tstate.data.byAlternative[ alternative ]?.byResolution[ resolution ]\n\t\t\t.results?.clicks ?? EMPTY_ARRAY\n\t);\n}\n\nconst DEFAULT_CLICKS_PER_SQUARE: ClicksPerSquare = {\n\trows: 1,\n\tmax: 1,\n\tvalue: [ 1 ],\n\tcolumns: 1,\n};\nexport function getClicksPerSquare(\n\tstate: State,\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution\n): ClicksPerSquare {\n\treturn (\n\t\tstate.data.byAlternative[ alternative ]?.byResolution[ resolution ]\n\t\t\t.results?.clicksPerSquare ?? DEFAULT_CLICKS_PER_SQUARE\n\t);\n}\n\nexport function getScrollsInResolution(\n\tstate: State,\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution\n): ReadonlyArray< Scroll > {\n\treturn (\n\t\tstate.data.byAlternative[ alternative ]?.byResolution[ resolution ]\n\t\t\t.results?.scrolls ?? EMPTY_ARRAY\n\t);\n}\n\nconst NO_SCROLL_SUMMARY: ScrollSummary = {\n\trows: EMPTY_ARRAY,\n\tmaxHits: 0,\n\taverageFold: 0,\n};\nexport function getScrollSummary(\n\tstate: State,\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution\n): ScrollSummary {\n\treturn (\n\t\tstate.data.byAlternative[ alternative ]?.byResolution[ resolution ]\n\t\t\t.results?.scrollSummary ?? NO_SCROLL_SUMMARY\n\t);\n}\n\n// ================\n// FILTERS AND MORE\n// ================\n\nexport function getConfettiFilterOptions(\n\tstate: State,\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution\n): Partial< Record< ConfettiType, Dict< ConfettiOption > > > {\n\treturn (\n\t\tstate.data.byAlternative[ alternative ]?.byResolution[ resolution ]\n\t\t\t.confettiFilterOptions ?? state.data.confettiFilterOptions\n\t);\n}\n\ntype Selector = string;\nexport function getClickVisibilityProps(\n\tstate: State,\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution\n): Maybe< Record< Selector, ClickVisibilityProps > > {\n\treturn state.data.byAlternative[ alternative ]?.byResolution[ resolution ]\n\t\t.page.clickVisibilityProps;\n}\n\nexport function getPageDimensions(\n\tstate: State,\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution\n): Maybe< PageData[ 'dimensions' ] > {\n\treturn state.data.byAlternative[ alternative ]?.byResolution[ resolution ]\n\t\t.page.dimensions;\n}\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { select, dispatch } from '@safe-wordpress/data';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { first, last } from 'lodash';\nimport { isDefined } from '@nab/utils';\nimport type {\n\tAlternativeIndex,\n\tClick,\n\tClicksPerSquare,\n\tClickVisibilityProps,\n\tDims,\n\tExperiment,\n\tHeatmapResolution,\n\tMaybe,\n\tClickWithVisibility,\n\tRawHeatmapResults,\n\tScroll,\n\tScrollSummary,\n\tUrl,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { store as NAB_HEATMAP } from '../../store';\nimport {\n\tHEATMAP_POINT_SIZE,\n\tSCROLLMAP_ROW_HEIGHT,\n} from '../../../../scripts/heatmap-renderer/internal/constants';\n\n// ============\n// HELPER TYPES\n// ============\n\ntype HeatmapDataInfo = {\n\treadonly more: boolean;\n\treadonly url: Maybe< Url >;\n};\n\nconst MIN_HOURS_TO_ESTIMATE_PROGRESS = 10;\nconst STUCK_ATTEMPT_COUNT = 5;\nconst DELAY_IN_MS_BETWEEN_CONSECUTIVE_PULLS = 5000;\n\nconst HOUR_IN_MILLIS = 3_600_000;\nconst RESOLUTIONS: Record< HeatmapResolution, Dims > = {\n\tdesktop: {\n\t\twidth: 1600,\n\t\theight: 900,\n\t},\n\ttablet: {\n\t\twidth: 1024,\n\t\theight: 576,\n\t},\n\tsmartphone: {\n\t\twidth: 460,\n\t\theight: 818,\n\t},\n};\n\nexport async function loadResults(\n\texperiment: Experiment,\n\talternative: AlternativeIndex\n): Promise< void > {\n\tconst status = select( NAB_HEATMAP ).getRawResultStatus( alternative ).mode;\n\tif ( 'missing' !== status ) {\n\t\treturn;\n\t}\n\n\tconst { setRawResultStatus } = dispatch( NAB_HEATMAP );\n\tawait setRawResultStatus( alternative, { mode: 'loading' } );\n\n\ttry {\n\t\tawait loadResultsInBackground(\n\t\t\t'clicks-and-scrolls',\n\t\t\texperiment,\n\t\t\talternative\n\t\t);\n\t} catch ( e ) {\n\t\tconst errorCode = getErrorCode( e );\n\t\tconst clicks = select( NAB_HEATMAP ).getRawClicks( alternative );\n\n\t\tswitch ( errorCode ) {\n\t\t\tcase 'fetch_error':\n\t\t\tcase 'fetch-error':\n\t\t\t\tawait setRawResultStatus( alternative, {\n\t\t\t\t\tmode: 'error',\n\t\t\t\t\trationale: 'unreachable-servers',\n\t\t\t\t} );\n\t\t\t\treturn;\n\n\t\t\tcase 'stuck-attempt-count':\n\t\t\t\tawait setRawResultStatus(\n\t\t\t\t\talternative,\n\t\t\t\t\t! clicks.length\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tmode: 'error',\n\t\t\t\t\t\t\t\trationale: 'stuck-empty-results',\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\tmode: 'ready',\n\t\t\t\t\t\t\t\tpartialError: 'stuck-results',\n\t\t\t\t\t\t  }\n\t\t\t\t);\n\t\t\t\treturn;\n\n\t\t\tcase 'heatmap-data-not-available':\n\t\t\t\tawait setRawResultStatus( alternative, {\n\t\t\t\t\tmode: 'error',\n\t\t\t\t\trationale: 'heatmap-data-not-available',\n\t\t\t\t} );\n\t\t\t\treturn;\n\n\t\t\tdefault:\n\t\t\t\tawait setRawResultStatus(\n\t\t\t\t\talternative,\n\t\t\t\t\t! clicks.length\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tmode: 'error',\n\t\t\t\t\t\t\t\trationale: 'unknown',\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\tmode: 'ready',\n\t\t\t\t\t\t\t\tpartialError: 'unknown',\n\t\t\t\t\t\t  }\n\t\t\t\t);\n\t\t}\n\t}\n}\n\nexport async function processResults(\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution\n): Promise< void > {\n\tconst canRawDataBeProcessed =\n\t\tselect( NAB_HEATMAP ).canRawDataBeProcessed( alternative );\n\tif ( ! canRawDataBeProcessed ) {\n\t\treturn;\n\t}\n\n\tconst clickVisibilityProps = select( NAB_HEATMAP ).getClickVisibilityProps(\n\t\talternative,\n\t\tresolution\n\t);\n\tif ( ! clickVisibilityProps ) {\n\t\treturn;\n\t}\n\n\tconst isAlreadyProcessing =\n\t\t'processing' ===\n\t\tselect( NAB_HEATMAP ).getProcessedResultStatus(\n\t\t\talternative,\n\t\t\tresolution\n\t\t);\n\tif ( isAlreadyProcessing ) {\n\t\treturn;\n\t}\n\tawait dispatch( NAB_HEATMAP ).markResultsAsProcessing(\n\t\talternative,\n\t\tresolution\n\t);\n\n\tconst start = new Date().getTime();\n\tconst isInitializing = ! select( NAB_HEATMAP ).hasProcessedResults(\n\t\talternative,\n\t\tresolution\n\t);\n\n\tconst clicks = select( NAB_HEATMAP )\n\t\t.getRawClicks( alternative )\n\t\t.filter( isClickInResolution( resolution ) )\n\t\t.map( addVisibilityProperties( clickVisibilityProps ) )\n\t\t.filter( isDefined );\n\n\tconst scrolls = select( NAB_HEATMAP )\n\t\t.getRawScrolls( alternative )\n\t\t.filter( isScrollInResolution( resolution ) );\n\n\tconst clicksPerSquare = computeClicksPerSquare(\n\t\talternative,\n\t\tresolution,\n\t\tclicks\n\t);\n\n\tconst scrollSummary = computeScrollSummary(\n\t\talternative,\n\t\tresolution,\n\t\tscrolls\n\t);\n\n\tif ( isInitializing ) {\n\t\tconst ellapsedTime = new Date().getTime() - start;\n\t\tconst atLeastOneSecond = Math.max( 0, 1000 - ellapsedTime );\n\t\tawait new Promise< void >( ( r ) => setTimeout( r, atLeastOneSecond ) );\n\t}\n\n\tawait dispatch( NAB_HEATMAP ).setProcessedResults(\n\t\talternative,\n\t\tresolution,\n\t\t{ clicks, scrolls, scrollSummary, clicksPerSquare }\n\t);\n}\n\n// =======\n// HELPERS\n// =======\n\nconst isClickInResolution = ( resolution: HeatmapResolution ) => {\n\tconst { min, max } = getMinMaxWidthInResolution( resolution );\n\treturn ( { windowWidthInPx: w }: Click ): boolean => min <= w && w <= max;\n};\n\nconst isScrollInResolution = ( resolution: HeatmapResolution ) => {\n\tconst { min, max } = getMinMaxWidthInResolution( resolution );\n\treturn ( { windowWidth: w }: Scroll ): boolean => min <= w && w <= max;\n};\n\ntype Selector = string;\nconst addVisibilityProperties =\n\t( clickVisibilityProps: Record< Selector, ClickVisibilityProps > ) =>\n\t( click: Click ): Maybe< ClickWithVisibility > => {\n\t\tconst props = clickVisibilityProps[ click.id ];\n\t\tif ( ! props || 'missing' === props.status ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn {\n\t\t\t...click,\n\t\t\trealCoordinates: {\n\t\t\t\t...click.realCoordinates,\n\t\t\t\t...props.coords,\n\t\t\t},\n\t\t\tvisibility: 'visible' === props.status ? 'visible' : 'hidden',\n\t\t};\n\t};\n\nasync function loadResultsInBackground(\n\tkind: 'clicks' | 'scrolls' | 'clicks-and-scrolls' | 'none',\n\texperiment: Experiment,\n\talternative: AlternativeIndex\n): Promise< void > {\n\tif ( 'none' === kind ) {\n\t\treturn;\n\t}\n\n\tif ( experiment.id === 0 ) {\n\t\tawait dispatch( NAB_HEATMAP ).setRawResultStatus( alternative, {\n\t\t\tmode: 'ready',\n\t\t} );\n\t\treturn;\n\t}\n\n\tconst loadClicks = kind.includes( 'clicks' );\n\tconst loadScrolls = kind.includes( 'scrolls' );\n\tconst [ newClicks, newScrolls ] = await Promise.all( [\n\t\tloadClicks && doLoadResults( 'clicks', experiment, alternative ),\n\t\tloadScrolls && doLoadResults( 'scrolls', experiment, alternative ),\n\t] );\n\n\tawait dispatch( NAB_HEATMAP ).updateLoadAttempts(\n\t\talternative,\n\t\tnewClicks ? newClicks : undefined,\n\t\tnewScrolls ? newScrolls : undefined\n\t);\n\n\tconst prevClicks = select( NAB_HEATMAP ).getRawClicks( alternative );\n\tconst prevScrolls = select( NAB_HEATMAP ).getRawScrolls( alternative );\n\n\tconst results = {\n\t\tclicks:\n\t\t\tnewClicks && newClicks.data.length !== prevClicks.length\n\t\t\t\t? beautifyClicks( newClicks.data )\n\t\t\t\t: prevClicks,\n\t\tscrolls:\n\t\t\tnewScrolls && newScrolls.data.length !== prevScrolls.length\n\t\t\t\t? newScrolls.data\n\t\t\t\t: prevScrolls,\n\t};\n\n\tconst loadAttempts = select( NAB_HEATMAP ).getLoadAttempts( alternative );\n\tif (\n\t\tloadAttempts.clicks.count >= STUCK_ATTEMPT_COUNT ||\n\t\tloadAttempts.scrolls.count >= STUCK_ATTEMPT_COUNT\n\t) {\n\t\tthrow new Error( 'stuck-attempt-count' );\n\t}\n\n\tconst areThereAnyClicks = !! results.clicks.length;\n\tconst areClicksReady = ! newClicks || ! newClicks.more;\n\tconst areScrollsReady = ! newScrolls || ! newScrolls.more;\n\tconst isAllDataReady = areClicksReady && areScrollsReady;\n\tconst getStatusMode = () => {\n\t\tif ( areClicksReady && ! areThereAnyClicks ) {\n\t\t\treturn 'error' as const;\n\t\t}\n\n\t\tif ( isAllDataReady ) {\n\t\t\treturn 'ready' as const;\n\t\t}\n\t\treturn areThereAnyClicks\n\t\t\t? ( 'still-loading' as const )\n\t\t\t: ( 'loading' as const );\n\t};\n\n\tconst newStatusMode = getStatusMode();\n\tawait dispatch( NAB_HEATMAP ).receiveRawResults( alternative, {\n\t\tresults,\n\t\tstatus:\n\t\t\t'error' === newStatusMode\n\t\t\t\t? { mode: 'error', rationale: 'no-heatmap-data' }\n\t\t\t\t: { mode: newStatusMode },\n\t\tprogress: isAllDataReady\n\t\t\t? 100\n\t\t\t: getProgressEstimate( experiment, alternative, results.clicks ),\n\t} );\n\n\treturn new Promise( ( resolve, reject ) => {\n\t\tconst next = () => {\n\t\t\tif ( areClicksReady && ! areThereAnyClicks ) {\n\t\t\t\treturn 'none';\n\t\t\t}\n\t\t\tif ( ! areClicksReady && ! areScrollsReady ) {\n\t\t\t\treturn 'clicks-and-scrolls';\n\t\t\t} else if ( ! areClicksReady ) {\n\t\t\t\treturn 'clicks';\n\t\t\t} else if ( ! areScrollsReady ) {\n\t\t\t\treturn 'scrolls';\n\t\t\t}\n\t\t\treturn 'none';\n\t\t};\n\t\tsetTimeout( () => {\n\t\t\tloadResultsInBackground( next(), experiment, alternative )\n\t\t\t\t.then( resolve )\n\t\t\t\t.catch( reject );\n\t\t}, DELAY_IN_MS_BETWEEN_CONSECUTIVE_PULLS );\n\t} );\n}\n\nasync function doLoadResults(\n\tkind: 'clicks',\n\texperiment: Experiment,\n\talternative: AlternativeIndex\n): Promise< RawHeatmapResults< Click > >;\nasync function doLoadResults(\n\tkind: 'scrolls',\n\texperiment: Experiment,\n\talternative: AlternativeIndex\n): Promise< RawHeatmapResults< Scroll > >;\nasync function doLoadResults(\n\tkind: 'clicks' | 'scrolls',\n\texperiment: Experiment,\n\talternative: AlternativeIndex\n): Promise< RawHeatmapResults >;\nasync function doLoadResults(\n\tkind: 'clicks' | 'scrolls',\n\texperiment: Experiment,\n\talternative: AlternativeIndex\n): Promise< RawHeatmapResults > {\n\tconst path = sprintf(\n\t\t'/nab/v1/experiment/%1$s/heatmap/%2$s/%3$d',\n\t\texperiment.id,\n\t\tkind,\n\t\talternative\n\t);\n\tconst info = await apiFetch< HeatmapDataInfo >( { path } );\n\n\tif ( ! info.url ) {\n\t\treturn { more: info.more, data: [] };\n\t}\n\n\tconst response = await fetch( info.url );\n\tconst jsonl = await response.text();\n\tconst lines = jsonl.replaceAll( '}{', '}\\n{' ).split( '\\n' );\n\n\tconst items = Array.from( new Set( lines ) )\n\t\t.filter( ( x ) => !! x )\n\t\t.map( toJSON )\n\t\t.filter( ( x ): x is Click | Scroll => !! x );\n\n\treturn { more: info.more, data: items };\n}\n\nfunction beautifyClicks(\n\tclicks: ReadonlyArray< Click >\n): ReadonlyArray< Click > {\n\tconst UNKNOWN = _x( 'Unknown', 'text', 'nelio-ab-testing' );\n\treturn clicks.map( ( click ) => ( {\n\t\t...click,\n\t\tbrowser: click.browser || UNKNOWN,\n\t\tcountry: click.country || UNKNOWN,\n\t\tdayOfWeek: getDayOfWeekCategory( click.dayOfWeek ),\n\t\tdevice: click.device || UNKNOWN,\n\t\thourOfDay: getHourOfDayCategory( click.hourOfDay ),\n\t\tintensity: click.intensity || 1,\n\t\tos: click.os || UNKNOWN,\n\t\ttimeToClick: getTimeToClickCategory( click.timeToClick ),\n\t\twindowWidth: getWindowWidthCategory( click.windowWidth ),\n\t\twindowWidthInPx:\n\t\t\t'number' === typeof click.windowWidth\n\t\t\t\t? click.windowWidth\n\t\t\t\t: Number.parseInt( click.windowWidth ) || 0,\n\t\trealCoordinates: { x: -1, y: -1 },\n\t} ) );\n}\n\nfunction getProgressEstimate(\n\texperiment: Experiment,\n\talternative: AlternativeIndex,\n\tclicks: ReadonlyArray< Click >\n): number {\n\tif ( ! experiment.startDate ) {\n\t\treturn 0;\n\t}\n\n\tconst now = new Date().toISOString();\n\tconst totalHoursRunning = getHours(\n\t\texperiment.startDate,\n\t\t'finished' === experiment.status ? experiment.endDate || now : now\n\t);\n\tif ( totalHoursRunning < MIN_HOURS_TO_ESTIMATE_PROGRESS ) {\n\t\treturn 100;\n\t}\n\n\tconst firstClick = first( clicks );\n\tconst lastClick = last( clicks );\n\tif ( ! firstClick?.timestamp || ! lastClick?.timestamp ) {\n\t\treturn 0;\n\t}\n\n\tconst clickHours = getHours( firstClick.timestamp, lastClick.timestamp );\n\tconst actualProgress = ( 100 * clickHours ) / totalHoursRunning;\n\tconst progress = Math.max( 1, Math.floor( actualProgress ) );\n\n\tconst prevProgress =\n\t\tselect( NAB_HEATMAP ).getRawResultProgress( alternative );\n\treturn Math.max( progress, prevProgress );\n}\n\nfunction getHourOfDayCategory( hourOfDay: string | number ): string {\n\tif ( 'string' === typeof hourOfDay ) {\n\t\thourOfDay = Number.parseInt( hourOfDay );\n\t\tif ( isNaN( hourOfDay ) ) {\n\t\t\thourOfDay = 0;\n\t\t}\n\t}\n\treturn `${ Math.floor( hourOfDay / 2 ) }`;\n}\n\nfunction getDayOfWeekCategory( dayOfWeek: string | number ): string {\n\treturn `${ dayOfWeek }`;\n}\n\nfunction getTimeToClickCategory( timeToClick: string | number ): string {\n\tif ( 'string' === typeof timeToClick ) {\n\t\ttimeToClick = Number.parseInt( timeToClick );\n\t}\n\n\tconst cuts = [ 2, 3, 4, 5, 10, 15, 20, 25, 30, 60, 120, 180, 300 ] as const;\n\tfor ( let i = 0; i < cuts.length; ++i ) {\n\t\tconst cut = cuts[ i ];\n\t\tif ( cut && timeToClick <= cut ) {\n\t\t\treturn `${ i }`;\n\t\t}\n\t}\n\n\treturn `${ cuts.length }`;\n}\n\nfunction getWindowWidthCategory( windowWidth: string | number ): string {\n\tif ( 'string' === typeof windowWidth ) {\n\t\twindowWidth = Number.parseInt( windowWidth );\n\t}\n\n\tconst cuts = [ 300, 600, 900, 1200, 1500, 1800, 2100 ];\n\tfor ( let i = 0; i < cuts.length; ++i ) {\n\t\tconst cut = cuts[ i ];\n\t\tif ( cut && windowWidth < cut ) {\n\t\t\treturn `${ i }`;\n\t\t}\n\t}\n\n\treturn `${ cuts.length }`;\n}\n\nfunction toJSON< T = unknown >( x: string ): T | false {\n\ttry {\n\t\treturn JSON.parse( x ) as T;\n\t} catch ( _ ) {\n\t\treturn false;\n\t}\n}\n\nfunction getErrorCode( e: unknown ): string {\n\tif ( !! e && 'object' === typeof e ) {\n\t\tif ( 'code' in e && 'string' === typeof e.code && !! e.code ) {\n\t\t\treturn e.code;\n\t\t}\n\t\tif ( 'message' in e && 'string' === typeof e.message && !! e.message ) {\n\t\t\treturn e.message;\n\t\t}\n\t}\n\n\tif ( 'string' === typeof e ) {\n\t\treturn e;\n\t}\n\n\treturn 'unknown';\n}\n\nconst getHours = ( d1: string, d2: string ): number =>\n\tMath.ceil(\n\t\tMath.abs( new Date( d1 ).getTime() - new Date( d2 ).getTime() ) /\n\t\t\tHOUR_IN_MILLIS\n\t);\n\nfunction getMinMaxWidthInResolution( resolution: HeatmapResolution ): {\n\treadonly min: number;\n\treadonly max: number;\n} {\n\tconst expectedWidth = RESOLUTIONS[ resolution ].width;\n\tconst cuts = Object.values( RESOLUTIONS ).map( ( { width } ) => width );\n\n\tconst minWidth = cuts.reduce(\n\t\t( memo, width ) =>\n\t\t\twidth < expectedWidth ? Math.max( width, memo ) : memo,\n\t\t-1\n\t);\n\n\tlet maxWidth = cuts.reduce(\n\t\t( memo, width ) =>\n\t\t\texpectedWidth < width ? Math.min( width, memo ) : memo,\n\t\tNumber.POSITIVE_INFINITY\n\t);\n\tif ( Number.POSITIVE_INFINITY !== maxWidth ) {\n\t\tmaxWidth = expectedWidth;\n\t}\n\n\treturn { min: minWidth + 1, max: maxWidth };\n}\n\nfunction computeClicksPerSquare(\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution,\n\tclicks: ReadonlyArray< Click >\n): ClicksPerSquare {\n\tconst dimensions = select( NAB_HEATMAP ).getPageDimensions(\n\t\talternative,\n\t\tresolution\n\t);\n\n\tif ( ! dimensions ) {\n\t\treturn {\n\t\t\tcolumns: 1,\n\t\t\tvalue: [ clicks.length ],\n\t\t\tmax: clicks.length,\n\t\t\trows: 1,\n\t\t};\n\t}\n\n\tconst { width, bodyHeight: height } = dimensions;\n\tconst NUM_OF_COLS = Math.ceil( width / HEATMAP_POINT_SIZE );\n\tconst NUM_OF_ROWS = Math.ceil( height / HEATMAP_POINT_SIZE );\n\n\tconst data = new Array( NUM_OF_ROWS * NUM_OF_COLS )\n\t\t.fill( 0 )\n\t\t.map( () => 0 );\n\tclicks.forEach( ( click ) => {\n\t\tconst { x, y } = click.realCoordinates;\n\t\tconst col = Math.floor( x / HEATMAP_POINT_SIZE );\n\t\tconst row = Math.floor( y / HEATMAP_POINT_SIZE );\n\n\t\tconst index = row * NUM_OF_COLS + col;\n\t\tif ( index < 0 && data.length <= index ) {\n\t\t\treturn;\n\t\t}\n\t\tdata[ index ] = ( data[ index ] || 0 ) + click.intensity;\n\t} );\n\n\treturn {\n\t\tcolumns: NUM_OF_COLS,\n\t\tvalue: data,\n\t\tmax: Math.max(\n\t\t\t1,\n\t\t\tdata.reduce( ( max, value ) => Math.max( max, value || 0 ) )\n\t\t),\n\t\trows: NUM_OF_ROWS,\n\t};\n}\n\nfunction computeScrollSummary(\n\talternative: AlternativeIndex,\n\tresolution: HeatmapResolution,\n\tscrolls: ReadonlyArray< Scroll >\n): ScrollSummary {\n\tconst page = select( NAB_HEATMAP ).getPageDimensions(\n\t\talternative,\n\t\tresolution\n\t);\n\tif ( ! page ) {\n\t\treturn {\n\t\t\trows: [ 0 ],\n\t\t\tmaxHits: 0,\n\t\t\taverageFold: 250,\n\t\t};\n\t}\n\n\tconst { bodyHeight, iframeHeight } = page;\n\tconst numOfRows = Math.ceil( iframeHeight / SCROLLMAP_ROW_HEIGHT );\n\tconst rows = new Array( numOfRows ).fill( 0 ) as number[];\n\n\tlet heightFromTop = 0;\n\tscrolls.forEach(\n\t\t( { firstFold, maxScroll, sweetSpot, documentHeight } ) => {\n\t\t\t// Accumulate first fold heights.\n\t\t\theightFromTop += firstFold;\n\n\t\t\tmaxScroll = Math.round(\n\t\t\t\t( maxScroll / documentHeight ) * bodyHeight\n\t\t\t);\n\t\t\tsweetSpot = Math.round(\n\t\t\t\t( sweetSpot / documentHeight ) * bodyHeight\n\t\t\t);\n\n\t\t\tconst maxScrollRow = Math.ceil( maxScroll / SCROLLMAP_ROW_HEIGHT );\n\n\t\t\t// Add max scrolling relevance.\n\t\t\tconst lastScrollRow = Math.min( maxScrollRow, numOfRows - 1 );\n\t\t\tfor ( let i = 0; i <= lastScrollRow; ++i ) {\n\t\t\t\trows[ i ] = 1 + ( rows[ i ] ?? 0 );\n\t\t\t}\n\n\t\t\t// Add sweetspot relevance.\n\t\t\tconst sweetSpotMinRow = Math.floor(\n\t\t\t\t( sweetSpot - firstFold / 2 ) / SCROLLMAP_ROW_HEIGHT\n\t\t\t);\n\t\t\tconst sweetSpotMaxRow = Math.ceil(\n\t\t\t\t( sweetSpot + firstFold / 2 ) / SCROLLMAP_ROW_HEIGHT\n\t\t\t);\n\t\t\tconst lastSweetSpotRow = Math.min( sweetSpotMaxRow, numOfRows - 1 );\n\t\t\tfor (\n\t\t\t\tlet i = Math.max( 0, sweetSpotMinRow );\n\t\t\t\ti <= lastSweetSpotRow;\n\t\t\t\t++i\n\t\t\t) {\n\t\t\t\trows[ i ] = 1 + ( rows[ i ] ?? 0 );\n\t\t\t}\n\t\t}\n\t);\n\n\treturn {\n\t\trows,\n\t\tmaxHits: rows.reduce( ( m, i ) => ( m > i ? m : i ), 0 ),\n\t\taverageFold: !! scrolls.length\n\t\t\t? Math.ceil( heightFromTop / scrolls.length )\n\t\t\t: false,\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { controls, createReduxStore, register } from '@safe-wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { reducer } from './reducer';\nimport * as selectors from './selectors';\nimport * as realActions from './actions';\nimport * as sideEffects from './side-effects';\n\nconst actions = { ...realActions, ...sideEffects };\n\nexport const store = createReduxStore( 'nab/heatmap', {\n\treducer,\n\tcontrols,\n\tactions,\n\tselectors,\n} );\nregister( store );\n","/**\n * External dependencies\n */\nimport type { AlternativeIndex } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { IFrameStatus } from './config';\n\nexport type MiscAction = SetFirstDayOfWeek | SetIFrameStatus;\n\nexport function setFirstDayOfWeek( day: number ): SetFirstDayOfWeek {\n\treturn {\n\t\ttype: 'SET_FIRST_DAY_OF_WEEK',\n\t\tday,\n\t};\n}\n\nexport function setIFrameStatus(\n\talternative: AlternativeIndex,\n\tstatus: IFrameStatus\n): SetIFrameStatus {\n\treturn {\n\t\ttype: 'SET_IFRAME_STATUS',\n\t\talternative,\n\t\tstatus,\n\t};\n}\n\n// ============\n// HELPER TYPES\n// ============\n\ntype SetFirstDayOfWeek = {\n\treadonly type: 'SET_FIRST_DAY_OF_WEEK';\n\treadonly day: number;\n};\n\ntype SetIFrameStatus = {\n\treadonly type: 'SET_IFRAME_STATUS';\n\treadonly alternative: AlternativeIndex;\n\treadonly status: IFrameStatus;\n};\n","/**\n * External dependencies\n */\nimport type { AlternativeIndex } from '@nab/types';\n\nexport type State = {\n\treadonly firstDayOfWeek: number;\n\treadonly iframeStatus: Record< AlternativeIndex, IFrameStatus >;\n};\n\nexport const INIT: State = {\n\tfirstDayOfWeek: 0,\n\tiframeStatus: { 0: 'waiting-script' },\n};\n\nexport type IFrameStatus =\n\t| 'waiting-script'\n\t| 'script-ready'\n\t| 'page-ready'\n\t| 'script-not-found';\n","/**\n * External dependencies\n */\nimport type { AnyAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT } from './config';\nimport type { MiscAction as Action } from './actions';\nimport type { State } from './config';\n\nexport function reducer( state = INIT, action: AnyAction ): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n}\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'SET_FIRST_DAY_OF_WEEK':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfirstDayOfWeek: action.day,\n\t\t\t};\n\n\t\tcase 'SET_IFRAME_STATUS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tiframeStatus: {\n\t\t\t\t\t...state.iframeStatus,\n\t\t\t\t\t[ action.alternative ]: action.status,\n\t\t\t\t},\n\t\t\t};\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { AlternativeIndex, HeatmapLabels } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { State } from '../config';\nimport { IFrameStatus } from './config';\n\nexport function getFirstDayOfWeek( state: State ): number {\n\treturn state.misc.firstDayOfWeek;\n}\n\nexport function getIFrameStatus(\n\tstate: State,\n\talternative: AlternativeIndex\n): IFrameStatus {\n\treturn state.misc.iframeStatus[ alternative ] ?? 'waiting-script';\n}\n\nconst IFRAME_LABELS: HeatmapLabels = {\n\taverageFold: _x( 'Average Fold:', 'text', 'nelio-ab-testing' ),\n\tclicksAbove: _x( 'Clicks above:', 'text', 'nelio-ab-testing' ),\n\tpopularity: _x( 'Popularity:', 'text', 'nelio-ab-testing' ),\n\tunknown: _x( 'unknown', 'text', 'nelio-ab-testing' ),\n};\nexport function getIFrameLabels( _: State ): HeatmapLabels {\n\treturn IFRAME_LABELS;\n}\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@safe-wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { reducer as data } from './data/reducer';\nimport { reducer as misc } from './misc/reducer';\nimport { reducer as ui } from './ui/reducer';\n\nexport const reducer = combineReducers( {\n\tdata,\n\tmisc,\n\tui,\n} );\n","export * from './data/selectors';\nexport * from './misc/selectors';\nexport * from './ui/selectors';\n","export * from './data/side-effects';\n","/**\n * External dependencies\n */\nimport type {\n\tAlternativeIndex,\n\tConfettiType,\n\tHeatmapMode,\n\tHeatmapResolution,\n} from '@nab/types';\n\nexport type UIAction =\n\t| SetActiveAlternative\n\t| SetActiveFilter\n\t| SetActiveMode\n\t| SetActiveResolution\n\t| SetDisabledFilterOptions\n\t| SetInteractive\n\t| SetIntensity\n\t| MakeSidebarVisible\n\t| SetOpacity;\n\nexport function setActiveAlternative(\n\talternative: AlternativeIndex\n): SetActiveAlternative {\n\treturn {\n\t\ttype: 'SET_ACTIVE_ALTERNATIVE',\n\t\talternative,\n\t};\n}\n\nexport function setActiveFilter( filter: ConfettiType ): SetActiveFilter {\n\treturn {\n\t\ttype: 'SET_ACTIVE_FILTER',\n\t\tfilter,\n\t};\n}\n\nexport function setActiveMode( mode: HeatmapMode ): SetActiveMode {\n\treturn {\n\t\ttype: 'SET_ACTIVE_MODE',\n\t\tmode,\n\t};\n}\n\nexport function setActiveResolution(\n\tresolution: HeatmapResolution\n): SetActiveResolution {\n\treturn {\n\t\ttype: 'SET_ACTIVE_RESOLUTION',\n\t\tresolution,\n\t};\n}\n\nexport function setDisabledFilterOptions(\n\tdisabledFilterOptions: ReadonlyArray< string >\n): SetDisabledFilterOptions {\n\treturn {\n\t\ttype: 'SET_DISABLED_FILTER_OPTIONS',\n\t\tdisabledFilterOptions,\n\t};\n}\n\nexport function setInteractive( isInteractive: boolean ): SetInteractive {\n\treturn {\n\t\ttype: 'SET_INTERACTIVE',\n\t\tisInteractive,\n\t};\n}\n\nexport function setIntensity( intensity: number ): SetIntensity {\n\treturn {\n\t\ttype: 'SET_INTENSITY',\n\t\tintensity,\n\t};\n}\n\nexport function makeSidebarVisible(\n\tisSidebarVisible: boolean\n): MakeSidebarVisible {\n\treturn {\n\t\ttype: 'MAKE_SIDEBAR_VISIBLE',\n\t\tisSidebarVisible,\n\t};\n}\n\nexport function setOpacity( opacity: number ): SetOpacity {\n\treturn {\n\t\ttype: 'SET_OPACITY',\n\t\topacity,\n\t};\n}\n\n// ============\n// HELPER TYPES\n// ============\n\ntype SetActiveAlternative = {\n\treadonly type: 'SET_ACTIVE_ALTERNATIVE';\n\treadonly alternative: AlternativeIndex;\n};\n\ntype SetActiveFilter = {\n\treadonly type: 'SET_ACTIVE_FILTER';\n\treadonly filter: ConfettiType;\n};\n\ntype SetActiveMode = {\n\treadonly type: 'SET_ACTIVE_MODE';\n\treadonly mode: HeatmapMode;\n};\n\ntype SetActiveResolution = {\n\treadonly type: 'SET_ACTIVE_RESOLUTION';\n\treadonly resolution: HeatmapResolution;\n};\n\ntype SetDisabledFilterOptions = {\n\treadonly type: 'SET_DISABLED_FILTER_OPTIONS';\n\treadonly disabledFilterOptions: ReadonlyArray< string >;\n};\n\ntype SetInteractive = {\n\treadonly type: 'SET_INTERACTIVE';\n\treadonly isInteractive: boolean;\n};\n\ntype SetIntensity = {\n\treadonly type: 'SET_INTENSITY';\n\treadonly intensity: number;\n};\n\ntype MakeSidebarVisible = {\n\treadonly type: 'MAKE_SIDEBAR_VISIBLE';\n\treadonly isSidebarVisible: boolean;\n};\n\ntype SetOpacity = {\n\treadonly type: 'SET_OPACITY';\n\treadonly opacity: number;\n};\n","/**\n * External dependencies\n */\nimport type {\n\tAlternativeIndex,\n\tConfettiType,\n\tHeatmapMode,\n\tHeatmapResolution,\n} from '@nab/types';\n\nexport type State = {\n\treadonly activeAlternative: AlternativeIndex;\n\treadonly activeFilter: ConfettiType;\n\treadonly activeMode: HeatmapMode;\n\treadonly activeResolution: HeatmapResolution;\n\treadonly disabledFilterOptions: ReadonlyArray< string >;\n\treadonly iframes: ReadonlyArray< AlternativeIndex >;\n\treadonly intensity: number;\n\treadonly isInteractive: boolean;\n\treadonly isSidebarVisible: boolean;\n\treadonly opacity: number;\n};\n\nexport const INIT: State = {\n\tactiveAlternative: 0,\n\tactiveFilter: 'timeToClick',\n\tactiveMode: 'heatmap',\n\tactiveResolution: 'desktop',\n\tdisabledFilterOptions: [],\n\tiframes: [],\n\tintensity: 60,\n\tisInteractive: false,\n\tisSidebarVisible: true,\n\topacity: 70,\n};\n","/**\n * External dependencies\n */\nimport { isEqual, uniq } from 'lodash';\nimport type { AnyAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT } from './config';\nimport type { UIAction as Action } from './actions';\nimport type { State } from './config';\n\nexport function reducer( state = INIT, action: AnyAction ): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n}\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'SET_ACTIVE_ALTERNATIVE': {\n\t\t\tconst newIframes = uniq( [ ...state.iframes, action.alternative ] );\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveAlternative: action.alternative,\n\t\t\t\tiframes: isEqual( state.iframes, newIframes )\n\t\t\t\t\t? state.iframes\n\t\t\t\t\t: newIframes,\n\t\t\t};\n\t\t}\n\n\t\tcase 'SET_ACTIVE_FILTER':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveFilter: action.filter,\n\t\t\t};\n\n\t\tcase 'SET_ACTIVE_MODE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveMode: action.mode,\n\t\t\t};\n\n\t\tcase 'SET_ACTIVE_RESOLUTION':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveResolution: action.resolution,\n\t\t\t};\n\n\t\tcase 'SET_DISABLED_FILTER_OPTIONS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdisabledFilterOptions: isEqual(\n\t\t\t\t\tstate.disabledFilterOptions,\n\t\t\t\t\taction.disabledFilterOptions\n\t\t\t\t)\n\t\t\t\t\t? state.disabledFilterOptions\n\t\t\t\t\t: action.disabledFilterOptions,\n\t\t\t};\n\n\t\tcase 'SET_INTERACTIVE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisInteractive: action.isInteractive,\n\t\t\t};\n\n\t\tcase 'SET_INTENSITY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tintensity: action.intensity,\n\t\t\t};\n\n\t\tcase 'MAKE_SIDEBAR_VISIBLE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSidebarVisible: action.isSidebarVisible,\n\t\t\t};\n\n\t\tcase 'SET_OPACITY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\topacity: action.opacity,\n\t\t\t};\n\t}\n}\n","/**\n * External dependencies\n */\nimport type {\n\tAlternativeIndex,\n\tConfettiType,\n\tHeatmapMode,\n\tHeatmapResolution,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { State } from '../config';\n\nexport function getActiveAlternative( state: State ): AlternativeIndex {\n\treturn state.ui.activeAlternative;\n}\n\nexport function getActiveFilter( state: State ): ConfettiType {\n\treturn state.ui.activeFilter;\n}\n\nexport function getActiveMode( state: State ): HeatmapMode {\n\treturn state.ui.activeMode;\n}\n\nexport function getActiveResolution( state: State ): HeatmapResolution {\n\treturn state.ui.activeResolution;\n}\n\nexport function getDisabledFilterOptions(\n\tstate: State\n): ReadonlyArray< string > {\n\treturn state.ui.disabledFilterOptions;\n}\n\nexport function getIFrames( state: State ): ReadonlyArray< AlternativeIndex > {\n\treturn state.ui.iframes;\n}\n\nexport function getIntensity( state: State ): number {\n\treturn state.ui.intensity;\n}\n\nexport function isInteractive( state: State ): boolean {\n\treturn state.ui.isInteractive;\n}\n\nexport function isSidebarVisible( state: State ): boolean {\n\treturn state.ui.isSidebarVisible;\n}\n\nexport function getOpacity( state: State ): number {\n\treturn state.ui.opacity;\n}\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { keyBy, orderBy } from 'lodash';\nimport type { Click, ConfettiOption, ConfettiType, Dict } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getConfettiColor, getDefaultColor } from './internal/confetti-colors';\n\nexport function getConfettiFilterOptions(\n\tclicks: ReadonlyArray< Click >\n): Record< ConfettiType, Dict< ConfettiOption > > {\n\tconst resultsSummary: Record< ConfettiType, Dict< number > > = {\n\t\tcountry: {},\n\t\tdevice: {},\n\t\tos: {},\n\t\tbrowser: {},\n\t\tdayOfWeek: {},\n\t\thourOfDay: {},\n\t\ttimeToClick: {},\n\t\twindowWidth: {},\n\t};\n\n\tclicks.forEach( ( click ) => {\n\t\tresultsSummary.country[ click.country ] =\n\t\t\t( resultsSummary.country[ click.country ] || 0 ) + click.intensity;\n\t\tresultsSummary.device[ click.device ] =\n\t\t\t( resultsSummary.device[ click.device ] || 0 ) + click.intensity;\n\t\tresultsSummary.os[ click.os ] =\n\t\t\t( resultsSummary.os[ click.os ] || 0 ) + click.intensity;\n\t\tresultsSummary.browser[ click.browser ] =\n\t\t\t( resultsSummary.browser[ click.browser ] || 0 ) + click.intensity;\n\t\tresultsSummary.dayOfWeek[ click.dayOfWeek ] =\n\t\t\t( resultsSummary.dayOfWeek[ click.dayOfWeek ] || 0 ) +\n\t\t\tclick.intensity;\n\t\tresultsSummary.hourOfDay[ click.hourOfDay ] =\n\t\t\t( resultsSummary.hourOfDay[ click.hourOfDay ] || 0 ) +\n\t\t\tclick.intensity;\n\t\tresultsSummary.timeToClick[ click.timeToClick ] =\n\t\t\t( resultsSummary.timeToClick[ click.timeToClick ] || 0 ) +\n\t\t\tclick.intensity;\n\t\tresultsSummary.windowWidth[ click.windowWidth ] =\n\t\t\t( resultsSummary.windowWidth[ click.windowWidth ] || 0 ) +\n\t\t\tclick.intensity;\n\t} );\n\n\tconst keys = Object.keys( resultsSummary ) as ReadonlyArray< ConfettiType >;\n\treturn keys.reduce(\n\t\t( memo, key ) => ( {\n\t\t\t...memo,\n\t\t\t[ key ]: processFilter( key, resultsSummary[ key ] ),\n\t\t} ),\n\t\t{} as Record< ConfettiType, Dict< ConfettiOption > >\n\t);\n}\n\nfunction processFilter(\n\tfilter: ConfettiType,\n\tfilterOptions: Dict< number >\n): Dict< ConfettiOption > {\n\tswitch ( filter ) {\n\t\tcase 'country':\n\t\t\treturn getFilterOptionsForDiscreteFilter( filter, filterOptions );\n\n\t\tcase 'device':\n\t\t\treturn getFilterOptionsForDiscreteFilter( filter, filterOptions );\n\n\t\tcase 'os':\n\t\t\treturn sortOsOptions(\n\t\t\t\tgetFilterOptionsForDiscreteFilter( filter, filterOptions )\n\t\t\t);\n\n\t\tcase 'browser': {\n\t\t\treturn sortBrowserOptions(\n\t\t\t\tgetFilterOptionsForDiscreteFilter( filter, filterOptions )\n\t\t\t);\n\t\t}\n\n\t\tcase 'dayOfWeek':\n\t\tcase 'hourOfDay':\n\t\tcase 'timeToClick':\n\t\tcase 'windowWidth':\n\t\t\treturn getFilterOptionsForContinuousFilter( filter, filterOptions );\n\t}\n}\n\nfunction getFilterOptionsForDiscreteFilter(\n\tfilter: ConfettiType,\n\tfilterOptions: Dict< number >\n) {\n\tconst orderedOptions = orderBy(\n\t\tObject.keys( filterOptions ).map( ( key ) => ( {\n\t\t\tkey,\n\t\t\tvalue: filterOptions[ key ] ?? 0,\n\t\t} ) ),\n\t\t'value',\n\t\t'desc'\n\t);\n\n\tlet relevantOptions = orderedOptions.splice( 0, 14 );\n\trelevantOptions = orderBy( relevantOptions, 'key' );\n\n\tif ( orderedOptions.length ) {\n\t\trelevantOptions.push( {\n\t\t\tkey: 'other',\n\t\t\tvalue: orderedOptions.reduce(\n\t\t\t\t( total, { value } ) => total + ( value ?? 0 ),\n\t\t\t\t0\n\t\t\t),\n\t\t} );\n\t}\n\n\tlet defaultColor = -1;\n\treturn keyBy(\n\t\trelevantOptions.map(\n\t\t\t( { key, value } ): ConfettiOption => ( {\n\t\t\t\tkey,\n\t\t\t\tlabel: getLabelOfDiscreteFilterOption( filter, key ),\n\t\t\t\tvalue,\n\t\t\t\tcolor:\n\t\t\t\t\tgetConfettiColor( filter, key ) ||\n\t\t\t\t\tgetDefaultColor( ++defaultColor ),\n\t\t\t} )\n\t\t),\n\t\t'key'\n\t);\n}\n\nfunction getLabelOfDiscreteFilterOption(\n\tfilter: ConfettiType,\n\tfilterOptionKey: string\n) {\n\tif ( 'other' === filterOptionKey ) {\n\t\treturn _x( 'Other', 'text', 'nelio-ab-testing' );\n\t}\n\n\tswitch ( filter ) {\n\t\tcase 'device':\n\t\t\treturn (\n\t\t\t\t( filterOptionKey[ 0 ]?.toUpperCase() ?? '' ) +\n\t\t\t\tfilterOptionKey.slice( 1 )\n\t\t\t);\n\n\t\tcase 'country':\n\t\tcase 'os':\n\t\tcase 'browser':\n\t\tdefault:\n\t\t\treturn filterOptionKey;\n\t}\n}\n\nfunction getFilterOptionsForContinuousFilter(\n\tfilter: 'dayOfWeek' | 'hourOfDay' | 'timeToClick' | 'windowWidth',\n\tfilterOptions: Dict< number >\n) {\n\tconst filterCategories = {\n\t\tdayOfWeek: [\n\t\t\t{ label: _x( 'Sunday', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( 'Monday', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( 'Tuesday', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( 'Wednesday', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( 'Thursday', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( 'Friday', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( 'Saturday', 'text', 'nelio-ab-testing' ) },\n\t\t],\n\t\thourOfDay: [\n\t\t\t{ label: _x( '12a  2a', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '2a  4a', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '4a  6a', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '6a  8a', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '8a  10a', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '10a  12p', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '12p  2p', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '2p  4p', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '4p  6p', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '6p  8p', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '8p  10p', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '10p  12a', 'text', 'nelio-ab-testing' ) },\n\t\t],\n\t\ttimeToClick: [\n\t\t\t{ label: _x( '0  2s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '2  3s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '3  4s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '4  5s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '5  10s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '10  15s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '15  20s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '20  25s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '25  30s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '30  60s', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '1  2min', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '2  3min', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '3  5min', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '+5min', 'text', 'nelio-ab-testing' ) },\n\t\t],\n\t\twindowWidth: [\n\t\t\t{ label: _x( '< 300 px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '300  600px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '600  900px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '900  1200px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '1200  1500px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '1500  1800px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '1800  2100px', 'text', 'nelio-ab-testing' ) },\n\t\t\t{ label: _x( '+2100px', 'text', 'nelio-ab-testing' ) },\n\t\t],\n\t};\n\n\tconst categoriesOfFilter = filterCategories[ filter ].map(\n\t\t( { label }, index ) => ( {\n\t\t\tkey: `${ index }`,\n\t\t\tlabel,\n\t\t\tvalue: filterOptions[ index ] || 0,\n\t\t\tcolor: '',\n\t\t} )\n\t);\n\n\tlet defaultColor = -1;\n\treturn keyBy(\n\t\tcategoriesOfFilter.map(\n\t\t\t( category ): ConfettiOption => ( {\n\t\t\t\t...category,\n\t\t\t\tcolor:\n\t\t\t\t\tgetConfettiColor( filter, category.key ) ||\n\t\t\t\t\tgetDefaultColor( ++defaultColor ),\n\t\t\t} )\n\t\t),\n\t\t'key'\n\t);\n}\n\nfunction sortOsOptions( options: Dict< ConfettiOption > ) {\n\tconst windows: Dict< string > = {\n\t\t'Windows 10': 'Windows 01',\n\t\t'Windows Phone': 'Windows 02',\n\t\t'Windows 7': 'Windows 03',\n\t\t'Windows Vista': 'Windows 04',\n\t\t'Windows XP': 'Windows 05',\n\t\t'Windows 98': 'Windows 06',\n\t\t'Windows 95': 'Windows 07',\n\t\tWindows: 'Windows 08',\n\t};\n\n\tlet aux = Object.values( options ).map( ( { key, ...option } ) => ( {\n\t\tkey,\n\t\t...option,\n\t\tsorting: windows[ key ] ? windows[ key ] : key,\n\t} ) );\n\taux = orderBy( aux, 'sorting' );\n\n\tconst sortedOptions = aux.map( ( opt ) => ( {\n\t\tkey: opt.key,\n\t\tcolor: opt.color,\n\t\tvalue: opt.value,\n\t\tlabel: opt.label,\n\t} ) );\n\n\treturn keyBy( sortedOptions, 'key' );\n}\n\nfunction sortBrowserOptions( options: Dict< ConfettiOption > ) {\n\tconst sortedOptions = orderBy( Object.values( options ), 'key' );\n\treturn keyBy( sortedOptions, 'key' );\n}\n","export * from './confetti-options';\n","/**\n * External dependencies\n */\nimport type { Maybe } from '@nab/types';\n\nconst DEFAULT_PALETTE: [ string, ...string[] ] = [\n\t'#753966',\n\t'#91628b',\n\t'#5b52f3',\n\t'#4a87d5',\n\t'#42b0ec',\n\t'#4cc3d9',\n\t'#59d1b7',\n\t'#7bc8a4',\n\t'#bfe656',\n\t'#ffc65d',\n\t'#ffb039',\n\t'#f17b45',\n\t'#ef4444',\n\t'#cb0a0a',\n];\n\nexport function getDefaultColor( i: number ): string {\n\treturn (\n\t\tDEFAULT_PALETTE[ i % DEFAULT_PALETTE.length ] || DEFAULT_PALETTE[ 0 ]\n\t);\n}\n\nexport function getConfettiColor( filter: string, value: 'other' ): string;\nexport function getConfettiColor(\n\tfilter: string,\n\tvalue?: string | number\n): Maybe< string >;\nexport function getConfettiColor(\n\tfilter: string,\n\tvalue?: string | number\n): Maybe< string > {\n\tif ( 'other' === value ) {\n\t\treturn '#ec82b6';\n\t}\n\n\tvalue = `${ value ?? '' }`;\n\tconst num = isNaN( Number.parseInt( value ) )\n\t\t? -1\n\t\t: Number.parseInt( value );\n\n\tswitch ( filter ) {\n\t\tcase 'country':\n\t\t\treturn getCountryColor( value );\n\n\t\tcase 'device':\n\t\t\treturn getDeviceColor( value );\n\n\t\tcase 'os':\n\t\t\treturn getOsColor( value );\n\n\t\tcase 'browser':\n\t\t\treturn getBrowserColor( value );\n\n\t\tcase 'dayOfWeek':\n\t\t\treturn getDayOfWeekColor( num );\n\n\t\tcase 'hourOfDay':\n\t\t\treturn getHourOfDayColor( num );\n\n\t\tdefault:\n\t\t\treturn getGenericColor( num );\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction getCountryColor( value: string ) {\n\tconst palette: Record< string, string > = {\n\t\tAR: '#75aadb',\n\t\tAU: '#008000',\n\t\tBR: '#2dc52d',\n\t\tCA: '#f71818',\n\t\tCN: '#ff0000',\n\t\tFI: '#2008ff',\n\t\tFR: '#0000ff',\n\t\tDE: '#b97575',\n\t\tGR: '#9292da',\n\t\tIS: '#9494c3',\n\t\tIN: '#ffa500',\n\t\tIT: '#007fff',\n\t\tJP: '#e8f48c',\n\t\tNL: '#ff7f00',\n\t\tNZ: '#993333',\n\t\tNO: '#00008b',\n\t\tPT: '#218000',\n\t\tRU: '#3e3e77',\n\t\tES: '#ff0000',\n\t\tGB: '#e64444',\n\t\tUS: '#ec7777',\n\t};\n\treturn palette[ value ];\n}\n\nfunction getDeviceColor( value: string ) {\n\tconst palette: Record< string, string > = {\n\t\tdesktop: '#11a0d2',\n\t\tconsole: '#f17b45',\n\t\tmobile: '#ffc65d',\n\t\ttablet: '#7bc8a4',\n\t\tsmarttv: '#93648d',\n\t\twearable: '#4bc0d6',\n\t\tembedded: '#ec82b6',\n\t};\n\treturn palette[ value ];\n}\n\nfunction getOsColor( value: string ) {\n\tvalue = `${ value }`;\n\n\tif ( 'Mac OS X' === value ) {\n\t\treturn '#e6e6e6';\n\t}\n\n\tif ( -1 !== value.indexOf( 'Windows 10' ) ) {\n\t\treturn '#066b96';\n\t}\n\n\tif ( -1 !== value.indexOf( 'Windows Phone' ) ) {\n\t\treturn '#097cae';\n\t}\n\n\tif ( -1 !== value.indexOf( 'Windows 7' ) ) {\n\t\treturn '#0a8bc3';\n\t}\n\n\tif ( -1 !== value.indexOf( 'Windows Vista' ) ) {\n\t\treturn '#049cde';\n\t}\n\n\tif ( -1 !== value.indexOf( 'Windows XP' ) ) {\n\t\treturn '#35afe4';\n\t}\n\n\tif ( -1 !== value.indexOf( 'Windows' ) ) {\n\t\treturn '#67c5ef';\n\t}\n\n\tconst others: Record< string, string > = {\n\t\t'Chromium OS': '#63c7c5',\n\t\t'Mac OS': '#c3c3c3',\n\t\tAndroid: '#97e375',\n\t\tDebian: '#ff7185',\n\t\tFuchsia: '#d0608a',\n\t\tLinux: '#5e2c80',\n\t\tMint: '#7aaa65',\n\t\tSUSE: '#84bc91',\n\t\tUbuntu: '#f28b4a',\n\t\tiOS: '#d6d6d6',\n\t};\n\n\treturn others[ value ];\n}\n\nfunction getBrowserColor( value: string ) {\n\tconst colors: Record< string, string > = {\n\t\t'Opera Mini': '#ff6060',\n\t\t'Opera Mobi': '#ff9090',\n\t\t'Samsung Browser': '#93648d',\n\t\tChrome: '#7bc8a4',\n\t\tChromium: '#6cbc6d',\n\t\tEdge: '#024b6e',\n\t\tFirefox: '#f28b4a',\n\t\tMozilla: '#f29f79',\n\t\tOpera: '#f24a4a',\n\t\tSafari: '#ffc65d',\n\t\tVivaldi: '#ef6dd2',\n\t};\n\treturn colors[ `${ value }` ];\n}\n\nfunction getDayOfWeekColor( value: number ) {\n\tconst palette: ReadonlyArray< string > = [\n\t\t'#ec82b6',\n\t\t'#f17b45',\n\t\t'#ffc65d',\n\t\t'#7bc8a4',\n\t\t'#4cc3d9',\n\t\t'#4c8ad9',\n\t\t'#93648d',\n\t\t'#ec82b6',\n\t];\n\treturn palette[ value ];\n}\n\nfunction getHourOfDayColor( value: number ) {\n\tconst palette = [\n\t\t'#003e6b',\n\t\t'#034d71',\n\t\t'#066b96',\n\t\t'#64c8c6',\n\t\t'#dbeabf',\n\t\t'#e3e075',\n\t\t'#faca5c',\n\t\t'#f28b4a',\n\t\t'#d1618b',\n\t\t'#9a4987',\n\t\t'#5e2c80',\n\t\t'#15205a',\n\t];\n\treturn palette[ value ];\n}\n\nfunction getGenericColor( value: number ) {\n\tconst palette = [\n\t\t'#cb0a0a',\n\t\t'#ef4444',\n\t\t'#f17b45',\n\t\t'#ffb039',\n\t\t'#ffc65d',\n\t\t'#bfe656',\n\t\t'#7bc8a4',\n\t\t'#59d1b7',\n\t\t'#4cc3d9',\n\t\t'#42b0ec',\n\t\t'#4a87d5',\n\t\t'#5b52f3',\n\t\t'#91628b',\n\t\t'#753966',\n\t];\n\treturn palette[ value ];\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport { store as NAB_DATA } from '@nab/data';\nimport type { Experiment, Maybe } from '@nab/types';\n\nexport function useExperimentAttribute< K extends keyof Experiment >(\n\tattr: K\n): Maybe< Experiment[ K ] > {\n\tconst exp = useSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_DATA ).getPageAttribute( 'editor/activeExperiment' ),\n\t\t[]\n\t);\n\tconst value = useSelect(\n\t\t( select ) =>\n\t\t\t!! exp\n\t\t\t\t? select( NAB_DATA ).getExperimentAttribute( exp, attr )\n\t\t\t\t: undefined,\n\t\t[ exp, attr ]\n\t);\n\treturn value;\n}\n\nexport function useAreUniqueResultsVisible(): [\n\tboolean,\n\t( visible: boolean ) => void,\n] {\n\tconst value = useSelect( ( select ) => {\n\t\tconst exp = select( NAB_DATA ).getPageAttribute(\n\t\t\t'editor/activeExperiment'\n\t\t);\n\t\treturn exp ? select( NAB_DATA ).areUniqueResultsVisible( exp ) : false;\n\t}, [] );\n\n\tconst { setPageAttribute } = useDispatch( NAB_DATA );\n\tconst setValue = ( visible: boolean ) =>\n\t\tsetPageAttribute( 'results/shouldShowUniqueResults', visible );\n\n\treturn [ value, setValue ];\n}\n\nexport function useHasUniqueResults(): boolean {\n\treturn useSelect( ( select ) => {\n\t\tconst exp = select( NAB_DATA ).getPageAttribute(\n\t\t\t'editor/activeExperiment'\n\t\t);\n\t\treturn exp\n\t\t\t? select( NAB_DATA ).areUniqueResultsAvailable( exp )\n\t\t\t: false;\n\t}, [] );\n}\n\n// DEPRECATED. Eventually, all tests will have unique results, so you can get rid of this.\nexport function useMayHaveUniqueResults(): boolean {\n\treturn useSelect( ( select ) => {\n\t\tconst expId = select( NAB_DATA ).getPageAttribute(\n\t\t\t'editor/activeExperiment'\n\t\t);\n\t\tconst exp = select( NAB_DATA ).getExperiment( expId );\n\t\treturn ! exp?.endDate || '2025-06-16' <= exp.endDate;\n\t}, [] );\n}\n","/**\n * WordPress dependencies\n */\nimport { PanelBody } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useExperimentAttribute } from '../hooks';\n\nexport const Description = (): JSX.Element => {\n\tconst description = useExperimentAttribute( 'description' );\n\treturn (\n\t\t<PanelBody\n\t\t\tclassName=\"nab-experiment-description\"\n\t\t\ttitle={ _x( 'Description', 'text', 'nelio-ab-testing' ) }\n\t\t>\n\t\t\t{ description\n\t\t\t\t? description\n\t\t\t\t: _x( 'None', 'text (description)', 'nelio-ab-testing' ) }\n\t\t</PanelBody>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport { PanelRow } from '@safe-wordpress/components';\nimport { _n, _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { formatI18nDate } from '@nab/date';\nimport { numberFormat } from '@nab/i18n';\nimport { computeDuration } from '@nab/utils';\nimport type { Experiment } from '@nab/types';\n\nexport type DateInfoProps = {\n\treadonly start: Experiment[ 'startDate' ];\n\treadonly end: Experiment[ 'endDate' ];\n\treadonly endMode: Experiment[ 'endMode' ];\n\treadonly endValue: Experiment[ 'endValue' ];\n};\n\nexport const DateInfo = ( {\n\tstart,\n\tend,\n\tendMode,\n\tendValue,\n}: DateInfoProps ): JSX.Element | null => {\n\tif ( ! start || ! endMode ) {\n\t\treturn null;\n\t}\n\n\tend = end || '';\n\n\treturn (\n\t\t<>\n\t\t\t<PanelRow className=\"nab-experiment-summary__start\">\n\t\t\t\t<span>{ _x( 'Duration', 'text', 'nelio-ab-testing' ) }</span>\n\t\t\t\t<span>{ formatDateDifference( start, end ) }</span>\n\t\t\t</PanelRow>\n\n\t\t\t<PanelRow className=\"nab-experiment-summary__start\">\n\t\t\t\t<span>{ _x( 'Start', 'text', 'nelio-ab-testing' ) }</span>\n\t\t\t\t<span>{ formatI18nDate( start ) }</span>\n\t\t\t</PanelRow>\n\n\t\t\t{ !! end ? (\n\t\t\t\t<PanelRow className=\"nab-experiment-summary__end\">\n\t\t\t\t\t<span>{ _x( 'End', 'text', 'nelio-ab-testing' ) }</span>\n\t\t\t\t\t<span>{ formatI18nDate( end ) }</span>\n\t\t\t\t</PanelRow>\n\t\t\t) : (\n\t\t\t\t<PanelRow className=\"nab-experiment-summary__end-mode\">\n\t\t\t\t\t<span>{ _x( 'End', 'text', 'nelio-ab-testing' ) }</span>\n\t\t\t\t\t<span>{ getLabel( endMode, endValue ) }</span>\n\t\t\t\t</PanelRow>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nfunction formatDateDifference( start: string, end?: string ) {\n\tconst duration = computeDuration( start, end );\n\n\tconst snippets = [\n\t\tduration.years,\n\t\tduration.months,\n\t\tduration.days,\n\t\tduration.hours,\n\t\tduration.minutes,\n\t];\n\n\tconst { years, months, days, hours, minutes } = duration;\n\n\tconst stringifiedSnippets = [\n\t\tsprintf(\n\t\t\t/* translators: %d: Number of years. */\n\t\t\t_n( '%d year', '%d years', years, 'nelio-ab-testing' ),\n\t\t\tyears\n\t\t),\n\t\tsprintf(\n\t\t\t/* translators: %d: Number of months. */\n\t\t\t_n( '%d month', '%d months', months, 'nelio-ab-testing' ),\n\t\t\tmonths\n\t\t),\n\t\t/* translators: %d: Number of days. */\n\t\tsprintf( _n( '%d day', '%d days', days, 'nelio-ab-testing' ), days ),\n\t\tsprintf(\n\t\t\t/* translators: %d: Number of hours. */\n\t\t\t_n( '%d hour', '%d hours', hours, 'nelio-ab-testing' ),\n\t\t\thours\n\t\t),\n\t\tsprintf(\n\t\t\t/* translators: %d: Number of minutes. */\n\t\t\t_n( '%d minute', '%d minutes', minutes, 'nelio-ab-testing' ),\n\t\t\tminutes\n\t\t),\n\t];\n\n\tfor ( let i = 0; i < snippets.length - 1; ++i ) {\n\t\tif ( snippets[ i ] && snippets[ i + 1 ] ) {\n\t\t\treturn joinTimes(\n\t\t\t\tstringifiedSnippets[ i ],\n\t\t\t\tstringifiedSnippets[ i + 1 ]\n\t\t\t);\n\t\t}\n\n\t\tif ( snippets[ i ] ) {\n\t\t\treturn stringifiedSnippets[ i ];\n\t\t}\n\t}\n\n\tif ( snippets[ snippets.length - 1 ] ) {\n\t\treturn stringifiedSnippets[ snippets.length - 1 ];\n\t}\n\n\treturn _x( 'Less than a minute', 'text', 'nelio-ab-testing' );\n}\n\nfunction joinTimes( a: string | undefined, b: string | undefined ) {\n\tif ( ! a && ! b ) {\n\t\treturn '';\n\t}\n\n\tif ( ! a || ! b ) {\n\t\treturn a || b;\n\t}\n\n\tconst and = _x( 'and', 'text', 'nelio-ab-testing' );\n\treturn `${ a } ${ and } ${ b }`;\n}\n\nfunction getLabel(\n\tendMode: Experiment[ 'endMode' ],\n\tendValue?: Experiment[ 'endValue' ]\n): string {\n\tendValue = endValue ?? 0;\n\tswitch ( endMode ) {\n\t\tcase 'duration':\n\t\t\treturn sprintf(\n\t\t\t\t/* translators: %s: Number of days. */\n\t\t\t\t_n(\n\t\t\t\t\t'After %s day',\n\t\t\t\t\t'After %s days',\n\t\t\t\t\tendValue,\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tnumberFormat( endValue )\n\t\t\t); // eslint-disable-line\n\n\t\tcase 'page-views':\n\t\t\treturn sprintf(\n\t\t\t\t/* translators: %s: Number. */\n\t\t\t\t_n(\n\t\t\t\t\t'After %s page view',\n\t\t\t\t\t'After %s page views',\n\t\t\t\t\tendValue,\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tnumberFormat( endValue )\n\t\t\t); // eslint-disable-line\n\n\t\tcase 'confidence':\n\t\t\treturn sprintf(\n\t\t\t\t/* translators: %s: Percentage number, such as 95. */\n\t\t\t\t_x( 'At %s%% confidence', 'text', 'nelio-ab-testing' ),\n\t\t\t\tnumberFormat( endValue )\n\t\t\t);\n\n\t\tdefault:\n\t\t\treturn _x( 'Manual', 'text', 'nelio-ab-testing' );\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { PanelRow } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { Experiment } from '@nab/types';\n\nexport type StatusProps = {\n\treadonly status: Experiment[ 'status' ];\n};\n\nexport const Status = ( { status }: StatusProps ): JSX.Element => (\n\t<PanelRow className=\"nab-experiment-summary__status\">\n\t\t<span>{ _x( 'Status', 'text', 'nelio-ab-testing' ) }</span>\n\t\t<strong>{ getStatusLabel( status ) }</strong>\n\t</PanelRow>\n);\n\nfunction getStatusLabel( status: Experiment[ 'status' ] ): string {\n\tswitch ( status ) {\n\t\tcase 'paused':\n\t\t\treturn _x(\n\t\t\t\t'Paused',\n\t\t\t\t'text (experiment status)',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tcase 'finished':\n\t\t\treturn _x(\n\t\t\t\t'Finished',\n\t\t\t\t'text (experiment status)',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\n\t\tdefault:\n\t\t\treturn _x(\n\t\t\t\t'Running',\n\t\t\t\t'text (experiment status)',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\t}\n}\n","export const STATS_REFRESH_DELAY = 100;\n\nexport const HEATMAP_GL_CANVAS_SCALE = 0.25;\nexport const HEATMAP_POINT_SIZE = 100;\nexport const HEATMAP_MAX_SIZE_MULTIPLIER = 2;\nexport const HEATMAP_MIN_INTENSITY = 0.4;\nexport const HEATMAP_MAX_INTENSITY = 2;\nexport const HEATMAP_INTENSITY_RANGE =\n\tHEATMAP_MAX_INTENSITY - HEATMAP_MIN_INTENSITY;\n\nexport const SCROLLMAP_ROW_HEIGHT = 50;\nexport const SCROLLMAP_COLORS = [\n\t'#000000',\n\t'#00031d',\n\t'#00052d',\n\t'#00094f',\n\t'#000c6a',\n\t'#000f7f',\n\t'#0014ac',\n\t'#0017c6',\n\t'#001dff',\n\t'#003dff',\n\t'#0074ff',\n\t'#009cff',\n\t'#00bcff',\n\t'#00d3ff',\n\t'#00ebff',\n\t'#00ffeb',\n\t'#00ffac',\n\t'#00ff74',\n\t'#00ff4d',\n\t'#2aff00',\n\t'#62ff00',\n\t'#91ff00',\n\t'#b1ff00',\n\t'#d1ff00',\n\t'#f8ff00',\n\t'#ffde00',\n\t'#ffbe00',\n\t'#ff9700',\n\t'#ff7700',\n\t'#ff5f00',\n\t'#ff4700',\n\t'#ff0000',\n];\n","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgFullLogo = function SvgFullLogo(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 133.65 57.138\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30.395 11.33c-1.34 0-2.642.15-3.894.438.084.284.175.617.293 1.038q.245.776.366 1.102l2.596 8.592c.803-.035 1.621-.074 2.285-.093a54 54 0 0 1 1.567-.06c.53-.015.932-.024 1.204-.038q.429-.021.94-.021c2.121 0 3.843.281 5.175.838q2.02.836 2.877 2.222.858 1.365.86 2.996-.002 1.265-.554 2.408-.529 1.121-1.344 1.856a5.9 5.9 0 0 1-1.673 1.119 19 19 0 0 1-2.038.715q3.24.204 5.443 1.855.574.43 1 .94a17.3 17.3 0 0 0 2.25-8.553c0-9.585-7.768-17.354-17.353-17.354zm-7.797 1.847-.106.051-3.732 10.469h6.936zm-2.272 1.37c-4.412 3.146-7.29 8.306-7.29 14.137 0 1.835.29 3.604.817 5.264.298-1.744.855-3.546 1.443-5.396.006-.02.017-.05.026-.072l.004-.035 4.558-12.6c.08-.223.238-.684.442-1.298zm14.711 9.247q-1.162 0-2.285.204v9.912h1.915c1.944 0 3.31-.451 4.098-1.362.802-.911 1.205-2.133 1.205-3.656q0-2.08-1.162-3.591-1.161-1.508-3.77-1.507M18.475 25.37c-2.198 6.605 1.994 8.626 1.506 12.426-.207 1.616-1.252 2.408-2.421 2.57a17.33 17.33 0 0 0 10.013 5.443q.168-.072.285-.17.407-.327.507-1.162c.08-.557.123-1.451.123-2.672v-6.686c-.036-1.147-.061-2.172-.532-3.936a41 41 0 0 0-.587-2.102l-1.12-3.711zm14.277 10.047v10.26q.346.02.753.06l.099.004a17.3 17.3 0 0 0 8.213-3.991c.045-.312.073-.64.073-.988a5.8 5.8 0 0 0-.553-2.447q-.53-1.226-2.06-2.064-1.508-.835-4.178-.834h-2.345zM50.46 14.055v14.513h2.405V16.477h8.432a1.26 1.26 0 0 1 1.258 1.255v10.836h2.422V16.586a2.526 2.526 0 0 0-2.532-2.531zm16.938 0v2.422h14.516v-2.422zm16.938 0v11.982a2.526 2.526 0 0 0 2.531 2.531H98.85v-2.422H88.014a1.26 1.26 0 0 1-1.256-1.255V14.055zm16.918 0v14.513h2.422V14.055zm7.357 0a2.504 2.504 0 0 0-2.511 2.511v9.489a2.506 2.506 0 0 0 2.511 2.513h9.489a2.52 2.52 0 0 0 2.513-2.513v-9.489a2.506 2.506 0 0 0-2.513-2.511zm1.149 2.404h7.176c.692 0 1.238.564 1.238 1.256v7.176c0 .692-.546 1.238-1.238 1.238h-7.176a1.23 1.23 0 0 1-1.239-1.238v-7.176c0-.692.547-1.256 1.239-1.256m-42.362 3.64v2.424h14.516V20.1zm0 6.047v2.422h14.516v-2.422z\",\n    style: {\n      fill: \"#d24633\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m53.3 30.166-.943.11v2.851h-2.09v.816h2.09V39.9c0 1.907.672 3.141 2.76 3.141.6 0 1.217-.2 1.834-.49l-.346-.799c-.49.236-1.033.4-1.505.4-1.526 0-1.8-.926-1.8-2.252v-5.957h3.325v-.816h-3.324zm30.786 0-.943.11v2.851h-2.088v.816h2.088V39.9c0 1.907.671 3.141 2.76 3.141.599 0 1.216-.2 1.833-.49l-.345-.799c-.49.236-1.034.4-1.506.4-1.526 0-1.8-.926-1.8-2.252v-5.957h3.325v-.816h-3.324zm7.978.021a.697.697 0 0 0-.709.709c0 .177.068.35.186.485l.006.006.004.006a.73.73 0 0 0 .513.214.7.7 0 0 0 .497-.214.7.7 0 0 0 .214-.497.68.68 0 0 0-.222-.498.7.7 0 0 0-.489-.21m-16.74 2.74c-1.14 0-2.042.246-2.676.772-.608.503-.931 1.162-.931 1.914 0 .642.167 1.18.52 1.575l.003.003.002.002a3.2 3.2 0 0 0 1.252.797h.004l.004.002q.722.227 1.855.432l-.002-.002c.696.134 1.236.269 1.612.398l.004.002h.004c.372.113.671.296.914.55l.004.003.003.004c.234.224.354.524.354.959 0 .604-.217 1.038-.682 1.38v.003c-.455.323-1.207.508-2.261.508q-1.049 0-1.948-.336h-.002q-.887-.358-1.398-.854l-.188-.182-.496.663.137.14c.401.414.956.744 1.656.998q1.056.384 2.239.383c1.186 0 2.115-.224 2.775-.709l.002-.002c.652-.492.996-1.18.996-1.992 0-.618-.17-1.134-.523-1.504a2.9 2.9 0 0 0-1.221-.783c-.458-.153-1.062-.3-1.818-.45l-.002-.001h-.002q-1.026-.184-1.631-.38a2.35 2.35 0 0 1-.957-.57c-.237-.247-.362-.576-.362-1.037 0-.567.207-.988.65-1.332.447-.348 1.144-.543 2.11-.543q.797.001 1.537.23.74.23 1.254.643l.186.149.496-.662-.17-.139c-.386-.32-.88-.565-1.479-.744a6 6 0 0 0-1.824-.287m-11.072.018c-2.76 0-4.975 2.126-4.975 5.05 0 3.122 2.215 5.028 4.975 5.046 1.562 0 3.269-.636 4.213-1.889l-.69-.562c-.726.98-2.234 1.488-3.523 1.488-2.016 0-3.777-1.325-3.977-3.63h8.809c.381-3.814-2.072-5.503-4.832-5.503m27.398.092v10.004h.83V33.037zm10.569.035c-1.362.018-2.742.58-3.487 1.924v-1.76h-.945v9.787h.234v.018h.37v-.018h.359v-5.447c0-2.015 1.416-3.542 3.432-3.56 2.124-.019 3.486 1.18 3.486 3.396v5.629h.963v-5.646c0-2.724-1.797-4.323-4.412-4.323m13.22.233c-.92 0-1.762.206-2.511.619s-1.342 1-1.768 1.748c-.427.738-.639 1.575-.639 2.496s.213 1.764.64 2.514a4.7 4.7 0 0 0 1.765 1.746l.002.002c.749.413 1.591.619 2.511.619 1.049 0 1.986-.271 2.788-.815.604-.412.95-1.032 1.3-1.648v1.752c0 1.366-.322 2.324-.927 2.918l-.002.002-.002.002c-.596.606-1.538.928-2.88.928a5.9 5.9 0 0 1-2.132-.374 4.8 4.8 0 0 1-1.676-1.056l-.162-.16-.576.576.15.164c.483.522 1.112.927 1.877 1.22h.002c.778.294 1.62.44 2.518.44 1.526 0 2.703-.38 3.484-1.174l.002-.002c.782-.783 1.154-1.978 1.154-3.539V33.36h-.83v2.381c-.35-.607-.698-1.218-1.302-1.62-.802-.543-1.738-.815-2.786-.815m-51.187.529c2.36 0 3.94 1.345 3.959 3.76h-7.936c.218-2.397 1.961-3.76 3.977-3.76m51.187.283c.79 0 1.486.175 2.102.524h.002l.002.002c.628.337 1.11.807 1.459 1.423s.523 1.312.523 2.102-.176 1.492-.525 2.121a3.7 3.7 0 0 1-1.461 1.441c-.616.337-1.311.506-2.102.506s-1.494-.17-2.123-.507h-.002a3.74 3.74 0 0 1-1.439-1.442c-.349-.628-.523-1.33-.523-2.119s.174-1.486.523-2.102a3.6 3.6 0 0 1 1.441-1.423v-.002h.002c.63-.35 1.332-.524 2.121-.524\",\n    style: {\n      fill: \"#60609f\"\n    }\n  }));\n};\nexport default SvgFullLogo;","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/**\n * WordPress dependencies\n */\nimport baseApiFetch from '@wordpress/api-fetch';\nimport { format } from '@wordpress/date';\nimport { addQueryArgs } from '@wordpress/url';\n\nimport type { APIFetchOptions } from '@wordpress/api-fetch';\n\nconst apiFetch = < T >( options: APIFetchOptions ): Promise< T > => {\n\tconst { url, path } = options;\n\tconst nabts = format( 'YmjHi' ).substring( 0, 11 ) + '0';\n\treturn baseApiFetch( {\n\t\t...options,\n\t\t...( url && {\n\t\t\turl: isRestApiRequest( options )\n\t\t\t\t? addQueryArgs( url, { nabts } )\n\t\t\t\t: url,\n\t\t} ),\n\t\t...( path && { path: addQueryArgs( path, { nabts } ) } ),\n\t\tparse: true,\n\t} );\n};\n\nexport * from '@wordpress/api-fetch';\nexport default apiFetch;\n\n// =======\n// HELPERS\n// =======\nconst isRestApiRequest = ( options: APIFetchOptions ): boolean =>\n\t!! options.url?.includes( '/wp-json/' ) ||\n\t!! options.url?.includes( 'rest_route' ) ||\n\t!! Object.keys( options ).includes( 'rest_route' );\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/components';\n\nexport {\n\t__experimentalGrid as Grid,\n\t__experimentalHeading as Heading,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalInputControl as InputControl,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalNumberControl as NumberControl,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalHStack as HStack,\n\t__experimentalZStack as ZStack,\n\t__experimentalVStack as VStack,\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\n\t__experimentalSpacer as Spacer,\n\t__experimentalTruncate as Truncate,\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalHasSplitBorders as hasSplitBorders,\n\t__experimentalIsDefinedBorder as isDefinedBorder,\n\t__experimentalText as Text,\n\t__experimentalView as View,\n} from '@wordpress/components';\n\nexport type { BaseControlProps } from '@wordpress/components/build-types/base-control/types';\nexport type { BoxControlValue } from '@wordpress/components/build-types/box-control/types';\nexport type { ButtonAsButtonProps } from '@wordpress/components/build-types/button/types';\nexport type {\n\tColorObject,\n\tPaletteObject,\n} from '@wordpress/components/build-types/color-palette/types';\nexport type { ControlledRangeValue } from '@wordpress/components/build-types/range-control/types';\nexport type { DropdownProps } from '@wordpress/components/build-types/dropdown/types';\nexport type { GradientPickerComponentProps } from '@wordpress/components/build-types/gradient-picker/types';\nexport type { HeadingSize } from '@wordpress/components/build-types/heading/types';\nexport type { ItemGroupProps } from '@wordpress/components/build-types/item-group/types';\nexport type { PopoverProps } from '@wordpress/components/build-types/popover/types';\nexport type { Size } from '@wordpress/components/build-types/input-control/types';\nexport type { ToggleGroupControlProps } from '@wordpress/components/build-types/toggle-group-control/types';\nexport type {\n\tUnitControlProps,\n\tUnitControlOnChangeCallback,\n} from '@wordpress/components/build-types/unit-control/types';\nexport type { WordPressComponentProps } from '@wordpress/components/build-types/context';\nexport type { WPUnitControlUnit } from '@wordpress/components/build-types/unit-control/types';\n\nimport {\n\t// eslint-disable-next-line\n\t__experimentalToggleGroupControl as OriginalToggleGroupControl,\n\tBaseControl as OriginalBaseControl,\n\tCheckboxControl as OriginalCheckboxControl,\n\tFormTokenField as OriginalFormTokenField,\n\tRangeControl as OriginalRangeControl,\n\tSelectControl as OriginalSelectControl,\n\tTextControl as OriginalTextControl,\n\tTextareaControl as OriginalTextareaControl,\n\tToggleControl as OriginalToggleControl,\n} from '@wordpress/components';\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedBaseControl: typeof OriginalBaseControl = ( props ) => (\n\t<OriginalBaseControl\n\t\t{ ...{\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const BaseControl = Object.assign(\n\tWrappedBaseControl,\n\tOriginalBaseControl\n);\n\nconst WrappedCheckboxControl: typeof OriginalCheckboxControl = ( props ) => (\n\t<OriginalCheckboxControl\n\t\t{ ...{\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const CheckboxControl = Object.assign(\n\tWrappedCheckboxControl,\n\tOriginalCheckboxControl\n);\n\nconst WrappedFormTokenField: typeof OriginalFormTokenField = ( props ) => (\n\t<OriginalFormTokenField\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const FormTokenField = Object.assign(\n\tWrappedFormTokenField,\n\tOriginalFormTokenField\n);\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedRangeControl: typeof OriginalRangeControl = ( props ) => (\n\t<OriginalRangeControl\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const RangeControl = Object.assign(\n\tWrappedRangeControl,\n\tOriginalRangeControl\n);\n\nexport const SelectControl: typeof OriginalSelectControl = ( props ) => (\n\t<OriginalSelectControl\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedTextControl: typeof OriginalTextControl = ( props ) => (\n\t<OriginalTextControl\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const TextControl = Object.assign(\n\tWrappedTextControl,\n\tOriginalTextControl\n);\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedTextareaControl: typeof OriginalTextareaControl = ( props ) => (\n\t<OriginalTextareaControl\n\t\t{ ...{\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const TextareaControl = Object.assign(\n\tWrappedTextareaControl,\n\tOriginalTextareaControl\n);\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedToggleControl: typeof OriginalToggleControl = ( props ) => (\n\t<OriginalToggleControl\n\t\t{ ...{\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const ToggleControl = Object.assign(\n\tWrappedToggleControl,\n\tOriginalToggleControl\n);\n\nconst WrappedToggleGroupControl: typeof OriginalToggleGroupControl = (\n\t// @ts-expect-error Compiler complains, but this is just a temporary fix.\n\tprops\n) => (\n\t<OriginalToggleGroupControl\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const ToggleGroupControl = Object.assign(\n\tWrappedToggleGroupControl,\n\tOriginalToggleGroupControl\n);\n","/**\n * WordPress dependencies\n */\nimport { useRef, useInsertionEffect, useCallback } from '@wordpress/element';\n\n/**\n * Any function.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type AnyFunction = ( ...args: any ) => any;\n\n/**\n * Creates a stable callback function that has access to the latest state and\n * can be used within event handlers and effect callbacks. Throws when used in\n * the render phase.\n *\n * @param callback The callback function to wrap.\n *\n * @example\n *\n * ```tsx\n * function Component( props ) {\n *   const onClick = useEvent( props.onClick );\n *   useEffect( () => {\n *     onClick();\n *     // Won't trigger the effect again when props.onClick is updated.\n *   }, [ onClick ] );\n *   // Won't re-render Button when props.onClick is updated (if `Button` is\n *   // wrapped in `React.memo`).\n *   return <Button onClick={ onClick } />;\n * }\n * ```\n */\nexport default function useEvent< T extends AnyFunction >(\n\t/**\n\t * The callback function to wrap.\n\t */\n\tcallback?: T\n): T {\n\tconst ref = useRef< AnyFunction | undefined >( () => {\n\t\tthrow new Error(\n\t\t\t'Callbacks created with `useEvent` cannot be called during rendering.'\n\t\t);\n\t} );\n\tuseInsertionEffect( () => {\n\t\tref.current = callback;\n\t} );\n\treturn useCallback< AnyFunction >(\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-argument\n\t\t( ...args ) => ref.current?.( ...args ),\n\t\t[]\n\t) as T;\n}\n","/**\n * Internal dependencies\n */\nimport { useResizeObserver as _useResizeObserver } from './use-resize-observer';\n\n/**\n * Sets up a [`ResizeObserver`](https://developer.mozilla.org/en-US/docs/Web/API/Resize_Observer_API)\n * for an HTML or SVG element.\n *\n * Pass the returned setter as a callback ref to the React element you want\n * to observe, or use it in layout effects for advanced use cases.\n *\n * @example\n *\n * ```tsx\n * const setElement = useResizeObserver(\n * \t( resizeObserverEntries ) => console.log( resizeObserverEntries ),\n * \t{ box: 'border-box' }\n * );\n * <div ref={ setElement } />;\n *\n * // The setter can be used in other ways, for example:\n * useLayoutEffect( () => {\n * \tsetElement( document.querySelector( `data-element-id=\"${ elementId }\"` ) );\n * }, [ elementId ] );\n * ```\n *\n * @param callback The `ResizeObserver` callback - [MDN docs](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver/ResizeObserver#callback).\n * @param options  Options passed to `ResizeObserver.observe` when called - [MDN docs](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver/observe#options). Changes will be ignored.\n */\nexport default function useResizeObserver< T extends Element >(\n\t/**\n\t * The `ResizeObserver` callback - [MDN docs](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver/ResizeObserver#callback).\n\t */\n\tcallback: ResizeObserverCallback,\n\t/**\n\t * Options passed to `ResizeObserver.observe` when called - [MDN docs](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver/observe#options). Changes will be ignored.\n\t */\n\toptions?: ResizeObserverOptions\n): ( element?: T | null ) => void;\n\n/**\n * **This is a legacy API and should not be used.**\n *\n * @param      callback\n * @param      options\n * @deprecated Use the other `useResizeObserver` API instead: `const ref = useResizeObserver( ( entries ) => { ... } )`.\n *\n * Hook which allows to listen to the resize event of any target element when it changes size.\n * _Note: `useResizeObserver` will report `null` sizes until after first render.\n *\n * @example\n *\n * ```js\n * const App = () => {\n * \tconst [ resizeListener, sizes ] = useResizeObserver();\n *\n * \treturn (\n * \t\t<div>\n * \t\t\t{ resizeListener }\n * \t\t\tYour content here\n * \t\t</div>\n * \t);\n * };\n * ```\n */\nexport default function useResizeObserver< T extends HTMLElement >(\n\tcallback: ResizeObserverCallback,\n\toptions: ResizeObserverOptions = {}\n): ( element?: T | null ) => void {\n\treturn _useResizeObserver( callback, options );\n}\n","/**\n * WordPress dependencies\n */\nimport { useRef } from '@wordpress/element';\n/**\n * Internal dependencies\n */\nimport useEvent from '../use-event';\n\n// This is the current implementation of `useResizeObserver`.\n//\n// The legacy implementation is still supported for backwards compatibility.\n// This is achieved by overloading the exported function with both signatures,\n// and detecting which API is being used at runtime.\nexport function useResizeObserver< T extends HTMLElement >(\n\tcallback: ResizeObserverCallback,\n\tresizeObserverOptions: ResizeObserverOptions = {}\n): ( element?: T | null ) => void {\n\tconst callbackEvent = useEvent( callback );\n\n\tconst observedElementRef = useRef< T | null >();\n\tconst resizeObserverRef = useRef< ResizeObserver >();\n\treturn useEvent( ( element?: T | null ) => {\n\t\tif ( element === observedElementRef.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Set up `ResizeObserver`.\n\t\tresizeObserverRef.current ??= new ResizeObserver( callbackEvent );\n\t\tconst { current: resizeObserver } = resizeObserverRef;\n\n\t\t// Unobserve previous element.\n\t\tif ( observedElementRef.current ) {\n\t\t\tresizeObserver.unobserve( observedElementRef.current );\n\t\t}\n\n\t\t// Observe new element.\n\t\tobservedElementRef.current = element;\n\t\tif ( element ) {\n\t\t\tresizeObserver.observe( element, resizeObserverOptions );\n\t\t}\n\t} );\n}\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/compose';\n\nexport { default as useEvent } from './hooks/use-event';\nexport { default as useResizeObserver } from './hooks/use-resize-observer';\nexport { __experimentalUseDragging as useDragging } from '@wordpress/compose';\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/**\n * WordPress dependencies\n */\nexport * from '@wordpress/data';\nimport {\n\tregister as doRegister,\n\tresolveSelect as doResolveSelect,\n\tsubscribe as doSubscribe,\n\tuseSelect as doUseSelect,\n} from '@wordpress/data';\nimport type {\n\tMapSelect,\n\tReduxStoreConfig,\n\tStoreDescriptor,\n\tUseSelectReturn,\n} from '@wordpress/data/build-types/types';\n\n// ==========\n// TYPESCRIPT\n// ==========\n\n// register should exist.\nexport function register(\n\tstore: StoreDescriptor< ReduxStoreConfig< any, any, any > >\n): void {\n\t// eslint-disable-next-line @typescript-eslint/no-unsafe-call\n\tdoRegister( store );\n}\n\n// subscribe should exist.\nexport function subscribe(\n\tlistener: () => void,\n\tstore?: StoreDescriptor< any > | string\n): () => void {\n\t// eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-return\n\treturn doSubscribe( listener, store );\n}\n\n// useSelect should properly infer types, but it doesnt, so we manually fix it.\nexport function useSelect< T extends MapSelect | StoreDescriptor< any > >(\n\tmapSelect: T,\n\tdependencies?: unknown[]\n): UseSelectReturn< T > {\n\t// eslint-disable-next-line @typescript-eslint/no-unsafe-return\n\treturn doUseSelect< T >( mapSelect, dependencies );\n}\n\n// resolveSelect should properly infer types, but it doesnt, so we manually fix it.\nexport function resolveSelect< T extends StoreDescriptor< any > >(\n\tkey: T\n): ResolvableSelectors< UseSelectReturn< T > > {\n\t// eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-return\n\treturn doResolveSelect( key );\n}\n\ntype ResolvableSelectors<\n\tS extends Record< string, ( ...args: any[] ) => any >,\n> = {\n\treadonly [ K in keyof S ]: S[ K ] extends {\n\t\tPromisedSignature: ( ...args: any[] ) => any;\n\t}\n\t\t? S[ K ][ 'PromisedSignature' ]\n\t\t: S[ K ] extends ( ...args: infer A ) => infer R\n\t\t? ( ...args: A ) => Promise< R >\n\t\t: never;\n};\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/dom-ready';\nimport domReady from '@wordpress/dom-ready';\nexport default domReady;\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/element';\nimport { createRoot, render as legacyRender } from '@wordpress/element';\n\nexport function render(\n\telement: JSX.Element,\n\tcontainer: Element | null\n): void {\n\tif ( ! container ) {\n\t\treturn;\n\t}\n\n\tif ( createRoot ) {\n\t\tconst root = createRoot( container );\n\t\troot.render( element );\n\t} else {\n\t\tlegacyRender( element, container );\n\t}\n}\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/i18n';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/url';\n","module.exports = window[\"nab\"][\"commands\"];","module.exports = window[\"nab\"][\"components\"];","module.exports = window[\"nab\"][\"data\"];","module.exports = window[\"nab\"][\"date\"];","module.exports = window[\"nab\"][\"experimentLibrary\"];","module.exports = window[\"nab\"][\"i18n\"];","module.exports = window[\"nab\"][\"segmentationRuleLibrary\"];","module.exports = window[\"nab\"][\"utils\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"date\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"url\"];","module.exports = window[\"lodash\"];","module.exports = window[\"React\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-heatmap-results-page\"], () => (__webpack_require__(\"./assets/src/admin/pages/heatmap-results/index.tsx\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["useInstanceId","BaseControl","Dashicon","FilterToggle","label","className","heading","checked","onChange","color","disabled","instanceId","id","style","borderColor","backgroundColor","opacity","_jsxs","children","_jsx","type","value","ev","target","icon","role","htmlFor","CheckboxControl","useSelect","useDispatch","_x","clsx","map","noop","sortBy","sum","uniq","values","without","compactInteger","getCountryName","useIsLocked","store","NAB_HEATMAP","FilterOptionsList","isLocked","filterOptions","useFilterOptions","disabledFilterOptions","useDisabledFilterOptions","toggleDisabledFilterOption","useFilterOptionToggler","totalClicks","_Fragment","length","isChecked","key","includes","title","width","toFixed","activeFilter","firstDayOfWeek","select","getActiveFilter","getConfettiFilterOptions","getActiveAlternative","getActiveResolution","getFirstDayOfWeek","options","splice","option","Object","assign","sortAlphabetically","getDisabledFilterOptions","setDisabledFilterOptions","active","SelectControl","useActiveFilter","FilterSection","kind","ConfettiFilterSection","setActiveFilter","useConfettiOptions","CONFETTI_OPTIONS","RangeControl","useHeatmapIntensity","HeatmapIntensity","heatmapIntensity","setHeatmapIntensity","min","max","NAB_DATA","usePageAttribute","useActiveExperiment","getPageAttribute","getExperiment","activeExperiment","useActiveAlternative","setActiveAlternative","useProgress","alt","setRawResultProgress","getRawResultProgress","progress","useResultsStopper","status","useRawResultsStatus","setRawResultStatus","doSetRawResultStatus","setResultStatus","mode","undefined","getRawResultStatus","useIsLoadingRawResults","useRawClicks","getRawClicks","useProcessedResultsStatus","res","useActiveResolution","getProcessedResultStatus","useHasProcessedResults","hasProcessedResults","useIsProcessingResults","useIsHeatmap","_a","_","setDisFilterOpts","doSetActiveFilter","filter","useActiveMode","getActiveMode","setActiveMode","useSidebarVisibility","isSidebarVisible","makeSidebarVisible","setActiveResolution","getIntensity","setIntensity","useInteractivity","isInteractive","setInteractive","useHeatmapOpacity","getOpacity","setOpacity","isStopping","rawStatus","processedStatus","PanelBody","PanelRow","ToggleControl","addQueryArgs","Opacity","ScrollmapLegend","ClipboardButton","KindSelector","activeMode","homeUrl","useHomeUrl","isPublicView","isReadOnlyActive","setReadOnly","experimentId","experimentType","setPublicResultStatus","publicResultUrl","experiment","preview","TabPanel","activeClass","orientation","tabs","TABS","activeTab","onSelect","tab","name","readOnly","text","tabIndex","onClick","find","t","getPluginSetting","Sidebar","View","Layout","isVisible","contentUrls","useContentUrls","alternative","url","contentUrl","iframes","getIFrames","isHeatmap","links","heatmap","alternatives","index","i","e","useEffect","StatusManager","ResultsProvider","props","useInitEffect","useResultLoader","useResultProcessor","setPageAttribute","setFirstDayOfWeek","getExperimentResults","alternativeIndex","isExperimentLoading","hasFinishedResolution","hasResolutionFailed","loadResults","rationale","requestResultProcessing","resolution","clicks","scrolls","getRawScrolls","Logo","ResultsNotAvailable","Button","Advanced","useIsVisible","repositionData","useRepositionData","isProcessing","initialOpen","isBusy","variant","ErrorMessage","setStatus","errorMessage","getErrorMessage","dismiss","partialError","sprintf","downloadAsCsv","Export","expId","useActiveExperimentId","altId","useActiveAlternativeId","cliks","handleDownload","useDownloadHandle","columns","accessor","item","xpath","cssPath","x","y","browser","country","os","device","windowWidthInPx","dayOfWeek","hourOfDay","timeToClick","timestamp","col","click","FooterActions","setVisibility","setResolution","Spinner","useAdminUrl","VariantSwitcher","Header","isHeatmapExperiment","useIsHeatmapExperiment","isRunning","useIsRunning","dataStatus","stopResultLoading","stopExperiment","BackButton","Math","backUrl","useBackUrl","href","experimentsUrl","post_type","edit","Summary","Description","ParticipationConditions","NoQuotaWarning","quota","getQuota","availableQuota","SegmentationRule","Condition","exp","conditions","hasConditions","participationConditions","condition","rule","useExperimentAttribute","Stats","Status","DateInfo","views","useAlternativeViews","useClickCount","dates","start","end","endMode","endValue","getClicksInResolution","altIdx","getAlternativePageViews","indexOf","getLetter","setAlternative","useAlternative","useAlternatives","useIsDisabled","altIndex","document","location","window","history","replaceState","doSelect","useCallback","BigMessage","LoadingAnimation","activeAlternative","useProcessResultsEffect","useRenderResultsEffect","useOpacityChangeEffect","useIntensityChangeEffect","useInteractivityChangeEffect","awaitRendererScript","useRendererScriptWaiter","isHidden","FeedbackMessage","src","onLoad","isProcessingData","getErrorIcon","setIFrameStatus","setTimeout","getIFrameStatus","isWaitingScript","postMessage","usePostMessage","plugin","intensity","action","iframe","getElementById","contentWindow","domReady","StrictMode","render","registerCommands","registerCoreExperiments","registerCoreSegmentationRules","isExperimentTooOldToHaveHeatmaps","createStagingNotice","initPage","settings","content","endDate","staging","receiveRawResults","data","updateLoadAttempts","setProcessedResults","results","setPageInfo","page","markResultsAsProcessing","INIT","confettiFilterOptions","byAlternative","isEqual","mapValues","reducer","state","actualReducer","DEFAULT_ALTERNATIVE","newAlternative","reduceAlternative","updateConfettiOptions","_b","raw","byResolution","r","loadAttempts","hasRawData","prevResults","canProcessResults","prevStatus","NO_PROCESSED_RESULTS","clickVisibilityProps","dimensions","bodyHeight","iframeHeight","desktop","smartphone","tablet","count","allClicks","flatMap","mergeConfettiFilterOptions","defaults","current","_c","attempts","more","EMPTY_ARRAY","NO_STATUS","DEFAULT_ATTEMPTS","getLoadAttempts","canRawDataBeProcessed","DEFAULT_CLICKS_PER_SQUARE","rows","getClicksPerSquare","clicksPerSquare","getScrollsInResolution","NO_SCROLL_SUMMARY","maxHits","averageFold","getScrollSummary","scrollSummary","getClickVisibilityProps","getPageDimensions","apiFetch","dispatch","first","last","isDefined","HEATMAP_POINT_SIZE","SCROLLMAP_ROW_HEIGHT","MIN_HOURS_TO_ESTIMATE_PROGRESS","STUCK_ATTEMPT_COUNT","DELAY_IN_MS_BETWEEN_CONSECUTIVE_PULLS","HOUR_IN_MILLIS","RESOLUTIONS","height","loadResultsInBackground","errorCode","getErrorCode","processResults","isAlreadyProcessing","Date","getTime","isInitializing","isClickInResolution","addVisibilityProperties","isScrollInResolution","computeClicksPerSquare","computeScrollSummary","ellapsedTime","atLeastOneSecond","Promise","getMinMaxWidthInResolution","w","windowWidth","realCoordinates","coords","visibility","loadClicks","loadScrolls","newClicks","newScrolls","all","doLoadResults","prevClicks","prevScrolls","beautifyClicks","Error","areThereAnyClicks","areClicksReady","areScrollsReady","isAllDataReady","getStatusMode","newStatusMode","getProgressEstimate","resolve","reject","next","then","catch","path","info","response","fetch","jsonl","lines","replaceAll","split","items","Array","from","Set","toJSON","UNKNOWN","getDayOfWeekCategory","getHourOfDayCategory","getTimeToClickCategory","getWindowWidthCategory","Number","parseInt","startDate","now","toISOString","totalHoursRunning","getHours","firstClick","lastClick","clickHours","actualProgress","floor","prevProgress","isNaN","cuts","cut","JSON","parse","code","message","d1","d2","ceil","abs","expectedWidth","minWidth","reduce","memo","maxWidth","POSITIVE_INFINITY","NUM_OF_COLS","NUM_OF_ROWS","fill","forEach","row","numOfRows","heightFromTop","firstFold","maxScroll","sweetSpot","documentHeight","round","maxScrollRow","lastScrollRow","sweetSpotMinRow","sweetSpotMaxRow","lastSweetSpotRow","m","controls","createReduxStore","register","selectors","realActions","sideEffects","actions","day","iframeStatus","misc","IFRAME_LABELS","clicksAbove","popularity","unknown","getIFrameLabels","combineReducers","ui","activeResolution","newIframes","keyBy","orderBy","getConfettiColor","getDefaultColor","resultsSummary","keys","processFilter","getFilterOptionsForDiscreteFilter","sortOsOptions","sortBrowserOptions","getFilterOptionsForContinuousFilter","orderedOptions","relevantOptions","push","total","defaultColor","getLabelOfDiscreteFilterOption","filterOptionKey","toUpperCase","slice","filterCategories","categoriesOfFilter","category","windows","Windows","aux","__rest","sorting","sortedOptions","opt","DEFAULT_PALETTE","num","getCountryColor","getDeviceColor","getOsColor","getBrowserColor","getDayOfWeekColor","getHourOfDayColor","getGenericColor","palette","AR","AU","BR","CA","CN","FI","FR","DE","GR","IS","IN","IT","JP","NL","NZ","NO","PT","RU","ES","GB","US","console","mobile","smarttv","wearable","embedded","others","Android","Debian","Fuchsia","Linux","Mint","SUSE","Ubuntu","iOS","colors","Chrome","Chromium","Edge","Firefox","Mozilla","Opera","Safari","Vivaldi","attr","getExperimentAttribute","useAreUniqueResultsVisible","areUniqueResultsVisible","setValue","visible","useHasUniqueResults","areUniqueResultsAvailable","useMayHaveUniqueResults","description","_n","formatI18nDate","numberFormat","computeDuration","formatDateDifference","getLabel","duration","snippets","years","months","days","hours","minutes","stringifiedSnippets","joinTimes","a","b","and","getStatusLabel","STATS_REFRESH_DELAY","HEATMAP_GL_CANVAS_SCALE","HEATMAP_MAX_SIZE_MULTIPLIER","HEATMAP_MIN_INTENSITY","HEATMAP_MAX_INTENSITY","HEATMAP_INTENSITY_RANGE","SCROLLMAP_COLORS","baseApiFetch","format","nabts","substring","isRestApiRequest","__experimentalGrid","Grid","__experimentalHeading","Heading","__experimentalItemGroup","ItemGroup","__experimentalInputControl","InputControl","__experimentalInputControlPrefixWrapper","InputControlPrefixWrapper","__experimentalToggleGroupControlOption","ToggleGroupControlOption","__experimentalToggleGroupControlOptionIcon","ToggleGroupControlOptionIcon","__experimentalUnitControl","UnitControl","__experimentalNumberControl","NumberControl","__experimentalToolsPanel","ToolsPanel","__experimentalToolsPanelItem","ToolsPanelItem","__experimentalHStack","HStack","__experimentalZStack","ZStack","__experimentalVStack","VStack","__experimentalDropdownContentWrapper","DropdownContentWrapper","__experimentalSpacer","Spacer","__experimentalTruncate","Truncate","__experimentalParseQuantityAndUnitFromRawValue","parseQuantityAndUnitFromRawValue","__experimentalUseCustomUnits","useCustomUnits","__experimentalHasSplitBorders","hasSplitBorders","__experimentalIsDefinedBorder","isDefinedBorder","__experimentalText","Text","__experimentalView","__experimentalToggleGroupControl","OriginalToggleGroupControl","OriginalBaseControl","OriginalCheckboxControl","FormTokenField","OriginalFormTokenField","OriginalRangeControl","OriginalSelectControl","TextControl","OriginalTextControl","TextareaControl","OriginalTextareaControl","OriginalToggleControl","WrappedBaseControl","__nextHasNoMarginBottom","WrappedCheckboxControl","WrappedFormTokenField","__next40pxDefaultSize","WrappedRangeControl","WrappedTextControl","WrappedTextareaControl","WrappedToggleControl","WrappedToggleGroupControl","ToggleGroupControl","useRef","useInsertionEffect","useEvent","callback","ref","args","call","useResizeObserver","_useResizeObserver","resizeObserverOptions","callbackEvent","observedElementRef","resizeObserverRef","element","ResizeObserver","resizeObserver","unobserve","observe","default","__experimentalUseDragging","useDragging","doRegister","resolveSelect","doResolveSelect","subscribe","doSubscribe","doUseSelect","listener","mapSelect","dependencies","createRoot","legacyRender","container","root"],"ignoreList":[],"sourceRoot":""}