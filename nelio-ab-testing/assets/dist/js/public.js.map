{"version":3,"file":"js/public.js","mappings":"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;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA,KAAK;;AAEL;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA,KAAK;;AAEL;AACA;AACA,yCAAyC,kBAAkB;AAC3D;AACA;AACA,KAAK;;AAEL;AACA;AACA,kCAAkC,uBAAuB;AACzD;AACA;AACA,KAAK;;AAEL;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,kCAAkC,gBAAgB;AAClD;AACA;AACA,KAAK;;AAEL;AACA;AACA,mCAAmC,kBAAkB;AACrD;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;AC/FY;;AAEb,sBAAsB,mBAAO,CAAC,sDAAe;AAC7C,sBAAsB,mBAAO,CAAC,wEAAwB;AACtD,sBAAsB,mBAAO,CAAC,4EAAuB;AACrD,sBAAsB,mBAAO,CAAC,4FAAkC;AAChE,sBAAsB,mBAAO,CAAC,0FAA2B;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,UAAU;AACV;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,UAAU;AACV;AACA;;;;;;;;;;;;AC7Da;;AAEb;AACA;;;;;;;;;;;;ACHa;;AAEb,iBAAiB,mBAAO,CAAC,gFAAkB,sBAAsB,mBAAO,CAAC,4DAAQ;;;;;;;;;;;;ACFpE;;AAEb;AACA;AACA;AACA,SAAS;AACT,eAAe,YAAY,IAAI,cAAc;AAC7C;AACA;;;;;;;;;;;;ACRa;;AAEb,YAAY,mBAAO,CAAC,4DAAS;AAC7B,YAAY,mBAAO,CAAC,oEAAgB;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBa;;AAEb,iBAAiB,mBAAO,CAAC,iEAAkB,KAAK;;AAEhD,kCAAkC;;;;;;;;;;;;ACJrB;;AAEb,iBAAiB,mBAAO,CAAC,8EAAkB,oBAAoB,mBAAO,CAAC,0DAAQ;;;;;;;;;;;;ACFlE;;AAEb;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;ACTa;;AAEb,cAAc,mBAAO,CAAC,8DAAa;;AAEnC;;AAEA,qCAAqC;;;;;;;;;;;;ACNxB;;AAEb,cAAc,mBAAO,CAAC,6DAAY;;AAElC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;;;;;;;;;;;ACnBa;;AAEb,cAAc,mBAAO,CAAC,6DAAY;;AAElC;AACA;AACA;AACA;;;;;;;;;;;;ACPa;;AAEb,iBAAiB,mBAAO,CAAC,0FAAkB,kCAAkC,mBAAO,CAAC,sEAAQ;;;;;;;;;;;;ACFhF;;AAEb;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;ACPa;;AAEb;;AAEA;AACA;AACA;;;;;;;;;;;;ACNa;;AAEb,iBAAiB,mBAAO,CAAC,qEAAkB;AAC3C,GAAG,8FAAiC;AACpC,GAAG,mBAAO,CAAC,yDAAY;;;;;;;;;;;;ACJV;;AAEb,iBAAiB,mBAAO,CAAC,gEAAiB;AAC1C,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACnBa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACRa;;AAEb,QAAQ,mBAAO,CAAC,oCAAG;;AAEnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;AC3Ba;;AAEb,mBAAmB,mBAAO,CAAC,oCAAG;AAC9B,mBAAmB,8FAAiC;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;;;;;;ACjCa;;AAEb,qBAAqB,mBAAO,CAAC,oCAAG;AAChC,qBAAqB,mBAAO,CAAC,8EAA0B;;AAEvD;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;;;;;;;;;;;;ACtBA;;AAEa;;AAEb,2BAA2B,mBAAO,CAAC,oCAAG;AACtC,2BAA2B,mBAAO,CAAC,uEAAmB;AACtD,2BAA2B,8FAAiC;AAC5D,2BAA2B,mBAAO,CAAC,2FAA6B;AAChE,2BAA2B,mBAAO,CAAC,6GAAsC;AACzE,2BAA2B,mBAAO,CAAC,2GAAqC;;AAExE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B,uBAAuB;AACtD,CAAC;;AAED;AACA;AACA;AACA,2BAA2B,iEAAiE;AAC5F,0BAA0B,8BAA8B;AACxD,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrFa;;AAEb,eAAe,mBAAO,CAAC,2DAAa;;AAEpC;AACA;AACA;AACA;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;;AAEA;AA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;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACxBA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,kBAAkB,mBAAO,CAAC,2DAAe;AACzC,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;AACnC,cAAc,mBAAO,CAAC,qDAAY;AAClC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,SAAS,mBAAO,CAAC,yCAAM;;AAEvB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC3BA,SAAS,mBAAO,CAAC,yCAAM;;AAEvB;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,WAAW,mBAAO,CAAC,6CAAQ;;AAE3B;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChBA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,aAAa,mBAAO,CAAC,iDAAU;;AAE/B;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChBA,qBAAqB,mBAAO,CAAC,mEAAmB;;AAEhD;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;;AAEA;;;;;;;;;;;ACxBA,YAAY,mBAAO,CAAC,iDAAU;AAC9B,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,aAAa,mBAAO,CAAC,mDAAW;AAChC,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;AACnC,YAAY,mBAAO,CAAC,+CAAS;AAC7B,eAAe,mBAAO,CAAC,qDAAY;AACnC,YAAY,mBAAO,CAAC,+CAAS;AAC7B,WAAW,mBAAO,CAAC,6CAAQ;AAC3B,aAAa,mBAAO,CAAC,iDAAU;;AAE/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,SAAS;AACpB;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;;;;ACrKA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;AC7BA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,oBAAoB,mBAAO,CAAC,iEAAkB;;AAE9C;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrCA,eAAe,mBAAO,CAAC,uDAAa;AACpC,YAAY,mBAAO,CAAC,iDAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,aAAa,GAAG;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACvBA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA,aAAa,mBAAO,CAAC,mDAAW;AAChC,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,qBAAqB,mBAAO,CAAC,mEAAmB;;AAEhD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACZA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA,aAAa,mBAAO,CAAC,mDAAW;AAChC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA,iBAAiB,mBAAO,CAAC,yDAAc;AACvC,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,qDAAY;AACnC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9CA,aAAa,mBAAO,CAAC,mDAAW;AAChC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;AACnC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC3DA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC7BA,eAAe,mBAAO,CAAC,qDAAY;AACnC,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,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;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC7BA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA,uBAAuB,mBAAO,CAAC,uEAAqB;AACpD,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,sBAAsB,mBAAO,CAAC,qEAAoB;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;A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AAEA;;;;;;;;;;;ACdA,YAAY,mBAAO,CAAC,iDAAU;;AAE9B;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACnCA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;;;;ACjBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;;AAEA;;;;;;;;;;;ACbA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACbA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,UAAU,mBAAO,CAAC,6CAAQ;AAC1B,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjCA,oBAAoB,mBAAO,CAAC,iEAAkB;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;;;;;AC1BA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;AClBA,gBAAgB,mBAAO,CAAC,uDAAa;;AAErC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACvCA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,GAAG;AAChB;AACA;AACA;AACA,oBAAoB,QAAQ,IAAI,QAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,UAAU;AACvB;AACA;AACA,yCAAyC,QAAQ;AACjD;AACA;AACA,YAAY,QAAQ,IAAI,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA,eAAe,mBAAO,CAAC,qDAAY;AACnC,UAAU,mBAAO,CAAC,2CAAO;AACzB,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ,WAAW;AAC9B,WAAW,SAAS;AACpB;AACA,WAAW,QAAQ;AACnB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,+CAA+C,iBAAiB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrBA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;AACA;AACA,2BAA2B,gBAAgB,QAAQ,GAAG;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,GAAG;AAChB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA,+CAA+C,mBAAmB;AAClE;AACA;AACA;;AAEA;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA,iBAAiB,mBAAO,CAAC,yDAAc;AACvC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCA,WAAW,mBAAO,CAAC,+CAAS;AAC5B,gBAAgB,mBAAO,CAAC,uDAAa;;AAErC;AACA,kBAAkB,KAA0B;;AAE5C;AACA,gCAAgC,QAAa;;AAE7C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrCA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClCA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC1BA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA,uBAAuB,mBAAO,CAAC,uEAAqB;AACpD,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC1BA,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,eAAe,mBAAO,CAAC,uDAAa;AACpC,kBAAkB,mBAAO,CAAC,2DAAe;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,kBAAkB,mBAAO,CAAC,2DAAe;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC/BA,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;ACxEA,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA,aAAa,mBAAO,CAAC,iDAAU;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACxBA,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,sBAAsB;AACjC,aAAa,QAAQ;AACrB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,WAAW;AACX;AACA;AACA,6BAA6B;AAC7B,CAAC;;AAED;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA,eAAe,mBAAO,CAAC,qDAAY;AACnC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ,WAAW;AAC9B,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,mBAAmB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;ACpEA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzCA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;ACnCA,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,qDAAY;AACnC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC/DA,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,WAAW,mBAAO,CAAC,6CAAQ;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC7BA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC3BA;AACA,cAAc,mBAAO,CAAC,4CAAO;AAC7B,aAAa,8EAAuB;AACpC,iBAAiB,mBAAO,CAAC,oDAAW;AACpC,YAAY,6EAAsB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AC/JY;;AAEb,kBAAkB,mBAAO,CAAC,4DAAiB;;AAE3C;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;;;;;;;;;;;AClBa;;AAEb,cAAc,mBAAO,CAAC,oDAAa;;AAEnC;AACA,sBAAsB;;AAEtB;AACA;AACA;AACA;;;;;;;;;;;;ACVa;;AAEb,iBAAiB,mBAAO,CAAC,0DAAgB;;AAEzC,4BAA4B,EAAE;;AAE9B;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACVa;;AAEb,eAAe,mBAAO,CAAC,sDAAc;;AAErC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;ACZa;;AAEb;AACA;;AAEA,oCAAoC;;;;;;;;;;;;;;;;ACLpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0BAA0B,cAAc;AACxC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C,wCAAwC;AACxC,wDAAwD;AACxD,+BAA+B;AAC/B,kBAAkB;AAClB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,6CAA6C;AAC7C;;AAEA;AACA;;AAEA,qCAAqC;AACrC;;AAEA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,0CAA0C;AAC1C;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,IAAI;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C,IAAI;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sDAAsD,gBAAgB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,8CAA8C,GAAG;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,sBAAsB;AACtB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,4BAA4B,IAAI;AAChC;;AAEA,sBAAsB;AACtB;AACA;AACA,8BAA8B,uCAAuC;AACrE,wCAAwC;AACxC,+BAA+B,IAAI;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAkD,IAAI,WAAW,IAAI;AACrE;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAkD;AAClD;AACA;AACA,6BAA6B;AAC7B;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;;AAEA;AACA,qGAAqG;AACrG;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA,oCAAoC;AACpC,4BAA4B,IAAI;AAChC;;AAEA;AACA,wBAAwB,SAAS,EAAE,cAAc,EAAE;AACnD;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA,wBAAwB,iDAAiD,IAAI,wBAAwB,EAAE,2CAA2C;AAClJ;AACA,uEAAuE,IAAI;AAC3E;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA,eAAe;AACf,0BAA0B,EAAE;AAC5B;AACA,wBAAwB,EAAE;AAC1B,6CAA6C,oEAAoE;;AAEjH;AACA;AACA;;AAEA;AACA,eAAe;AACf,wBAAwB,EAAE,iBAAiB;AAC3C;;AAEA;AACA,2BAA2B,EAAE,UAAU;AACvC;;AAEA;AACA,8FAA8F,IAAI,8CAA8C;AAChJ,iEAAiE,IAAI,QAAQ;AAC7E;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA8C,IAAI;AAClD;AACA,gCAAgC,IAAI;AACpC;;AAEA;AACA,gCAAgC,EAAE,gBAAgB,EAAE,GAAG,aAAa,IAAI;AACxE;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA,sBAAsB,WAAW,EAAE,WAAW,EAAE,qDAAqD,IAAI;AACzG;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,EAAE;AACxB;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA,kCAAkC;AAClC;;AAEA;AACA,0CAA0C,MAAM;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,IAAI,IAAI;;AAE7B;AACA;AACA,wDAAwD;AACxD;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA,4BAA4B;AAC5B;;AAEA;AACA;AACA,+DAA+D,iDAAiD;;AAEhH;AACA,sBAAsB;AACtB;;AAEA;AACA,sBAAsB;AACtB,yBAAyB,GAAG;AAC5B;AACA;AACA;AACA,eAAe,0BAA0B,IAAI;AAC7C;;AAEA;AACA,eAAe;AACf,eAAe;AACf;;AAEA;AACA,eAAe,UAAU;AACzB,eAAe;AACf;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA,eAAe,aAAa,IAAI;AAChC;;AAEA;AACA,eAAe;AACf;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,uEAAuE;AACtF;AACA,0BAA0B;AAC1B;AACA;AACA,qBAAqB,IAAI,yBAAyB,IAAI;AACtD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,+CAA+C,WAAW,IAAI,IAAI;AAClE,wDAAwD,WAAW;;AAEnE;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,WAAW;AAC7C;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,sCAAsC,gEAAgE;;AAEtG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC,IAAI;AACvC;AACA;AACA;AACA,sBAAsB,EAAE;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,QAAQ,IAAI;AAClC;;AAEA;AACA;AACA;;AAEA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB;AACtB;AACA,oDAAoD;AACpD;AACA,wBAAwB,IAAI,cAAc,iBAAiB;AAC3D,2CAA2C,gDAAgD;AAC3F,8BAA8B;AAC9B;AACA,+BAA+B;AAC/B;AACA,wBAAwB;AACxB;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB,IAAI;AAC7B;AACA;;AAEA;;AAEA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD,6BAA6B;AAC7B;AACA;;AAEA;AACA,yBAAyB,IAAI,6BAA6B;AAC1D,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iIAAiI;AACjI;AACA,sBAAsB;AACtB;AACA,0CAA0C;AAC1C;AACA,4DAA4D,SAAS;AACrE;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,sCAAsC,2GAA2G;AACjJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uBAAuB;AACvB;AACA;;AAEA;AACA;AACA,qBAAqB,YAAY;AACjC;;AAEA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA,uBAAuB,UAAU,IAAI;AACrC;AACA;AACA,+BAA+B,IAAI,mCAAmC,IAAI;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B,SAAS,eAAe,kBAAkB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,wDAAwD;AACxD;AACA,wDAAwD;AACxD,cAAc;AACd,wDAAwD;AACxD;AACA;AACA;AACA,UAAU;AACV,wDAAwD;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA,kDAAkD,kCAAkC;AACpF;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,I;;;;;;;;;;;;;;;AC78CA;AACA,iEAAe,EAAE,YAAY,EAAC;;;;;;;;;;;;;;;;ACD9B,iEAAe,cAAc,EAAE,UAAU,EAAE,eAAe,EAAE,gBAAgB,EAAE,UAAU,GAAG,8EAA8E,EAAC;;;;;;;;;;;;;;;;ACA1K;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACVqC;AACrC;AACA,gBAAgB,SAAS;AACzB;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,wDAAQ;AACjB;AACA;AACA;AACA;AACA,iEAAe,SAAS,EAAC;;;;;;;;;;;;;;;;;;;AClCQ;AACN;AACsB;AACjD;AACA,QAAQ,kDAAM;AACd,eAAe,kDAAM;AACrB;AACA;AACA,sDAAsD,mDAAG;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,GAAG,aAAa;AAC3E;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,WAAW,8DAAe;AAC1B;AACA,iEAAe,EAAE,EAAC;;;;;;;;;;;;;;;;;AC1Ba;AAC/B;AACA,uCAAuC,iDAAK;AAC5C;AACA,iEAAe,QAAQ,EAAC;;;;;;;UCJxB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WC/BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;WCNA;WACA;WACA;WACA;WACA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;;;AAGoB;AAEpB;;;AAG6E;AAKzD;AACyC;AAE7D,KAAO;;IACNwgB,8DAAc,EAAE;IAEhBlY,4DAAiB,CAAE,kBAAkB,CAAE;IACvC,MAAMrN,OAAO,GAAG,MAAMylB,0DAAU,EAAE;IAElC,IAAK,CAAEzlB,OAAO,EAAG;MAChBqN,4DAAiB,CAAE,iBAAiB,CAAE;MACtC,MAAMnN,yEAAmB,EAAE;MAC3BqN,6DAAkB,CAAExf,SAAS,EAAE,KAAK,CAAE;MACtC;IACD;IAEAsf,4DAAiB,CAAE,kBAAkB,CAAE;IACvC,MAAMG,MAAM,GAAG,MAAMzN,qEAAe,CAAEC,OAAO,CAAE;IAC/C8N,6DAAkB,CAAE9N,OAAO,EAAEwN,MAAM,CAAE;IACrCD,6DAAkB,CAAEvN,OAAO,EAAEwN,MAAM,CAAE;EACtC,CAAC;CAAA,CAAE,CAAE,C","sources":["webpack://nab/./assets/src/admin/scripts/css-selector-finder/css-path.ts","webpack://nab/./assets/src/public/alternative-loading/apply-auto-inline-experiments.ts","webpack://nab/./assets/src/public/alternative-loading/index.ts","webpack://nab/./assets/src/public/tracking/conversions.ts","webpack://nab/./assets/src/public/tracking/ga4.ts","webpack://nab/./assets/src/public/tracking/heatmaps.ts","webpack://nab/./assets/src/public/tracking/index.ts","webpack://nab/./assets/src/public/tracking/listeners/click.ts","webpack://nab/./assets/src/public/tracking/listeners/element-view.ts","webpack://nab/./assets/src/public/tracking/listeners/form-submission.ts","webpack://nab/./assets/src/public/tracking/listeners/index.ts","webpack://nab/./assets/src/public/tracking/listeners/scroll.ts","webpack://nab/./assets/src/public/tracking/listeners/time-on-page.ts","webpack://nab/./assets/src/public/tracking/listeners/video-playback.ts","webpack://nab/./assets/src/public/tracking/listeners/wc-add-to-cart.ts","webpack://nab/./assets/src/public/tracking/listeners/woocommerce/events.ts","webpack://nab/./assets/src/public/tracking/listeners/woocommerce/index.ts","webpack://nab/./assets/src/public/tracking/listeners/woocommerce/legacy.ts","webpack://nab/./assets/src/public/tracking/listeners/woocommerce/wc-blocks.ts","webpack://nab/./assets/src/public/tracking/sync.ts","webpack://nab/./assets/src/public/tracking/utils.ts","webpack://nab/./assets/src/public/tracking/xpath.ts","webpack://nab/./assets/src/public/utils/cookies.ts","webpack://nab/./assets/src/public/utils/helpers/append-style.ts","webpack://nab/./assets/src/public/utils/helpers/dom-ready.ts","webpack://nab/./assets/src/public/utils/helpers/element-ready.ts","webpack://nab/./assets/src/public/utils/helpers/flow.ts","webpack://nab/./assets/src/public/utils/helpers/get-active-experiments.ts","webpack://nab/./assets/src/public/utils/helpers/get-api-url.ts","webpack://nab/./assets/src/public/utils/helpers/get-closest.ts","webpack://nab/./assets/src/public/utils/helpers/get-document-height.ts","webpack://nab/./assets/src/public/utils/helpers/get-session.ts","webpack://nab/./assets/src/public/utils/helpers/head-ready.ts","webpack://nab/./assets/src/public/utils/helpers/index.ts","webpack://nab/./assets/src/public/utils/helpers/internal/can-visitor-participate.ts","webpack://nab/./assets/src/public/utils/helpers/internal/get-settings.ts","webpack://nab/./assets/src/public/utils/helpers/internal/parse-javascript.ts","webpack://nab/./assets/src/public/utils/helpers/log.ts","webpack://nab/./assets/src/public/utils/helpers/preload-query-args.ts","webpack://nab/./assets/src/public/utils/segmentation/index.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/browser.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/cookie.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/day-of-week.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/device-type.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/index.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/ip-address.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/language.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/location.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/operating-system.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/query-parameter.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/referring-url.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/time.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/user-login.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/visitor-type.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/window-width.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-settings.ts","webpack://nab/./assets/src/public/utils/tracking.ts","webpack://nab/./assets/src/public/utils/url.ts","webpack://nab/./node_modules/charenc/charenc.js","webpack://nab/./node_modules/crypt/crypt.js","webpack://nab/./node_modules/d/index.js","webpack://nab/./node_modules/es5-ext/function/noop.js","webpack://nab/./node_modules/es5-ext/object/assign/index.js","webpack://nab/./node_modules/es5-ext/object/assign/is-implemented.js","webpack://nab/./node_modules/es5-ext/object/assign/shim.js","webpack://nab/./node_modules/es5-ext/object/is-value.js","webpack://nab/./node_modules/es5-ext/object/keys/index.js","webpack://nab/./node_modules/es5-ext/object/keys/is-implemented.js","webpack://nab/./node_modules/es5-ext/object/keys/shim.js","webpack://nab/./node_modules/es5-ext/object/normalize-options.js","webpack://nab/./node_modules/es5-ext/object/valid-value.js","webpack://nab/./node_modules/es5-ext/string/\u0000#/contains/index.js","webpack://nab/./node_modules/es5-ext/string/\u0000#/contains/is-implemented.js","webpack://nab/./node_modules/es5-ext/string/\u0000#/contains/shim.js","webpack://nab/./node_modules/es6-symbol/index.js","webpack://nab/./node_modules/es6-symbol/is-implemented.js","webpack://nab/./node_modules/es6-symbol/is-symbol.js","webpack://nab/./node_modules/es6-symbol/lib/private/generate-name.js","webpack://nab/./node_modules/es6-symbol/lib/private/setup/standard-symbols.js","webpack://nab/./node_modules/es6-symbol/lib/private/setup/symbol-registry.js","webpack://nab/./node_modules/es6-symbol/polyfill.js","webpack://nab/./node_modules/es6-symbol/validate-symbol.js","webpack://nab/./node_modules/ext/global-this/implementation.js","webpack://nab/./node_modules/ext/global-this/index.js","webpack://nab/./node_modules/ext/global-this/is-implemented.js","webpack://nab/./node_modules/is-buffer/index.js","webpack://nab/./node_modules/lodash/_DataView.js","webpack://nab/./node_modules/lodash/_Hash.js","webpack://nab/./node_modules/lodash/_ListCache.js","webpack://nab/./node_modules/lodash/_Map.js","webpack://nab/./node_modules/lodash/_MapCache.js","webpack://nab/./node_modules/lodash/_Promise.js","webpack://nab/./node_modules/lodash/_Set.js","webpack://nab/./node_modules/lodash/_Stack.js","webpack://nab/./node_modules/lodash/_Symbol.js","webpack://nab/./node_modules/lodash/_Uint8Array.js","webpack://nab/./node_modules/lodash/_WeakMap.js","webpack://nab/./node_modules/lodash/_apply.js","webpack://nab/./node_modules/lodash/_arrayEach.js","webpack://nab/./node_modules/lodash/_arrayFilter.js","webpack://nab/./node_modules/lodash/_arrayLikeKeys.js","webpack://nab/./node_modules/lodash/_arrayMap.js","webpack://nab/./node_modules/lodash/_arrayPush.js","webpack://nab/./node_modules/lodash/_assignValue.js","webpack://nab/./node_modules/lodash/_assocIndexOf.js","webpack://nab/./node_modules/lodash/_baseAssign.js","webpack://nab/./node_modules/lodash/_baseAssignIn.js","webpack://nab/./node_modules/lodash/_baseAssignValue.js","webpack://nab/./node_modules/lodash/_baseClone.js","webpack://nab/./node_modules/lodash/_baseCreate.js","webpack://nab/./node_modules/lodash/_baseFlatten.js","webpack://nab/./node_modules/lodash/_baseGet.js","webpack://nab/./node_modules/lodash/_baseGetAllKeys.js","webpack://nab/./node_modules/lodash/_baseGetTag.js","webpack://nab/./node_modules/lodash/_baseHasIn.js","webpack://nab/./node_modules/lodash/_baseIsArguments.js","webpack://nab/./node_modules/lodash/_baseIsMap.js","webpack://nab/./node_modules/lodash/_baseIsNative.js","webpack://nab/./node_modules/lodash/_baseIsSet.js","webpack://nab/./node_modules/lodash/_baseIsTypedArray.js","webpack://nab/./node_modules/lodash/_baseKeys.js","webpack://nab/./node_modules/lodash/_baseKeysIn.js","webpack://nab/./node_modules/lodash/_basePick.js","webpack://nab/./node_modules/lodash/_basePickBy.js","webpack://nab/./node_modules/lodash/_baseSet.js","webpack://nab/./node_modules/lodash/_baseSetToString.js","webpack://nab/./node_modules/lodash/_baseTimes.js","webpack://nab/./node_modules/lodash/_baseToPairs.js","webpack://nab/./node_modules/lodash/_baseToString.js","webpack://nab/./node_modules/lodash/_baseTrim.js","webpack://nab/./node_modules/lodash/_baseUnary.js","webpack://nab/./node_modules/lodash/_castPath.js","webpack://nab/./node_modules/lodash/_cloneArrayBuffer.js","webpack://nab/./node_modules/lodash/_cloneBuffer.js","webpack://nab/./node_modules/lodash/_cloneDataView.js","webpack://nab/./node_modules/lodash/_cloneRegExp.js","webpack://nab/./node_modules/lodash/_cloneSymbol.js","webpack://nab/./node_modules/lodash/_cloneTypedArray.js","webpack://nab/./node_modules/lodash/_copyArray.js","webpack://nab/./node_modules/lodash/_copyObject.js","webpack://nab/./node_modules/lodash/_copySymbols.js","webpack://nab/./node_modules/lodash/_copySymbolsIn.js","webpack://nab/./node_modules/lodash/_coreJsData.js","webpack://nab/./node_modules/lodash/_createToPairs.js","webpack://nab/./node_modules/lodash/_defineProperty.js","webpack://nab/./node_modules/lodash/_flatRest.js","webpack://nab/./node_modules/lodash/_freeGlobal.js","webpack://nab/./node_modules/lodash/_getAllKeys.js","webpack://nab/./node_modules/lodash/_getAllKeysIn.js","webpack://nab/./node_modules/lodash/_getMapData.js","webpack://nab/./node_modules/lodash/_getNative.js","webpack://nab/./node_modules/lodash/_getPrototype.js","webpack://nab/./node_modules/lodash/_getRawTag.js","webpack://nab/./node_modules/lodash/_getSymbols.js","webpack://nab/./node_modules/lodash/_getSymbolsIn.js","webpack://nab/./node_modules/lodash/_getTag.js","webpack://nab/./node_modules/lodash/_getValue.js","webpack://nab/./node_modules/lodash/_hasPath.js","webpack://nab/./node_modules/lodash/_hashClear.js","webpack://nab/./node_modules/lodash/_hashDelete.js","webpack://nab/./node_modules/lodash/_hashGet.js","webpack://nab/./node_modules/lodash/_hashHas.js","webpack://nab/./node_modules/lodash/_hashSet.js","webpack://nab/./node_modules/lodash/_initCloneArray.js","webpack://nab/./node_modules/lodash/_initCloneByTag.js","webpack://nab/./node_modules/lodash/_initCloneObject.js","webpack://nab/./node_modules/lodash/_isFlattenable.js","webpack://nab/./node_modules/lodash/_isIndex.js","webpack://nab/./node_modules/lodash/_isKey.js","webpack://nab/./node_modules/lodash/_isKeyable.js","webpack://nab/./node_modules/lodash/_isMasked.js","webpack://nab/./node_modules/lodash/_isPrototype.js","webpack://nab/./node_modules/lodash/_listCacheClear.js","webpack://nab/./node_modules/lodash/_listCacheDelete.js","webpack://nab/./node_modules/lodash/_listCacheGet.js","webpack://nab/./node_modules/lodash/_listCacheHas.js","webpack://nab/./node_modules/lodash/_listCacheSet.js","webpack://nab/./node_modules/lodash/_mapCacheClear.js","webpack://nab/./node_modules/lodash/_mapCacheDelete.js","webpack://nab/./node_modules/lodash/_mapCacheGet.js","webpack://nab/./node_modules/lodash/_mapCacheHas.js","webpack://nab/./node_modules/lodash/_mapCacheSet.js","webpack://nab/./node_modules/lodash/_mapToArray.js","webpack://nab/./node_modules/lodash/_memoizeCapped.js","webpack://nab/./node_modules/lodash/_nativeCreate.js","webpack://nab/./node_modules/lodash/_nativeKeys.js","webpack://nab/./node_modules/lodash/_nativeKeysIn.js","webpack://nab/./node_modules/lodash/_nodeUtil.js","webpack://nab/./node_modules/lodash/_objectToString.js","webpack://nab/./node_modules/lodash/_overArg.js","webpack://nab/./node_modules/lodash/_overRest.js","webpack://nab/./node_modules/lodash/_root.js","webpack://nab/./node_modules/lodash/_setToPairs.js","webpack://nab/./node_modules/lodash/_setToString.js","webpack://nab/./node_modules/lodash/_shortOut.js","webpack://nab/./node_modules/lodash/_stackClear.js","webpack://nab/./node_modules/lodash/_stackDelete.js","webpack://nab/./node_modules/lodash/_stackGet.js","webpack://nab/./node_modules/lodash/_stackHas.js","webpack://nab/./node_modules/lodash/_stackSet.js","webpack://nab/./node_modules/lodash/_stringToPath.js","webpack://nab/./node_modules/lodash/_toKey.js","webpack://nab/./node_modules/lodash/_toSource.js","webpack://nab/./node_modules/lodash/_trimmedEndIndex.js","webpack://nab/./node_modules/lodash/before.js","webpack://nab/./node_modules/lodash/cloneDeep.js","webpack://nab/./node_modules/lodash/constant.js","webpack://nab/./node_modules/lodash/debounce.js","webpack://nab/./node_modules/lodash/eq.js","webpack://nab/./node_modules/lodash/flatten.js","webpack://nab/./node_modules/lodash/hasIn.js","webpack://nab/./node_modules/lodash/identity.js","webpack://nab/./node_modules/lodash/isArguments.js","webpack://nab/./node_modules/lodash/isArray.js","webpack://nab/./node_modules/lodash/isArrayLike.js","webpack://nab/./node_modules/lodash/isBuffer.js","webpack://nab/./node_modules/lodash/isFunction.js","webpack://nab/./node_modules/lodash/isLength.js","webpack://nab/./node_modules/lodash/isMap.js","webpack://nab/./node_modules/lodash/isObject.js","webpack://nab/./node_modules/lodash/isObjectLike.js","webpack://nab/./node_modules/lodash/isSet.js","webpack://nab/./node_modules/lodash/isSymbol.js","webpack://nab/./node_modules/lodash/isTypedArray.js","webpack://nab/./node_modules/lodash/keys.js","webpack://nab/./node_modules/lodash/keysIn.js","webpack://nab/./node_modules/lodash/memoize.js","webpack://nab/./node_modules/lodash/now.js","webpack://nab/./node_modules/lodash/once.js","webpack://nab/./node_modules/lodash/pick.js","webpack://nab/./node_modules/lodash/stubArray.js","webpack://nab/./node_modules/lodash/stubFalse.js","webpack://nab/./node_modules/lodash/throttle.js","webpack://nab/./node_modules/lodash/toFinite.js","webpack://nab/./node_modules/lodash/toInteger.js","webpack://nab/./node_modules/lodash/toNumber.js","webpack://nab/./node_modules/lodash/toPairs.js","webpack://nab/./node_modules/lodash/toString.js","webpack://nab/./node_modules/md5/md5.js","webpack://nab/./node_modules/type/function/is.js","webpack://nab/./node_modules/type/object/is.js","webpack://nab/./node_modules/type/plain-function/is.js","webpack://nab/./node_modules/type/prototype/is.js","webpack://nab/./node_modules/type/value/is.js","webpack://nab/./node_modules/ua-parser-js/src/main/ua-parser.mjs","webpack://nab/./node_modules/uuid/dist/esm-browser/native.js","webpack://nab/./node_modules/uuid/dist/esm-browser/regex.js","webpack://nab/./node_modules/uuid/dist/esm-browser/rng.js","webpack://nab/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://nab/./node_modules/uuid/dist/esm-browser/v4.js","webpack://nab/./node_modules/uuid/dist/esm-browser/validate.js","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/webpack/runtime/node module decorator","webpack://nab/./assets/src/public/index.ts"],"sourcesContent":["const SEPARATOR = ' ';\nconst CUSTOM_CLASS = 'nab-focused-element';\n\nexport function getCssPath(\n\telement: Element | null | undefined,\n\tmode: 'single' | 'multiple' = 'single'\n): string | undefined {\n\tif ( ! element ) {\n\t\treturn undefined;\n\t}\n\telement.classList.add( CUSTOM_CLASS );\n\tconst selector = getSelectorTraversingParents( element, mode );\n\telement.classList.remove( CUSTOM_CLASS );\n\treturn maybeAddTag( element.nodeName, selector );\n}\n\n// =======\n// HELPERS\n// =======\n\n/**\n * Retrieves the best CSS selector path for an element by traversing its parent\n * elements.\n *\n * This function analyzes the element's hierarchy and assigns a selector that\n * uniquely identifies it. It prioritizes class names and IDs while avoiding\n * structural selectors.\n *\n * @param {Element} element - The element to analyze.\n * @param {string}  mode    - The mode of selection, either 'single' or 'multiple'.\n * @return {string | undefined} - The computed selector path or undefined if no valid selector is found.\n */\nfunction getSelectorTraversingParents(\n\telement: Element,\n\tmode: 'single' | 'multiple'\n): string | undefined {\n\tif ( ! element ) {\n\t\treturn;\n\t}\n\n\tconst tagName = element.tagName;\n\n\t// Exclude unsupported or root tags\n\tif ( isUndefined( tagName ) || tagName === 'HTML' ) {\n\t\treturn;\n\t}\n\n\t// Directly return if the element is 'body'\n\tif ( tagName === 'BODY' ) {\n\t\treturn 'body';\n\t}\n\n\t// Get the element's best selector\n\tconst bestSelector = determineBestSelector( element, mode );\n\n\t// Return if the best selector is an ID-based selector\n\tif ( /#/g.test( bestSelector ) ) {\n\t\treturn bestSelector;\n\t}\n\n\t// Gather parent elements up to 'body'\n\tconst parentElements: Element[] = [];\n\tlet parent = element.parentElement;\n\twhile ( parent && parent.tagName !== 'BODY' ) {\n\t\tparentElements.push( parent );\n\t\tparent = parent.parentElement;\n\t}\n\n\t// Determine if resetting should be skipped\n\tlet selector = '';\n\tlet currentSelector = '';\n\tlet previousSelector = '';\n\tlet selectedElementsCount;\n\tconst resetSelectors: string[] = [];\n\n\t// Traverse parent elements from innermost to outermost\n\tfor ( let i = parentElements.length - 1; i >= 0; i-- ) {\n\t\tcurrentSelector = determineBestSelector(\n\t\t\tparentElements[ i ] as Element,\n\t\t\tmode\n\t\t);\n\n\t\tlet resetPerformed = false;\n\t\tif ( /#|\\./g.test( currentSelector ) ) {\n\t\t\tif ( querySelectorAll( currentSelector ).length === 1 ) {\n\t\t\t\tif (\n\t\t\t\t\tmode !== 'single' ||\n\t\t\t\t\t! singleSelector( selector, true ).includes( 'nth-child' )\n\t\t\t\t) {\n\t\t\t\t\tselector = currentSelector + SEPARATOR;\n\t\t\t\t\tresetSelectors.push( currentSelector );\n\t\t\t\t\tresetPerformed = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( ! resetPerformed ) {\n\t\t\tselectedElementsCount = querySelectorAll(\n\t\t\t\t`${ selector } ${ currentSelector } ${ currentSelector },${ selector } ${ previousSelector } ${ currentSelector }`\n\t\t\t).length;\n\n\t\t\tif (\n\t\t\t\tmode === 'multiple' &&\n\t\t\t\tselectedElementsCount > 0 &&\n\t\t\t\tspaceCleaner( selector ).trim() !== ''\n\t\t\t) {\n\t\t\t\tselector = `${ spaceCleaner(\n\t\t\t\t\tselector\n\t\t\t\t).trim() } > ${ currentSelector } `;\n\t\t\t} else {\n\t\t\t\tselector += currentSelector + SEPARATOR;\n\t\t\t}\n\t\t}\n\n\t\tpreviousSelector = currentSelector;\n\t}\n\n\t// Handle Google Maps content cleanup\n\tif ( selector.includes( '.gm-style' ) ) {\n\t\tselector = '.gm-style';\n\t}\n\n\t// Finalize selector with the last determined selector\n\tselectedElementsCount = querySelectorAll(\n\t\t`${ selector } ${ bestSelector } ${ bestSelector },${ selector } ${ currentSelector } ${ bestSelector }`\n\t).length;\n\tselector = spaceCleaner(\n\t\tselectedElementsCount > 0 && selector.length\n\t\t\t? `${ selector } > ${ bestSelector }`\n\t\t\t: `${ selector } ${ bestSelector }`\n\t);\n\n\t// Optimize selector if multiple reset indexes exist and the selector is not ID-based\n\tif ( resetSelectors.length > 1 && selector.charAt( 0 ) !== '#' ) {\n\t\t// Attempt to eliminate structural selectors\n\t\tconst newReset1: string[] = [];\n\t\tlet isValid;\n\t\tlet regex;\n\t\tfor ( let i = 0; i < resetSelectors.length; i++ ) {\n\t\t\tisValid = true;\n\n\t\t\tfor ( let j = 0; j < unPreferedSelectors.length; j++ ) {\n\t\t\t\tregex = new RegExp(\n\t\t\t\t\t'(\\\\s|^).' + unPreferedSelectors[ j ] + '(\\\\s|$)',\n\t\t\t\t\t'gi'\n\t\t\t\t);\n\t\t\t\tif ( regex.test( resetSelectors[ i ] as string ) ) {\n\t\t\t\t\tisValid = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( isValid ) {\n\t\t\t\tnewReset1.push( resetSelectors[ i ] as string );\n\t\t\t}\n\t\t}\n\n\t\t// Further filter reset selectors if multiple remain\n\t\tconst newReset2: string[] = [];\n\t\tif ( newReset1.length > 1 ) {\n\t\t\tlet depthArray: number[];\n\t\t\tlet tagArray: string[];\n\t\t\tfor ( let i = 0; i < newReset1.length; i++ ) {\n\t\t\t\tdepthArray = [];\n\t\t\t\ttagArray = [];\n\n\t\t\t\tdocument\n\t\t\t\t\t.querySelectorAll( newReset1[ i ] as string )\n\t\t\t\t\t.forEach( ( currentElement ) => {\n\t\t\t\t\t\tdepthArray.push(\n\t\t\t\t\t\t\tcurrentElement.parentElement?.parentElement\n\t\t\t\t\t\t\t\t?.children.length || 0\n\t\t\t\t\t\t);\n\t\t\t\t\t\ttagArray.push( currentElement.nodeName );\n\t\t\t\t\t} );\n\n\t\t\t\tconst depthConsistent = depthArray.every(\n\t\t\t\t\t( v, _, a ) => v === a[ 0 ]\n\t\t\t\t);\n\t\t\t\tconst tagConsistent = tagArray.every(\n\t\t\t\t\t( v, _, a ) => v === a[ 0 ]\n\t\t\t\t);\n\n\t\t\t\tif ( depthConsistent && tagConsistent ) {\n\t\t\t\t\tnewReset2.push( newReset1[ i ] as string );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet optimizedSelector = null;\n\n\t\t// Determine the best reset selector\n\t\tif ( newReset2.length > 0 ) {\n\t\t\toptimizedSelector = newReset2[ newReset2.length - 1 ];\n\t\t} else if ( newReset1.length > 0 ) {\n\t\t\toptimizedSelector = newReset1[ newReset1.length - 1 ];\n\t\t}\n\n\t\t// Update the selector if a valid optimization is found\n\t\tif ( optimizedSelector !== null ) {\n\t\t\tlet newSelector = ( selector.match( /(\\s)(.*?)$/g ) || [] )\n\t\t\t\t.join( '' )\n\t\t\t\t.toString();\n\n\t\t\tnewSelector = optimizedSelector + newSelector;\n\n\t\t\tif ( checkSelector( newSelector, true ) ) {\n\t\t\t\tif ( comparisonSelector( selector, newSelector ) ) {\n\t\t\t\t\tselector = newSelector;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the single selector if in 'sharp' mode\n\tif ( mode === 'single' ) {\n\t\treturn singleSelector( selector, false );\n\t}\n\n\t// Check if all other elements have the same tag name\n\tif ( simpleLikedTags.includes( tagName.toLowerCase() ) ) {\n\t\tconst foundTags: string[] = [];\n\t\tquerySelectorAll( selector ).forEach( ( node ) => {\n\t\t\tconst nodeName = node.nodeName;\n\n\t\t\tif ( ! foundTags.includes( nodeName ) ) {\n\t\t\t\tfoundTags.push( nodeName );\n\t\t\t}\n\t\t} );\n\n\t\t// Use the tag name if multiple tags are found\n\t\tif ( foundTags.length > 1 ) {\n\t\t\tselector =\n\t\t\t\t(\n\t\t\t\t\tselector.match(\n\t\t\t\t\t\tnew RegExp(\n\t\t\t\t\t\t\t'^(.*?)' + selectorRegex( bestSelector ) + '$',\n\t\t\t\t\t\t\t'g'\n\t\t\t\t\t\t)\n\t\t\t\t\t) || []\n\t\t\t\t)\n\t\t\t\t\t.join( '' )\n\t\t\t\t\t.toString()\n\t\t\t\t\t.trim() +\n\t\t\t\tSEPARATOR +\n\t\t\t\ttagName.toLowerCase();\n\n\t\t\t// Use the tag name if it is a single element\n\t\t} else if (\n\t\t\tisSingleElementOrMatchingSiblings( selector, bestSelector, tagName )\n\t\t) {\n\t\t\tselector =\n\t\t\t\t(\n\t\t\t\t\tselector.match(\n\t\t\t\t\t\tnew RegExp(\n\t\t\t\t\t\t\t'^(.*?)(?=' + selectorRegex( bestSelector ) + '$)',\n\t\t\t\t\t\t\t'g'\n\t\t\t\t\t\t)\n\t\t\t\t\t) || []\n\t\t\t\t)\n\t\t\t\t\t.join( '' )\n\t\t\t\t\t.toString()\n\t\t\t\t\t.trim() +\n\t\t\t\tSEPARATOR +\n\t\t\t\ttagName.toLowerCase();\n\t\t}\n\t}\n\n\t// Remove multiple spaces from the selector\n\tselector = spaceCleaner( selector );\n\tselector = cleanUnnecessaryGreaterThan( selector );\n\n\t// Prepare the selector for use\n\tselector = multipleVariation( spaceCleaner( selector ) );\n\n\t// Use the single selector if the selector is 'div' and there are more than 20 matches\n\tif (\n\t\t/( |>)div$/g.test( selector ) &&\n\t\tquerySelectorAll( selector ).length >= 20\n\t) {\n\t\treturn singleSelector( selector );\n\t}\n\n\t// Return the final result\n\treturn selector;\n}\n\n/**\n * Checks if the given selector matches a single element or if elements\n * with the same parent and similar characteristics exist.\n *\n * @param {string} selector     - The selector to be matched.\n * @param {string} lastSelector - The last selector in the chain.\n * @param {string} tag          - The tag name to be checked.\n * @return {boolean} True if conditions are met, otherwise false.\n */\nfunction isSingleElementOrMatchingSiblings(\n\tselector: string,\n\tlastSelector: string,\n\ttag: string\n): boolean {\n\tconst element = querySelectorAll( selector );\n\tconst element2 = querySelectorAll(\n\t\t(\n\t\t\tselector.match(\n\t\t\t\tnew RegExp(\n\t\t\t\t\t'^(.*?)(?=' + selectorRegex( lastSelector ) + '$)',\n\t\t\t\t\t'g'\n\t\t\t\t)\n\t\t\t) || []\n\t\t)\n\t\t\t.join( '' )\n\t\t\t.toString()\n\t\t\t.trim() +\n\t\t\tSEPARATOR +\n\t\t\ttag.toLowerCase()\n\t);\n\n\t// If both selectors match a single element\n\tif ( element.length === 1 && element2.length === 1 ) {\n\t\treturn true;\n\t}\n\n\t// If the number of matched elements is the same and lastSelector contains class or ID selector\n\tif ( element.length === element2.length && /.|#/g.test( lastSelector ) ) {\n\t\t// Arrays to store depth and tag information\n\t\tconst depthArray: number[] = [];\n\t\tconst tagArray: string[] = [];\n\n\t\tdocument\n\t\t\t.querySelectorAll( lastSelector )\n\t\t\t.forEach( ( currentElement ) => {\n\t\t\t\t// Push depth of current element\n\t\t\t\tdepthArray.push(\n\t\t\t\t\tcurrentElement.parentElement?.parentElement?.children\n\t\t\t\t\t\t.length || 0\n\t\t\t\t);\n\n\t\t\t\t// Push tag name of current element\n\t\t\t\ttagArray.push( currentElement.nodeName );\n\t\t\t} );\n\n\t\tconst depthArrayEquals = depthArray.every(\n\t\t\t( v, _, a ) => v === a[ 0 ]\n\t\t);\n\t\tconst tagArrayEquals = tagArray.every( ( v, _, a ) => v === a[ 0 ] );\n\n\t\t// Check if all elements have the same depth and tag\n\t\tif ( depthArrayEquals && tagArrayEquals ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nfunction isDefined( a: unknown ): a is Exclude< typeof a, undefined > {\n\treturn (\n\t\ttypeof a !== typeof undefined &&\n\t\ta !== false &&\n\t\ta !== '' &&\n\t\ta !== ' ' &&\n\t\ta !== 'undefined' &&\n\t\ta !== null\n\t);\n}\n\nfunction isUndefined( a: unknown ): boolean {\n\treturn (\n\t\ttypeof a === typeof undefined ||\n\t\ta === false ||\n\t\ta === '' ||\n\t\ta === ' ' ||\n\t\ta === 'undefined' ||\n\t\ta === null\n\t);\n}\n\nfunction checkSelector( selector: string, mustHave: boolean ): boolean {\n\ttry {\n\t\tconst elements = querySelectorAll( selector );\n\n\t\t// Return false if document not have this element\n\t\tif ( mustHave && ! elements.length ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.log(\n\t\t\t\t\"The selector doesn't match any element on this page\"\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch ( e ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log( e );\n\t\treturn false;\n\t}\n}\n\nlet isRecursiveCallForInputsEnabled = true;\n\n/**\n * Determines the best CSS selector for a given element.\n *\n * This function evaluates an element's ID, classes, and tag name to return the\n * most specific and reliable selector. It filters out blocked and unpreferred\n * class names and considers numeric classes when necessary.\n *\n * @param {Element} element - The element to analyze.\n * @param {string}  mode    - The mode of selection, either 'single' or 'multiple'.\n * @return {string} - The best selector for the given element.\n */\nfunction determineBestSelector(\n\telement: Element,\n\tmode: 'single' | 'multiple'\n): string {\n\tconst numberRegex = /\\d+/;\n\tconst tagName = element.tagName.toLowerCase();\n\n\tif ( tagName === 'body' || tagName === 'html' ) {\n\t\treturn tagName;\n\t}\n\n\t// If element has a valid ID, return it as the selector.\n\tconst elementId = element.id.trim();\n\tif (\n\t\tisDefined( elementId ) &&\n\t\t( ! numberRegex.test( elementId ) ||\n\t\t\tallowedDigitalIds.some( ( adi ) =>\n\t\t\t\tfilterTest( adi, elementId, mode )\n\t\t\t) ) &&\n\t\t! blockedIds.some( ( bid ) => filterTest( bid, elementId, mode ) )\n\t) {\n\t\treturn `#${ elementId }`;\n\t}\n\n\t// Clean and filter class names\n\tconst className = cleanClassNameAttribute( element.className );\n\tconst filteredClasses = applyFilter( blockedClasses, className ).trim();\n\tconst refinedClasses = applyFilter( unPreferedClasses, filteredClasses );\n\n\t// Convert class lists to arrays\n\tlet filteredClassArray = getClassesArray( filteredClasses );\n\tlet refinedClassArray = getClassesArray( refinedClasses );\n\n\t// Extract numeric classes that are not in blocked lists\n\tconst numericClassArray = refinedClassArray.filter(\n\t\t( cls ) =>\n\t\t\tnumberRegex.test( cls ) &&\n\t\t\t! filterNumSkipBest.some( ( skip ) =>\n\t\t\t\tfilterTest( skip, cls, mode )\n\t\t\t) &&\n\t\t\t! blockedDigitalClasses.some( ( bdc ) =>\n\t\t\t\tfilterTest( bdc, cls, mode )\n\t\t\t)\n\t);\n\n\t// Remove numeric classes from main class lists\n\tfilteredClassArray = filteredClassArray.filter(\n\t\t( cls ) => ! numberRegex.test( cls )\n\t);\n\trefinedClassArray = refinedClassArray.filter(\n\t\t( cls ) => ! numberRegex.test( cls )\n\t);\n\n\tlet bestSelector;\n\tlet preferredClassFound = false;\n\n\t// Look for preferred class in refined list\n\trefinedClassArray.find( ( cls ) =>\n\t\tpreferedClasses.some( ( preferredCls ) => {\n\t\t\tif ( filterTest( preferredCls, cls, mode ) ) {\n\t\t\t\tif (\n\t\t\t\t\tcls === 'post' &&\n\t\t\t\t\trefinedClassArray.includes( 'hentry' )\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tpreferredClassFound = true;\n\t\t\t\tbestSelector = `.${ cls }`;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} )\n\t);\n\n\t// If no match, check initial filtered classes\n\tif ( ! preferredClassFound ) {\n\t\tfilteredClassArray.find( ( cls ) =>\n\t\t\tpreferedClasses.some( ( preferredCls ) => {\n\t\t\t\tif ( filterTest( preferredCls, cls, mode ) ) {\n\t\t\t\t\tpreferredClassFound = true;\n\t\t\t\t\tbestSelector = `.${ cls }`;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t} )\n\t\t);\n\t}\n\n\t// Check for preferred numeric class\n\tnumericClassArray.find( ( numCls ) =>\n\t\tpreferedDigitalClasses.some( ( preferredNumCls ) => {\n\t\t\tif ( filterTest( preferredNumCls, numCls, mode ) ) {\n\t\t\t\tbestSelector = `.${ numCls }`;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} )\n\t);\n\n\t// Handle input elements by type\n\tif ( tagName === 'input' && isRecursiveCallForInputsEnabled ) {\n\t\tconst inputType = element.getAttribute( 'type' );\n\t\tif ( mode === 'single' && isDefined( inputType ) ) {\n\t\t\tisRecursiveCallForInputsEnabled = false;\n\t\t\tbestSelector =\n\t\t\t\t`input[type=${ inputType }]` +\n\t\t\t\tdetermineBestSelector( element, mode );\n\t\t\tisRecursiveCallForInputsEnabled = true;\n\t\t} else if ( isDefined( inputType ) ) {\n\t\t\tbestSelector = `input[type=${ inputType }]`;\n\t\t}\n\t}\n\n\tconst isPreferredTag = simpleLikedTags.includes( tagName )\n\t\t? tagName\n\t\t: false;\n\n\t// If no class match, try a numeric class as last resort\n\tconst lastResortNumeric = numericClassArray.length\n\t\t? getMostSpecificClass( numericClassArray )\n\t\t: false;\n\n\t// Find least occurring class for single inspector\n\tlet rareClass: string | false = false;\n\tif ( mode === 'single' ) {\n\t\trareClass = findLeastOccurringClass(\n\t\t\tgetMostSpecificClass( refinedClassArray, true, false ) || []\n\t\t);\n\t\tif ( ! rareClass ) {\n\t\t\trareClass = findLeastOccurringClass( refinedClassArray );\n\t\t}\n\t\tif ( ! rareClass ) {\n\t\t\trareClass = findLeastOccurringClass(\n\t\t\t\tgetMostSpecificClass( filteredClassArray, true, false ) || []\n\t\t\t);\n\t\t}\n\t\tif ( ! rareClass ) {\n\t\t\trareClass = findLeastOccurringClass( filteredClassArray );\n\t\t}\n\t}\n\n\tconst selectedClass =\n\t\tgetMostSpecificClass( refinedClassArray, false, false ) ||\n\t\tgetMostSpecificClass( filteredClassArray, false, false );\n\n\t// Final decision on the best selector\n\tif ( bestSelector && isDefined( bestSelector ) ) {\n\t\treturn bestSelector;\n\t}\n\tif ( rareClass ) {\n\t\treturn rareClass;\n\t}\n\tif ( selectedClass && ! Array.isArray( selectedClass ) ) {\n\t\treturn selectedClass;\n\t}\n\tif ( isPreferredTag ) {\n\t\treturn isPreferredTag;\n\t}\n\tif ( lastResortNumeric && ! Array.isArray( lastResortNumeric ) ) {\n\t\treturn lastResortNumeric;\n\t}\n\tif ( tagName && tagName !== 'div' ) {\n\t\treturn tagName;\n\t}\n\tif ( filteredClasses ) {\n\t\tlet mostSpecific = getMostSpecificClass( filteredClassArray );\n\t\tif ( Array.isArray( mostSpecific ) || ! mostSpecific ) {\n\t\t\tmostSpecific = '';\n\t\t}\n\t\tconst isBlocked = blockedDigitalClasses.some( ( bdc ) =>\n\t\t\tfilterTest( bdc, mostSpecific.replace( /^(.|#)/g, '' ), mode )\n\t\t);\n\t\treturn isBlocked ? tagName : mostSpecific;\n\t}\n\n\treturn tagName;\n}\n\nfunction singleSelector( selector: string, test?: boolean ): string {\n\tlet selectorArray = getSelectorArray( selector );\n\tlet selectorPlus = '';\n\n\t// Loop through the selector array and build the selector progressively.\n\tfor ( let i = 0; i < selectorArray.length; i++ ) {\n\t\tselectorPlus += ( i > 0 ? SEPARATOR : '' ) + selectorArray[ i ];\n\n\t\t// Only proceed if more than one element matches the current selector.\n\t\tconst currentElementsCount = querySelectorAll( selectorPlus ).length;\n\t\tif ( currentElementsCount > 1 ) {\n\t\t\tquerySelectorAll( selectorPlus ).forEach( ( element ) => {\n\t\t\t\tif ( ! selectorPlus.endsWith( ')' ) && element.parentElement ) {\n\t\t\t\t\tlet indexOf = 0;\n\t\t\t\t\tArray.from( element.parentElement.children ).forEach(\n\t\t\t\t\t\t( child ) => {\n\t\t\t\t\t\t\tindexOf++;\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tchild.classList.contains( CUSTOM_CLASS ) ||\n\t\t\t\t\t\t\t\tchild.querySelector( `.${ CUSTOM_CLASS }` )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tselectorPlus += `:nth-child(${ indexOf })`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\t// Clean up unnecessary :nth-child selectors.\n\tif ( selectorPlus.includes( ':nth-child' ) ) {\n\t\tselectorArray = getSelectorArray( selectorPlus );\n\n\t\t// Iterate over the selector array to clean up any unnecessary :nth-child.\n\t\tfor ( let i = 0; i < selectorArray.length; i++ ) {\n\t\t\tconst prevAll = getPreviousItem( selectorArray, i ).join( ' ' );\n\t\t\tconst nextAll = getNextItem( selectorArray, i ).join( ' ' );\n\t\t\tlet selectorPlusNew = `${ prevAll } ${ (\n\t\t\t\tselectorArray[ i ] as string\n\t\t\t ).replace( /:nth-child\\((.*?)\\)/i, '' ) } ${ nextAll }`;\n\t\t\tselectorPlusNew = spaceCleaner( selectorPlusNew );\n\n\t\t\t// If only one element matches the selector without :nth-child, remove it.\n\t\t\tif ( querySelectorAll( selectorPlusNew ).length === 1 ) {\n\t\t\t\tselectorArray[ i ] = ( selectorArray[ i ] as string ).replace(\n\t\t\t\t\t/:nth-child\\((.*?)\\)/i,\n\t\t\t\t\t''\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Rebuild the selector without unnecessary :nth-child.\n\t\tselectorPlus = spaceCleaner( selectorArray.join( ' ' ) );\n\t}\n\n\t// Return the result based on the 'test' flag.\n\tif ( test ) {\n\t\treturn selectorPlus;\n\t}\n\n\t// Apply children support and return the final result.\n\treturn multipleVariation( addChildrenSupport( selectorPlus ) );\n}\n\n/**\n * Crops selector until it has 5 class or less\n *\n * @param selector\n * @return string\n */\nfunction cropSelector( selector: string ): string {\n\t// Get the array representation of the selector.\n\tconst selectorArray = spaceCleaner( selector )\n\t\t.replace( / *> */g, '>' )\n\t\t.split( ' ' );\n\n\t// If the selector array length is \"short enough\", use it.\n\tif ( selectorArray.length <= 5 ) {\n\t\treturn selector;\n\t}\n\n\t// Otherwise, (try to) crop it.\n\tconst initialElements = querySelectorAll( selector );\n\n\tlet croppedArray = [ ...selectorArray ];\n\tlet wasCropped = false;\n\tfor ( let i = 0; i < selectorArray.length; ++i ) {\n\t\tconst candidateArray = [ ...croppedArray ];\n\t\tcandidateArray[ i ] = '';\n\n\t\tconst candidateSelector = candidateArray.join( ' ' );\n\t\tconst candidateElements = querySelectorAll( candidateSelector );\n\n\t\tif ( areEqual( initialElements, candidateElements ) ) {\n\t\t\tcroppedArray = candidateArray;\n\t\t\twasCropped = true;\n\t\t}\n\t}\n\n\treturn wasCropped\n\t\t? croppedArray.join( ' ' ).replaceAll( '>', ' > ' )\n\t\t: selector;\n}\n\n/**\n * Attempts to simplify a complex CSS selector by generating variations\n * that are shorter but still select the same set of elements.\n *\n * @param {string} selector - The original CSS selector to simplify.\n * @return {string} - A potentially shorter, yet equivalent CSS selector.\n */\nfunction multipleVariation( selector: string ): string {\n\t// Get the number of elements that match the original selector\n\tconst originalSelectorLength = querySelectorAll( selector ).length;\n\n\t// Store the possibly cropped version of the original selector\n\tconst originalSelector = cropSelector( selector );\n\n\t// Array to hold potential simplified selectors\n\tconst variationSelectors: string[] = [];\n\n\tlet firstSelectorPart: string | undefined;\n\tlet lastSelectorPart: string | undefined;\n\tlet combinedSelector = '';\n\tlet middleSelectorParts: string[] = [];\n\n\t// Check if the selector contains '>' (child combinator)\n\tif ( ! selector.includes( '>' ) ) {\n\t\t// Split the selector into its individual parts\n\t\tmiddleSelectorParts = getSelectorArray( selector );\n\n\t\t// Extract the last element and remove it from the array\n\t\tlastSelectorPart = middleSelectorParts.pop();\n\n\t\t// Extract the first element and remove it from the array\n\t\tfirstSelectorPart = middleSelectorParts.shift();\n\n\t\t// If the selector contains '>' symbols, handle accordingly\n\t} else {\n\t\tlet selectorParts: string[] = [];\n\t\tlet firstRegex: RegExp;\n\t\tlet lastRegex: RegExp;\n\t\tlet centerSelectorParts: string[] | undefined;\n\t\tlet centerMatch: string;\n\t\tlet type: 'getStart' | 'getEnd' | null = null;\n\n\t\t// Match for getting the last part after the last '>'\n\t\tconst getEnd = ( selector.match( /\\>(?!.*\\>)(.*?)$/g ) ?? '' )\n\t\t\t.toString()\n\t\t\t.replace( /(\\s)?>(\\s)?/, '' );\n\n\t\t// Match for getting the first part before the first '>'\n\t\tconst getStart = ( selector.match( /^(.*?)\\s\\>/g ) ?? '' )\n\t\t\t.toString()\n\t\t\t.replace( /(\\s)?>(\\s)?/, '' );\n\n\t\t// Determine if '>' is at the start or end\n\t\tif ( ! getEnd.includes( ' ' ) ) {\n\t\t\tselectorParts = getStart.split( ' ' );\n\t\t\ttype = 'getStart';\n\t\t} else if ( ! getStart.includes( ' ' ) ) {\n\t\t\tselectorParts = getEnd.split( ' ' );\n\t\t\ttype = 'getEnd';\n\t\t}\n\n\t\t// If type is still null, decide based on the length of matches\n\t\tif ( type === null ) {\n\t\t\tif ( getEnd.split( ' ' ).length > getStart.split( ' ' ).length ) {\n\t\t\t\tselectorParts = getEnd.split( ' ' );\n\t\t\t\ttype = 'getEnd';\n\t\t\t} else {\n\t\t\t\tselectorParts = getStart.split( ' ' );\n\t\t\t\ttype = 'getStart';\n\t\t\t}\n\t\t}\n\n\t\t// Cache first and last selectors and remove them from the array\n\t\tif ( selectorParts.length - 2 > 1 ) {\n\t\t\tfirstSelectorPart = selectorParts[ 0 ];\n\t\t\tlastSelectorPart = selectorParts[ selectorParts.length - 1 ];\n\n\t\t\t// Regular expressions for parsing the selector parts\n\t\t\tfirstRegex = new RegExp( '^(.*?) > ' + firstSelectorPart, 'g' );\n\t\t\tlastRegex = new RegExp( lastSelectorPart + ' > (.*?)$', 'g' );\n\n\t\t\tif (\n\t\t\t\tselector.match( firstRegex ) !== null &&\n\t\t\t\tselector.match( lastRegex ) !== null\n\t\t\t) {\n\t\t\t\t// Update first and last based on the type\n\t\t\t\tif ( type === 'getEnd' ) {\n\t\t\t\t\tfirstSelectorPart = (\n\t\t\t\t\t\tselector.match( firstRegex ) ?? ''\n\t\t\t\t\t).toString();\n\t\t\t\t} else if ( type === 'getStart' ) {\n\t\t\t\t\tlastSelectorPart = (\n\t\t\t\t\t\tselector.match( lastRegex ) ?? ''\n\t\t\t\t\t).toString();\n\t\t\t\t}\n\n\t\t\t\t// Remove first and last to get the center selector parts\n\t\t\t\tselectorParts.pop();\n\t\t\t\tselectorParts.shift();\n\n\t\t\t\tcenterSelectorParts = selectorParts;\n\t\t\t}\n\t\t}\n\n\t\t// Try another method to get the center of the selector if needed\n\t\tif ( centerSelectorParts === undefined ) {\n\t\t\t// Test if there are multiple '>' symbols\n\t\t\tif ( /\\>(.*?)\\>/g.test( selector ) ) {\n\t\t\t\t// Get the center part between '>' symbols\n\t\t\t\tcenterMatch = ( selector.match( /\\>(.*?)\\>/g ) ?? '' )\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace( /(\\s)?>(\\s)?/g, '' );\n\n\t\t\t\t// Proceed if there's a space in the centerMatch\n\t\t\t\tif ( centerMatch.includes( ' ' ) ) {\n\t\t\t\t\tselectorParts = centerMatch.split( ' ' );\n\n\t\t\t\t\t// Cache first and last selectors and remove them from the array\n\t\t\t\t\tif ( selectorParts.length - 2 > 1 ) {\n\t\t\t\t\t\tfirstSelectorPart = selectorParts[ 0 ];\n\t\t\t\t\t\tlastSelectorPart =\n\t\t\t\t\t\t\tselectorParts[ selectorParts.length - 1 ];\n\n\t\t\t\t\t\t// Regular expressions for parsing the selector parts\n\t\t\t\t\t\tfirstRegex = new RegExp(\n\t\t\t\t\t\t\t'^(.*?) > ' + firstSelectorPart,\n\t\t\t\t\t\t\t'g'\n\t\t\t\t\t\t);\n\t\t\t\t\t\tlastRegex = new RegExp(\n\t\t\t\t\t\t\tlastSelectorPart + ' > (.*?)$',\n\t\t\t\t\t\t\t'g'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Update first and last selectors\n\t\t\t\t\t\tfirstSelectorPart = (\n\t\t\t\t\t\t\tselector.match( firstRegex ) ?? ''\n\t\t\t\t\t\t).toString();\n\t\t\t\t\t\tlastSelectorPart = (\n\t\t\t\t\t\t\tselector.match( lastRegex ) ?? ''\n\t\t\t\t\t\t).toString();\n\n\t\t\t\t\t\t// Remove first and last to get the center selector parts\n\t\t\t\t\t\tselectorParts.pop();\n\t\t\t\t\t\tselectorParts.shift();\n\t\t\t\t\t\tcenterSelectorParts = selectorParts;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If a center selector was found, set middleSelectorParts to it\n\t\tif ( centerSelectorParts !== undefined ) {\n\t\t\tmiddleSelectorParts = centerSelectorParts;\n\t\t} else {\n\t\t\t// If no center selector is found, return the original selector\n\t\t\treturn originalSelector;\n\t\t}\n\t}\n\n\t// Attempt to remove structural selectors from middleSelectorParts\n\tconst filteredSelectors: string[] = [];\n\tlet isValidSelector: boolean;\n\tlet regex: RegExp;\n\n\tfor ( let i = 0; i < middleSelectorParts.length; i++ ) {\n\t\tisValidSelector = true;\n\n\t\tfor ( let j = 0; j < unPreferedSelectors.length; j++ ) {\n\t\t\t// Create a regex to test for unpreferred selectors\n\t\t\tregex = new RegExp(\n\t\t\t\t'(\\\\s|^).' + unPreferedSelectors[ j ] + '(\\\\s|$)',\n\t\t\t\t'gi'\n\t\t\t);\n\n\t\t\t// If the selector matches an unpreferred selector, mark as invalid\n\t\t\tif ( regex.test( middleSelectorParts[ i ] as string ) ) {\n\t\t\t\tisValidSelector = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// If the selector passed all checks, add it to filteredSelectors\n\t\tif ( isValidSelector ) {\n\t\t\tfilteredSelectors.push( middleSelectorParts[ i ] as string );\n\t\t}\n\t}\n\n\t// If first or last selector part is undefined, return the original selector\n\tif ( isUndefined( firstSelectorPart ) || isUndefined( lastSelectorPart ) ) {\n\t\treturn originalSelector;\n\t}\n\n\t// Try combining first and last selectors if they don't contain spaces\n\tif (\n\t\t! firstSelectorPart?.includes( ' ' ) &&\n\t\t! lastSelectorPart?.includes( ' ' )\n\t) {\n\t\tcombinedSelector = spaceCleaner(\n\t\t\tfirstSelectorPart + SEPARATOR + lastSelectorPart\n\t\t);\n\t}\n\n\t// Check if the combined first and last selector is valid\n\tif ( checkSelector( combinedSelector, false ) ) {\n\t\t// If there were many structural selectors but none left after filtering\n\t\t// and the combined selector matches the original number of elements\n\t\tif (\n\t\t\tmiddleSelectorParts.length >= 1 &&\n\t\t\tfilteredSelectors.length === 0 &&\n\t\t\tquerySelectorAll( combinedSelector ).length ===\n\t\t\t\toriginalSelectorLength\n\t\t) {\n\t\t\treturn combinedSelector;\n\t\t}\n\t}\n\n\t// Update middleSelectorParts only if filteredSelectors has more than one element\n\tif ( filteredSelectors.length > 1 ) {\n\t\tmiddleSelectorParts = filteredSelectors;\n\t}\n\n\t// Require a minimum of 2 selectors (excluding first and last)\n\tif ( middleSelectorParts.length < 2 ) {\n\t\treturn originalSelector;\n\t}\n\n\t// Filter middleSelectorParts to include only classes used at the same depth and tag names\n\tlet depthList: number[] = [];\n\tlet tagNameList: string[] = [];\n\tconst consistentSelectors: string[] = [];\n\n\tfor ( let i = 0; i < middleSelectorParts.length; i++ ) {\n\t\tif ( /.|#/g.test( middleSelectorParts[ i ] as string ) ) {\n\t\t\tdepthList = [];\n\t\t\ttagNameList = [];\n\n\t\t\t// For each element matching the current selector\n\t\t\tdocument\n\t\t\t\t.querySelectorAll( middleSelectorParts[ i ] as string )\n\t\t\t\t.forEach( ( element ) => {\n\t\t\t\t\tdepthList.push( getParents( element ).length );\n\t\t\t\t\ttagNameList.push( element.nodeName );\n\t\t\t\t} );\n\n\t\t\t// Check if all depths are equal\n\t\t\tconst isDepthConsistent = depthList.every(\n\t\t\t\t( value, _, array ) => value === array[ 0 ]\n\t\t\t);\n\n\t\t\t// Check if all tag names are equal\n\t\t\tconst isTagNameConsistent = tagNameList.every(\n\t\t\t\t( value, _, array ) => value === array[ 0 ]\n\t\t\t);\n\n\t\t\t// If both depth and tag name are consistent, add to consistentSelectors\n\t\t\tif ( isDepthConsistent && isTagNameConsistent ) {\n\t\t\t\tconsistentSelectors.push( middleSelectorParts[ i ] as string );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Update middleSelectorParts only if consistentSelectors has more than one element\n\tif ( consistentSelectors.length > 1 ) {\n\t\tmiddleSelectorParts = consistentSelectors;\n\t}\n\n\t// Variables for combining selectors\n\tconst remainingSelectors = middleSelectorParts.slice( 0 );\n\tlet currentSelector: string;\n\tlet nextSelector: string;\n\tlet testSelector: string;\n\n\t// Combine selectors to generate variations\n\tfor ( let i = 0; i < middleSelectorParts.length; i++ ) {\n\t\tcurrentSelector = middleSelectorParts[ i ] as string;\n\n\t\t// Create a test selector with first, current, and last\n\t\ttestSelector =\n\t\t\tfirstSelectorPart +\n\t\t\tSEPARATOR +\n\t\t\tcurrentSelector +\n\t\t\tSEPARATOR +\n\t\t\tlastSelectorPart;\n\n\t\t// If the test selector matches the original number of elements, add to results\n\t\tif (\n\t\t\tquerySelectorAll( testSelector ).length === originalSelectorLength\n\t\t) {\n\t\t\tvariationSelectors.push( testSelector );\n\t\t}\n\n\t\t// Remove the current selector from remainingSelectors\n\t\tremainingSelectors.shift();\n\n\t\t// Combine current selector with the remaining selectors in remainingSelectors\n\t\tfor ( let j = 0; j < remainingSelectors.length; j++ ) {\n\t\t\tnextSelector = remainingSelectors[ j ] as string;\n\n\t\t\t// Create a test selector with first, current, next, and last\n\t\t\ttestSelector =\n\t\t\t\tfirstSelectorPart +\n\t\t\t\tSEPARATOR +\n\t\t\t\tcurrentSelector +\n\t\t\t\tSEPARATOR +\n\t\t\t\tnextSelector +\n\t\t\t\tSEPARATOR +\n\t\t\t\tlastSelectorPart;\n\n\t\t\t// If the test selector matches the original number of elements, add to results\n\t\t\tif (\n\t\t\t\tquerySelectorAll( testSelector ).length ===\n\t\t\t\toriginalSelectorLength\n\t\t\t) {\n\t\t\t\tvariationSelectors.push( testSelector );\n\t\t\t}\n\t\t}\n\t}\n\n\t// If no variations were found, return the original selector\n\tif ( variationSelectors.length === 0 ) {\n\t\treturn originalSelector;\n\t}\n\n\t// Sort the results by selector length (shortest first)\n\tvariationSelectors.sort( ( a, b ) => a.length - b.length );\n\n\t// Return the shortest valid selector variation\n\treturn spaceCleaner( variationSelectors[ 0 ] );\n}\n\nfunction getMostSpecificClass(\n\tclasses: string[],\n\tarray: true,\n\talternative?: boolean\n): string[] | false;\nfunction getMostSpecificClass(\n\tclasses: string[],\n\tarray?: false,\n\talternative?: boolean\n): string | false;\nfunction getMostSpecificClass(\n\tclasses: string[],\n\tarray: boolean = false,\n\talternative: boolean = false\n) {\n\t// If there are no classes, return false.\n\tif ( classes.length === 0 ) {\n\t\treturn false;\n\t}\n\n\t// If there's only one class and alternative is true, return false.\n\tif ( classes.length === 1 && alternative ) {\n\t\treturn false;\n\t}\n\n\t// If there's only one class and alternative is false, return it.\n\tif ( classes.length === 1 && ! alternative ) {\n\t\tconst singleClass = classes[ 0 ];\n\t\tif ( singleClass && singleClass.length > 1 ) {\n\t\t\treturn array ? classes : `.${ singleClass }`;\n\t\t}\n\t\treturn false;\n\t}\n\n\t// Filter out classes with special characters\n\tlet filteredClasses = classes.filter( ( c ) => ! /[\\[\\]#,]/g.test( c ) );\n\n\t// Validate consistency in parent depth and tag names\n\tfilteredClasses = filteredClasses.filter( ( c ) => {\n\t\tconst depthArray: number[] = [];\n\t\tconst tagArray: string[] = [];\n\n\t\tquerySelectorAll( `.${ c }` ).forEach( ( element ) => {\n\t\t\tdepthArray.push( getParents( element ).length );\n\t\t\ttagArray.push( element.nodeName );\n\t\t} );\n\n\t\tconst sameDepth = depthArray.every(\n\t\t\t( depth ) => depth === depthArray[ 0 ]\n\t\t);\n\t\tconst sameTags = tagArray.every( ( tag ) => tag === tagArray[ 0 ] );\n\n\t\treturn sameDepth && sameTags;\n\t} );\n\n\t// If no valid classes remain, revert to the original list\n\tif ( filteredClasses.length === 0 ) {\n\t\tfilteredClasses = classes;\n\t}\n\n\t// Separate classes with hyphens and underscores\n\tconst hyphenatedClasses = filteredClasses.filter(\n\t\t( c ) => ! /_/.test( c ) && /-/.test( c )\n\t);\n\tconst underscoredClasses = filteredClasses.filter(\n\t\t( c ) => ! /-/.test( c ) && /_/.test( c )\n\t);\n\n\tlet selectedClasses: string[];\n\tif ( hyphenatedClasses.length > 0 ) {\n\t\tselectedClasses = hyphenatedClasses;\n\t} else if ( underscoredClasses.length > 0 ) {\n\t\tselectedClasses = underscoredClasses;\n\t} else {\n\t\tselectedClasses = filteredClasses;\n\t}\n\n\t// Remove classes with repeated characters (e.g., \"tessst\")\n\tlet finalClasses = selectedClasses.filter( ( c ) => ! /(.)\\1\\1/.test( c ) );\n\n\t// If all classes were removed, revert to the previous selection\n\tif ( finalClasses.length === 0 ) {\n\t\tfinalClasses = selectedClasses;\n\t}\n\n\t// Sort classes by length (longest first)\n\tfinalClasses.sort( ( a, b ) => b.length - a.length );\n\n\t// Return the result in the requested format\n\treturn array ? finalClasses : `.${ finalClasses[ 0 ] }`;\n}\n\n/**\n * Adds > symbol to single_selector.\n *\n * @param selector\n * @return string\n */\nfunction addChildrenSupport( selector: string ): string {\n\tconst selectorArray = getSelectorArray( selector );\n\tlet newSelector = '';\n\n\tfor ( const s of selectorArray ) {\n\t\t// Remove :nth-child() to prevent issues\n\t\tconst currentSelector = s.replace( /:nth-child\\((.*?)\\)/i, '' );\n\n\t\t// Check if the same selector exists within the selector itself\n\t\tconst testSelector =\n\t\t\t`${ newSelector } ${ currentSelector } ${ currentSelector }`.trim();\n\n\t\t// Append selector with \">\" or space based on existence check\n\t\tconst isAlreadySelected = querySelectorAll( testSelector ).length > 0;\n\t\tconst link = isAlreadySelected ? '>' : ' ';\n\t\tnewSelector += ` ${ link } ${ s } `;\n\t}\n\n\tnewSelector = spaceCleaner( newSelector.trim() );\n\n\t// If selector still selects multiple elements, enforce \">\" at the end\n\tif ( querySelectorAll( newSelector ).length > 1 ) {\n\t\tnewSelector = newSelector.replace( /(?=[^ ]*$)/i, ' > ' );\n\t}\n\n\tnewSelector = cleanUnnecessaryGreaterThan( newSelector );\n\n\treturn spaceCleaner( newSelector );\n}\n\nfunction getSelectorArray( selector: string ) {\n\t// Clean up selector\n\tselector = selector\n\t\t.trim()\n\t\t.replace( /\\s\\s+/g, ' ' ) // Remove extra spaces\n\t\t.replace( /(\\s)?([>+~,])(\\s)?/g, '$2' ) // Remove spaces around \">,+,~\"\n\t\t.replace( />/g, ' ' ) // Convert '>' to space\n\t\t.trim();\n\n\t// Split by space if there are multiple selectors\n\tconst selectorArray = selector.length\n\t\t? selector.split( ' ' ).map( ( v ) => v.trim() )\n\t\t: [];\n\n\t// Add spaces around '~' and '+' and return the result\n\treturn selectorArray.map( ( v ) =>\n\t\tv.replace( /\\~/g, ' ~ ' ).replace( /\\+/g, ' + ' )\n\t);\n}\n\nfunction spaceCleaner( data: string | undefined ) {\n\treturn ( data || '' ).replace( /\\s+/g, ' ' ).trim();\n}\n\nfunction filterTest(\n\tfilter: string,\n\tclassName: string,\n\tmode: 'single' | 'multiple'\n) {\n\tconst singleInspectorPattern =\n\t\tmode === 'single' ? /\\(\\!singleInspector\\)/g : /\\(singleInspector\\)/g;\n\n\tif ( singleInspectorPattern.test( filter ) ) {\n\t\treturn false;\n\t}\n\n\tfilter = filter.replace( singleInspectorPattern, '' );\n\tconst regex = new RegExp( `(\\\\s|^)${ filter }(\\\\s|$)`, 'gi' );\n\treturn regex.test( className );\n}\n\nfunction applyFilter( filter: string[], classes: string ) {\n\tclasses = ` ${ classes } `.replaceAll( ' ', '  ' );\n\tfilter.forEach( ( f ) => {\n\t\tconst regex = new RegExp( '(\\\\s|^)' + f + '(\\\\s|$)', 'gi' );\n\t\tclasses = classes.replace( regex, ' ' );\n\t} );\n\n\treturn spaceCleaner( classes );\n}\n\nconst INVALID_CHARS_REGEX =\n\t/([\\u2018\\u2019\\u201A\\u201B\\u2032\\u2035\\u201C\\u201D]|\\{|\\}|\\:|\\<|\\>|\\(|\\)|\\[|\\]|\\~|\\\"|\\'|\\?|\\\\)/g;\nconst ESCAPABLE_CHARS_REGEX = /(@|\\.|\\/|!|\\*|#|\\+)/g;\nfunction cleanClassNameAttribute( value: unknown ): string {\n\treturn ( 'string' === typeof value ? value : '' )\n\t\t.trim()\n\t\t.replace( /\\s\\s+/g, ' ' )\n\t\t.split( ' ' )\n\t\t.filter(\n\t\t\t( className ) => ! INVALID_CHARS_REGEX.test( className.trim() )\n\t\t)\n\t\t.map( ( className ) => className.trim() )\n\t\t.join( ' ' )\n\t\t.replace( ESCAPABLE_CHARS_REGEX, '\\\\$1' );\n}\n\nfunction getClassesArray( classes: string ) {\n\treturn classes.trim().replace( /\\s+/g, ' ' ).split( ' ' ).filter( Boolean );\n}\n\n/**\n * Finds the class with the least number of elements in the document.\n *\n * @param {string[]} classes - Array of class names to be checked.\n * @return {string|false} The class name with the least occurrences if it appears only once, otherwise false.\n */\nfunction findLeastOccurringClass( classes: string[] ): string | false {\n\tconst matchlessClasses = classes.sort(\n\t\t( b, a ) =>\n\t\t\tdocument.body.querySelectorAll( '.' + b ).length -\n\t\t\tdocument.body.querySelectorAll( '.' + a ).length\n\t);\n\n\treturn document.body.querySelectorAll( '.' + matchlessClasses[ 0 ] )\n\t\t.length === 1\n\t\t? '.' + matchlessClasses[ 0 ]\n\t\t: false;\n}\n\n/**\n * Check if two selectors perform the same selection.\n *\n * @param selector\n * @param selectorNew\n */\nfunction comparisonSelector( selector: string, selectorNew: string ): boolean {\n\t// Find elements matching the first selector\n\tconst elements = querySelectorAll( selector );\n\telements.forEach( ( el ) => el.classList.add( 'test-selector1-group' ) );\n\n\t// Find elements matching the second selector that also have the test class\n\tconst elementsNew = querySelectorAll( selectorNew ).filter( ( el ) =>\n\t\tel.classList.contains( 'test-selector1-group' )\n\t);\n\n\t// Remove the test class after comparison\n\telements.forEach( ( el ) => el.classList.remove( 'test-selector1-group' ) );\n\n\t// Ensure both selectors return the same number of elements\n\tif ( elements.length !== elementsNew.length ) {\n\t\treturn false;\n\t}\n\n\t// Check if one selector contains \".CUSTOM_CLASS\" while the other does not\n\tif (\n\t\tselector.includes( `.${ CUSTOM_CLASS }` ) !==\n\t\tselectorNew.includes( `.${ CUSTOM_CLASS }` )\n\t) {\n\t\treturn false;\n\t}\n\n\t// Check for specific pseudo-classes in both selectors\n\tconst pseudoClasses = [\n\t\t'active',\n\t\t'checked',\n\t\t'disabled',\n\t\t'empty',\n\t\t'enabled',\n\t\t'hover',\n\t\t'focus',\n\t\t'in-range',\n\t\t'invalid',\n\t\t'lang',\n\t\t'link',\n\t\t'optional',\n\t\t'out-of-range',\n\t\t'valid',\n\t\t'visited',\n\t];\n\n\tfor ( const pseudo of pseudoClasses ) {\n\t\tconst regex = new RegExp( `:${ pseudo }`, 'g' );\n\t\tif ( regex.test( selector ) !== regex.test( selectorNew ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nfunction selectorRegex( selector: string ) {\n\treturn selector\n\t\t.replace( /\\\\/g, '\\\\\\\\' ) // \\\n\t\t.replace( /\\./g, '\\\\.' ) // [\n\t\t.replace( /\\[/g, '\\\\[' ) // [\n\t\t.replace( /\\]/g, '\\\\]' ) // ]\n\t\t.replace( /\\(/g, '\\\\(' ) // (\n\t\t.replace( /\\)/g, '\\\\)' ) // )\n\t\t.replace( /\\^/g, '\\\\^' ) // ^\n\t\t.replace( /\\$/g, '\\\\$' ) // $\n\t\t.replace( /\\*/g, '\\\\*' ) // *\n\t\t.replace( /\\:/g, '\\\\:' ) // :\n\t\t.replace( /\\+/g, '\\\\+' ); // +\n}\n\nfunction getPreviousItem( arr: unknown[], current: number ) {\n\treturn arr.slice( 0, current );\n}\n\nfunction getNextItem( arr: unknown[], current: number ) {\n\treturn arr.slice( current + 1 );\n}\n\nfunction getParents( element: Element ): Element[] {\n\tconst parents: Element[] = [];\n\tlet currentElement = element.parentElement;\n\n\twhile ( currentElement ) {\n\t\tparents.push( currentElement );\n\t\tcurrentElement = currentElement.parentElement;\n\t}\n\n\treturn parents;\n}\n\nfunction querySelectorAll( selector: string ) {\n\ttry {\n\t\treturn Array.from( document.querySelectorAll( selector ) );\n\t} catch ( _ ) {\n\t\treturn [];\n\t}\n}\n\nfunction areEqual< T >(\n\ta: ReadonlyArray< T >,\n\tb: ReadonlyArray< T >\n): boolean {\n\treturn a.length === b.length && a.every( ( x ) => b.includes( x ) );\n}\n\nfunction cleanUnnecessaryGreaterThan( selector: string ) {\n\tif ( selector.indexOf( '>' ) === -1 ) {\n\t\treturn selector;\n\t}\n\n\tconst length = selector.split( '>' ).length;\n\tconst initialElements = querySelectorAll( selector );\n\n\tfor ( let i = 1; i < length; i++ ) {\n\t\tconst candidate = selector.replace( / > /i, ' ' );\n\t\tconst candidateElements = querySelectorAll( candidate );\n\t\tif ( areEqual( initialElements, candidateElements ) ) {\n\t\t\tselector = candidate;\n\t\t}\n\t}\n\n\treturn selector;\n}\n\n/* ---------------------------------------*/\n/* Prefer one digital class in 2 or more. */\n/* ---------------------------------------*/\nconst preferedDigitalClasses = [\n\t// General\n\t'wp-image-[0-9]+',\n\n\t// Basic\n\t'([a-zA-Z0-9_-]+)?(section|slide|button|image|row)([a-zA-Z0-9_-]+)?',\n\n\t// Visual Composer\n\t'vc_custom_([a-zA-Z0-9_-]+)?',\n\n\t// Beaver Builder\n\t'fl-node([a-zA-Z0-9_-]+)?',\n\t'fl-row([a-zA-Z0-9_-]+)?',\n\n\t// Themify\n\t'module_row_([0-9]+)',\n\t'module_column_([0-9]+)',\n\n\t// Divi\n\t'et_pb_(section|row)_[0-9]+',\n\n\t// King Composer\n\t'kc-css-([0-9]+)',\n\n\t// Forge Builder\n\t'forge-col[0-9]+',\n\n\t// Enfold\n\t'(avia|av)-builder-el-([0-9]+)',\n\n\t// Flatsome\n\t'footer-([0-9]+)',\n\n\t// Other\n\t'gb-container-([a-zA-Z0-9_-]+)?',\n\t'wp-container-[0-9]+',\n\t'wp-elements-[0-9]+',\n\t'(n2-font-|n2-style-)([a-zA-Z0-9_-]+)?',\n\t'n2-ss-([0-9]+)item([0-9]+)',\n\t'n-uc-([a-zA-Z0-9_-]+)',\n\t'ms-parent-id-([0-9_-]+)',\n\t'msp-cn-([a-zA-Z0-9_-]+)',\n\t'e([0-9-]+)',\n\t'td_module_([0-9]+)',\n\t'cp_id_([a-zA-Z0-9_-]+)',\n\t'snp-pop-([0-9]+)',\n\t'dsgn__basic-([0-9]+)',\n\t'td_block_([0-9]+)',\n\t'weforms-([0-9]+)',\n\t'fusion-builder-row-([0-9]+)',\n];\n\n/* -----------------*/\n/* Prefered Classes */\n/* -----------------*/\nconst preferedClasses = [\n\t'(current-menu-item|post|hentry|widget|wp-post-image|comment-author-admin|next|prev|product|footer|footer-top|footer-bottom|header|navbar|sidebar|masthead|copyright|menu-item|form-control|row_inner|wpDataTable|ls-wrapper|x-column)',\n\t'active(!singleInspector)',\n\t'current(!singleInspector)',\n\t'(entry|article|post|page|item|widget)([-_])?title',\n\t'(entry|article|post|page|item|widget)([-_])?content',\n\t'(entry|article|post|page|item|widget)([-_])?meta',\n\t'([a-zA-Z0-9_-]+)?item',\n\t'kc-css-([a-zA-Z0-9_-]+)?',\n\t'filterall',\n];\n\n/* ---------------------------------------------------- */\n/* These classes will never be used in the selector.    */\n/* Use only if tag is \"div\" and not have a alternative. */\n/* ---------------------------------------------------- */\nconst blockedClasses = [\n\t'nab-selected',\n\t'nab-focused-element',\n\t'nab-highlight',\n\t'nab-highlight__tooltip',\n\t'nab-highlight__tooltip-text',\n\t'nab-breadcrumb-highlight',\n\t'nab-hovered',\n\t'nab-hovered__tooltip',\n\t'nab-hovering',\n\t'nab-breadcrumbs-container',\n\t'nab-breadcrumbs-list',\n\t'nab-breadcrumbs-list-item',\n\t'nab-breadcrumbs-list-item__content',\n\t'nab-breadcrumbs-list-item--selected',\n\n\t// Elementor\n\t'([a-zA-Z0-9_-]+)?(elementor)([a-zA-Z0-9_-]+)?',\n\t'(e-)([a-zA-Z0-9_-]+)?',\n\n\t// Classes from a animate.css\n\t'([a-zA-Z0-9_-]+)?(infinite|bounce|pulse|rubberBand|shake|headShake|swing|wobble|jello|hinge|fade)([a-zA-Z0-9_-]+)?',\n\t'(([a-zA-Z0-9_-]+)?([-_]flash|flash[-_]|[-_]flash[-_])([a-zA-Z0-9_-]+)?|flash)',\n\t'(([a-zA-Z0-9_-]+)?([-_]tada|tada[-_]|[-_]tada[-_])([a-zA-Z0-9_-]+)?|tada)',\n\t'([a-zA-Z0-9_-]+)?slide([a-zA-Z0-9_-]+)?(in|out)([a-zA-Z0-9_-]+)?(up|down|left|right)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(roll|fall|flip|lightSpeed|rotate|zoom)([a-zA-Z0-9_-]+)?(in|out|up|down|left|right)([a-zA-Z0-9_-]+)?',\n\n\t'([a-zA-Z0-9_-]+)?slide([a-zA-Z0-9_-]+)?(In|in|Out|out)([a-zA-Z0-9_-]+)?(Up|up|Down|down|Left|left|Right|right)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?roll([a-zA-Z0-9_-]+)?(In|in|Out|out)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?fall([a-zA-Z0-9_-]+)?(In|in|Out|out|Up|up|Down|down|Left|left|Right|right)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?flip([a-zA-Z0-9_-]+)?(In|in|Out|out|Up|up|Down|down|Left|left|Right|right)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?lightSpeed([a-zA-Z0-9_-]+)?(In|in|Out|out)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?rotate([a-zA-Z0-9_-]+)?(In|in|Out|out)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?zoom([a-zA-Z0-9_-]+)?(In|in|Out|out)([a-zA-Z0-9_-]+)?',\n\n\t// Post Status classes\n\t'([a-zA-Z0-9_-]+)?(publish|draft|pending|private|trash)([a-zA-Z0-9_-]+)?',\n\n\t// Basic post formats\n\t'(standard|aside|audio|chat|gallery|image|link|quote|status|video)',\n\n\t// Some functional classes\n\t'([a-zA-Z0-9_-]+)?(viewport|ltr|padding|inherit|margin|relative|transparent|visibility|hidden|active-slide|current-slide|hide|animated|draggable|resize|cloned|sortable|status|clearfix|clear|(clr|clfw)|clean|hover|default_template|ready|validate|false|true|loading|loaded|finished|center|delay|enabled|disabled|ga-track|raw_code|raw_html|padded|bold|initialised|even|odd|dismissable|underlined|flippable|clickable|gutter|animation|animate|transition)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?-(spacing-yes|spacing-no)',\n\t'([a-zA-Z0-9_-]+)?([-_]drag[-_]|drag[-_]|[-_]drag|active-slide|current-slide|selected-slide|slide-active|slide-current|slide-selected|draggable|sortable|dismissable|flippable|clickable|focus|viewport|ltr|inherit|relative|absolute|transparent|visibility|spaced|hidden|hideresize|cloned|status|clean|clr|clfw|ready|validate|false|true|loading|loaded|added|move|moving|finished|delay|enabled|disabled|bold|italic|initialised|even|odd|underlined|gutter|animation|animating|animate|transition|repeat|cursor|pointer|uppercase|lowecase|all-caps|capitalize|padding|margin|padded|[_-])(to|from)([_-])(top|left|right|bottom)([a-zA-Z0-9_-]+)?',\n\t'((?!n2)([a-zA-Z0-9_-]+)hover([_-])([a-zA-Z0-9]+)?|hover|hover([_-])([a-zA-Z0-9]+)?|(?!n2)([a-zA-Z0-9_-]+)hover|hovered)',\n\t'(?!n2)([a-zA-Z0-9_-]+)[-_]font([a-zA-Z0-9_-]+)?',\n\n\t'(lang|language|translate)([-_])([a-zA-Z0-9_-]+)?',\n\t'([_-]?)([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3}|rgba|rgb)([_-]?)?',\n\t'([a-zA-Z0-9_-]+)?rand',\n\t'([a-zA-Z0-9_-]+)?(mrg|pdg|m|p|pad|mar|margin|pading|padng|mrn)([-_])(t|r|b|l|btm|top|left|right|tp|lft|rght|bottom)([-_])([a-zA-Z0-9_-]+)',\n\t'is([_-])([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)none',\n\t'([a-zA-Z0-9_-]+)?with([_-])([a-zA-Z0-9]+)',\n\t'(display[-_]?block|display[-_]?inline|display[-_]?inline[-_]?block)',\n\t'(bottom|top|left|right|center|align|middle|up|down)[-_](bottom|top|left|right|center|align|middle|up|down)',\n\t'(bottom|top|left|right|center|align|middle|up|down)[-_](bottom|top|left|right|center|align|middle|up|down)[-_](bottom|top|left|right|center|align|middle|up|down)',\n\t'(not|no)([_-])([a-zA-Z0-9_-]+)?',\n\t'(roboto|lato|montserrat|slabo|raleway|merriweather|poppins|lora|titillium[-_]?web|muli|arimo)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)[-_](serif|sans|display|monospace|webfont)([a-zA-Z0-9_-]+)?',\n\t'page([_-])item',\n\t'([a-zA-Z0-9_-]+)?object([_-])page',\n\t'([a-zA-Z0-9_-]+)?closed',\n\t'thread([_-])alt',\n\t'([a-zA-Z0-9_-]+)?([_-])has([_-])?([a-zA-Z0-9_-]+)|([a-zA-Z0-9_-]+)?([_-])?has([_-])([a-zA-Z0-9_-]+)',\n\t'screen([_-])reader([_-])text',\n\t'tag-link([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(internet([-_])?explorer|opera|firefox|safari|chrome|product_tag|product_cat)([a-zA-Z0-9_-]+)?',\n\t'(img-responsive|ls-active|disappear|appear|noSwipe|wow|bootstrap-touchspin-down|section--no|cat-item|kc-elm|kc_column|selected|alternate_color|open-mega-a|sf-menu|sf-arrows|ajax|neg-marg|lazy|lazyload|lazy-img|text-shadow-small|full|sort|elementor-column-gap-no|n2-ow|et_pb_css_mix_blend_mode_passthrough|filterall|notranslate|vce|bordb|master-slider-parent|ms-sl-selected|non-hundred-percent-height-scrolling|hundred-percent-fullwidth|post-no-media|ie|form-label-above)',\n\t'([a-zA-Z0-9_-]+)?((syle|style)-default|nojquery|js-comp-ver|wpb-js-composer|disable-responsive-headings|ut-vc-|default([-_])template|ga-track|raw([-_])code|raw([-_])html|withbg|bg([-_])layout)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?-shd',\n\t'([a-zA-Z0-9_-]+)?video-aspect-ratio-([a-zA-Z0-9_-]+)',\n\t'([a-zA-Z0-9_-]+)?([-_])spacing([-_])(no|yes)',\n\t'n2-(ow|ss)-(all|desktop|mobile|tablet)',\n\t'([a-zA-Z0-9_-]+)?show-dropdown',\n\t'page-section-[a-zA-Z0-9]{13,13}',\n\n\t// Functional 3 party classes\n\t'([a-zA-Z0-9_-]+)?withbg([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?bg_layout([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?rand',\n\t'mrg-(btm|top|left|right|tp|lft|rght)-([a-zA-Z0-9_-]+)',\n\t'is([_-])([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)none',\n\n\t// WordPress Core\n\t'page([_-])item',\n\t'([a-zA-Z0-9_-]+)?object([_-])page',\n\t'([a-zA-Z0-9_-]+)?closed',\n\t'thread([_-])alt',\n\t'([a-zA-Z0-9_-]+)?([_-])has([_-])?([a-zA-Z0-9_-]+)|([a-zA-Z0-9_-]+)?([_-])?has([_-])([a-zA-Z0-9_-]+)',\n\t'screen([_-])reader([_-])text',\n\t'tag-link([a-zA-Z0-9_-]+)?',\n\t'post-no-media',\n\n\t// Browser Classes\n\t'([a-zA-Z0-9_-]+)?opera([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?firefox([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?safari([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?chrome([a-zA-Z0-9_-]+)?',\n\n\t// WooCommerce\n\t'([a-zA-Z0-9_-]+)?product_tag([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?product_cat([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?taxable([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?onsale([a-zA-Z0-9_-]+)?',\n\t'calculated_shipping',\n\t'currency([a-zA-Z0-9_-]+)?',\n\t'woocommerce-MyAccount-navigation-link--([a-zA-Z0-9_-]+)?',\n\n\t// Etc\n\t'img-responsive',\n\t'ls-active',\n\t'disappear',\n\t'appear',\n\t'noSwipe',\n\t'wow',\n\t'bootstrap-touchspin-down',\n\t'section--no',\n\t'cat-item',\n\t'([a-zA-Z0-9_-]+)?direction-ltr',\n\t'([a-zA-Z0-9_-]+)?show-dropdown',\n\t'kc-elm',\n\t'kc_column',\n\t'selected',\n\t'alternate_color',\n\t'open-mega-a',\n\t'sf-menu',\n\t'sf-arrows',\n\n\t'([a-zA-Z0-9_-]+)?nojquery([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?js-comp-ver([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?wpb-js-composer([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?-shd',\n\t'([a-zA-Z0-9_-]+)?with([_-])([a-zA-Z0-9]+)',\n\t'([a-zA-Z0-9_-]+)?m-t-([0-9])+([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(serif|sans|font|webfont)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?uppercase([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?([_-])(to|from)([_-])(top|left|right|bottom)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(cursor|pointer)([a-zA-Z0-9_-]+)?',\n\t'(not|no)([_-])([a-zA-Z0-9_-]+)?',\n\t'ajax',\n\t'neg-marg',\n\t'([a-zA-Z0-9_-]+)?video-aspect-ratio-([a-zA-Z0-9_-]+)',\n\t'lazy',\n\t'lazy-img',\n];\n\n/* ------------------------------------------*/\n/* Never uses the following nummeric classes */\n/* ------------------------------------------*/\nconst blockedDigitalClasses = [\n\t'([a-zA-Z0-9_-]+)?page([_-])item([_-])([0-9]+)',\n\t'(vc_|vc-)(.*?)(_|-)[a-zA-Z-0-9]{22,22}',\n\t'themify_builder_content-([0-9]+)',\n\t'themify_builder_([0-9]+)_row',\n\t'tb_([0-9]+)_column',\n\t'et_pb_image_([0-9]+)',\n\t'([a-zA-Z0-9_-]+)?(post|page|portfolio|product|work|port|form|video)([_-])([0-9]+)',\n\t'([a-zA-Z0-9_-]+)?(post|page|portfolio|product|work|port|form|video)([_-])(entry|item|id)([_-])([0-9]+)',\n\t'([0-9])+(px|em|rem)',\n\t'([a-zA-Z0-9_-]+)?wishlist-([0-9])+',\n\t'wpbs-bookable-([0-9])+',\n\t'wpbs-day-([0-9])+',\n\t'([a-zA-Z0-9_-]+)?rand-([0-9])+',\n\t'([a-zA-Z0-9_-]+)?(([-_])ie|ie8|ie9|ie10|ie11)',\n\t'testimonials-items-([a-zA-Z0-9_-]+)',\n\t'instance-([0-9]+)',\n];\n\n/* ------------------------------------------*/\n/* Allow just the following nummeric ids     */\n/* Ex: #section-15 is an allowed nummeric id */\n/* ------------------------------------------*/\nconst allowedDigitalIds = [\n\t// General\n\t'([a-zA-Z0-9_-]+)?(module|slide|section|row|layout|form|wrapper|container|parallax|block)([a-zA-Z0-9_-]+)?',\n\n\t// 3rd party plugin allowed ids\n\t'layers-widget-([a-zA-Z0-9_-]+)?',\n\t'builder-module-([a-zA-Z0-9_-]+)?',\n\t'pg-([a-zA-Z0-9_-]+)?',\n\t'ptpb_s([a-zA-Z0-9_-]+)?',\n\t'billing_address_([0-9])([a-zA-Z0-9_-]+)?',\n\t'el-([a-zA-Z0-9_-]+)',\n\t'dslc-module-([a-zA-Z0-9_-]+)',\n\t'module-([0-9]){13,13}-([0-9]){4,4}',\n\t'wrapper-([0-9]){13,13}-([0-9]){4,4}',\n\t'eluid([a-zA-Z0-9_-]+)',\n\t'nf-form-([0-9]+)-cont',\n\t'nf-field-([0-9]+)-wrap',\n\t'ulp-inline-([a-zA-Z0-9_-]+)?',\n\t'ulp-layer-([a-zA-Z0-9_-]+)?',\n\t'ulp-([a-zA-Z0-9_-]+)?',\n\t'esg-grid-([0-9]+)-([0-9]+)',\n\t'snp-bld-step-([0-9]+)',\n\t'snp-bld-step-([0-9]+)-el-([0-9]+)',\n\t'snppopup-content-([0-9]+)',\n\t'gform_([0-9]+)',\n];\n\nconst blockedIds = [\n\t'widget',\n\t'recentcomments',\n\t'fws_([a-zA-Z0-9_-]+)',\n\t'wrapper-[a-zA-Z-0-9]{16,16}',\n\t'rps_([a-zA-Z0-9_-]+)',\n\t'search-form-[a-zA-Z0-9]{13,13}',\n\t'fullwidth-block-[a-zA-Z0-9]{13,13}',\n\t'nf-field-([0-9]+)-container',\n\t'phantom',\n\t'wpforms-([0-9]+)-field_([0-9]+)([a-zA-Z0-9_-]+)?(!singleInspector)',\n\t'input_([0-9]+)_([0-9]+)_([0-9]+)_container(!singleInspector)',\n\t'gform_fields_([0-9]+)',\n];\n\n/* -------------------------------------------*/\n/* Unprefered classes that are not a priority */\n/* -------------------------------------------*/\nconst unPreferedClasses = [\n\t// Logical\n\t'([a-zA-Z0-9_-]+)([_-])',\n\t'([_-])([a-zA-Z0-9_-]+)',\n\t'([a-zA-Z0-9_-]+)?([_-])([_-])([a-zA-Z0-9_-]+)?', // multiple -_ ex: bad--class--name\n\n\t// WordPress Dynamic Classes\n\t'([a-zA-Z0-9_-]+)?([_-])([_-]|tag|category|cat)([_-]|format)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(tag|category|cat)([_-])([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?format([a-zA-Z0-9_-]+)?',\n\t'menu([_-])item([_-])type([_-])post([_-])type',\n\t'menu([_-])item([_-])object([_-])page',\n\t'menu([_-])item([_-])(object|type)([_-])custom',\n\t'widget_([a-zA-Z0-9_-]+)',\n\t'bg([-_])([a-zA-Z0-9_-]+)',\n\n\t// Modern Columns.\n\t'([a-zA-Z0-9_-]+)?([_-])(l|m|s|xs)([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?pure([_-])([a-zA-Z0-9_-]+)?([_-])u([_-])[0-9]+([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?col([_-])([a-zA-Z0-9_-]+)?([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?col([_-])([a-zA-Z0-9_-]+)?([_-])offset([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?(medium|large|small)([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?(medium|large|small)([_-])([a-zA-Z0-9_-]+)?([_-])[0-9]+',\n\n\t// Bootstrap Classes\n\t'(xs|s|m|l|xl|xsmall|small|medium|large|xlarge)([_-])(start|end|center|between)',\n\t'([a-zA-Z0-9_-]+)?(small|medium|large)([_-])(push|pull)([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?span[0-9]+',\n\t'([a-zA-Z0-9_-]+)?span([_-])?[0-9]+',\n\t'([a-zA-Z0-9_-]+)?col([_-])[0-9]+([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?col([_-])[0-9]+',\n\n\t// Classic Grid Columns\n\t'(column|columns|col)',\n\t'([a-zA-Z0-9_-]+)(one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve)([a-zA-Z0-9_-]+)',\n\n\t// Structural\n\t'([a-zA-Z0-9_-]+)?(sticky|fixed|logged|print|visible|trigger|required)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?pull([a-zA-Z0-9_-]+)(left|right)',\n\t'(left|right)',\n\t'([a-zA-Z0-9_-]+)?([_-])(yes|no)([_-]|yes|no)([_-]|([_-])(yes|no)[_-]|is([_-])active|clearfix|clear)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?([_-])(yes|no)([_-])([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(yes|no)([_-])([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?([_-])(yes|no)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?is([_-])active([a-zA-Z0-9_-]+)?',\n\t'(xsmall|x?[-_]small|small|large|medium|huge|normal)',\n\t'(?!n2-)([a-zA-Z0-9_-]+)style([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?first',\n\t'([a-zA-Z0-9_-]+)?last',\n\t'([a-zA-Z0-9_-]+)?text([_-])justify',\n\t'([a-zA-Z0-9_-]+)?effect([0-9_-]+)',\n\n\t// Dynamic CSS classes.\n\t'([a-zA-Z0-9_-]+)?(background|width|height|position|parent|color|layout|invert|scroll|equal|square|([_-])skin|skin([_-])|toggled|style([0-9_-]+)|rounded|radius|type|dynamic|row|border|align|dimension|inline-inside|corner-pointed|float|last-child|first-child|hide|show|parallax|responsive|intense|completed|with_ajax|no-sibling)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?first',\n\t'([a-zA-Z0-9_-]+)?last',\n\t'([a-zA-Z0-9_-]+)?text([_-])justify',\n\t'([a-zA-Z0-9_-]+)?align([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?effect([0-9_-]+)',\n\t'([a-zA-Z0-9_-]+)?dimension([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?inline-inside([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?corner-pointed([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(round|scale|shadow|rotate|default|minimal|anim|pos[-_]align|angled)([a-zA-Z0-9_-]+)?',\n\n\t// General Theme Option Classes\n\t'([a-zA-Z0-9_-]+)([_-])(on|off)',\n\t'([a-zA-Z0-9_-]+)default([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)size([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)mobile([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)desktop([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)populated([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?hide([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?show([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?parallax([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?responsive([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?intense([a-zA-Z0-9_-]+)?',\n\n\t// Unyson\n\t'unyson-page',\n\t'end',\n\n\t// Pagenavi\n\t'larger',\n\t'smaller',\n\n\t// Buddypress\n\t'created_group',\n\t'mini',\n\t'activity_update',\n\n\t// Force Builder\n\t'forge-block',\n\t'forge-',\n\n\t// Elementor\n\t'elementor-section-items-middle',\n\n\t// Themify\n\t'themify_builder',\n\t'module',\n\n\t// Live composer\n\t'dslc-post-no-thumb',\n\n\t// WooCommerce\n\t'downloadable',\n\t'purchasable',\n\t'instock',\n\n\t// Others\n\t'above',\n\t'open',\n\n\t// Enfold\n\t'template-page',\n\t'alpha',\n\t'units',\n\t'flex_column_div',\n\t'([a-zA-Z0-9_-]+)?no-sibling([a-zA-Z0-9_-]+)?',\n\n\t'([a-zA-Z0-9_-]+)?float([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(blue|black|red|dark|white|light|green|yellow|purple|pink|orange|brown|gray)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(black|dark|white|light)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?last-child([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?first-child([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)([_-])only',\n\t'([a-zA-Z0-9_-]+)?(text-left|text-right)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(round|scale|shadow|rotate|default|minimal|animsition|nimation)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(text-left|text-center|text-right)([a-zA-Z0-9_-]+)?',\n\t'(unyson-page|end|larger|smaller|height-full|created_group|mini|activity_update|forge-block|forge-|elementor-section-items-middle|themify_builder|module|dslc-post-no-thumb|downloadable|purchasable|instock|above|open|template-page|alpha|units|flex_column_div|woocommerce|affix-top|st-menu|circle|vc_figure|vc_general|waves-effect|collapsed|collapse)',\n\t'woocommerce',\n\t'affix-top',\n\t'st-menu',\n\t'circle',\n\t'vc_figure',\n\t'vc_general',\n\t'waves-effect',\n\t'collapsed',\n\t'collapse',\n];\n\n/* ------------------------------------------------*/\n/* Exclude the structural classes in the selector. */\n/* ex: col-md-8, exclude it if no need.            */\n/* ----------------------------------------------- */\nconst unPreferedSelectors = [\n\t'([a-zA-Z0-9_-]+)?(inner|overlay|container|google-fonts|fl-col-content)([a-zA-Z0-9_-]+)?',\n\t'elementor([a-zA-Z0-9_-]+)?(column|gap|wide|wrap)([a-zA-Z0-9_-]+)?',\n\t'ms-([a-zA-Z0-9_-]+)-view',\n\t'(kc-wrap-columns|dslc-modules-section-wrapper|av-content-full|ninja-forms-form-wrap|nf-fields-wrap|nf-field-element|tp-tab-mask|n2-ss-section-outer|sp-mask|sp-grab|ms-slide-layers|ls-layers|snp-fb|form_sublabel_below|gform_body)',\n];\n\n/* -----------------------------------------------*/\n/* Process these nummeric classes as non nummeric */\n/* -----------------------------------------------*/\nconst filterNumSkipBest = [ '([a-zA-Z0-9_-]+)?(wpcf7|mc4wp)([a-zA-Z0-9_-]+)?' ];\n\n/* -------------------------- */\n/* Prefered tags as selectors */\n/* -------------------------- */\nconst simpleLikedTags = [\n\t'h1',\n\t'h2',\n\t'h3',\n\t'h4',\n\t'h5',\n\t'h6',\n\t'p',\n\t'span',\n\t'img',\n\t'strong',\n\t'a',\n\t'li',\n\t'i',\n\t'ul',\n\t'header',\n\t'footer',\n\t'article',\n\t'b',\n\t'em',\n\t'code',\n\t'form',\n\t'label',\n\t'ol',\n\t'small',\n\t'blockquote',\n\t'nav',\n];\n\nfunction maybeAddTag( tagName: string, selector: string | undefined ) {\n\tif ( ! selector ) {\n\t\treturn undefined;\n\t}\n\n\tselector = spaceCleaner( selector );\n\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\tconst [ last = '', ...parts ] = selector.split( ' ' ).reverse();\n\tif ( ! /^[^a-zA-Z]/.test( last ) ) {\n\t\treturn selector;\n\t}\n\n\ttagName = tagName.toLowerCase();\n\treturn [ `${ tagName }${ last }`, ...parts ].reverse().join( ' ' );\n}\n","/**\n * External dependencies\n */\nimport { ExperimentId, Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport {\n\tappendStyle,\n\tdomReady,\n\telementReady,\n\theadReady,\n} from '../utils/helpers';\nimport { getCssPath } from '../../admin/scripts/css-selector-finder/css-path';\n\nimport type { Experiment, ActiveExperiment, ScriptAlternative } from '../types';\n\nconst WARNING_TIME_SECONDS = 5;\nconst LONG_TIME_IN_MS = Number.MAX_SAFE_INTEGER;\n\nexport const applyAutoInlineExperiments = async (\n\texperiments: ReadonlyArray< Experiment >\n): Promise< void > => {\n\tawait applyAutoInlineExperimentsOn( 'header', experiments );\n\tawait applyAutoInlineExperimentsOn( 'footer', experiments );\n};\n\nconst applyAutoInlineExperimentsOn = (\n\tinlineLoad: 'header' | 'footer',\n\texperiments: ReadonlyArray< Experiment >\n): Promise< void > =>\n\tnew Promise( ( resolve ) => {\n\t\tconst inlineExperiments = experiments.filter(\n\t\t\t( experiment ): experiment is ActiveExperiment =>\n\t\t\t\texperiment.active && experiment.inline?.load === inlineLoad\n\t\t);\n\n\t\tif ( ! inlineExperiments.length ) {\n\t\t\treturn resolve();\n\t\t}\n\n\t\tconst onReady = 'header' === inlineLoad ? headReady : domReady;\n\t\tonReady( async () => {\n\t\t\tawait Promise.all( inlineExperiments.map( applyExperiment ) );\n\t\t\tresolve();\n\t\t} );\n\t} );\n\n// ========\n// INTERNAL\n// ========\n\nconst applyExperiment = async (\n\texperiment: ActiveExperiment\n): Promise< void > => {\n\tif ( ! experiment.inline ) {\n\t\treturn;\n\t}\n\n\tswitch ( experiment.inline.mode ) {\n\t\tcase 'unwrap':\n\t\t\treturn applyUnwrapExperiment( experiment );\n\t\tcase 'visibility':\n\t\t\treturn applyVisibilityExperiment( experiment );\n\t\tcase 'script':\n\t\t\treturn await applyScriptExperiment( experiment );\n\t}\n};\n\nconst applyUnwrapExperiment = ( experiment: ActiveExperiment ) => {\n\tconst exp = experiment.id;\n\tconst alt = experiment.alternative;\n\tArray.from(\n\t\tdocument.querySelectorAll( `.nab-exp-${ exp }.nab-alt-${ alt }` )\n\t).forEach(\n\t\t( node ) =>\n\t\t\tnode.innerHTML.trim() &&\n\t\t\tnode.insertAdjacentHTML( 'afterend', node.innerHTML )\n\t);\n\tArray.from( document.querySelectorAll( `.nab-exp-${ exp }` ) ).forEach(\n\t\t( node ) => node.parentNode?.removeChild( node )\n\t);\n};\n\nconst applyVisibilityExperiment = ( experiment: ActiveExperiment ) => {\n\tconst exp = experiment.id;\n\tconst alt = experiment.alternative;\n\tArray.from(\n\t\tdocument.querySelectorAll< HTMLElement >(\n\t\t\t`.nab-exp-${ exp }.nab-alt-${ alt }`\n\t\t)\n\t).forEach( ( node ) => {\n\t\tnode.style.display = '';\n\t} );\n\tArray.from( document.querySelectorAll( `.nab-exp-${ exp }` ) ).forEach(\n\t\t( node ) => node.parentNode?.removeChild( node )\n\t);\n};\n\nconst applyScriptExperiment = (\n\texperiment: ActiveExperiment\n): Promise< void > =>\n\tnew Promise( ( doResolve ) => {\n\t\tconst disableTimeout = addWarningAfterDomReady(\n\t\t\t`[NAB] Variant in experiment ${ experiment.id } did not call done() within ${ WARNING_TIME_SECONDS } seconds. Tracking is paused until done() is invoked.`,\n\t\t\tWARNING_TIME_SECONDS\n\t\t);\n\n\t\tconst resolve = () => {\n\t\t\tdisableTimeout();\n\t\t\tdoResolve();\n\t\t};\n\n\t\tif ( ! isScriptExperiment( experiment ) ) {\n\t\t\treturn resolve();\n\t\t}\n\n\t\tconst done = () => {\n\t\t\tresolve();\n\t\t\tgetViewTracker()( experiment.id );\n\t\t};\n\n\t\tconst alt = experiment.alternative;\n\t\treturn experiment.alternatives[ alt ]?.run( done, {\n\t\t\tappendStyle,\n\t\t\tdomReady,\n\t\t\telementReady,\n\t\t\tgetCssPath,\n\t\t\tshowContent: resolve,\n\t\t} );\n\t} );\n\nfunction addWarningAfterDomReady( message: string, delayInSeconds = 0 ) {\n\tlet timeout: NodeJS.Timeout | null = setTimeout(\n\t\t// eslint-disable-next-line no-console\n\t\t() => console.info( message ),\n\t\tLONG_TIME_IN_MS\n\t);\n\n\tdomReady( () => {\n\t\tif ( ! timeout ) {\n\t\t\treturn;\n\t\t}\n\t\tclearTimeout( timeout );\n\t\ttimeout = setTimeout(\n\t\t\t// eslint-disable-next-line no-console\n\t\t\t() => console.info( message ),\n\t\t\tdelayInSeconds * 1000\n\t\t);\n\t} );\n\n\treturn () => {\n\t\tclearTimeout( timeout || 0 );\n\t\ttimeout = null;\n\t};\n}\n\nconst isScriptExperiment = (\n\texperiment: ActiveExperiment\n): experiment is ActiveExperiment & {\n\talternatives: ReadonlyArray< ScriptAlternative >;\n} => experiment.inline?.mode === 'script';\n\nfunction getViewTracker(): ( id: ExperimentId ) => void {\n\t/* eslint-disable */\n\tconst win = window as any;\n\tconst nab = win.nab as any;\n\tconst view = nab?.view as Maybe< ( id: ExperimentId ) => void >;\n\t/* eslint-enable */\n\treturn view ?? ( () => void null );\n}\n","/**\n * Internal dependencies\n */\nimport { applyAutoInlineExperiments } from './apply-auto-inline-experiments';\nimport { headReady, flow, log, preloadQueryArgs } from '../utils/helpers';\nimport { areSegmentsValid } from '../utils/segmentation';\nimport {\n\taddNabQueryArg,\n\taddQueryArgs,\n\tgetQueryArg,\n\tgetQueryArgs,\n\tremoveArgsAndHash,\n\tremoveQueryArgs,\n\tremoveTestingArgs,\n\tREFERRER_PARAM,\n} from '../utils/url';\nimport type { ActiveExperiment, Session } from '../types';\n\nexport async function loadAlternative( session: Session ): Promise< boolean > {\n\tif (\n\t\t! isCookieTestingEnabled( session ) &&\n\t\t! areSegmentsValid( session )\n\t) {\n\t\tlog( 'Invalid segmentation' );\n\t\tawait loadUntestedControl();\n\t\treturn false;\n\t}\n\n\tif ( wasCookieTestingUpdated( session ) ) {\n\t\tawait refresh( session );\n\t\treturn false;\n\t}\n\n\tconst targetUrl = getExpectedAlternativeUrl( session );\n\tawait loadPage( session, targetUrl );\n\tawait applyAutoInlineExperiments( session.experiments );\n\tremoveOverlay();\n\treturn true;\n}\n\nexport const loadUntestedControl = (): Promise< void > =>\n\tnew Promise( ( resolve ) => {\n\t\tconst url = document.location.href;\n\t\tconst args = getQueryArgs( url );\n\t\tif ( args.nab === undefined ) {\n\t\t\tremoveOverlay();\n\t\t\treturn resolve();\n\t\t}\n\t\tdocument.location.href = removeTestingArgs( url );\n\t} );\n\n// =======\n// HELPERS\n// =======\n\nfunction wasCookieTestingUpdated( session: Session ) {\n\treturn (\n\t\tisCookieTestingEnabled( session ) &&\n\t\t'nabforce' in getQueryArgs( session.currentUrl )\n\t);\n}\n\nfunction getExpectedAlternativeUrl( session: Session ): string {\n\tif ( session.numOfAlternatives <= 1 ) {\n\t\treturn session.untestedUrl;\n\t}\n\n\tconst urls = session.alternativeUrls;\n\tconst nab = session.alternative % session.numOfAlternatives;\n\tif ( ! urls.length ) {\n\t\treturn addNabQueryArg( session.untestedUrl, nab, session.nabPosition );\n\t}\n\n\t// @ts-expect-error urls is not empty and the index is always within range.\n\tconst expectedAlternativeUrl: string = urls[ nab % urls.length ];\n\treturn flow(\n\t\t( url: string ) => addMissingArguments( url ),\n\t\t( url: string ) => maybeAddHash( url ),\n\t\t( url: string ) => addNabQueryArg( url, nab, session.nabPosition )\n\t)( expectedAlternativeUrl );\n}\n\nconst loadPage = ( session: Session, targetUrl: string ): Promise< void > =>\n\tnew Promise( ( resolve ) => {\n\t\tconst validateCurrentUrl = () => {\n\t\t\tmaybeReplaceUrlWithControlUrl( session );\n\t\t\tcleanTestingQueryArgs( session );\n\t\t\tpreloadQueryArgs( session );\n\t\t\tresolve();\n\t\t};\n\n\t\tif ( session.isTestedPostRequest ) {\n\t\t\tupdateUrl( targetUrl );\n\t\t\treturn validateCurrentUrl();\n\t\t}\n\n\t\tif ( areUrlsEqual( session, targetUrl, session.currentUrl ) ) {\n\t\t\tupdateUrl( targetUrl );\n\t\t\treturn validateCurrentUrl();\n\t\t}\n\n\t\tif ( isTargetUrlCompletelyDifferent( session, targetUrl ) ) {\n\t\t\t// Dont resolve -- just wait for the redirection to complete.\n\t\t\tredirect( session, targetUrl );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isCurrentUrlJustMissingNab( session, targetUrl ) ) {\n\t\t\tupdateUrl( targetUrl );\n\t\t\treturn validateCurrentUrl();\n\t\t}\n\n\t\tif ( doesCurrentUrlHaveCompatibleNab( session, targetUrl ) ) {\n\t\t\tupdateUrl( targetUrl );\n\t\t\treturn validateCurrentUrl();\n\t\t}\n\n\t\tif ( isAlternativeRequestNoLongerValid( session ) ) {\n\t\t\tstayWithNoTestingArgs();\n\t\t\treturn validateCurrentUrl();\n\t\t}\n\n\t\t// Dont resolve -- just wait for the redirection to complete.\n\t\tredirect( session, targetUrl );\n\t} );\n\nconst refresh = ( session: Session ) =>\n\tnew Promise< void >( () => redirect( session, session.untestedUrl ) );\n\nfunction redirect( session: Session, targetUrl: string ) {\n\tif ( isCookieTestingEnabled( session ) ) {\n\t\ttargetUrl = removeQueryArgs( targetUrl, 'nab' );\n\t}\n\n\theadReady(\n\t\t() =>\n\t\t\tdocument.querySelector( 'html' )?.classList.add( 'nab-redirecting' )\n\t);\n\n\tif ( ! document.location.replace ) {\n\t\tdocument.location.href = targetUrl;\n\t\treturn;\n\t}\n\tdocument.location.replace( targetUrl );\n}\n\nconst removeOverlay = () => {\n\tconst overlay = document.getElementById( 'nelio-ab-testing-overlay' );\n\tif ( overlay ) {\n\t\toverlay.parentNode?.removeChild( overlay );\n\t} else {\n\t\theadReady( () => document.body.classList.add( 'nab-done' ) );\n\t}\n};\n\nfunction updateUrl( url: string ) {\n\ttry {\n\t\twindow.history.replaceState( {}, '', url );\n\t} catch ( _ ) {}\n}\n\nfunction stayWithNoTestingArgs() {\n\tcleanTestingQueryArgs( { hideQueryArgs: true } );\n}\n\nfunction isTargetUrlCompletelyDifferent(\n\tsession: Session,\n\ttargetUrl: string\n): boolean {\n\tconst cleanCurrentUrl = maybeRemoveTrailingSlash(\n\t\tsession.untestedUrl,\n\t\tsession\n\t);\n\tconst cleanTargetUrl = maybeRemoveTrailingSlash(\n\t\tremoveTestingArgs( targetUrl ),\n\t\tsession\n\t);\n\treturn cleanCurrentUrl !== cleanTargetUrl;\n}\n\nfunction isCurrentUrlJustMissingNab( session: Session, targetUrl: string ) {\n\tif ( isTargetUrlCompletelyDifferent( session, targetUrl ) ) {\n\t\treturn false;\n\t}\n\n\tconst { currentUrl } = session;\n\tconst isNabAlreadyThere = undefined !== getQueryArg( currentUrl, 'nab' );\n\tconst isNabExpected = undefined !== getQueryArg( targetUrl, 'nab' );\n\tif ( isNabAlreadyThere || ! isNabExpected ) {\n\t\treturn false;\n\t}\n\n\tif ( isCookieTestingEnabled( session ) ) {\n\t\treturn true;\n\t}\n\n\tif ( areAllExperimentsInline( session ) ) {\n\t\treturn true;\n\t}\n\n\treturn doAllExperimentsLoadControlVariant( session );\n}\n\nfunction doesCurrentUrlHaveCompatibleNab(\n\tsession: Session,\n\ttargetUrl: string\n) {\n\tif ( session.maxCombinations <= 1 ) {\n\t\treturn false;\n\t}\n\n\tconst actualNab = Number.parseInt(\n\t\tgetQueryArg( session.currentUrl, 'nab' ) ?? ''\n\t);\n\tif ( isNaN( actualNab ) ) {\n\t\treturn false;\n\t}\n\n\tconst expectedNab = Number.parseInt(\n\t\tgetQueryArg( targetUrl, 'nab' ) ?? ''\n\t);\n\tif ( isNaN( expectedNab ) ) {\n\t\treturn false;\n\t}\n\n\tconst actual = actualNab % session.numOfAlternatives;\n\tconst expected = expectedNab % session.numOfAlternatives;\n\treturn actual === expected;\n}\n\nfunction isAlternativeRequestNoLongerValid( session: Session ) {\n\tconst actualNab = getQueryArg( document.location.search, 'nab' );\n\tconst isAlternativeRequest = undefined !== actualNab;\n\treturn 0 === session.numOfAlternatives && isAlternativeRequest;\n}\n\nfunction getReferrer() {\n\tconst referrerValue = getQueryArg(\n\t\tdocument.location.search,\n\t\tREFERRER_PARAM\n\t);\n\tif ( referrerValue ) {\n\t\treturn decodeURIComponent( referrerValue );\n\t}\n\n\tconst referrer = document.referrer;\n\tconst currentUrl = document.location.href;\n\tif ( isSameDomain( currentUrl, referrer ) ) {\n\t\treturn false;\n\t}\n\n\treturn referrer;\n}\n\nfunction isSameDomain( oneUrl = '', anotherUrl = '' ) {\n\tconst clean = ( x: string ) =>\n\t\tx.replace( /^https?:\\/\\//, '' ).replace( /\\/.*$/, '' );\n\treturn clean( oneUrl ) === clean( anotherUrl );\n}\n\nfunction maybeReplaceUrlWithControlUrl( session: Session ) {\n\tif ( ! session.useControlUrl ) {\n\t\treturn;\n\t}\n\n\tconst alternativeUrl = session.alternativeUrls[ 0 ];\n\tif ( ! alternativeUrl ) {\n\t\treturn;\n\t}\n\n\tconst args = getQueryArgs( document.location.href );\n\tconst url = addQueryArgs( alternativeUrl, args );\n\ttry {\n\t\twindow.history.replaceState( {}, '', url );\n\t} catch ( _ ) {}\n}\n\nfunction cleanTestingQueryArgs( session: Pick< Session, 'hideQueryArgs' > ) {\n\tconst url = removeTestingArgs(\n\t\tdocument.location.href,\n\t\t! session.hideQueryArgs\n\t);\n\ttry {\n\t\twindow.history.replaceState( {}, '', url );\n\t} catch ( _ ) {}\n}\n\nfunction areUrlsEqual( session: Session, oneUrl = '', anotherUrl = '' ) {\n\tlet oneCleanUrl = removeArgsAndHash( oneUrl );\n\tlet anotherCleanUrl = removeArgsAndHash( anotherUrl );\n\n\tif ( session.ignoreTrailingSlash ) {\n\t\toneCleanUrl = `${ oneCleanUrl }/`.replace( /\\/\\/$/, '/' );\n\t\tanotherCleanUrl = `${ anotherCleanUrl }/`.replace( /\\/\\/$/, '/' );\n\t}\n\n\tif ( oneCleanUrl !== anotherCleanUrl ) {\n\t\treturn false;\n\t}\n\n\tconst oneArgs = getQueryArgs( oneUrl );\n\tconst anotherArgs = getQueryArgs( anotherUrl );\n\n\tconst oneArgKeys = Object.keys( oneArgs );\n\tconst anotherArgKeys = Object.keys( anotherArgs );\n\tif ( oneArgKeys.length !== anotherArgKeys.length ) {\n\t\treturn false;\n\t}\n\n\tfor ( const key of oneArgKeys ) {\n\t\tif ( ! anotherArgKeys.includes( key ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfor ( const key of oneArgKeys ) {\n\t\tif ( oneArgs[ key ] !== anotherArgs[ key ] ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nfunction addMissingArguments( url: string ) {\n\tconst expectedArguments = getQueryArgs( url );\n\tconst currentArguments = getQueryArgs( document.location.search );\n\n\tdelete currentArguments.nab;\n\tdelete currentArguments.nabforce;\n\tdelete currentArguments[ REFERRER_PARAM ];\n\n\turl = addQueryArgs( url, {\n\t\t...currentArguments,\n\t\t...expectedArguments,\n\t} );\n\n\tconst referrer = getReferrer();\n\tif ( ! referrer ) {\n\t\treturn url;\n\t}\n\n\treturn addQueryArgs( url, { [ REFERRER_PARAM ]: referrer } );\n}\n\nfunction maybeAddHash( url: string ) {\n\tif ( -1 !== url.indexOf( '#' ) ) {\n\t\treturn url;\n\t}\n\n\treturn url + document.location.hash;\n}\n\nfunction maybeRemoveTrailingSlash( url: string, session: Session ) {\n\tif ( ! session.ignoreTrailingSlash ) {\n\t\treturn url;\n\t}\n\treturn url.includes( '?' )\n\t\t? url.replace( '/?', '?' )\n\t\t: url.replace( /\\/$/, '' );\n}\n\nfunction areAllExperimentsInline( session: Session ) {\n\treturn session.experiments\n\t\t.filter( ( e ): e is ActiveExperiment => e.active )\n\t\t.every( ( e ) => !! e.inline );\n}\n\nfunction doAllExperimentsLoadControlVariant( session: Session ) {\n\tconst activeExperiments = session.experiments.filter(\n\t\t( e ): e is ActiveExperiment => e.active\n\t);\n\tconst first = activeExperiments[ 0 ];\n\tif ( ! first ) {\n\t\treturn true;\n\t}\n\n\tif ( first.alternative !== 0 ) {\n\t\treturn false;\n\t}\n\n\treturn activeExperiments.every(\n\t\t( e ) => e.alternative === first.alternative\n\t);\n}\n\nfunction isCookieTestingEnabled( session: Session ) {\n\treturn false !== session.cookieTesting;\n}\n","/**\n * External dependencies\n */\nimport once from 'lodash/once';\n\n/**\n * Internal dependencies\n */\nimport { LISTENERS } from './listeners';\nimport { sendConversions } from './sync';\nimport { getAllActions, getConvertingGoals } from './utils';\nimport type { ConvertibleAction, Session } from '../types';\n\nimport type { Attributes as ClickAttrs } from '../../../../packages/conversion-action-library/click/types';\nimport type { Attributes as EngagementAttrs } from '../../../../packages/conversion-action-library/engagement/types';\nimport type { Attributes as ScrollAttrs } from '../../../../packages/conversion-action-library/scroll/types';\nimport type { Attributes as TimeAttrs } from '../../../../packages/conversion-action-library/time-on-page/types';\n\nexport const initConversionTracking = once( ( session: Session ): void => {\n\tsendConvertingPageViews( session );\n\taddActionListeners( session );\n} );\n\n// =======\n// HELPERS\n// =======\n\nfunction sendConvertingPageViews( session: Session ) {\n\tconst { experiments } = session;\n\n\tconst events = getConvertingGoals(\n\t\texperiments,\n\t\t( action ) => action.active && 'nab/page-view' === action.type\n\t);\n\tsendConversions( events, session );\n}\n\nfunction addActionListeners( session: Session ) {\n\tconst allActions = getAllActions( session.experiments )\n\t\t.filter( ( action ) => action.active )\n\t\t.filter( ( action ) => 'nab/page-view' !== action.type )\n\t\t.flatMap( ( action ) =>\n\t\t\tisEngagementAction( action )\n\t\t\t\t? expandEngagementAction( action )\n\t\t\t\t: [ action ]\n\t\t);\n\tLISTENERS.forEach( ( listener ) =>\n\t\tlistener( allActions, ( actions ) =>\n\t\t\tsendConversions( actions, session )\n\t\t)\n\t);\n}\n\nconst isEngagementAction = (\n\taction: ConvertibleAction\n): action is ConvertibleAction< EngagementAttrs > =>\n\taction.type === 'nab/engagement';\n\nfunction expandEngagementAction(\n\taction: ConvertibleAction\n): [\n\tConvertibleAction< ClickAttrs >,\n\tConvertibleAction< ScrollAttrs >,\n\tConvertibleAction< TimeAttrs >,\n] {\n\treturn [\n\t\t{\n\t\t\t...action,\n\t\t\ttype: 'nab/click',\n\t\t\tattributes: {\n\t\t\t\tmode: 'css',\n\t\t\t\tvalue: 'a, button, input, textarea, select, summary, [role=\"button\"], [tabindex], [data-clickable=\"true\"]',\n\t\t\t\tdelay: 3,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\t...action,\n\t\t\ttype: 'nab/scroll',\n\t\t\tattributes: {\n\t\t\t\tvalue: 50,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\t...action,\n\t\t\ttype: 'nab/time-on-page',\n\t\t\tattributes: {\n\t\t\t\tvalue: 10,\n\t\t\t},\n\t\t},\n\t];\n}\n","/**\n * External dependencies\n */\nimport type { ConversionEvent, Maybe, TrackEvent } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Session, Settings } from '../types';\nimport { getSettings } from '../utils/helpers/internal/get-settings';\n\nfunction sendToGA4( eventData: TrackEvent ) {\n\tconst settings = getSettings();\n\tif (\n\t\t( ! settings?.ga4TrackingMethod ||\n\t\t\tsettings.ga4TrackingMethod === 'gtm' ) &&\n\t\thasDataLayer( window )\n\t) {\n\t\twindow.dataLayer.push( {\n\t\t\tevent:\n\t\t\t\teventData.kind === 'visit'\n\t\t\t\t\t? 'experiment_impression'\n\t\t\t\t\t: 'conversion',\n\t\t\texperiment_id: eventData.experiment,\n\t\t\tvariant_id: eventData.alternative,\n\t\t\tvariant_name: getVariantName( settings, eventData ),\n\t\t\t...( eventData.kind === 'conversion' && {\n\t\t\t\tgoal_id: eventData.goal,\n\t\t\t\tgoal_name: getGoalName( settings, eventData ),\n\t\t\t} ),\n\t\t} );\n\t} else if (\n\t\t( ! settings?.ga4TrackingMethod ||\n\t\t\tsettings.ga4TrackingMethod === 'gtag' ) &&\n\t\thasGTag( window )\n\t) {\n\t\twindow.gtag(\n\t\t\t'event',\n\t\t\teventData.kind === 'visit' ? 'experiment_impression' : 'conversion',\n\t\t\t{\n\t\t\t\texperiment_id: eventData.experiment,\n\t\t\t\tvariant_id: eventData.alternative,\n\t\t\t\tvariant_name: getVariantName( settings, eventData ),\n\t\t\t\t...( eventData.kind === 'conversion' && {\n\t\t\t\t\tgoal_id: eventData.goal,\n\t\t\t\t\tgoal_name: getGoalName( settings, eventData ),\n\t\t\t\t} ),\n\t\t\t}\n\t\t);\n\t}\n}\n\nconst hasGTag = (\n\twin: unknown\n): win is {\n\tgtag: (\n\t\tcommand: string,\n\t\teventName: string,\n\t\tparams?: Record< string, unknown >\n\t) => void;\n} => !! win && 'object' === typeof win && 'gtag' in win;\n\nconst hasDataLayer = (\n\twin: unknown\n): win is {\n\tdataLayer: Array< Record< string, unknown > >;\n} => !! win && 'object' === typeof win && 'dataLayer' in win;\n\nexport function initGA4Tracking( session: Session ): void {\n\tif ( ! session.isGA4Integrated ) {\n\t\treturn;\n\t}\n\n\twindow.addEventListener(\n\t\t'nelio-ab-testing/track',\n\t\t( e: CustomEventInit< { event: TrackEvent } > ) => {\n\t\t\tif (\n\t\t\t\te.detail &&\n\t\t\t\te.detail.event &&\n\t\t\t\t[ 'visit', 'conversion' ].includes( e.detail.event.kind )\n\t\t\t) {\n\t\t\t\tsendToGA4( e.detail.event );\n\t\t\t}\n\t\t}\n\t);\n}\n\nexport function getGA4ClientId(): string | undefined {\n\tconst match = document.cookie.match( /_ga=GA\\d\\.\\d\\.(\\d+\\.\\d+)/ );\n\treturn match ? match[ 1 ] : undefined;\n}\n\nfunction getVariantName(\n\tsettings: Maybe< Required< Settings > >,\n\teventData: TrackEvent\n): Maybe< string > {\n\tif ( ! settings ) {\n\t\treturn undefined;\n\t}\n\n\tconst exp = settings.experiments.find(\n\t\t( e ) => e.id === eventData.experiment\n\t);\n\tif ( ! exp ) {\n\t\treturn undefined;\n\t}\n\n\tif ( ! exp.alternatives ) {\n\t\treturn undefined;\n\t}\n\n\tif ( ! exp.alternatives[ eventData.alternative ] ) {\n\t\treturn undefined;\n\t}\n\n\tconst alt = exp.alternatives[ eventData.alternative ];\n\tif (\n\t\t!! alt &&\n\t\ttypeof alt === 'object' &&\n\t\t'name' in alt &&\n\t\ttypeof alt.name === 'string'\n\t) {\n\t\treturn alt.name;\n\t}\n\n\treturn eventData.alternative === 0\n\t\t? 'Control'\n\t\t: `Variant ${ eventData.alternative }`;\n}\n\nfunction getGoalName(\n\tsettings: Maybe< Required< Settings > >,\n\teventData: ConversionEvent\n): Maybe< string > {\n\tif ( ! settings ) {\n\t\treturn undefined;\n\t}\n\n\tconst exp = settings.experiments.find(\n\t\t( e ) => e.id === eventData.experiment\n\t);\n\tif ( ! exp ) {\n\t\treturn undefined;\n\t}\n\n\tif ( ! exp.goals ) {\n\t\treturn undefined;\n\t}\n\n\tif ( ! exp.goals[ eventData.goal ] ) {\n\t\treturn undefined;\n\t}\n\n\tconst goal = exp.goals[ eventData.goal ];\n\tif ( ! goal ) {\n\t\treturn undefined;\n\t}\n\n\treturn goal.name;\n}\n","/**\n * External dependencies\n */\nimport type { ClickEvent, Maybe, ScrollEvent } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { xPath } from './xpath';\nimport { track } from './sync';\nimport type { Session } from '../types';\n\nimport { domReady, getDocumentHeight } from '../utils/helpers';\n\nconst ROW_HEIGHT_FOR_SHOW_TIME_TRACKING = 50;\nconst SHOW_TIME_UPDATE_INTERVAL_IN_MS = 500;\nconst SHOW_TIME_UPDATE_MAX_DURATION_IN_MS = 2 * 60 * 1000; // 2 minutes\n\nexport function initHeatmapTracking( session: Session ): void {\n\tdomReady( () => doInitHeatmapTracking( session ) );\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction doInitHeatmapTracking( session: Session ) {\n\tconst experiments = [\n\t\t...session.experiments.filter( ( e ) => e.active && e.heatmapTracking ),\n\t\t...session.heatmaps,\n\t];\n\tif ( ! experiments.length ) {\n\t\treturn;\n\t}\n\n\tconst startTime = new Date().getTime();\n\tconst trackClick = ( ev: MouseEvent ) => {\n\t\tif ( ev.button !== 0 && ev.button !== 1 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst event = createClickEventWithoutExperimentInfo(\n\t\t\tev,\n\t\t\tstartTime,\n\t\t\tsession\n\t\t);\n\n\t\tif ( ! event ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst events = experiments.map( ( e ) => ( {\n\t\t\texperiment: e.id,\n\t\t\talternative: 'alternative' in e ? e.alternative : 0,\n\t\t\t...event,\n\t\t} ) );\n\t\ttrack( events, session );\n\t};\n\tdocument.addEventListener( 'click', trackClick );\n\tdocument.addEventListener( 'auxclick', trackClick );\n\n\tlet maxScroll = window.scrollY + window.innerHeight;\n\tdocument.addEventListener( 'scroll', () => {\n\t\tconst bottom = window.scrollY + window.innerHeight;\n\t\tif ( bottom > maxScroll ) {\n\t\t\tmaxScroll = bottom;\n\t\t}\n\t} );\n\n\tconst showTimes = new Array(\n\t\tMath.ceil( getDocumentHeight() / ROW_HEIGHT_FOR_SHOW_TIME_TRACKING )\n\t).fill( 0 ) as number[];\n\tlet numOfShowTimeUpdates = 0;\n\tconst maxNumOfShowTimeUpdates = Math.ceil(\n\t\tSHOW_TIME_UPDATE_MAX_DURATION_IN_MS / SHOW_TIME_UPDATE_INTERVAL_IN_MS\n\t);\n\tfunction updateShowTimes() {\n\t\tconst top = window.scrollY;\n\t\tconst bottom = top + window.innerHeight;\n\n\t\tconst firstVisibleRow = Math.ceil(\n\t\t\ttop / ROW_HEIGHT_FOR_SHOW_TIME_TRACKING\n\t\t);\n\t\tconst lastVisibleRow = Math.min(\n\t\t\tMath.floor( bottom / ROW_HEIGHT_FOR_SHOW_TIME_TRACKING ),\n\t\t\tshowTimes.length\n\t\t);\n\n\t\tfor ( let row = firstVisibleRow; row <= lastVisibleRow; ++row ) {\n\t\t\tshowTimes[ row ] = ( showTimes[ row ] ?? 0 ) + 1;\n\t\t}\n\n\t\t++numOfShowTimeUpdates;\n\t\tif ( numOfShowTimeUpdates < maxNumOfShowTimeUpdates ) {\n\t\t\tsetTimeout( updateShowTimes, SHOW_TIME_UPDATE_INTERVAL_IN_MS );\n\t\t}\n\t}\n\tsetTimeout( updateShowTimes, SHOW_TIME_UPDATE_INTERVAL_IN_MS );\n\n\twindow.addEventListener( 'beforeunload', () => {\n\t\tconst event: Omit< ScrollEvent, 'experiment' | 'alternative' > = {\n\t\t\t...createPartialScrollEvent(),\n\t\t\tsweetSpot: findSweetSpot( showTimes ),\n\t\t\tmaxScroll,\n\t\t};\n\t\tconst events = experiments.map(\n\t\t\t( e ): ScrollEvent => ( {\n\t\t\t\texperiment: e.id,\n\t\t\t\talternative: 'alternative' in e ? e.alternative : 0,\n\t\t\t\t...event,\n\t\t\t} )\n\t\t);\n\n\t\tif ( ! events.length ) {\n\t\t\treturn;\n\t\t}\n\t\ttrack( events, session );\n\t} );\n}\n\nfunction createClickEventWithoutExperimentInfo(\n\tev: MouseEvent,\n\tstart: number,\n\tsession: Session\n): Maybe< Omit< ClickEvent, 'experiment' | 'alternative' > > {\n\tconst target = ev.target as HTMLElement | null;\n\tif ( ! target ) {\n\t\treturn;\n\t}\n\n\tconst rect = target.getBoundingClientRect();\n\tif ( ! rect || ! rect.width || ! rect.height ) {\n\t\treturn;\n\t}\n\n\tconst x = ( ev.clientX - rect.left ) / rect.width;\n\tconst y = ( ev.clientY - rect.top ) / rect.height;\n\n\treturn {\n\t\tkind: 'click',\n\t\ttimeToClick: Math.round( ( new Date().getTime() - start ) / 1000 ),\n\t\twindowWidth: document.body.offsetWidth || 0,\n\t\txpath: xPath( target, session.optimizeXPath ),\n\t\tx,\n\t\ty,\n\t};\n}\n\nfunction createPartialScrollEvent(): Omit<\n\tScrollEvent,\n\t'experiment' | 'alternative' | 'maxScroll' | 'sweetSpot'\n> {\n\treturn {\n\t\tkind: 'scroll',\n\t\twindowWidth: document.body.offsetWidth || 0,\n\t\tfirstFold: window.innerHeight,\n\t\tdocumentHeight: getDocumentHeight(),\n\t};\n}\n\nfunction findSweetSpot( showTimes: ReadonlyArray< number > ) {\n\tconst collapsedShowTimes = collapseShowTimes( showTimes );\n\n\tconst sweetSpotValue = collapsedShowTimes.reduce(\n\t\t( maxValue, { value } ) => Math.max( maxValue, value ),\n\t\t0\n\t);\n\tconst sweetSpots = collapsedShowTimes.filter(\n\t\t( { value } ) => value === sweetSpotValue\n\t);\n\n\tconst maxSweetSpotAreaSize = sweetSpots.reduce(\n\t\t( maxSize, { size } ) => Math.max( size, maxSize ),\n\t\t0\n\t);\n\tconst largestSweetSpots = sweetSpots.filter(\n\t\t( { size } ) => size === maxSweetSpotAreaSize\n\t);\n\n\tconst sweetSpot = pickRandom( largestSweetSpots );\n\tif ( ! sweetSpot ) {\n\t\treturn 0;\n\t}\n\n\treturn (\n\t\tROW_HEIGHT_FOR_SHOW_TIME_TRACKING *\n\t\t( sweetSpot.start + Math.floor( sweetSpot.size / 2 ) )\n\t);\n}\n\nfunction collapseShowTimes( showTimes: ReadonlyArray< number > ) {\n\ttype ScrollRowCount = {\n\t\tstart: number;\n\t\tvalue: number;\n\t\tsize: number;\n\t};\n\n\treturn showTimes.reduce( ( result, value, index ) => {\n\t\tconst last = result[ result.length - 1 ];\n\n\t\tif ( last?.value === value ) {\n\t\t\t++last.size;\n\t\t} else {\n\t\t\tresult.push( { start: index, value, size: 1 } );\n\t\t}\n\n\t\treturn result;\n\t}, [] as ScrollRowCount[] );\n}\n\nfunction pickRandom< T >( list: ReadonlyArray< T > ): Maybe< T > {\n\tconst index = Math.round( Math.random() * ( list.length - 1 ) );\n\treturn list[ index ];\n}\n","/**\n * External dependencies\n */\nimport 'es6-symbol';\nimport cloneDeep from 'lodash/cloneDeep';\nimport type { Dict, ExperimentId, Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { initConversionTracking } from './conversions';\nimport { initGA4Tracking } from './ga4';\nimport { initHeatmapTracking } from './heatmaps';\nimport { sendConversions, sendViews } from './sync';\nimport { isGdprAccepted } from './utils';\nimport {\n\tdomReady,\n\tgetActiveExperiments,\n\tlogIf,\n\tlogOnce,\n} from '../utils/helpers';\nimport { cleanOldSegments } from '../utils/segmentation';\nimport type { ConvertingGoal, GoalIndex, Session } from '../types';\nimport { addCookieListener, removeCookieListener } from '../utils/cookies';\nimport { getExperimentsWithPageViews } from '../utils/tracking';\n\nlet isTrackingEnabled = false;\nlet pendingEvents: ReadonlyArray< PendingEvent > = [];\n\nlet isContentReady = false;\nlet pendingCallbacks: ReadonlyArray< () => void > = [];\n\nexport function exportTrackingApi(\n\tmode: 'awaiting-session' | 'missing-session' | 'awaiting-variant'\n): void {\n\tconst nab = initExports( mode );\n\t( window as unknown as Dict ).nab = nab;\n}\n\nexport function markContentAsReady(\n\tsession: Maybe< Session >,\n\tloaded: boolean\n): void {\n\tif ( !! session?.numOfAlternatives && loaded ) {\n\t\twindow.dispatchEvent(\n\t\t\tnew CustomEvent( 'nelio-ab-testing/variant-ready', {\n\t\t\t\tdetail: {\n\t\t\t\t\texperiments: session.experiments\n\t\t\t\t\t\t.filter( ( e ) => e.active )\n\t\t\t\t\t\t.map( ( e ) => ( {\n\t\t\t\t\t\t\tid: e.id,\n\t\t\t\t\t\t\tvariant:\n\t\t\t\t\t\t\t\tsession.alternative % e.alternatives.length,\n\t\t\t\t\t\t} ) ),\n\t\t\t\t\tsession: cloneDeep( session ),\n\t\t\t\t\tvariant: session.alternative % session.numOfAlternatives,\n\t\t\t\t},\n\t\t\t} )\n\t\t);\n\t}\n\n\t// @ts-expect-error This variable exists.\n\twindow.nabIsLoading = false;\n\twindow.dispatchEvent( new CustomEvent( 'nelio-ab-testing/content-ready' ) );\n\n\tisContentReady = true;\n\tpendingCallbacks.forEach( ( callback ) => callback() );\n\tpendingCallbacks = [];\n}\n\nexport function maybeStartTracking(\n\tsession: Session,\n\ttrackViews: boolean\n): void {\n\tlet wasGdprMissing = false;\n\tconst id = addCookieListener( () => {\n\t\tif ( ! isGdprAccepted( session ) ) {\n\t\t\twasGdprMissing = true;\n\t\t\tlogOnce( 'Awaiting GDPR cookie' );\n\t\t\tconst nab = initExports( 'awaiting-gdpr' );\n\t\t\t( window as unknown as Dict ).nab = nab;\n\t\t\treturn;\n\t\t}\n\t\tlogIf( wasGdprMissing, 'GDPR ready!' );\n\t\tremoveCookieListener( id );\n\t\tstartTracking( session, trackViews );\n\t} );\n}\n\n// ========\n// INTERNAL\n// ========\n\nfunction startTracking( session: Session, trackViews: boolean ) {\n\tdomReady( () => {\n\t\tconst experimentIds = session.experiments.map( ( e ) => e.id );\n\t\tcleanOldSegments( experimentIds );\n\n\t\tconst nab = initExports( session );\n\t\t( window as unknown as Dict ).nab = nab;\n\t\tinitGA4Tracking( session );\n\t\tenableTracking( session );\n\n\t\tif ( trackViews ) {\n\t\t\ttrackHeaderViews( session );\n\t\t\ttrackFooterViews( session );\n\t\t}\n\n\t\tinitConversionTracking( session );\n\t\tinitHeatmapTracking( session );\n\t} );\n}\n\ntype PendingEvent =\n\t| {\n\t\t\treadonly type: 'view';\n\t\t\treadonly experimentIds:\n\t\t\t\t| ExperimentId\n\t\t\t\t| ReadonlyArray< ExperimentId >;\n\t  }\n\t| {\n\t\t\treadonly type: 'trigger';\n\t\t\treadonly eventName: string;\n\t  }\n\t| {\n\t\t\treadonly type: 'convert';\n\t\t\treadonly experiment: ExperimentId | ReadonlyArray< ConvertingGoal >;\n\t\t\treadonly goal?: GoalIndex;\n\t  };\n\nconst initExports = (\n\tsession:\n\t\t| Session\n\t\t| 'awaiting-session'\n\t\t| 'missing-session'\n\t\t| 'awaiting-variant'\n\t\t| 'awaiting-gdpr'\n) => ( {\n\tview: ( experimentIds: unknown ): void => {\n\t\tif (\n\t\t\t! isExperimentId( experimentIds ) &&\n\t\t\t! isExperimentIdArray( experimentIds )\n\t\t) {\n\t\t\tthrow new Error(\n\t\t\t\t'Invalid Argument Type. Positive integer or array of positive integers expected.'\n\t\t\t);\n\t\t}\n\n\t\tif (\n\t\t\t! isTrackingEnabled ||\n\t\t\tsession === 'awaiting-session' ||\n\t\t\tsession === 'missing-session' ||\n\t\t\tsession === 'awaiting-variant' ||\n\t\t\tsession === 'awaiting-gdpr'\n\t\t) {\n\t\t\tpendingEvents = [\n\t\t\t\t...pendingEvents,\n\t\t\t\t{ type: 'view', experimentIds },\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\t\tview( session )( experimentIds );\n\t},\n\n\ttrigger: ( eventName: unknown ): void => {\n\t\tif ( 'string' !== typeof eventName ) {\n\t\t\tthrow new Error( 'Invalid Argument Type. String expected.' );\n\t\t}\n\n\t\tif ( session === 'awaiting-gdpr' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\t! isTrackingEnabled ||\n\t\t\tsession === 'awaiting-session' ||\n\t\t\tsession === 'missing-session' ||\n\t\t\tsession === 'awaiting-variant'\n\t\t) {\n\t\t\tpendingEvents = [\n\t\t\t\t...pendingEvents,\n\t\t\t\t{ type: 'trigger', eventName },\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\t\ttrigger( session )( eventName );\n\t},\n\n\tconvert: ( experiment: unknown, goal: unknown = 0 ): void => {\n\t\tif ( ! isExperimentId( experiment ) ) {\n\t\t\tthrow new Error(\n\t\t\t\t'Invalid Argument Type. Positive integer expected.'\n\t\t\t);\n\t\t}\n\n\t\tif ( ! isNonNegativeInteger( goal ) ) {\n\t\t\tthrow new Error(\n\t\t\t\t'Invalid Argument Type. Non-negative integer expected.'\n\t\t\t);\n\t\t}\n\n\t\tif ( session === 'awaiting-gdpr' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\t! isTrackingEnabled ||\n\t\t\tsession === 'awaiting-session' ||\n\t\t\tsession === 'missing-session' ||\n\t\t\tsession === 'awaiting-variant'\n\t\t) {\n\t\t\tpendingEvents = [\n\t\t\t\t...pendingEvents,\n\t\t\t\t{ type: 'convert', experiment, goal },\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\t\tconvert( session )( experiment, goal );\n\t},\n\n\tsession: () =>\n\t\t'string' === typeof session\n\t\t\t? session\n\t\t\t: ( JSON.parse(\n\t\t\t\t\tJSON.stringify( { ...session, hasQuota: undefined } )\n\t\t\t  ) as unknown ),\n\n\tuser: () => {\n\t\tif ( 'string' === typeof session ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst ewpv = getExperimentsWithPageViews();\n\t\tconst pairs = Object.keys( ewpv )\n\t\t\t.map( ( id ) => Number.parseInt( id ) )\n\t\t\t.filter( ( id ): id is ExperimentId => !! id )\n\t\t\t.map( ( id ): [ ExperimentId, number ] => [ id, ewpv[ id ] ?? 0 ] );\n\t\tpairs.sort( ( a, b ) => ( a[ 1 ] < b[ 1 ] ? 1 : -1 ) );\n\n\t\treturn {\n\t\t\texperiments: session.experiments.map( ( { id, alternative } ) => ( {\n\t\t\t\tid,\n\t\t\t\talternative,\n\t\t\t\tseen: !! ewpv[ id ],\n\t\t\t} ) ),\n\t\t\tlastExperiment: pairs\n\t\t\t\t.map( ( [ id ] ) =>\n\t\t\t\t\tsession.experiments.find( ( e ) => e.id === id )\n\t\t\t\t)\n\t\t\t\t.filter( ( x ) => !! x )\n\t\t\t\t.map( ( { id, alternative } ) => ( { id, alternative } ) )[ 0 ],\n\t\t};\n\t},\n\n\tready: ( callback: unknown ) => {\n\t\tif ( ! isFunction( callback ) ) {\n\t\t\tthrow new Error( 'Invalid Argument Type. Function expected.' );\n\t\t}\n\n\t\tif ( ! isContentReady ) {\n\t\t\tpendingCallbacks = [ ...pendingCallbacks, callback ];\n\t\t\treturn;\n\t\t}\n\t\tcallback();\n\t},\n} );\n\nconst view =\n\t( session: Session ) =>\n\t( expIds: ExperimentId | ReadonlyArray< ExperimentId > ) => {\n\t\tconst experimentIds = Array.isArray( expIds ) ? expIds : [ expIds ];\n\t\tif ( ! experimentIds.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsendViews( experimentIds, session );\n\t};\n\n// DEPRECATED. Remove trigger eventually.\nconst trigger = ( session: Session ) => ( eventName: string ) => {\n\t/* eslint-disable */\n\tconsole.groupCollapsed( 'Deprecation Warning!' );\n\tconsole.log( 'Nelio A/B Testing deprecated nab.trigger.' );\n\tconsole.log(\n\t\t'New Custom Event conversion actions no longer require you to manually embed scripts in your theme.'\n\t);\n\tconsole.groupEnd();\n\t/* eslint-enable */\n\tconst { experiments } = session;\n\tconst events = experiments.reduce( ( memo, experiment ) => {\n\t\texperiment.goals.forEach( ( goal, index ) => {\n\t\t\tconst hasCustomEventAction = goal.conversionActions.reduce(\n\t\t\t\t( found, { type, attributes = {} } ) =>\n\t\t\t\t\tfound ||\n\t\t\t\t\t( 'nab/custom-event' === type &&\n\t\t\t\t\t\teventName === attributes.eventName ),\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tif ( hasCustomEventAction ) {\n\t\t\t\tmemo = [ ...memo, { experiment: experiment.id, goal: index } ];\n\t\t\t}\n\t\t} );\n\t\treturn memo;\n\t}, [] as ReadonlyArray< ConvertingGoal > );\n\n\tsendConversions( events, session );\n};\n\nconst convert =\n\t( session: Session ) =>\n\t(\n\t\texperiment: ExperimentId | ReadonlyArray< ConvertingGoal >,\n\t\tgoal?: GoalIndex\n\t) => {\n\t\tlet events: ReadonlyArray< ConvertingGoal > = [];\n\t\tif ( isExperimentId( experiment ) ) {\n\t\t\tif ( undefined !== goal ) {\n\t\t\t\tevents = [ { experiment, goal } ];\n\t\t\t}\n\t\t} else {\n\t\t\tevents = experiment;\n\t\t}\n\n\t\tsendConversions(\n\t\t\tevents.map( ( ev ) => ( {\n\t\t\t\texperiment: ev.experiment,\n\t\t\t\tgoal: ev.goal,\n\t\t\t} ) ),\n\t\t\tsession\n\t\t);\n\t};\n\nconst enableTracking = ( session: Session ) => {\n\tisTrackingEnabled = true;\n\tpendingEvents.forEach( ( ev ) => {\n\t\tif ( ev.type === 'view' ) {\n\t\t\tview( session )( ev.experimentIds );\n\t\t} else if ( ev.type === 'trigger' ) {\n\t\t\ttrigger( session )( ev.eventName );\n\t\t} else {\n\t\t\tconvert( session )( ev.experiment, ev.goal );\n\t\t}\n\t} );\n\tpendingEvents = [];\n};\n\nconst trackHeaderViews = ( session: Session ): void => {\n\tview( session )(\n\t\tgetActiveExperiments( session )\n\t\t\t.filter( ( e ) => e.pageViewTracking === 'header' )\n\t\t\t.map( ( e ) => e.id )\n\t);\n\n\tview( session )( session.heatmaps.map( ( e ) => e.id ) );\n};\n\nconst trackFooterViews = ( session: Session ): void => {\n\tconst footerIds = getFooterViews();\n\tview( session )( footerIds );\n};\n\nconst getFooterViews = (): ReadonlyArray< ExperimentId > =>\n\t( ( window as unknown as Dict )\n\t\t.nabFooterViews as ReadonlyArray< ExperimentId > ) || [];\n\nconst isFunction = ( f: unknown ): f is () => void => 'function' === typeof f;\n\nconst isExperimentId = ( n: unknown ): n is ExperimentId =>\n\tisNonNegativeInteger( n ) && n > 0;\n\nconst isExperimentIdArray = ( a: unknown ): a is ExperimentId[] =>\n\tArray.isArray( a ) && a.every( isExperimentId );\n\nconst isNonNegativeInteger = ( n: unknown ): n is number =>\n\t'number' === typeof n && n >= 0 && Math.round( n ) === n;\n","/**\n * External dependencies\n */\nimport debounce from 'lodash/debounce';\nimport type { Attributes as ClickAttributes } from '../../../../../packages/conversion-action-library/click/types';\nimport type { Attributes as ClickExternalLinkAttributes } from '../../../../../packages/conversion-action-library/click-external-link/types';\n\n/**\n * Internal dependencies\n */\nimport { getClosest } from '../../utils/helpers';\nimport { removeQueryArgs } from '../../utils/url';\nimport type { ConvertibleAction, Convert } from '../../types';\n\nconst MILLISECONDS_IN_SECOND = 1000;\n\nexport function listenToClickEvent(\n\tallActions: ReadonlyArray< ConvertibleAction >,\n\tconvert: Convert\n): void {\n\tconst clickActions = allActions.filter( isClickAction );\n\tconst externalClickActions = allActions.filter( isClickExternalLinkAction );\n\tif ( ! clickActions.length && ! externalClickActions ) {\n\t\treturn;\n\t}\n\n\tconst startTime = Date.now();\n\tconst isOldEnough = ( {\n\t\tattributes: { delay = 0 },\n\t}: ConvertibleAction< { delay?: number } > ) =>\n\t\tDate.now() - startTime >= delay * MILLISECONDS_IN_SECOND;\n\n\tconst onClick = debounce(\n\t\t( ev: MouseEvent ) => {\n\t\t\tconst target = ev.target as HTMLElement | null;\n\t\t\tif ( ! target ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst anchorTag = getClosest< HTMLAnchorElement >( target, 'a' );\n\n\t\t\tconvert( [\n\t\t\t\t...clickActions.filter( isOldEnough ).filter( ( action ) => {\n\t\t\t\t\tconst els = getElements( action.attributes );\n\t\t\t\t\treturn isExactlyOrDescendant( els, target );\n\t\t\t\t} ),\n\t\t\t\t...externalClickActions\n\t\t\t\t\t.filter( isOldEnough )\n\t\t\t\t\t.filter( doesExternalActionMatch( anchorTag ) ),\n\t\t\t] );\n\t\t},\n\t\t100,\n\t\t{ leading: true, trailing: false }\n\t);\n\n\tdocument.addEventListener( 'click', onClick );\n\tdocument.addEventListener( 'click', onClick, true );\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction isClickAction(\n\taction: ConvertibleAction\n): action is ConvertibleAction< ClickAttributes > {\n\treturn 'nab/click' === action.type;\n}\n\nfunction isClickExternalLinkAction(\n\taction: ConvertibleAction\n): action is ConvertibleAction< ClickExternalLinkAttributes > {\n\treturn 'nab/click-external-link' === action.type;\n}\n\nfunction isExactlyOrDescendant(\n\tcandidates: ReadonlyArray< Element >,\n\tel: Element\n): boolean {\n\treturn (\n\t\tcandidates.includes( el ) ||\n\t\tcandidates.some( ( p ) => p.contains( el ) )\n\t);\n}\n\nfunction getElements( {\n\tmode,\n\tvalue,\n}: ClickAttributes ): ReadonlyArray< Element > {\n\ttry {\n\t\tswitch ( mode ) {\n\t\t\tcase 'id': {\n\t\t\t\tconst el = document.getElementById( value );\n\t\t\t\treturn el ? [ el ] : [];\n\t\t\t}\n\n\t\t\tcase 'class':\n\t\t\t\treturn Array.from( document.getElementsByClassName( value ) );\n\n\t\t\tcase 'css':\n\t\t\t\treturn Array.from( document.querySelectorAll( value ) );\n\t\t}\n\t} catch ( e ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error( e );\n\t\treturn [];\n\t}\n}\n\nfunction doesExternalActionMatch( anchorTag: HTMLAnchorElement | false ) {\n\tif ( ! anchorTag ) {\n\t\treturn () => false;\n\t}\n\n\treturn (\n\t\taction: ConvertibleAction< ClickExternalLinkAttributes >\n\t): boolean => {\n\t\tconst {\n\t\t\tattributes: { mode, value },\n\t\t} = action;\n\t\tconst href = removeQueryArgs(\n\t\t\tanchorTag.getAttribute( 'href' ) ?? '',\n\t\t\t'nab'\n\t\t);\n\n\t\tswitch ( mode ) {\n\t\t\tcase 'exact':\n\t\t\t\treturn href === value;\n\n\t\t\tcase 'partial':\n\t\t\t\treturn 0 <= href.indexOf( value );\n\n\t\t\tcase 'start':\n\t\t\t\treturn href.startsWith( value );\n\n\t\t\tcase 'end':\n\t\t\t\treturn href.endsWith( value );\n\n\t\t\tcase 'regex':\n\t\t\t\ttry {\n\t\t\t\t\treturn new RegExp( value ).test( href );\n\t\t\t\t} catch ( _ ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t}\n\t};\n}\n","/**\n * External dependencies\n */\nimport type { Attributes } from '../../../../../packages/conversion-action-library/click/types';\n\n/**\n * Internal dependencies\n */\nimport { domReady } from '../../utils/helpers/dom-ready';\nimport type { ConvertibleAction, Convert } from '../../types';\n\nconst MIN_SCREEN_COVERAGE = 0.2;\nconst MIN_INTERSECTION_RATIO = 0.5;\n\nexport function listenToElementViewEvent(\n\tallActions: ReadonlyArray< ConvertibleAction >,\n\tconvert: Convert\n): void {\n\tconst actions = allActions.filter( isElementViewAction );\n\tif ( ! actions.length ) {\n\t\treturn;\n\t}\n\n\tconst actionsBySelector = actions.reduce(\n\t\t( result, action ) => {\n\t\t\tconst key = getSelector( action.attributes );\n\t\t\tresult[ key ] = [ ...( result[ key ] ?? [] ), action ];\n\t\t\treturn result;\n\t\t},\n\t\t{} as Record< string, ReadonlyArray< ConvertibleAction< Attributes > > >\n\t);\n\n\tdomReady( () =>\n\t\tObject.keys( actionsBySelector ).forEach( ( selector ) => {\n\t\t\tconst removeListener = onElementVisible( selector, () => {\n\t\t\t\tremoveListener();\n\t\t\t\tconvert( actionsBySelector[ selector ] ?? [] );\n\t\t\t} );\n\t\t} )\n\t);\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction isElementViewAction(\n\taction: ConvertibleAction\n): action is ConvertibleAction< Attributes > {\n\treturn 'nab/element-view' === action.type;\n}\n\nfunction getSelector( attrs: Attributes ): string {\n\tswitch ( attrs.mode ) {\n\t\tcase 'css':\n\t\t\treturn attrs.value;\n\t\tcase 'id':\n\t\t\treturn `#${ attrs.value }`;\n\t\tcase 'class':\n\t\t\treturn `.${ attrs.value }`;\n\t}\n}\n\ntype VisibilityCallback = ( el: Element ) => void;\n\nfunction onElementVisible(\n\tselector: string,\n\tcallback: VisibilityCallback,\n\toptions: IntersectionObserverInit = {}\n) {\n\tconst intersectionObservers = new Map< Element, IntersectionObserver >();\n\n\tconst observeVisibility = ( el: Element ) => {\n\t\tconst io = new IntersectionObserver(\n\t\t\t( entries, observer ) => {\n\t\t\t\tfor ( const entry of entries ) {\n\t\t\t\t\tconst {\n\t\t\t\t\t\tintersectionRatio,\n\t\t\t\t\t\tboundingClientRect,\n\t\t\t\t\t\tisIntersecting,\n\t\t\t\t\t} = entry;\n\n\t\t\t\t\tconst visibleEnough =\n\t\t\t\t\t\t( isIntersecting &&\n\t\t\t\t\t\t\tintersectionRatio >= MIN_INTERSECTION_RATIO ) ||\n\t\t\t\t\t\tscreenCoverage( boundingClientRect ) >=\n\t\t\t\t\t\t\tMIN_SCREEN_COVERAGE;\n\n\t\t\t\t\tif ( visibleEnough ) {\n\t\t\t\t\t\tcallback( entry.target );\n\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t...options,\n\t\t\t\tthreshold: [ 0, MIN_INTERSECTION_RATIO ],\n\t\t\t}\n\t\t);\n\t\tio.observe( el );\n\t\tintersectionObservers.set( el, io );\n\t};\n\n\tconst mutationObserver = new MutationObserver( () => {\n\t\tconst elements = document.querySelectorAll( selector );\n\t\tfor ( const el of elements ) {\n\t\t\tif ( ! intersectionObservers.has( el ) ) {\n\t\t\t\tobserveVisibility( el );\n\t\t\t}\n\t\t}\n\t} );\n\n\tmutationObserver.observe( document.body, {\n\t\tchildList: true,\n\t\tsubtree: true,\n\t} );\n\n\t// Check in case the element already exists on load\n\tconst initialElements = document.querySelectorAll( selector );\n\tinitialElements.forEach( ( el ) => {\n\t\tobserveVisibility( el );\n\t} );\n\n\treturn () => {\n\t\tmutationObserver.disconnect();\n\t\tintersectionObservers.forEach( ( io ) => io.disconnect() );\n\t\tintersectionObservers.clear();\n\t};\n}\n\nfunction screenCoverage( rect: DOMRectReadOnly ) {\n\tconst vw = document.documentElement.clientWidth || window.innerWidth;\n\tconst vh = document.documentElement.clientHeight || window.innerHeight;\n\n\tconst left = Math.max( rect.left, 0 );\n\tconst top = Math.max( rect.top, 0 );\n\tconst right = Math.min( rect.right, vw );\n\tconst bottom = Math.min( rect.bottom, vh );\n\n\tconst width = Math.max( 0, right - left );\n\tconst height = Math.max( 0, bottom - top );\n\n\tconst intersectionArea = width * height;\n\tconst viewportArea = vw * vh;\n\n\treturn viewportArea ? intersectionArea / viewportArea : 0; // 0..1\n}\n","/**\n * External dependencies\n */\nimport debounce from 'lodash/debounce';\nimport toPairs from 'lodash/toPairs';\nimport type { ExperimentId } from '@nab/types';\nimport type { Attributes } from '../../../../../packages/conversion-action-library/form-submission/types';\n\n/**\n * Internal dependencies\n */\nimport { domReady, getClosest, log } from '../../utils/helpers';\nimport { getCookie } from '../../utils/cookies';\nimport type { Convert, ConvertibleAction } from '../../types';\nimport { getUniqueViews } from '../../utils/tracking';\nimport { getAllActiveSegments } from '../../utils/segmentation';\nimport { getGA4ClientId } from '../ga4';\nimport { getSettings } from '../../utils/helpers/internal/get-settings';\n\nconst FORM_ACTIONS = [\n\t'nab/form-submission',\n\t'nab/wc-order',\n\t'nab/edd-order',\n\t'nab/surecart-order',\n];\n\nconst JS_FORM_TYPES = [ 'nab_hubspot_form' ];\n\nexport function prepareFormForSyncingEventInWordPress(\n\tallActions: ReadonlyArray< ConvertibleAction >\n): void {\n\tconst actions = allActions.filter( isWordPressFormSubmissionAction );\n\tif ( ! actions.length ) {\n\t\treturn;\n\t}\n\taddListenersToAddHiddenFields( actions );\n}\n\nexport function listenToJavaScriptFormSubmission(\n\tallActions: ReadonlyArray< ConvertibleAction >,\n\tconvert: Convert\n): void {\n\taddHubSpotListener(\n\t\tallActions.filter( isHubSpotFormSubmissionAction ),\n\t\tconvert\n\t);\n\taddHubSpotLegacyListener(\n\t\tallActions.filter( isHubSpotFormSubmissionAction ),\n\t\tconvert\n\t);\n}\n\n// ====================\n// JAVASCRIPT LISTENERS\n// ====================\n\n// -------\n// HUBSPOT\n// -------\n\nfunction addHubSpotListener(\n\tactions: ReadonlyArray< ConvertibleAction< Attributes > >,\n\tconvert: Convert\n): void {\n\tif ( ! actions.length ) {\n\t\treturn;\n\t}\n\n\twindow.addEventListener(\n\t\t'hs-form-event:on-submission:success',\n\t\t( event ) => {\n\t\t\tif ( ! isHubSpotEvent( event ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconvert(\n\t\t\t\tactions.filter(\n\t\t\t\t\t( action ) =>\n\t\t\t\t\t\taction.attributes.formName === event.detail.formId\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t);\n}\n\nfunction addHubSpotLegacyListener(\n\tactions: ReadonlyArray< ConvertibleAction< Attributes > >,\n\tconvert: Convert\n): void {\n\tif ( ! actions.length ) {\n\t\treturn;\n\t}\n\n\twindow.addEventListener( 'message', ( event ) => {\n\t\tif ( ! isHubSpotLegacyEvent( event ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( event.data.eventName !== 'onBeforeFormSubmit' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconvert(\n\t\t\tactions.filter(\n\t\t\t\t( action ) => action.attributes.formName === event.data.id\n\t\t\t)\n\t\t);\n\t} );\n}\n\nconst isHubSpotEvent = (\n\tevent: unknown\n): event is CustomEvent< {\n\treadonly formId: string;\n} > =>\n\t!! event &&\n\t'object' === typeof event &&\n\t'detail' in event &&\n\t!! event.detail &&\n\t'object' === typeof event.detail &&\n\t'formId' in event.detail &&\n\t'string' === typeof event.detail.formId &&\n\t!! event.detail.formId;\n\nconst isHubSpotLegacyEvent = ( event: {\n\tdata: unknown;\n} ): event is MessageEvent< {\n\treadonly type: 'hsFormCallback';\n\treadonly eventName: string;\n\treadonly id: string;\n} > =>\n\t!! event.data &&\n\t'object' === typeof event.data &&\n\t'type' in event.data &&\n\tevent.data.type === 'hsFormCallback';\n\n// =======\n// HELPERS\n// =======\n\nconst isWordPressFormSubmissionAction = (\n\taction: ConvertibleAction\n): action is ConvertibleAction< Attributes > =>\n\tFORM_ACTIONS.includes( action.type ) &&\n\t! isJavaScriptFormSubmissionAction( action );\n\nfunction isJavaScriptFormSubmissionAction(\n\taction: ConvertibleAction\n): action is ConvertibleAction< Attributes > {\n\treturn (\n\t\tisFormSubmissionAction( action ) &&\n\t\tJS_FORM_TYPES.includes( action.attributes.formType )\n\t);\n}\n\nconst isHubSpotFormSubmissionAction = (\n\taction: ConvertibleAction\n): action is ConvertibleAction< Attributes > =>\n\tisJavaScriptFormSubmissionAction( action ) &&\n\taction.attributes.formType === 'nab_hubspot_form';\n\nconst isFormSubmissionAction = (\n\taction: ConvertibleAction\n): action is ConvertibleAction< Attributes > =>\n\taction.type === 'nab/form-submission';\n\nconst isJQuery = ( x?: unknown ): x is JQuery =>\n\t!! x && typeof x === 'function' && 'ajaxPrefilter' in x;\n\ntype JQuery = {\n\treadonly ajaxPrefilter: (\n\t\thandler: ( opts: unknown, originalOpts: unknown ) => void\n\t) => void;\n};\n\nconst hasData = ( x?: unknown ): x is { data: unknown } =>\n\t!! x && 'object' === typeof x && 'data' in x;\n\nconst hasAction = ( x?: unknown ): x is { action: unknown } =>\n\t!! x && 'object' === typeof x && 'action' in x;\n\nfunction addListenersToAddHiddenFields(\n\tactions: ReadonlyArray< ConvertibleAction< Attributes > >\n) {\n\tconst maybeAddHiddenFieldsInForm = debounce(\n\t\t( ev: Event ) => {\n\t\t\tconst target = ev.target as HTMLElement | null;\n\t\t\tif ( ! target ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst form = getClosest< HTMLFormElement >( target, 'form' );\n\t\t\tif ( ! form ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tgenerateCloudFields( actions ).forEach( ( [ key, value ] ) =>\n\t\t\t\tmaybeAddHiddenField( form, key, value )\n\t\t\t);\n\t\t},\n\t\t1000,\n\t\t{ leading: true }\n\t);\n\n\tdocument.addEventListener( 'click', maybeAddHiddenFieldsInForm );\n\tdocument.addEventListener( 'click', maybeAddHiddenFieldsInForm, true );\n\tdocument.addEventListener( 'keyup', maybeAddHiddenFieldsInForm );\n\tdocument.addEventListener( 'keyup', maybeAddHiddenFieldsInForm, true );\n\n\tdomReady( () => {\n\t\t/* eslint-disable */\n\t\tconst jQuery = ( window as any ).jQuery;\n\t\t/* eslint-enable */\n\t\tif ( ! isJQuery( jQuery ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tjQuery.ajaxPrefilter( ( opts, oriOpts ) => {\n\t\t\t\tif ( ! hasData( oriOpts ) || ! hasAction( oriOpts.data ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( 'nf_ajax_submit' !== oriOpts.data.action ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( ! hasData( opts ) || 'string' !== typeof opts.data ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topts.data += generateCloudFields( actions )\n\t\t\t\t\t.map(\n\t\t\t\t\t\t( [ key, value ] ) =>\n\t\t\t\t\t\t\t`&${ key }=${ encodeURIComponent( value ) }`\n\t\t\t\t\t)\n\t\t\t\t\t.join( '' );\n\t\t\t} );\n\t\t} catch ( e ) {\n\t\t\tlog( e );\n\t\t}\n\t} );\n}\n\nfunction maybeAddHiddenField(\n\tform: HTMLFormElement,\n\tfieldName: string,\n\tfieldValue: string | undefined\n): void {\n\tif ( ! fieldValue ) {\n\t\treturn;\n\t}\n\n\tconst hiddenField = getHiddenField( form, fieldName );\n\thiddenField.setAttribute( 'value', fieldValue );\n}\n\nfunction getHiddenField(\n\tform: HTMLFormElement,\n\tfieldName: string\n): HTMLElement {\n\tlet hiddenField = form.querySelector< HTMLElement >(\n\t\t`input[name=${ fieldName }]`\n\t);\n\tif ( hiddenField ) {\n\t\treturn hiddenField;\n\t}\n\n\thiddenField = document.createElement( 'input' );\n\thiddenField.setAttribute( 'type', 'hidden' );\n\thiddenField.setAttribute( 'name', fieldName );\n\n\tform.appendChild( hiddenField );\n\n\treturn hiddenField;\n}\n\nfunction generateCloudFields(\n\tactions: ReadonlyArray< ConvertibleAction< Attributes > >\n): ReadonlyArray< [ string, string ] > {\n\tconst settings = getSettings();\n\treturn toPairs(\n\t\tObject.fromEntries(\n\t\t\tObject.entries( {\n\t\t\t\tnab_experiments_with_page_view:\n\t\t\t\t\tgenerateExperimentsWithPageViewValue( actions ),\n\t\t\t\tnab_segments: generateExperimentSegments(),\n\t\t\t\tnab_unique_views: generateUniqueViewsValue(),\n\t\t\t\t...( settings?.isGA4Integrated && {\n\t\t\t\t\tnab_ga4_client_id: getGA4ClientId(),\n\t\t\t\t} ),\n\t\t\t} ).filter( ( [ , value ] ) => !! value )\n\t\t)\n\t);\n}\n\nfunction generateExperimentsWithPageViewValue(\n\tactions: ReadonlyArray< ConvertibleAction< Attributes > >\n) {\n\tconst experiments = getExperimentsWithPageView();\n\tconst relevantActions = actions.filter( ( { experiment } ) =>\n\t\texperiments.includes( experiment )\n\t);\n\treturn relevantActions\n\t\t.map(\n\t\t\t( { experiment, alternative } ) =>\n\t\t\t\t`${ experiment }:${ alternative }`\n\t\t)\n\t\t.join( ';' );\n}\n\nfunction generateExperimentSegments() {\n\treturn toPairs( getAllActiveSegments() )\n\t\t.map( ( [ e, ss = [] ] ) => `${ e }:${ ss.join( ',' ) }` )\n\t\t.join( ';' );\n}\n\nfunction generateUniqueViewsValue() {\n\tconst uniqueViews = getUniqueViews();\n\treturn Object.entries( uniqueViews )\n\t\t.map( ( [ key, value ] ) => `${ key }:${ value }` )\n\t\t.join( ';' );\n}\n\nfunction getExperimentsWithPageView(): ReadonlyArray< ExperimentId > {\n\ttry {\n\t\tconst value = JSON.parse(\n\t\t\tgetCookie( 'nabExperimentsWithPageViews' ) ?? ''\n\t\t) as Partial< Record< ExperimentId, number > >;\n\t\treturn Object.keys( value ).map(\n\t\t\t( id ) => ( Number.parseInt( id ) || 0 ) as ExperimentId\n\t\t);\n\t} catch {\n\t\treturn [];\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport './woocommerce';\n\nimport { listenToClickEvent } from './click';\nimport { listenToElementViewEvent } from './element-view';\nimport {\n\tlistenToJavaScriptFormSubmission,\n\tprepareFormForSyncingEventInWordPress,\n} from './form-submission';\nimport { listenToScrollEvent } from './scroll';\nimport { listenToTimeOnPageEvent } from './time-on-page';\nimport { listenToVideoPlaybackEvent } from './video-playback';\nimport { listenToWooCommerceAddToCartEvent } from './wc-add-to-cart';\n\nimport type { ActionListener } from '../../types';\n\nexport const LISTENERS: ReadonlyArray< ActionListener > = [\n\tlistenToClickEvent,\n\tlistenToElementViewEvent,\n\tlistenToJavaScriptFormSubmission,\n\tlistenToScrollEvent,\n\tlistenToTimeOnPageEvent,\n\tlistenToVideoPlaybackEvent,\n\tlistenToWooCommerceAddToCartEvent,\n\tprepareFormForSyncingEventInWordPress,\n];\n","/**\n * External dependencies\n */\nimport type { Attributes } from '../../../../../packages/conversion-action-library/scroll/types';\n\n/**\n * Internal dependencies\n */\nimport type { ConvertibleAction, Convert } from '../../types';\n\nexport function listenToScrollEvent(\n\tallActions: ReadonlyArray< ConvertibleAction >,\n\tconvert: Convert\n): void {\n\tconst actions = allActions.filter( isScrollAction );\n\tif ( ! actions.length ) {\n\t\treturn;\n\t}\n\n\tconst maxScroll = actions.reduce(\n\t\t( r, a ) => ( a.attributes.value > r ? a.attributes.value : r ),\n\t\t0\n\t);\n\tconst onScroll = () => {\n\t\tconst scrollTop = window.scrollY;\n\t\tconst windowHeight = window.innerHeight;\n\t\tconst fullHeight = document.documentElement.scrollHeight;\n\n\t\tconst scrollPercentage =\n\t\t\t( scrollTop / ( fullHeight - windowHeight ) ) * 100;\n\n\t\tconvert(\n\t\t\tactions.filter(\n\t\t\t\t( action ) => scrollPercentage >= action.attributes.value\n\t\t\t)\n\t\t);\n\n\t\tif ( scrollPercentage >= maxScroll ) {\n\t\t\tdocument.removeEventListener( 'scroll', onScroll );\n\t\t\tdocument.removeEventListener( 'scroll', onScroll, true );\n\t\t}\n\t};\n\n\tdocument.addEventListener( 'scroll', onScroll );\n\tdocument.addEventListener( 'scroll', onScroll, true );\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction isScrollAction(\n\taction: ConvertibleAction\n): action is ConvertibleAction< Attributes > {\n\treturn 'nab/scroll' === action.type;\n}\n","/**\n * External dependencies\n */\nimport type { Attributes } from '../../../../../packages/conversion-action-library/time-on-page/types';\n\n/**\n * Internal dependencies\n */\nimport type { ConvertibleAction, Convert } from '../../types';\n\nconst MILLISECONDS_IN_SECOND = 1000;\n\nexport function listenToTimeOnPageEvent(\n\tallActions: ReadonlyArray< ConvertibleAction >,\n\tconvert: Convert\n): void {\n\tconst actions = allActions.filter( isTimeOnPageAction );\n\tif ( ! actions.length ) {\n\t\treturn;\n\t}\n\n\tconst actionsByTime = actions.reduce(\n\t\t( result, action ) => {\n\t\t\tconst key = `${ action.attributes.value }`;\n\t\t\tresult[ key ] = [ ...( result[ key ] ?? [] ), action ];\n\t\t\treturn result;\n\t\t},\n\t\t{} as Record< string, ReadonlyArray< ConvertibleAction< Attributes > > >\n\t);\n\n\tObject.keys( actionsByTime ).forEach( ( time ) => {\n\t\tif ( ! actionsByTime[ time ] ) {\n\t\t\treturn;\n\t\t}\n\t\tconst trackedActions = actionsByTime[ time ];\n\n\t\tlet timer: NodeJS.Timeout | undefined;\n\t\tlet remainingTime = Number.parseInt( time ) * MILLISECONDS_IN_SECOND;\n\t\tlet startTime = Date.now();\n\n\t\tfunction startTimer() {\n\t\t\tif ( remainingTime < 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstartTime = Date.now();\n\t\t\ttimer = setTimeout( () => {\n\t\t\t\tconvert( trackedActions );\n\t\t\t}, remainingTime );\n\t\t}\n\n\t\tfunction pauseTimer() {\n\t\t\tif ( ! timer ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout( timer );\n\t\t\ttimer = undefined;\n\t\t\tremainingTime -= Date.now() - startTime;\n\t\t}\n\n\t\tif ( ! document.hidden ) {\n\t\t\tstartTimer();\n\t\t}\n\n\t\tdocument.addEventListener( 'visibilitychange', () => {\n\t\t\tif ( document.hidden ) {\n\t\t\t\tpauseTimer();\n\t\t\t} else {\n\t\t\t\tstartTimer();\n\t\t\t}\n\t\t} );\n\n\t\twindow.addEventListener( 'blur', pauseTimer );\n\t\twindow.addEventListener( 'focus', startTimer );\n\t} );\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction isTimeOnPageAction(\n\taction: ConvertibleAction\n): action is ConvertibleAction< Attributes > {\n\treturn 'nab/time-on-page' === action.type;\n}\n","/**\n * External dependencies\n */\nimport throttle from 'lodash/throttle';\nimport type { Attributes } from '../../../../../packages/conversion-action-library/video-playback/types';\n\n/**\n * Internal dependencies\n */\nimport { onScrollDown } from '../utils';\nimport { domReady } from '../../utils/helpers';\nimport { addQueryArgs } from '../../utils/url';\nimport type { ConvertibleAction, Convert } from '../../types';\n\nconst YOUTUBE_PLAY = 1;\nconst YOUTUBE_END = 0;\n\nexport function listenToVideoPlaybackEvent(\n\tallActions: ReadonlyArray< ConvertibleAction >,\n\tconvert: Convert\n): void {\n\tconst actions = allActions.filter( isVideoPlaybackAction );\n\tif ( ! actions.length ) {\n\t\treturn;\n\t}\n\n\tactions.forEach( ( action ) => {\n\t\tswitch ( action?.attributes?.platform ) {\n\t\t\tcase 'youtube':\n\t\t\t\treturn listenToYouTubeVideoPlaybackEvent( action, convert );\n\t\t}\n\t} );\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction isVideoPlaybackAction(\n\taction: ConvertibleAction\n): action is ConvertibleAction< Attributes > {\n\treturn 'nab/video-playback' === action.type;\n}\n\nfunction listenToYouTubeVideoPlaybackEvent(\n\taction: ConvertibleAction< Attributes >,\n\tconvert: Convert\n): void {\n\tconst apiReady = loadYouTubeApi();\n\tapiReady( () => {\n\t\taddYouTubeListeners( action, convert );\n\t\tonScrollDown(\n\t\t\tthrottle( () => addYouTubeListeners( action, convert ), 1000 )\n\t\t);\n\t} );\n}\n\nlet youTubeApiStatus: 'unavailable' | 'loading' | 'ready' = 'unavailable';\nfunction loadYouTubeApi() {\n\tdomReady( () => {\n\t\tif ( 'unavailable' !== youTubeApiStatus ) {\n\t\t\treturn;\n\t\t}\n\t\tyouTubeApiStatus = 'loading';\n\n\t\t/* eslint-disable */\n\t\tconst fn: () => void =\n\t\t\t( window as any ).onYouTubeIframeAPIReady ?? ( () => {} );\n\t\t( window as any ).onYouTubeIframeAPIReady = () => {\n\t\t\t/* eslint-enable */\n\t\t\tyouTubeApiStatus = 'ready';\n\t\t\tfn();\n\t\t};\n\n\t\tconst tag = document.createElement( 'script' );\n\t\ttag.src = 'https://www.youtube.com/iframe_api';\n\t\tdocument.head.appendChild( tag );\n\t} );\n\n\treturn ( fn: () => void ) => {\n\t\tconst check = ( attempt: number ) => {\n\t\t\tif ( 'ready' === youTubeApiStatus ) {\n\t\t\t\treturn fn();\n\t\t\t}\n\t\t\tif ( 5 <= attempt ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetTimeout( () => check( attempt + 1 ), attempt * 2000 );\n\t\t};\n\t\tcheck( 1 );\n\t};\n}\n\nconst listenedYouTubeIframes: HTMLIFrameElement[] = [];\nfunction addYouTubeListeners(\n\taction: ConvertibleAction< Attributes >,\n\tconvert: Convert\n) {\n\tconst { videoId, event } = action.attributes;\n\n\tgetYouTubeIframes( videoId )\n\t\t.filter( ( iframe ) => ! listenedYouTubeIframes.includes( iframe ) )\n\t\t.forEach( ( iframe ) => {\n\t\t\tlistenedYouTubeIframes.push( iframe );\n\t\t\t// NOTE. Improve these types.\n\t\t\t/* eslint-disable */\n\t\t\tnew ( window as any ).YT.Player( iframe, {\n\t\t\t\tevents: {\n\t\t\t\t\tonStateChange: ( ev: { data: number } ) => {\n\t\t\t\t\t\tswitch ( ev.data ) {\n\t\t\t\t\t\t\tcase YOUTUBE_PLAY:\n\t\t\t\t\t\t\t\treturn 'play' === event && convert( action );\n\n\t\t\t\t\t\t\tcase YOUTUBE_END:\n\t\t\t\t\t\t\t\treturn 'end' === event && convert( action );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t} );\n\t\t\t/* eslint-enable */\n\t\t} );\n}\n\nfunction getYouTubeIframes( videoId: string ) {\n\tconst iframes = Array.from(\n\t\tdocument.querySelectorAll< HTMLIFrameElement >(\n\t\t\t`iframe[src*=\"${ videoId }\"]`\n\t\t)\n\t).filter(\n\t\t( iframe ) =>\n\t\t\tiframe.src.includes( 'youtube' ) ||\n\t\t\tiframe.src.includes( 'youtu.be' )\n\t);\n\n\tiframes\n\t\t.filter( ( iframe ) => ! iframe.src.includes( 'enablejsapi' ) )\n\t\t.forEach( ( iframe ) => {\n\t\t\tiframe.src = addQueryArgs( iframe.src, { enablejsapi: 1 } );\n\t\t} );\n\n\treturn iframes;\n}\n","/**\n * External dependencies\n */\nimport type { Attributes as WorkingAttributes } from '../../../../../packages/conversion-action-library/wc-add-to-cart/types';\nimport type { Product } from './woocommerce/events';\n\n/**\n * Internal dependencies\n */\nimport type { ConvertibleAction, Convert } from '../../types';\n\ntype Attributes = Omit< WorkingAttributes, 'productId' > & {\n\treadonly productIds: ReadonlyArray< number >;\n};\n\nexport function listenToWooCommerceAddToCartEvent(\n\tallActions: ReadonlyArray< ConvertibleAction >,\n\tconvert: Convert\n): void {\n\tconst actions = allActions.filter( isWooCommerceAddToCartAction );\n\tif ( ! actions.length ) {\n\t\treturn;\n\t}\n\n\tconst processProducts = ( products: ReadonlyArray< Product > ) => {\n\t\tif ( ! products.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconvert(\n\t\t\tactions.filter(\n\t\t\t\t( action ) =>\n\t\t\t\t\taction.attributes.anyProduct ||\n\t\t\t\t\tintersect( products, action.attributes.productIds )\n\t\t\t)\n\t\t);\n\t};\n\n\tremoveInitialListener( processProducts );\n\twindow.addEventListener( 'nab-wc-product-added-to-cart', ( event ) =>\n\t\tprocessProducts(\n\t\t\t( event as CustomEvent< ReadonlyArray< Product > > ).detail\n\t\t)\n\t);\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction isWooCommerceAddToCartAction(\n\taction: ConvertibleAction\n): action is ConvertibleAction< Attributes > {\n\treturn 'nab/wc-add-to-cart' === action.type;\n}\n\nfunction addInitialListener() {\n\tlet previousProducts: ReadonlyArray< Product > = [];\n\tfunction listener( event: Event ) {\n\t\tconst e = event as CustomEvent< ReadonlyArray< Product > >;\n\t\tpreviousProducts = [ ...previousProducts, ...e.detail ];\n\t}\n\n\twindow.addEventListener( 'nab-wc-product-added-to-cart', listener );\n\treturn ( processProducts: ( ps: ReadonlyArray< Product > ) => void ) => {\n\t\tprocessProducts( previousProducts );\n\t\tpreviousProducts = [];\n\t\twindow.removeEventListener( 'nab-wc-product-added-to-cart', listener );\n\t};\n}\n\nconst removeInitialListener = addInitialListener();\n\nconst intersect = (\n\tps: ReadonlyArray< Product >,\n\tpids: ReadonlyArray< number >\n) => ps.some( ( p ) => pids.includes( p.id ) );\n","/**\n * External dependencies.\n */\nimport cloneDeep from 'lodash/cloneDeep';\n\n/**\n * Internal dependencies.\n */\nimport { domReady } from '../../../utils/helpers';\n\nexport type Product = {\n\treadonly id: number;\n};\n\nexport function dispatchProductsAddedToCartEvent(\n\tproducts: ReadonlyArray< Product >\n): void {\n\tif ( ! products.length ) {\n\t\treturn;\n\t}\n\n\tdomReady( () =>\n\t\twindow.dispatchEvent(\n\t\t\tnew CustomEvent( 'nab-wc-product-added-to-cart', {\n\t\t\t\tdetail: cloneDeep( products ),\n\t\t\t} )\n\t\t)\n\t);\n}\n","import './legacy';\nimport './wc-blocks';\n","/**\n * External dependencies\n */\nimport isObject from 'lodash/isObject';\nimport type { Maybe, ProductId } from '@nab/types';\n\n/**\n * Internal dependencies.\n */\nimport { dispatchProductsAddedToCartEvent } from './events';\nimport { domReady, log } from '../../../utils/helpers';\n\ndomReady( () => {\n\tif ( ! hasJQuery( window ) ) {\n\t\treturn;\n\t}\n\n\tconst cart = getWooCommerceCart();\n\tif ( cart ) {\n\t\tupdateNabCart( cart );\n\t}\n\n\ttry {\n\t\twindow\n\t\t\t.jQuery( document.body )\n\t\t\t.on( 'wc_fragments_loaded wc_fragments_refreshed', () =>\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\tconst newCart = getWooCommerceCart();\n\t\t\t\t\tif ( newCart ) {\n\t\t\t\t\t\tupdateNabCart( newCart );\n\t\t\t\t\t}\n\t\t\t\t}, 1 )\n\t\t\t);\n\n\t\twindow\n\t\t\t.jQuery( document.body )\n\t\t\t.on( 'added_to_cart removed_from_cart', ( _, fragments ) => {\n\t\t\t\tconst newCart = hasOwnProperty( fragments, 'nab_cart_info' )\n\t\t\t\t\t? fragments.nab_cart_info ?? { items: [] }\n\t\t\t\t\t: { items: [] };\n\t\t\t\tupdateNabCart( newCart as WooCommerceCart );\n\t\t\t} );\n\t} catch ( e ) {\n\t\tlog( e );\n\t}\n} );\n\n// =======\n// HELPERS\n// =======\n\n// ------------------------\n// Nelio A/B Testings Cart\n// ------------------------\n\nfunction updateNabCart( cart: WooCommerceCart ) {\n\tconst previousCart = getNabCart();\n\tconst addedProducts = cart.items.filter(\n\t\t( p ) =>\n\t\t\t! previousCart.items.some(\n\t\t\t\t( pp ) =>\n\t\t\t\t\tpp.product_id === p.product_id &&\n\t\t\t\t\tpp.variation_id === p.variation_id\n\t\t\t)\n\t);\n\tdispatchProductsAddedToCartEvent(\n\t\taddedProducts.map( ( p ) => ( {\n\t\t\tid: p.variation_id || p.product_id,\n\t\t} ) )\n\t);\n\n\tsetNabCart( cart );\n}\n\nfunction getNabCart(): WooCommerceCart {\n\tconst key = getNabCartKey();\n\tconst cart = getWooCommerceCart();\n\tif ( ! sessionStorage.getItem( key ) && cart ) {\n\t\tsetNabCart( { items: cart.items } );\n\t}\n\n\ttry {\n\t\tconst data = JSON.parse(\n\t\t\tsessionStorage.getItem( key ) ?? '{}'\n\t\t) as Maybe< Partial< WooCommerceCart > >;\n\t\treturn {\n\t\t\titems: Array.isArray( data?.items ) ? data?.items ?? [] : [],\n\t\t};\n\t} catch ( _ ) {\n\t\treturn { items: [] };\n\t}\n}\n\nfunction setNabCart( cart: WooCommerceCart ): void {\n\tsessionStorage.setItem( getNabCartKey(), JSON.stringify( cart ) );\n}\n\nfunction getNabCartKey(): string {\n\treturn `nab_${ getWooCommerceCartFragmentsParams().fragment_name }`;\n}\n\n// ----------------------------\n// WooCommerces Fragments/Cart\n// ----------------------------\n\nfunction getWooCommerceCart(): Maybe< WooCommerceCart > {\n\tconst fragmentName = getWooCommerceCartFragmentsParams().fragment_name;\n\n\ttry {\n\t\tconst wooCommerceFragments = JSON.parse(\n\t\t\tsessionStorage.getItem( fragmentName ) ?? '{}'\n\t\t) as Maybe< Partial< WooCommerceFragments > >;\n\t\treturn wooCommerceFragments?.nab_cart_info;\n\t} catch ( _ ) {\n\t\treturn undefined;\n\t}\n}\n\nfunction getWooCommerceCartFragmentsParams(): WooCommerceCartFragmentsParams {\n\tconst params = hasWooCommerceCartFragmentsParams( window )\n\t\t? window.wc_cart_fragments_params\n\t\t: {};\n\n\treturn {\n\t\tfragment_name: '',\n\t\t...params,\n\t};\n}\n\nfunction hasWooCommerceCartFragmentsParams( x: unknown ): x is {\n\t// eslint-disable-next-line camelcase\n\twc_cart_fragments_params: Partial< WooCommerceCartFragmentsParams >;\n} {\n\treturn (\n\t\thasOwnProperty( x, 'wc_cart_fragments_params' ) &&\n\t\tisObject( x.wc_cart_fragments_params )\n\t);\n}\n\n// ------\n// Others\n// ------\n\nfunction hasJQuery( x?: unknown ): x is { jQuery: JQuery } {\n\treturn hasOwnProperty( x, 'jQuery' ) && 'function' === typeof x.jQuery;\n}\n\nfunction hasOwnProperty< Y extends PropertyKey >(\n\tobj: unknown,\n\tprop: Y\n): obj is Record< Y, unknown > {\n\treturn !! obj && typeof obj === 'object' && obj.hasOwnProperty( prop );\n}\n\n// =====\n// TYPES\n// =====\n\ntype JQuery = ( selector: string | Node ) => JQueryElement;\ntype JQueryElement = {\n\treadonly on: (\n\t\tevent: string,\n\t\tcallback: ( ...args: unknown[] ) => void\n\t) => void;\n};\n\ntype WooCommerceCart = {\n\treadonly items: ReadonlyArray< WooCommerceCartItem >;\n};\n\nexport type WooCommerceCartItem = {\n\t// eslint-disable-next-line camelcase\n\treadonly product_id: ProductId;\n\t// eslint-disable-next-line camelcase\n\treadonly variation_id: ProductId;\n};\n\ntype WooCommerceCartFragmentsParams = {\n\t// eslint-disable-next-line camelcase\n\treadonly fragment_name: string;\n};\n\ntype WooCommerceFragments = {\n\t// eslint-disable-next-line camelcase\n\treadonly nab_cart_info: WooCommerceCart;\n};\n","/**\n * Internal dependencies\n */\nimport { dispatchProductsAddedToCartEvent } from './events';\n\n/* eslint-disable */\nconst getItems = () =>\n\t( ( window as any ).wp?.data?.select( 'wc/store/cart' )?.getCartData?.()\n\t\t?.items ?? [] ) as ReadonlyArray< { id: number } >;\n/* eslint-enable */\n\nlet previousItems = getItems();\nwindow.addEventListener( 'wc-blocks_added_to_cart', () => {\n\tconst currentItems = getItems();\n\tconst addedProducts = currentItems.filter(\n\t\t( p ) => ! previousItems.some( ( pp ) => pp.id === p.id )\n\t);\n\tpreviousItems = currentItems;\n\tdispatchProductsAddedToCartEvent( addedProducts );\n} );\n","/**\n * External dependencies\n */\nimport cloneDeep from 'lodash/cloneDeep';\nimport { v4 as uuid } from 'uuid';\nimport type {\n\tConversionEvent,\n\tExperimentId,\n\tMaybe,\n\tTrackEvent,\n\tUniqueConversionEvent,\n\tUniqueVisitEvent,\n\tVisitEvent,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getApiUrl } from '../utils/helpers';\nimport { getActiveSegments } from '../utils/segmentation';\nimport {\n\tcanSynchEvent,\n\tgetUniqueViews,\n\tupdateExperimentsWithPageViews,\n\tupdateUniqueViews,\n} from '../utils/tracking';\n\nimport type {\n\tConvertingGoal,\n\tGoalIndex,\n\tHeatmapSummary,\n\tSession,\n} from '../types';\n\nexport function sendViews(\n\texpIds: ExperimentId | ReadonlyArray< ExperimentId >,\n\tsession: Session\n): void {\n\tconst events = ( isArray( expIds ) ? expIds : [ expIds ] )\n\t\t.map( ( id ) => generatePageViewEvent( id, session ) )\n\t\t.filter( isVisitEvent );\n\n\ttrack( events, session );\n}\n\nexport function sendConversions(\n\tconvGoals: ConvertingGoal | ReadonlyArray< ConvertingGoal >,\n\tsession: Session\n): void {\n\tconst { experiments } = session;\n\tconst isConvEvent = ( e?: ConversionEvent ): e is ConversionEvent => !! e;\n\tconst events = ( isArray( convGoals ) ? convGoals : [ convGoals ] )\n\t\t.map( ( { experiment, goal } ) =>\n\t\t\tgenerateConversionEvent( experiment, goal, experiments )\n\t\t)\n\t\t.filter( isConvEvent );\n\n\ttrack( events, session );\n}\n\nexport function track(\n\tevents: ReadonlyArray< TrackEvent >,\n\tsession: Session\n): void {\n\tif ( ! events.length ) {\n\t\treturn;\n\t}\n\n\tsession.hasQuota\n\t\t.then( ( hasQuota ) => {\n\t\t\tif ( ! hasQuota ) {\n\t\t\t\tconsole.info( '[NAB] No more quota available.' ); //eslint-disable-line\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevents = events.filter( ( ev ) => canSynchEvent( ev, session ) );\n\t\t\tupdateExperimentsWithPageViews(\n\t\t\t\tevents.filter( isVisitEvent ),\n\t\t\t\tsession\n\t\t\t);\n\t\t\tevents = addUniqueEvents( events );\n\t\t\tif ( ! events.length ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( session.isStagingSite ) {\n\t\t\t\tevents.forEach( ( event ) =>\n\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\tconsole.info( '[NAB] Staging Event', event )\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { api, site, timezone } = session;\n\t\t\tconst timestamp = new Date().toISOString();\n\t\t\tevents = events.map( ( event ) => ( {\n\t\t\t\tid: uuid(),\n\t\t\t\t...event,\n\t\t\t\ttimezone,\n\t\t\t\ttimestamp,\n\t\t\t\t_uvisit: getUniqueViews()[ event.experiment ],\n\t\t\t} ) );\n\n\t\t\tevents.forEach( ( event ) =>\n\t\t\t\twindow.dispatchEvent(\n\t\t\t\t\tnew CustomEvent( 'nelio-ab-testing/track', {\n\t\t\t\t\t\tdetail: { event: cloneDeep( event ) },\n\t\t\t\t\t} )\n\t\t\t\t)\n\t\t\t);\n\n\t\t\tconst url = getApiUrl( api, `/site/${ site }/event`, {\n\t\t\t\te: window.btoa( JSON.stringify( events ) ),\n\t\t\t\ta: site,\n\t\t\t} );\n\n\t\t\t/* eslint-disable */\n\t\t\tconst beaconSent =\n\t\t\t\t!! session.useSendBeacon &&\n\t\t\t\t'function' === typeof window.navigator.sendBeacon &&\n\t\t\t\t!! window.Blob &&\n\t\t\t\twindow.navigator.sendBeacon(\n\t\t\t\t\turl,\n\t\t\t\t\tnew Blob( [], { 'Content-Type': 'text/plain' } as any )\n\t\t\t\t);\n\t\t\t/* eslint-enable */\n\n\t\t\tif ( ! beaconSent ) {\n\t\t\t\tconst image = document.createElement( 'img' );\n\t\t\t\timage.setAttribute( 'src', url );\n\t\t\t}\n\t\t} )\n\t\t.catch( () => {\n\t\t\tconsole.info( '[NAB] No more quota available (2).' ); //eslint-disable-line\n\t\t} );\n}\n\n// =======\n// HELPERS\n// =======\n\nconst isArray = < T >( a: T | ReadonlyArray< T > ): a is ReadonlyArray< T > =>\n\tArray.isArray( a );\n\nfunction generatePageViewEvent(\n\texperimentId: ExperimentId,\n\tsession: Session\n): Maybe< VisitEvent > {\n\tconst { experiments, heatmaps } = session;\n\n\tconst experiment = experiments.find( ( e ) => e.id === experimentId );\n\tif ( ! experiment ) {\n\t\treturn maybeGeneratePageViewEventForHeatmap( experimentId, heatmaps );\n\t}\n\n\tconst segments = getActiveSegments( experiment );\n\tif ( ! segments.length ) {\n\t\treturn;\n\t}\n\n\tconst type = getVisitType( experimentId, session.experiments );\n\tif ( ! type ) {\n\t\treturn;\n\t}\n\n\tconst alternative = experiment.alternative;\n\n\treturn {\n\t\tkind: 'visit',\n\t\texperiment: experimentId,\n\t\ttype,\n\t\talternative,\n\t\tsegments,\n\t};\n}\n\nfunction getVisitType(\n\texperimentId: ExperimentId,\n\texperiments: Session[ 'experiments' ]\n): Maybe< VisitEvent[ 'type' ] > {\n\tconst experiment = experiments.find( ( e ) => e.id === experimentId );\n\tif ( ! experiment ) {\n\t\treturn;\n\t}\n\n\tswitch ( experiment.type ) {\n\t\tcase 'nab/wc-bulk-sale':\n\t\tcase 'nab/wc-product':\n\t\t\treturn 'woocommerce';\n\n\t\tcase 'nab/css':\n\t\tcase 'nab/headline':\n\t\tcase 'nab/menu':\n\t\tcase 'nab/template':\n\t\tcase 'nab/theme':\n\t\tcase 'nab/widget':\n\t\t\treturn 'global';\n\n\t\tdefault:\n\t\t\treturn 'regular';\n\t}\n}\n\nfunction maybeGeneratePageViewEventForHeatmap(\n\texperimentId: ExperimentId,\n\theatmaps: ReadonlyArray< HeatmapSummary >\n): Maybe< VisitEvent > {\n\tconst ids = heatmaps.map( ( { id } ) => id );\n\tif ( ! ids.includes( experimentId ) ) {\n\t\treturn;\n\t}\n\n\treturn {\n\t\tkind: 'visit',\n\t\texperiment: experimentId,\n\t\ttype: 'regular',\n\t\talternative: 0,\n\t\tsegments: [],\n\t};\n}\n\nfunction generateConversionEvent(\n\texperimentId: ExperimentId,\n\tgoalIndex: GoalIndex,\n\texperiments: Session[ 'experiments' ]\n): Maybe< ConversionEvent > {\n\tconst experiment = experiments.find( ( e ) => e.id === experimentId );\n\tif ( ! experiment ) {\n\t\treturn;\n\t}\n\n\tif ( experiment.goals.length <= goalIndex ) {\n\t\treturn;\n\t}\n\n\tconst segments = getActiveSegments( experiment );\n\tif ( ! segments.length ) {\n\t\treturn;\n\t}\n\n\tconst alternative = experiment.alternative;\n\treturn {\n\t\tkind: 'conversion',\n\t\texperiment: experimentId,\n\t\talternative,\n\t\tgoal: goalIndex,\n\t\tsegments,\n\t};\n}\n\nfunction isVisitEvent( e?: TrackEvent ): e is VisitEvent {\n\treturn !! e && e.kind === 'visit';\n}\n\nfunction addUniqueEvents(\n\tevents: ReadonlyArray< TrackEvent >\n): ReadonlyArray< TrackEvent > {\n\tconst uniqueVisits = events\n\t\t.filter( ( e ) => e.kind === 'visit' )\n\t\t.map( makeUniqueViewEvent )\n\t\t.filter( isDefined );\n\n\tupdateUniqueViews( uniqueVisits );\n\n\tconst uniqueConversions = events\n\t\t.filter( ( e ) => e.kind === 'conversion' )\n\t\t.map( makeUniqueConversionEvent )\n\t\t.filter( isDefined );\n\n\treturn [ ...events, ...uniqueVisits, ...uniqueConversions ];\n}\n\nfunction makeUniqueViewEvent( visit: VisitEvent ): Maybe< UniqueVisitEvent > {\n\tconst uniqueViews = getUniqueViews();\n\treturn uniqueViews[ visit.experiment ]\n\t\t? undefined\n\t\t: { ...visit, kind: 'uvisit', id: uuid() };\n}\n\nfunction makeUniqueConversionEvent(\n\tconversion: ConversionEvent\n): Maybe< UniqueConversionEvent > {\n\tconst uniqueViews = getUniqueViews();\n\tconst uniqueViewId = uniqueViews[ conversion.experiment ];\n\treturn ! uniqueViewId\n\t\t? undefined\n\t\t: {\n\t\t\t\t...conversion,\n\t\t\t\tkind: 'uconversion',\n\t\t\t\tid: `${ uniqueViewId }-${ conversion.goal }`,\n\t\t  };\n}\n\n// DEPRECATED. Remove canMonitorEvents eventually.\n/* eslint-disable */\nconst canMonitorEvents = (\n\twin: unknown\n): win is {\n\tnabMonitorTrackingEvents: ( events: ReadonlyArray< TrackEvent > ) => void;\n} => !! win && typeof win === 'object' && 'nabMonitorTrackingEvents' in win;\nwindow.addEventListener( 'message', ( ev ) => {\n\tif (\n\t\tev.data?.plugin !== 'nelio-ab-testing' ||\n\t\tev.data?.type !== 'testing-event' ||\n\t\t! ev.data?.value\n\t) {\n\t\treturn;\n\t}\n\tif ( canMonitorEvents( window ) ) {\n\t\tconsole.groupCollapsed( 'Deprecation Warning!' );\n\t\tconsole.log(\n\t\t\t'Nelio A/B Testing deprecated nabMonitorTrackingEvents.'\n\t\t);\n\t\tconsole.log(\n\t\t\t\"Use window.addEventListener( 'nelio-ab-testing/track', callback ) instead and the event from details.event.\"\n\t\t);\n\t\tconsole.groupEnd();\n\t\twindow.nabMonitorTrackingEvents( [ ev.data.value ] );\n\t}\n} );\n/* eslint-enable */\n\nconst isDefined = < T >( x: T | undefined ): x is T => undefined !== x;\n","/**\n * Internal dependencies\n */\nimport type {\n\tConversionAction,\n\tConvertibleAction,\n\tConvertingGoal,\n\tGoalSummary,\n\tSession,\n} from '../types';\n\nexport function isGdprAccepted( session: Session ): boolean {\n\tconst { gdprCookie } = session;\n\n\tif ( ! gdprCookie.name ) {\n\t\treturn true;\n\t}\n\n\tconst matches = ( pattern: string, value: string ) => {\n\t\tconst parts = pattern.split( '*' );\n\t\treturn (\n\t\t\tvalue.startsWith( parts[ 0 ] ?? '' ) &&\n\t\t\tvalue.endsWith( parts[ parts.length - 1 ] ?? '' ) &&\n\t\t\t0 <=\n\t\t\t\tpattern\n\t\t\t\t\t.split( '*' )\n\t\t\t\t\t.reduce(\n\t\t\t\t\t\t( start, search ) =>\n\t\t\t\t\t\t\tstart < 0 ? start : value.indexOf( search, start ),\n\t\t\t\t\t\t0\n\t\t\t\t\t)\n\t\t);\n\t};\n\n\treturn document.cookie\n\t\t.split( ';' )\n\t\t.map( ( c ) => c.trim() )\n\t\t.map( ( c ) => c.split( '=' ) )\n\t\t.map( ( [ n, ...v ] ) => [ n, v.join( '=' ) ] )\n\t\t.filter(\n\t\t\t( c ): c is [ string, string ] =>\n\t\t\t\tc[ 0 ] !== undefined && c[ 1 ] !== undefined\n\t\t)\n\t\t.filter( ( [ n ] ) => matches( gdprCookie.name, n ) )\n\t\t.some(\n\t\t\t( [ _, v ] ) =>\n\t\t\t\t! gdprCookie.value ||\n\t\t\t\tmatches( gdprCookie.value, v ) ||\n\t\t\t\tmatches( gdprCookie.value, decodeURIComponent( v ) )\n\t\t);\n}\n\nexport function getAllActions(\n\texperiments: Session[ 'experiments' ]\n): ReadonlyArray< ConvertibleAction > {\n\treturn experiments.reduce( ( result, experiment ) => {\n\t\texperiment?.goals.forEach( ( goal ) => {\n\t\t\tconst relevantActions = goal.conversionActions.map(\n\t\t\t\t( action ) => ( {\n\t\t\t\t\t...action,\n\t\t\t\t\texperiment: experiment.id,\n\t\t\t\t\talternative: experiment.alternative,\n\t\t\t\t\tgoal: goal.id,\n\t\t\t\t} )\n\t\t\t);\n\t\t\tresult = [ ...result, ...relevantActions ];\n\t\t} );\n\n\t\treturn result;\n\t}, [] as ReadonlyArray< ConvertibleAction > );\n}\n\nexport function getConvertingGoals(\n\texperiments: Session[ 'experiments' ],\n\tactionMatcher: ( act: ConversionAction ) => boolean\n): ReadonlyArray< ConvertingGoal > {\n\treturn experiments.reduce( ( result, experiment ) => {\n\t\tconst relevantGoals = experiment.goals.filter( ( goal ) =>\n\t\t\thasMatchingAction( goal, actionMatcher )\n\t\t);\n\t\tconst eventsFromGoals = relevantGoals?.map( ( goal ) => ( {\n\t\t\tgoal: goal.id,\n\t\t\texperiment: experiment.id,\n\t\t} ) );\n\n\t\treturn eventsFromGoals ? [ ...result, ...eventsFromGoals ] : result;\n\t}, [] as ReadonlyArray< ConvertingGoal > );\n}\n\ntype Fn = () => void;\nconst onScrollDownFns: Fn[] = [];\nexport function onScrollDown( fn: Fn ): void {\n\tonScrollDownFns.push( fn );\n\tif ( 1 === onScrollDownFns.length ) {\n\t\tlet maxScroll = window.scrollY + window.innerHeight;\n\t\tdocument.addEventListener( 'scroll', () => {\n\t\t\tconst bottom = window.scrollY + window.innerHeight;\n\t\t\tif ( bottom <= maxScroll ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmaxScroll = bottom;\n\t\t\tonScrollDownFns.forEach( ( f ) => f() );\n\t\t} );\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction hasMatchingAction(\n\tgoal: GoalSummary,\n\tactionMatcher: ( action: ConversionAction ) => boolean\n): boolean {\n\treturn goal.conversionActions.reduce(\n\t\t( memo, action ) => memo || actionMatcher( action ),\n\t\tfalse\n\t);\n}\n","const Node = window.Node;\nconst XPathResult = window.XPathResult;\n\ntype Step = {\n\treadonly value: string;\n\treadonly optimized: boolean;\n};\n\n// Code from Chromium project.\n// https://github.com/chromium/chromium/blob/master/third_party/blink/renderer/devtools/front_end/elements/DOMPath.js\n\nexport function getElementByXPath( xpath: string ): Node | null {\n\treturn document.evaluate(\n\t\txpath,\n\t\tdocument,\n\t\tnull,\n\t\tXPathResult.FIRST_ORDERED_NODE_TYPE,\n\t\tnull\n\t).singleNodeValue;\n}\n\nexport function xPath( node: Node, optimized: boolean ): string {\n\tif ( node.nodeType === Node.DOCUMENT_NODE ) {\n\t\treturn '/';\n\t}\n\n\tconst steps: Step[] = [];\n\n\tlet contextNode: Node | null = node;\n\twhile ( contextNode ) {\n\t\tconst step = _xPathValue( contextNode, optimized );\n\t\tif ( ! step ) {\n\t\t\tbreak; // Error - bail out early.\n\t\t}\n\n\t\tsteps.push( step );\n\t\tif ( step.optimized ) {\n\t\t\tbreak;\n\t\t}\n\n\t\tcontextNode = contextNode.parentNode;\n\t}\n\n\tsteps.reverse();\n\tconst path = steps.map( ( s ) => s.value ).join( '/' );\n\treturn steps[ 0 ]?.optimized ? path : `/${ path }`;\n}\n\nfunction _xPathValue( node: Node, optimized: boolean ): Step | null {\n\tconst ownIndex = _xPathIndex( node );\n\tif ( ownIndex === -1 ) {\n\t\treturn null; // Error.\n\t}\n\n\tlet ownValue = '';\n\tswitch ( node.nodeType ) {\n\t\tcase Node.ELEMENT_NODE:\n\t\t\tif ( ! isHTMLElement( node ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( optimized && node.getAttribute( 'id' ) ) {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: `//*[@id=\"${ node.getAttribute( 'id' ) || '' }\"]`,\n\t\t\t\t\toptimized: true,\n\t\t\t\t};\n\t\t\t}\n\t\t\townValue = node.localName;\n\t\t\tbreak;\n\n\t\tcase Node.ATTRIBUTE_NODE:\n\t\t\townValue = `@${ node.nodeName }`;\n\t\t\tbreak;\n\n\t\tcase Node.TEXT_NODE:\n\t\tcase Node.CDATA_SECTION_NODE:\n\t\t\townValue = 'text()';\n\t\t\tbreak;\n\n\t\tcase Node.PROCESSING_INSTRUCTION_NODE:\n\t\t\townValue = 'processing-instruction()';\n\t\t\tbreak;\n\n\t\tcase Node.COMMENT_NODE:\n\t\t\townValue = 'comment()';\n\t\t\tbreak;\n\n\t\tcase Node.DOCUMENT_NODE:\n\t\t\townValue = '';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\townValue = '';\n\t\t\tbreak;\n\t}\n\n\tif ( ownIndex > 0 ) {\n\t\townValue += `[${ ownIndex }]`;\n\t}\n\n\treturn {\n\t\tvalue: ownValue,\n\t\toptimized: node.nodeType === Node.DOCUMENT_NODE,\n\t};\n}\n\nfunction _xPathIndex( node: Node ): number {\n\t// Returns -1 in case of error,\n\t//          0 if no siblings matching the same expression,\n\t//          <XPath index among the same expression-matching sibling nodes> otherwise.\n\tfunction areNodesSimilar( left: Node, right: Node ): boolean {\n\t\tif ( left === right ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( isHTMLElement( left ) && isHTMLElement( right ) ) {\n\t\t\treturn left.localName === right.localName;\n\t\t}\n\n\t\tif ( left.nodeType === right.nodeType ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// XPath treats CDATA as text nodes.\n\t\tconst leftType =\n\t\t\tleft.nodeType === Node.CDATA_SECTION_NODE\n\t\t\t\t? Node.TEXT_NODE\n\t\t\t\t: left.nodeType;\n\t\tconst rightType =\n\t\t\tright.nodeType === Node.CDATA_SECTION_NODE\n\t\t\t\t? Node.TEXT_NODE\n\t\t\t\t: right.nodeType;\n\t\treturn leftType === rightType;\n\t}\n\n\tconst siblings = node.parentNode ? node.parentNode.children : null;\n\tif ( ! siblings ) {\n\t\treturn 0; // Root node - no siblings.\n\t}\n\n\tlet hasSameNamedElements;\n\tfor ( let i = 0; i < siblings.length; ++i ) {\n\t\tconst sibling = siblings[ i ];\n\t\tif ( ! sibling ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( areNodesSimilar( node, sibling ) && sibling !== node ) {\n\t\t\thasSameNamedElements = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif ( ! hasSameNamedElements ) {\n\t\treturn 0;\n\t}\n\n\tlet ownIndex = 1; // XPath indices start with 1.\n\tfor ( let i = 0; i < siblings.length; ++i ) {\n\t\tconst sibling = siblings[ i ];\n\t\tif ( ! sibling ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( areNodesSimilar( node, sibling ) ) {\n\t\t\tif ( sibling === node ) {\n\t\t\t\treturn ownIndex;\n\t\t\t}\n\t\t\t++ownIndex;\n\t\t}\n\t}\n\treturn -1; // An error occurred: |node| not found in parent's children.\n}\n\nconst isHTMLElement = ( n: Node ): n is HTMLElement =>\n\tNode.ELEMENT_NODE === n.nodeType;\n","/**\n * External dependencies\n */\nimport type { Maybe } from '@nab/types';\n\ntype CookieName =\n\t| 'nabAlternative'\n\t| 'nabCheckWritePermission'\n\t| 'nabExperimentsWithPageViews'\n\t| 'nabIsUserLoggedIn'\n\t| 'nabSimulateStaging'\n\t| 'nabSegmentation'\n\t| 'nabUniqueViews'\n\t| 'nabSessionChecksum';\ntype CookieListenerId = string;\ntype CookieOptions = {\n\treadonly path: string;\n\treadonly expires: number;\n};\n\nexport function setCookie(\n\tname: CookieName,\n\tvalue: number | boolean | string,\n\toptions?: Partial< CookieOptions >\n): void {\n\tconst opts: CookieOptions = {\n\t\tpath: '/',\n\t\texpires: 0,\n\t\t...( options || {} ),\n\t};\n\n\tlet cookie = `${ name }=${ encodeURIComponent( value ) };`;\n\n\tif ( 0 < opts.expires ) {\n\t\tconst expiration = new Date(\n\t\t\tnew Date().getTime() + opts.expires * 864e5\n\t\t);\n\t\tcookie += ` expires=${ expiration.toUTCString() };`;\n\t}\n\n\tcookie += ` path=${ opts.path };`;\n\tcookie += ' SameSite=None; Secure;';\n\n\tdocument.cookie = cookie;\n}\n\nexport function getCookie( name: string ): Maybe< string > {\n\tconst cookies = document.cookie\n\t\t.split( ';' )\n\t\t.map( ( cookie ) => cookie.trim() )\n\t\t.reduce(\n\t\t\t( memo, cookie ) => {\n\t\t\t\tmemo[ cookie.split( '=' )[ 0 ] ?? '' ] =\n\t\t\t\t\tcookie.split( '=' )[ 1 ] ?? '';\n\t\t\t\treturn memo;\n\t\t\t},\n\t\t\t{} as Record< string, string >\n\t\t);\n\n\tif ( ! cookies[ name ] ) {\n\t\treturn;\n\t}\n\treturn decodeURIComponent( cookies[ name ] ?? '' );\n}\n\nexport function removeCookie( name: string ): void {\n\tdocument.cookie = `${ name }=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=None; Secure`;\n}\n\nexport function addCookieListener( fn: () => void ): CookieListenerId {\n\tconst id = getNewId();\n\tlisteners[ id ] = fn;\n\tresetTimeout();\n\treturn id;\n}\n\nexport function removeCookieListener( name: string ): void {\n\tif ( listeners[ name ] ) {\n\t\tdelete listeners[ name ];\n\t}\n}\n\n// ========\n// INTERNAL\n// ========\n\nconst trackState = {\n\ttimeoutId: undefined as undefined | ReturnType< typeof setInterval >,\n\tcookie: '',\n\tcounter: 0,\n};\nconst listeners: Record< CookieListenerId, () => void > = {};\n\nfunction tick() {\n\tif ( ! trackState.counter || trackState.cookie !== document.cookie ) {\n\t\tObject.values( listeners ).forEach( ( fn ) => fn() );\n\t}\n\ttrackState.cookie = document.cookie ?? '';\n\t++trackState.counter;\n\n\tif ( ! Object.values( listeners ).length ) {\n\t\treturn;\n\t}\n\n\ttrackState.timeoutId = setTimeout(\n\t\ttick,\n\t\ttrackState.counter < 120 ? 500 : 2000\n\t);\n}\n\nfunction resetTimeout() {\n\ttrackState.counter = 0;\n\tclearInterval( trackState.timeoutId );\n\ttrackState.timeoutId = setTimeout( tick, 500 );\n}\n\nconst getNewId = () => {\n\tlet id = '';\n\tdo {\n\t\tid = `${ Math.random() }`.slice( 2 );\n\t} while ( Object.keys( listeners ).includes( id ) );\n\treturn id;\n};\n","/**\n * Internal dependencies\n */\nimport { headReady } from './head-ready';\n\nexport function appendStyle( css: string ): void {\n\theadReady( () => {\n\t\tconst style = document.createElement( 'style' );\n\t\tstyle.innerHTML = css;\n\t\tdocument.head.appendChild( style );\n\t} );\n}\n","export function domReady( callback: () => unknown ): void {\n\tif ( typeof document === 'undefined' ) {\n\t\treturn;\n\t}\n\n\tif (\n\t\tdocument.readyState === 'complete' || // DOMContentLoaded + Images/Styles/etc loaded, so we call directly.\n\t\tdocument.readyState === 'interactive' // DOMContentLoaded fires at this point, so we call directly.\n\t) {\n\t\treturn void callback();\n\t}\n\n\t// DOMContentLoaded has not fired yet, delay callback until then.\n\tdocument.addEventListener( 'DOMContentLoaded', callback );\n}\n","let observing = false;\nconst OBSERVER = new MutationObserver( checkPendingSelectors );\n\nexport function elementReady( selector: string, callback: Callback ): void {\n\ttry {\n\t\tconst el = document.querySelector< HTMLElement >( selector );\n\t\tif ( el ) {\n\t\t\tcallback( el, setCss( selector ) );\n\t\t\treturn;\n\t\t}\n\n\t\tenqueueSelectorCallback( selector, callback );\n\t} catch ( _ ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log( `Element ${ selector } not found.` );\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\ntype Callback = (\n\tel: HTMLElement,\n\tsetCss: ( style: string ) => void\n) => unknown;\n\nconst setCss =\n\t( selector: string ) =>\n\t( css: string ): void => {\n\t\tconst style = document.createElement( 'style' );\n\t\tstyle.textContent = `${ selector } {\\n${ trim( css ) }\\n}`;\n\t\tdocument.head?.appendChild( style );\n\t};\n\nconst trim = ( s = '' ) => s.replace( /^\\s*/, '' ).replace( /\\s*$/, '' );\n\nconst PENDING_SELECTORS = new Map< string, ReadonlyArray< Callback > >();\nfunction enqueueSelectorCallback( selector: string, callback: Callback ) {\n\tconst selectors = PENDING_SELECTORS.get( selector ) ?? [];\n\tPENDING_SELECTORS.set( selector, [ ...selectors, callback ] );\n\tif ( ! observing ) {\n\t\tobserving = true;\n\t\tOBSERVER.observe( document.body, {\n\t\t\tchildList: true,\n\t\t\tsubtree: true,\n\t\t} );\n\t}\n}\n\nfunction checkPendingSelectors() {\n\tfor ( const [ selector, callbacks ] of PENDING_SELECTORS ) {\n\t\tconst el = document.querySelector< HTMLElement >( selector );\n\t\tif ( el ) {\n\t\t\tcallbacks.forEach( ( cb ) => cb( el, setCss( selector ) ) );\n\t\t\tPENDING_SELECTORS.delete( selector );\n\t\t}\n\t}\n\n\tif ( PENDING_SELECTORS.size === 0 ) {\n\t\tOBSERVER.disconnect();\n\t\tobserving = false;\n\t}\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-function-type, @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-return */\ntype ValidFlow< Fns > = Fns extends []\n\t? []\n\t: Fns extends [ ( i: infer I ) => infer R ]\n\t? [ ( i: I ) => R ]\n\t: Fns extends [ ( i: infer I1 ) => infer O1, ...infer Rest1 ]\n\t? Rest1 extends [ ( i: infer I2 ) => any, ...infer Rest2 ]\n\t\t? [ O1 ] extends [ I2 ]\n\t\t\t? [ ( i: I1 ) => O1, ...ValidFlow< Rest1 > ]\n\t\t\t: [ ( i: I1 ) => O1, ( i: O1 ) => unknown, ...ValidFlow< Rest2 > ]\n\t\t: [ never ]\n\t: [ never ];\n\ntype Input< Fns extends Function[] > = Fns extends [\n\t( i: infer I ) => any,\n\t...Function[],\n]\n\t? I\n\t: never;\n\ntype Output< Fns extends Function[] > = Fns extends [\n\t( i: any ) => infer R,\n\t...infer Rest,\n]\n\t? Rest extends []\n\t\t? R\n\t\t: Rest extends Function[]\n\t\t? Output< Rest >\n\t\t: never\n\t: never;\n\nexport function flow< Fns extends Function[] >(\n\t...fns: Fns extends ValidFlow< Fns > ? Fns : ValidFlow< Fns >\n): ( input: Input< Fns > ) => Output< Fns > {\n\treturn ( input: Input< Fns > ) =>\n\t\t( fns as Array< ( i: any ) => any > ).reduce(\n\t\t\t( r, f ) => f( r ),\n\t\t\tinput as any\n\t\t) as Output< Fns >;\n}\n","/**\n * Internal dependencies\n */\nimport type { ActiveExperiment, Experiment, Session } from '../../types';\n\nexport const getActiveExperiments = (\n\tsession: Session\n): ReadonlyArray< ActiveExperiment > =>\n\tsession.experiments.filter( isActiveExperiment );\n\nconst isActiveExperiment = ( e: Experiment ): e is ActiveExperiment => e.active;\n","/**\n * Internal dependencies\n */\nimport { addQueryArgs } from '../url';\nimport type { ParamValue, Session } from '../../types';\n\nexport const getApiUrl = (\n\tapi: Session[ 'api' ],\n\tpath: string,\n\targs?: Record< string, ParamValue >\n): string =>\n\taddQueryArgs(\n\t\t'rest' === api.mode\n\t\t\t? addQueryArgs( api.url, { path } )\n\t\t\t: `${ api.url }${ path }`,\n\t\targs\n\t);\n","export function getClosest< T extends HTMLElement = HTMLElement >(\n\tnode: HTMLElement,\n\tnodeType: string\n): T | false {\n\tlet currentNode: HTMLElement | null = node;\n\tdo {\n\t\tif ( nodeType.toLowerCase() === currentNode.nodeName.toLowerCase() ) {\n\t\t\treturn currentNode as T;\n\t\t}\n\t\tcurrentNode = currentNode.parentElement;\n\t} while ( currentNode );\n\n\treturn false;\n}\n","export function getDocumentHeight(): number {\n\tconst body = document.body;\n\tconst html = document.documentElement;\n\treturn Math.max(\n\t\tbody.scrollHeight,\n\t\tbody.offsetHeight,\n\t\thtml.clientHeight,\n\t\thtml.scrollHeight,\n\t\thtml.offsetHeight\n\t);\n}\n","/**\n * External dependencies\n */\nimport md5 from 'md5';\nimport type { ExperimentId, Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { log } from './log';\nimport { canVisitorParticipate } from './internal/can-visitor-participate';\nimport { getSettings } from './internal/get-settings';\nimport { getApiUrl } from '../helpers';\n\nimport {\n\taddCookieListener,\n\tgetCookie,\n\tremoveCookie,\n\tremoveCookieListener,\n\tsetCookie,\n} from '../cookies';\nimport {\n\tupdateSegmentationSettings,\n\tgetAllActiveSegments,\n} from '../segmentation';\nimport { getQueryArg, REFERRER_PARAM, removeTestingArgs } from '../url';\nimport {\n\tgetExperimentsWithPageViews,\n\tgetUniqueViews as doGetUniqueViews,\n} from '../tracking';\nimport { isGdprAccepted } from '../../tracking/utils';\nimport type { AlternativeIndex, Session, Settings } from '../../types';\nimport type { Uuid } from 'uuid';\nimport { getGA4ClientId } from '../../tracking/ga4';\n\ntype QuotaCheck = {\n\treadonly zero: boolean;\n\treadonly timestamp: number;\n};\n\nconst MINUTE_IN_MILLIS = 60_000;\nconst QUOTA_CHECK_LIVESPAN = 10 * MINUTE_IN_MILLIS;\n\nexport function setNabReferrer(): void {\n\t// @ts-expect-error Were creating this variable.\n\twindow.nabReferrer =\n\t\tgetQueryArg( document.location.href, REFERRER_PARAM ) ||\n\t\tdocument.referrer;\n}\n\nexport const getSession = async (): Promise< Maybe< Session > > => {\n\tconst settings = getSettings();\n\tif ( ! canVisitorParticipate( settings ) ) {\n\t\treturn;\n\t}\n\n\tawait updateSegmentationSettings( settings );\n\tconst alternative = updateAlternativeCookie( settings );\n\tif ( 'none' === alternative ) {\n\t\tlog( 'No alternative assigned' );\n\t\treturn;\n\t}\n\n\tconst session = {\n\t\t...settings,\n\t\talternative,\n\t\tcurrentUrl: window.location.href,\n\t\tisStagingSite: settings.isStagingSite || isStagingSimulated(),\n\t\texperiments: settings.experiments.map( ( e ) => ( {\n\t\t\t...e,\n\t\t\talternative: alternative % e.alternatives.length,\n\t\t} ) ),\n\t\tuntestedUrl: removeTestingArgs( window.location.href ),\n\t\thasQuota: hasQuota( settings ),\n\t};\n\n\tif ( isGdprAccepted( session ) ) {\n\t\tvoid updateECommerceSession( session );\n\t} else {\n\t\tconst id = addCookieListener( () => {\n\t\t\tif ( ! isGdprAccepted( session ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvoid updateECommerceSession( session );\n\t\t\tremoveCookieListener( id );\n\t\t} );\n\t}\n\n\treturn session;\n};\n\n// =======\n// HELPERS\n// =======\n\nfunction isStagingSimulated() {\n\tif ( undefined !== getQueryArg( window.location.href, 'nabstaging' ) ) {\n\t\tsetCookie( 'nabSimulateStaging', 'true' );\n\t}\n\treturn 'true' === getCookie( 'nabSimulateStaging' );\n}\n\nconst updateAlternativeCookie = ( settings: Settings ) => {\n\tconst { maxCombinations } = settings;\n\tlet alternative = getAlternativeFromCookie( settings );\n\n\tif ( false === alternative ) {\n\t\talternative =\n\t\t\trandom( 100 ) <= settings.participationChance\n\t\t\t\t? random( maxCombinations - 1 )\n\t\t\t\t: 'none';\n\t\tresetCookies( alternative );\n\t}\n\n\tconst newAlternative = shouldAlternativeBeOverwritten(\n\t\tsettings,\n\t\talternative\n\t);\n\tif ( false !== newAlternative ) {\n\t\talternative = newAlternative % settings.maxCombinations;\n\t\tresetCookies( alternative );\n\t}\n\n\tresetCookieExpirations();\n\treturn alternative;\n};\n\nfunction getAlternativeFromCookie(\n\tsettings: Settings\n): false | number | 'none' {\n\tconst nabAlt = getCookie( 'nabAlternative' ) ?? '';\n\tif ( 'none' === nabAlt ) {\n\t\treturn 'none';\n\t}\n\n\tconst value = Number.parseInt( nabAlt );\n\tif ( isNaN( value ) ) {\n\t\treturn false;\n\t}\n\n\tif ( value < 0 ) {\n\t\treturn false;\n\t}\n\n\tif ( value >= settings.maxCombinations ) {\n\t\treturn false;\n\t}\n\n\treturn value;\n}\n\nconst updateECommerceSession = async ( session: Session ) => {\n\tif ( ! session.ajaxUrl ) {\n\t\treturn;\n\t}\n\n\tconst oldChecksum = getCookie( 'nabSessionChecksum' );\n\tconst checksum = getSessionChecksum( session.alternative );\n\tif ( ! session.forceECommerceSessionSync && oldChecksum === checksum ) {\n\t\treturn;\n\t}\n\n\tconst body = new FormData();\n\tbody.append( 'action', 'nab_sync_ecommerce_session' );\n\tbody.append( 'alternative', `${ session.alternative }` );\n\tbody.append(\n\t\t'expsWithView',\n\t\tJSON.stringify( getViewedAlternatives( session ) )\n\t);\n\tbody.append( 'expSegments', JSON.stringify( getSegments( session ) ) );\n\tbody.append( 'uniqueViews', JSON.stringify( getUniqueViews( session ) ) );\n\tif ( session.isGA4Integrated ) {\n\t\tbody.append( 'ga4ClientId', getGA4ClientId() ?? '' );\n\t}\n\n\t// NOTE. Were syncing the session using an event to prevent GTMetrix from grading sites poorly.\n\tawait new Promise< void >( ( resolve ) => {\n\t\tlet running = false;\n\t\tconst sync = () => {\n\t\t\tif ( running ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\trunning = true;\n\t\t\tvoid fetch( session.ajaxUrl, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tcredentials: 'same-origin',\n\t\t\t\tbody,\n\t\t\t} ).finally( () => {\n\t\t\t\twindow.removeEventListener( 'keyup', sync );\n\t\t\t\twindow.removeEventListener( 'mousemove', sync );\n\t\t\t\twindow.removeEventListener( 'click', sync );\n\t\t\t\tresolve();\n\t\t\t} );\n\t\t};\n\t\twindow.addEventListener( 'keyup', sync );\n\t\twindow.addEventListener( 'mousemove', sync );\n\t\twindow.addEventListener( 'click', sync );\n\t} );\n\n\tsetCookie( 'nabSessionChecksum', checksum );\n};\n\nconst random = ( max: number ) =>\n\tMath.min( Math.floor( Math.random() * ( max + 1 ) ), max );\n\nconst getViewedAlternatives = (\n\tsession: Session\n): Partial< Record< ExperimentId, AlternativeIndex > > =>\n\tObject.keys( getExperimentsWithPageViews() ).reduce(\n\t\t( res, key ) => {\n\t\t\tconst id = ( Number.parseInt( key ) || 0 ) as ExperimentId;\n\t\t\tconst exp = session.experiments.find( ( e ) => e.id === id );\n\t\t\tif ( exp ) {\n\t\t\t\tres[ id ] = exp.alternative;\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{} as Partial< Record< ExperimentId, AlternativeIndex > >\n\t);\n\nconst getSegments = (\n\tsession: Session\n): Partial< Record< ExperimentId, ReadonlyArray< number > > > => {\n\tconst allSegments = getAllActiveSegments();\n\treturn Object.keys( allSegments ).reduce(\n\t\t( res, key ) => {\n\t\t\tconst id = ( Number.parseInt( key ) || 0 ) as ExperimentId;\n\t\t\tconst exp = session.experiments.find( ( e ) => e.id === id );\n\t\t\tif ( exp ) {\n\t\t\t\tres[ id ] = allSegments[ id ] ?? [ 0 ];\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{} as Partial< Record< ExperimentId, ReadonlyArray< number > > >\n\t);\n};\n\nconst getUniqueViews = (\n\tsession: Session\n): Partial< Record< ExperimentId, Uuid > > => {\n\tconst uniqueViews = doGetUniqueViews();\n\treturn session.experiments.reduce(\n\t\t( res, experiment ) => {\n\t\t\tconst id = experiment.id;\n\t\t\tconst viewUuid = uniqueViews[ id ];\n\t\t\tif ( viewUuid ) {\n\t\t\t\tres[ id ] = viewUuid;\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{} as Record< ExperimentId, Uuid >\n\t);\n};\n\nconst getSessionChecksum = ( alternative: number ): string => {\n\tconst epv = getExperimentsWithPageViews();\n\tconst expIds = Object.keys( epv ).sort();\n\tconst tenMinutesTimestamp =\n\t\tnew Date( Object.values( epv ).sort().reverse()[ 0 ] || 0 )\n\t\t\t.toISOString()\n\t\t\t.substring( 0, 15 ) + '0';\n\treturn md5( [ alternative, ...expIds, tenMinutesTimestamp ].join( ':' ) );\n};\n\nfunction shouldAlternativeBeOverwritten(\n\tsettings: Settings,\n\tassignedAlternative: 'none' | number\n): number | false {\n\tconst search = document.location.search;\n\tconst queryAlternative =\n\t\t/\\bnab\\b=[0-9]+/.test( search ) && /\\bnabforce\\b/.test( search )\n\t\t\t? Number.parseInt(\n\t\t\t\t\tsearch.replace( /^.*\\bnab\\b=([0-9]+).*$/, '$1' )\n\t\t\t  ) || 0\n\t\t\t: false;\n\n\tif ( false !== queryAlternative ) {\n\t\treturn assignedAlternative !== queryAlternative\n\t\t\t? queryAlternative\n\t\t\t: false;\n\t}\n\n\tconst cookieAlternative = settings.cookieTesting;\n\tif ( false !== cookieAlternative ) {\n\t\treturn assignedAlternative !== cookieAlternative\n\t\t\t? cookieAlternative\n\t\t\t: false;\n\t}\n\n\treturn false;\n}\n\nfunction resetCookies( alternative: number | 'none' ): void {\n\tsetCookie( 'nabAlternative', alternative, { expires: 120 } );\n\tremoveCookie( 'nabExperimentsWithPageViews' );\n\tremoveCookie( 'nabUniqueViews' );\n}\n\nfunction resetCookieExpirations(): void {\n\t(\n\t\t[\n\t\t\t'nabAlternative',\n\t\t\t'nabExperimentsWithPageViews',\n\t\t\t'nabUniqueViews',\n\t\t] as const\n\t )\n\t\t.map( ( n ) => [ n, getCookie( n ) ?? '' ] as const )\n\t\t.filter( ( [ _, v ] ) => !! v )\n\t\t.forEach( ( [ n, v ] ) => setCookie( n, v, { expires: 120 } ) );\n}\n\nasync function hasQuota( settings: Settings ): Promise< boolean > {\n\ttry {\n\t\tconst quotaString = sessionStorage.getItem( 'nabq' ) ?? '';\n\t\tconst quotaCheck = JSON.parse( quotaString ) as unknown;\n\t\tif ( isValidQuotaCheck( quotaCheck ) ) {\n\t\t\treturn ! quotaCheck.zero;\n\t\t}\n\t} catch ( _ ) {}\n\n\tsessionStorage.removeItem( 'nabq' );\n\tconst quotaCheck = await checkQuota( settings );\n\tif ( ! quotaCheck ) {\n\t\treturn true;\n\t}\n\n\tsessionStorage.setItem( 'nabq', JSON.stringify( quotaCheck ) );\n\treturn ! quotaCheck.zero;\n}\n\nfunction isValidQuotaCheck( q: unknown ): q is QuotaCheck {\n\treturn (\n\t\t!! q &&\n\t\t'object' === typeof q &&\n\t\t'timestamp' in q &&\n\t\t'zero' in q &&\n\t\t'boolean' === typeof q.zero &&\n\t\t'number' === typeof q.timestamp &&\n\t\tDate.now() - q.timestamp <= QUOTA_CHECK_LIVESPAN\n\t);\n}\n\nasync function checkQuota(\n\tsettings: Settings\n): Promise< Maybe< QuotaCheck > > {\n\ttry {\n\t\tconst url = getApiUrl( settings.api, '/check', {\n\t\t\tsiteId: settings.site,\n\t\t} );\n\t\tconst res = await window.fetch( url );\n\t\tconst data: string = await res.text();\n\t\tconst zero = ! JSON.parse( data );\n\t\treturn { timestamp: Date.now(), zero };\n\t} catch ( _ ) {}\n\treturn undefined;\n}\n","/**\n * Internal dependencies\n */\nimport { domReady } from './dom-ready';\n\ntype Callback = () => unknown;\n\nlet isHeadReady = false;\nconst pending: Callback[] = [];\nexport const headReady = ( callback: Callback ): void =>\n\tisHeadReady ? void callback() : void pending.push( callback );\n\n// =======\n// HELPERS\n// =======\n\nconst markHeadAsReady = () => {\n\tif ( isHeadReady ) {\n\t\treturn;\n\t}\n\tisHeadReady = true;\n\tpending.forEach( ( fn ) => fn() );\n};\n\nconst checkHead = () => {\n\tif ( isHeadReady ) {\n\t\treturn;\n\t}\n\tif ( document.body !== null ) {\n\t\treturn markHeadAsReady();\n\t}\n\tsetTimeout( checkHead, 100 );\n};\n\ncheckHead();\ndomReady( markHeadAsReady );\n","export * from './append-style';\nexport * from './dom-ready';\nexport * from './element-ready';\nexport * from './get-active-experiments';\nexport * from './get-api-url';\nexport * from './get-closest';\nexport * from './get-document-height';\nexport * from './get-session';\nexport * from './flow';\nexport * from './head-ready';\nexport * from './log';\nexport * from './preload-query-args';\n","/**\n * External dependencies\n */\nimport type { Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { log } from '../log';\nimport { getCookie, removeCookie, setCookie } from '../../cookies';\nimport type { Session } from '../../../types';\n\ntype ParticipationSettings = Pick<\n\tSession,\n\t'excludeBots' | 'gdprCookie' | 'participationChance'\n>;\n\nexport function canVisitorParticipate(\n\tsettings: Maybe< ParticipationSettings >\n): settings is ParticipationSettings {\n\tif ( ! settings ) {\n\t\tlog( 'Settings not found' );\n\t\treturn false;\n\t}\n\n\tif ( isIE() ) {\n\t\tlog( 'IE detected' );\n\t\treturn false;\n\t}\n\n\tif ( settings.excludeBots && isBot() ) {\n\t\tlog( 'Bot detected' );\n\t\treturn false;\n\t}\n\n\tif ( ! areCookiesEnabled() ) {\n\t\tlog( 'Cookies not enabled' );\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction isBot(): boolean {\n\tconst userAgent = window.navigator?.userAgent;\n\treturn (\n\t\t!! userAgent &&\n\t\t/bot|spider|crawl|http|lighthouse|meta-externalagent|meta-externalfetcher|facebookexternalhit|facebookcatalog|gtmetrix/i.test(\n\t\t\tuserAgent\n\t\t)\n\t);\n}\n\nfunction isIE(): boolean {\n\tconst ua = window.navigator.userAgent || '';\n\treturn -1 !== ua.indexOf( 'MSIE ' ) || -1 !== ua.indexOf( 'Trident/' );\n}\n\nfunction areCookiesEnabled() {\n\tsetCookie( 'nabCheckWritePermission', true );\n\tif ( ! getCookie( 'nabCheckWritePermission' ) ) {\n\t\treturn false;\n\t}\n\n\tremoveCookie( 'nabCheckWritePermission' );\n\treturn true;\n}\n","/**\n * External dependencies\n */\nimport type { Maybe, SiteId, Url } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { parseJavaScript } from '../internal/parse-javascript';\nimport type { Settings } from '../../../types';\n\nexport const getSettings = (): Maybe< Required< Settings > > => {\n\tconst win = window as unknown;\n\tif ( ! hasSettings( win ) ) {\n\t\treturn;\n\t}\n\n\tconst settings = win.nabSettings;\n\treturn {\n\t\tajaxUrl: '' as Url,\n\t\talternativeUrls: [],\n\t\tapi: { mode: 'native', url: '' as Url },\n\t\tcookieTesting: false,\n\t\texcludeBots: true,\n\t\tforceECommerceSessionSync: false,\n\t\tgdprCookie: { name: '', value: '' },\n\t\theatmaps: [],\n\t\thideQueryArgs: false,\n\t\tignoreTrailingSlash: true,\n\t\tisGA4Integrated: false,\n\t\tga4TrackingMethod: false,\n\t\tisStagingSite: false,\n\t\tisTestedPostRequest: false,\n\t\tmaxCombinations: 2,\n\t\tnabPosition: 'last',\n\t\tnumOfAlternatives: 0,\n\t\toptimizeXPath: true,\n\t\tparticipationChance: 100,\n\t\tpostId: 0,\n\t\tpreloadQueryArgUrls: [],\n\t\tsegmentMatching: 'all',\n\t\tsingleConvPerView: true,\n\t\tsite: '' as SiteId,\n\t\ttimezone: '',\n\t\tuseControlUrl: false,\n\t\tuseSendBeacon: true,\n\t\tversion: 'unknown',\n\t\t...settings,\n\t\texperiments: parseJavaScript( settings.experiments ),\n\t\tthrottle: {\n\t\t\tglobal: fixThrottleWait( settings.throttle?.global ),\n\t\t\twoocommerce: fixThrottleWait( settings.throttle?.woocommerce ),\n\t\t},\n\t};\n};\n\n// ========\n// INTERNAL\n// ========\n\nconst hasSettings = (\n\twin: unknown\n): win is { nabSettings: Partial< Settings > } =>\n\t!! win && 'object' === typeof win && 'nabSettings' in win;\n\nfunction fixThrottleWait( wait = 0 ): number {\n\treturn Math.max( 0, Math.min( 10, wait ) );\n}\n","/**\n * Internal dependencies\n */\nimport { domReady } from '../dom-ready';\nimport type { ExperimentSummary } from '../../../types';\n\nexport function parseJavaScript< T extends ExperimentSummary >(\n\texperiments: ReadonlyArray< T > | undefined\n): ReadonlyArray< T > {\n\texperiments = experiments ?? [];\n\treturn experiments.map( ( e ) => {\n\t\tconst goals = e.goals.map( ( g ) => ( {\n\t\t\t...g,\n\t\t\tconversionActions: g.conversionActions.map( ( ca ) => {\n\t\t\t\tif ( ! ca.active ) {\n\t\t\t\t\treturn ca;\n\t\t\t\t}\n\n\t\t\t\tif ( 'nab/custom-event' !== ca.type ) {\n\t\t\t\t\treturn ca;\n\t\t\t\t}\n\n\t\t\t\tconst snippet = ca.attributes.snippet;\n\t\t\t\tif ( 'string' !== typeof snippet ) {\n\t\t\t\t\treturn ca;\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-eval\n\t\t\t\tdomReady( () => eval( snippet ) );\n\n\t\t\t\treturn ca;\n\t\t\t} ),\n\t\t} ) );\n\n\t\tif ( ! e.active ) {\n\t\t\treturn { ...e, goals };\n\t\t}\n\n\t\treturn {\n\t\t\t...e,\n\t\t\talternatives:\n\t\t\t\te.type === 'nab/css' || e.type === 'nab/javascript'\n\t\t\t\t\t? e.alternatives.map( ( a ) => ( {\n\t\t\t\t\t\t\t...a,\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, no-eval\n\t\t\t\t\t\t\trun: eval( `(()=>${ a.run as string })()` ),\n\t\t\t\t\t  } ) )\n\t\t\t\t\t: e.alternatives,\n\t\t\tgoals,\n\t\t};\n\t} );\n}\n","const LOG_REGEX = /\\bnabjslog\\b/;\nexport function log( ...args: unknown[] ): void {\n\tif (\n\t\tLOG_REGEX.test( window.location.search ) ||\n\t\tLOG_REGEX.test( document.cookie )\n\t) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log( '[NAB]', ...args );\n\t}\n}\n\nexport function logIf( condition: boolean, ...args: unknown[] ): void {\n\tif ( ! condition ) {\n\t\treturn;\n\t}\n\tlog( ...args );\n}\n\nconst logs: string[] = [];\nexport function logOnce( text: string ): void {\n\tif ( logs.includes( text ) ) {\n\t\treturn;\n\t}\n\tlogs.push( text );\n\tlog( text );\n}\n","/**\n * Internal dependencies\n */\nimport { domReady } from './dom-ready';\nimport type { PreloadQueryArgUrl, Session } from '../../types';\nimport { addNabQueryArg } from '../url';\n\nexport const preloadQueryArgs = ( session: Session ): void =>\n\tdomReady( () => {\n\t\tdoPreloadQueryArgs( session );\n\t\tfixSelfHashUrls();\n\t} );\n\n// =======\n// HELPERS\n// =======\n\nexport const doPreloadQueryArgs = ( session: Session ): void => {\n\tif ( ! session.preloadQueryArgUrls.length ) {\n\t\treturn;\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/prefer-regexp-exec\n\tconst matches = document.cookie.match( /nabAlternative=[0-9]+/ ) || [ '' ];\n\tconst alt: number = Number.parseInt( matches[ 0 ].split( '=' )[ 1 ] ?? '' );\n\tif ( isNaN( alt ) ) {\n\t\treturn;\n\t}\n\n\tconst site = document.location.protocol + '//' + document.location.hostname;\n\tconst anchors = Array.from(\n\t\tdocument.querySelectorAll< HTMLAnchorElement >( 'a' )\n\t)\n\t\t.filter( ( a ) => a.href )\n\t\t.filter( ( a ) => typeof a.href === 'string' )\n\t\t.filter( ( a ) => 0 === a.href.indexOf( site ) )\n\t\t.filter( ( a ) => -1 === a.href.indexOf( '#' ) )\n\t\t.filter( ( a ) => -1 === a.href.indexOf( '/wp-content/' ) );\n\n\tconst config = [ ...session.preloadQueryArgUrls ].sort( ( x ) =>\n\t\tx.type === 'alt-urls' ? -1 : 1\n\t);\n\tanchors.forEach( preloadQueryArg( config, alt, session.nabPosition ) );\n};\n\nconst fixSelfHashUrls = () => {\n\tconst current = new URL( document.location.href );\n\tif ( ! /\\bnab=/.test( current.search ) ) {\n\t\treturn;\n\t}\n\n\tcurrent.hash = '';\n\tcurrent.searchParams.delete( 'nab' );\n\tArray.from(\n\t\tdocument.querySelectorAll< HTMLAnchorElement >( 'a[href*=\"#\"]' )\n\t)\n\t\t.filter( ( a ) => a.href )\n\t\t.filter( ( a ) => typeof a.href === 'string' )\n\t\t.filter( ( a ) => a.href.replace( /#.*$/, '' ) === current.href )\n\t\t.forEach( ( a ) => {\n\t\t\ta.href = a.href.replace( /^[^#]*#/, '#' );\n\t\t} );\n};\n\nconst preloadQueryArg =\n\t(\n\t\tconfig: ReadonlyArray< PreloadQueryArgUrl >,\n\t\talt: number,\n\t\tnabPosition: 'first' | 'last'\n\t) =>\n\t( a: HTMLAnchorElement ): void => {\n\t\tif ( ! a.href || typeof a.href !== 'string' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( a.href.indexOf( 'nab=' ) !== -1 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scopes = getMatchingScopes( config, a.href );\n\t\tif ( ! scopes.length ) {\n\t\t\treturn;\n\t\t}\n\t\tconst altCount = Math.max( ...scopes.map( ( s ) => s.altCount ) );\n\t\tconst nab = alt % altCount;\n\t\tconst url = getAlternativeUrl( scopes, alt ) || a.href;\n\t\ta.href = addNabQueryArg( url, nab, nabPosition );\n\t};\n\nfunction getMatchingScopes(\n\tconfig: ReadonlyArray< PreloadQueryArgUrl >,\n\tlink: string\n): ReadonlyArray< PreloadQueryArgUrl > {\n\tlink = link.toLowerCase();\n\treturn config.filter( ( s ) => {\n\t\tconst scope = s.type === 'alt-urls' ? s.altUrls : s.scope;\n\t\treturn scope.some( ( l ): boolean => {\n\t\t\tif ( isPartialUrl( l ) ) {\n\t\t\t\treturn link.includes( getPart( l ) );\n\t\t\t}\n\t\t\tif ( isPartialNotIncludedUrl( l ) ) {\n\t\t\t\treturn ! link.includes( getPart( l ) );\n\t\t\t}\n\t\t\tif ( isExclusionUrl( l ) ) {\n\t\t\t\treturn l.substring( 1 ) !== link;\n\t\t\t}\n\t\t\treturn link === l;\n\t\t} );\n\t} );\n}\n\nfunction getAlternativeUrl(\n\tconfig: ReadonlyArray< PreloadQueryArgUrl >,\n\tnab: number\n) {\n\tconst scope = config.find( ( s ) => s.type === 'alt-urls' );\n\treturn scope?.type === 'alt-urls'\n\t\t? scope.altUrls[ nab % scope.altCount ]\n\t\t: undefined;\n}\n\nfunction isExclusionUrl( url: string ): boolean {\n\treturn url.startsWith( '!' ) && ! url.startsWith( '!*' );\n}\n\nfunction isPartialUrl( url: string ): boolean {\n\treturn url.startsWith( '*' ) && url.endsWith( '*' );\n}\n\nfunction isPartialNotIncludedUrl( url: string ): boolean {\n\treturn url.startsWith( '!*' ) && url.endsWith( '*' );\n}\n\nfunction getPart( partialUrl: string ): string {\n\treturn partialUrl.substring(\n\t\t// We either remove '!*' or '*' at the beginning\n\t\tisPartialNotIncludedUrl( partialUrl ) ? 2 : 1,\n\t\t// And we remove the final '*' at the end\n\t\tpartialUrl.length - 1\n\t);\n}\n","/**\n * External dependencies\n */\nimport type { Dict, ExperimentId, SegmentationRule } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { isValidSegmentationRule } from './segmentation-rules';\nimport {\n\tupdateFirstVisit,\n\tgetSegmentationSettings,\n\tsetSegmentationSettings,\n\ttype SegmentationSettings,\n} from './segmentation-settings';\nimport { getExperimentsWithPageViews } from '../tracking';\n\nimport type { ExperimentSummary, HeatmapSummary, Settings } from '../../types';\nimport { getApiUrl } from '../helpers';\n\nexport async function updateSegmentationSettings(\n\tsettings: Settings\n): Promise< void > {\n\tconst allExperiments = settings.experiments;\n\tconst allHeatmaps = settings.heatmaps;\n\tconst relevantExperiments = allExperiments.filter(\n\t\t( e ) => e.active || 'site' === e.segmentEvaluation\n\t);\n\n\tif (\n\t\tisGeoDataNeeded( allExperiments, allHeatmaps ) &&\n\t\tisGeoDataOutdated()\n\t) {\n\t\tif ( isGeoDataNeededNow( relevantExperiments, allHeatmaps ) ) {\n\t\t\tawait updateGeoData( settings );\n\t\t} else {\n\t\t\tsetTimeout( () => void updateGeoData( settings ), 0 );\n\t\t}\n\t}\n\n\tupdateFirstVisit();\n\tupdateActiveSegments( relevantExperiments );\n}\n\nexport function areSegmentsValid( settings: Settings ): boolean {\n\tconst { experiments } = settings;\n\tconst activeExperimentIds = experiments\n\t\t.filter( ( e ) => !! e.active )\n\t\t.map( ( e ) => e.id );\n\n\tif ( ! activeExperimentIds.length ) {\n\t\treturn true;\n\t}\n\n\treturn settings.segmentMatching === 'all'\n\t\t? activeExperimentIds.every( doesExperimentHaveValidSegments )\n\t\t: activeExperimentIds.some( doesExperimentHaveValidSegments );\n}\n\nexport function doesExperimentHaveValidSegments( id: ExperimentId ): boolean {\n\tconst activeSegments = getAllActiveSegments();\n\treturn ! isEmptyArray( activeSegments[ id ] );\n}\n\nconst isHeatmapActive: Partial< Record< ExperimentId, boolean > > = {};\nexport function areHeatmapConditionsValid( heatmap: HeatmapSummary ): boolean {\n\tif ( undefined === isHeatmapActive[ heatmap.id ] ) {\n\t\tisHeatmapActive[ heatmap.id ] = heatmap.participation.every(\n\t\t\tisValidSegmentationRule\n\t\t);\n\t}\n\treturn !! isHeatmapActive[ heatmap.id ];\n}\n\nexport function getSegmentationGeoData(): Partial<\n\tSegmentationSettings[ 'geo' ]\n> {\n\tconst segmentationSettings = getSegmentationSettings();\n\treturn segmentationSettings.geo || {};\n}\n\nconst RETURNING_VISITOR_MINUTES_THRESHOLD = 30;\nexport function isReturningVisitor(): boolean {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst minutesSinceFirstVisit = segmentationSettings.firstVisit\n\t\t? gapInMinutes( Date.now(), segmentationSettings.firstVisit )\n\t\t: 0;\n\treturn minutesSinceFirstVisit >= RETURNING_VISITOR_MINUTES_THRESHOLD;\n}\n\nexport function getAllActiveSegments(): Partial<\n\tRecord< ExperimentId, ReadonlyArray< number > >\n> {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst activeSegments = segmentationSettings.activeSegments || {};\n\treturn activeSegments;\n}\n\nexport function getActiveSegments(\n\texperiment: ExperimentSummary\n): ReadonlyArray< number > {\n\tif ( isActiveSegmentImplicit( experiment ) ) {\n\t\treturn [ 0 ];\n\t}\n\tconst activeSegments = getAllActiveSegments();\n\treturn activeSegments[ experiment.id ] || [];\n}\n\nexport function cleanOldSegments(\n\texperiments: ReadonlyArray< ExperimentId >\n): void {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst activeSegments = segmentationSettings.activeSegments || {};\n\n\tconst viewedExperimentIds = Object.keys( getExperimentsWithPageViews() )\n\t\t.map( ( id ) => Number.parseInt( id ) )\n\t\t.filter( ( id ) => ! isNaN( id ) && 0 < id );\n\n\t// Remove experiments that do not exist or didn't have views.\n\tconst newActiveSegments = Object.keys( activeSegments )\n\t\t.map( ( experimentId ) => Number.parseInt( experimentId ) )\n\t\t.filter(\n\t\t\t( experimentId ): experimentId is ExperimentId =>\n\t\t\t\t! isNaN( experimentId ) && 0 < experimentId\n\t\t)\n\t\t.reduce(\n\t\t\t( result, experimentId ) => {\n\t\t\t\tif (\n\t\t\t\t\texperiments.includes( experimentId ) ||\n\t\t\t\t\tviewedExperimentIds.includes( experimentId )\n\t\t\t\t) {\n\t\t\t\t\tresult[ experimentId ] =\n\t\t\t\t\t\tactiveSegments[ experimentId ] ?? [];\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t{} as Partial< Record< ExperimentId, ReadonlyArray< number > > >\n\t\t);\n\n\tsetSegmentationSettings( {\n\t\t...segmentationSettings,\n\t\tactiveSegments: newActiveSegments,\n\t} );\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction isGeoDataOutdated() {\n\tconst geoData = getSegmentationGeoData();\n\tif ( ! geoData.lastUpdate ) {\n\t\treturn true;\n\t}\n\n\tconst lastUpdate = geoData.lastUpdate;\n\tconst now = new Date().getTime();\n\tconst lastUpdateDate = new Date( lastUpdate ).getTime();\n\tconst diffTime = Math.abs( now - lastUpdateDate );\n\tconst diffDays = Math.ceil( diffTime / ( 1000 * 60 * 60 * 24 ) );\n\n\treturn isNaN( diffDays ) || diffDays > 7; // Update segmentation data every week.\n}\n\nconst isGeoDataNeeded = (\n\texps: Settings[ 'experiments' ],\n\theatmaps: Settings[ 'heatmaps' ]\n): boolean => !! getIdsThatNeedGeo( exps, heatmaps ).length;\n\nfunction isGeoDataNeededNow(\n\texps: Settings[ 'experiments' ],\n\theatmaps: Settings[ 'heatmaps' ]\n): boolean {\n\tconst idsWithGeoNeeds = getIdsThatNeedGeo( exps, heatmaps );\n\tconst settings = getSegmentationSettings();\n\treturn idsWithGeoNeeds.some( ( id ) => ! settings.activeSegments[ id ] );\n}\n\nconst getIdsThatNeedGeo = (\n\texps: Settings[ 'experiments' ],\n\theatmaps: Settings[ 'heatmaps' ]\n): ReadonlyArray< ExperimentId > => [\n\t...exps\n\t\t.filter( ( e ) =>\n\t\t\te.segments.some( ( s ) => s.segmentationRules.some( isGeoRule ) )\n\t\t)\n\t\t.map( ( e ) => e.id ),\n\t...heatmaps\n\t\t.filter( ( h ) => h.participation.some( isGeoRule ) )\n\t\t.map( ( h ) => h.id ),\n];\n\nconst isGeoRule = ( r: SegmentationRule ) =>\n\tr.type === 'nab/ip-address' || r.type === 'nab/location';\n\nasync function updateGeoData( settings: Settings ) {\n\ttry {\n\t\tconst url = getApiUrl( settings.api, '/ipc', {\n\t\t\tsiteId: settings.site,\n\t\t} );\n\t\tconst res = await window.fetch( url );\n\t\tconst data: string = await res.text();\n\t\tconst jsonData = JSON.parse( data ) as Dict;\n\t\tif ( ! hasGeoData( jsonData ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetSegmentationSettings( {\n\t\t\t...getSegmentationSettings(),\n\t\t\tgeo: {\n\t\t\t\tipAddress: jsonData.ip,\n\t\t\t\tlocation: jsonData.location,\n\t\t\t\tlastUpdate: new Date().toISOString(),\n\t\t\t},\n\t\t} );\n\t} catch ( _ ) {}\n}\n\nfunction updateActiveSegments( experiments: Settings[ 'experiments' ] ) {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst previousActiveSegments = segmentationSettings.activeSegments || {};\n\n\tconst activeSegments = experiments.reduce(\n\t\t( r, e ) =>\n\t\t\tisActiveSegmentImplicit( e )\n\t\t\t\t? r\n\t\t\t\t: { ...r, [ e.id ]: calculateActiveSegments( e ) },\n\t\t{} as SegmentationSettings[ 'activeSegments' ]\n\t);\n\n\tsetSegmentationSettings( {\n\t\t...segmentationSettings,\n\t\tactiveSegments: {\n\t\t\t...activeSegments,\n\t\t\t...previousActiveSegments,\n\t\t},\n\t} );\n}\n\nfunction calculateActiveSegments(\n\texperiment: ExperimentSummary\n): ReadonlyArray< number > {\n\tconst activeSegments = experiment.segments\n\t\t.map( ( { segmentationRules }, index ) =>\n\t\t\tsegmentationRules.every( isValidSegmentationRule ) ? index + 1 : 0\n\t\t)\n\t\t.filter( ( segmentIndex ) => 0 < segmentIndex );\n\n\treturn activeSegments.length ? [ 0, ...activeSegments ] : [];\n}\n\nfunction gapInMinutes( a: number, b: number ): number {\n\treturn Math.abs( a - b ) / 60_000;\n}\n\nconst isEmptyArray = ( arr?: unknown ): arr is unknown[] =>\n\t!! arr && Array.isArray( arr ) && ! arr.length;\n\nconst hasGeoData = (\n\tx: Dict\n): x is {\n\treadonly ip: string;\n\treadonly location: string;\n} => !! x.ip && !! x.location;\n\nconst isActiveSegmentImplicit = ( e: ExperimentSummary ): boolean =>\n\t! e.segments.length;\n","/**\n * External dependencies\n */\nimport { UAParser } from 'ua-parser-js';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/browser/types';\n\nexport const type = 'nab/browser';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst visitorBrowser = getVisitorBrowser();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) =>\n\t\t\t\tisSameBrowser( value, visitorBrowser )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => ! isSameBrowser( value, visitorBrowser )\n\t\t\t);\n\t}\n}\n\nfunction getVisitorBrowser() {\n\tconst parser = new UAParser();\n\tconst browserData = parser.getBrowser();\n\treturn browserData.name;\n}\n\nfunction isSameBrowser( browserName: string, visitorBrowserName?: string ) {\n\treturn browserName === visitorBrowserName;\n}\n","/**\n * Internal dependencies\n */\nimport { getCookie } from '../../cookies';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/cookie/types';\n\nexport const type = 'nab/cookie';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { name, condition, value } = attributes;\n\n\tconst actualValue = getCookie( name );\n\n\tswitch ( condition ) {\n\t\tcase 'is-any-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( expected ) => !! expected )\n\t\t\t\t.some( ( expectedValue ) => expectedValue === actualValue );\n\n\t\tcase 'is-none-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( expected ) => !! expected )\n\t\t\t\t.every( ( expectedValue ) => expectedValue !== actualValue );\n\n\t\tcase 'is-equal-to':\n\t\t\treturn actualValue === value;\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn actualValue !== value;\n\n\t\tcase 'contains':\n\t\t\treturn !! actualValue?.includes( value );\n\n\t\tcase 'does-not-contain':\n\t\t\treturn ! actualValue || ! actualValue.includes( value );\n\n\t\tcase 'exists':\n\t\t\treturn undefined !== actualValue;\n\n\t\tcase 'does-not-exist':\n\t\t\treturn undefined === actualValue;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/day-of-week/types';\n\nexport const type = 'nab/day-of-week';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst DAYS = [\n\t\t'Sunday',\n\t\t'Monday',\n\t\t'Tuesday',\n\t\t'Wednesday',\n\t\t'Thursday',\n\t\t'Friday',\n\t\t'Saturday',\n\t];\n\tconst { condition, values } = attributes;\n\n\tconst visitorDay = new Date().getDay();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) => value === DAYS[ visitorDay ] );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => value !== DAYS[ visitorDay ]\n\t\t\t);\n\t}\n}\n","/**\n * External dependencies\n */\nimport { UAParser } from 'ua-parser-js';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/device-type/types';\n\nexport const type = 'nab/device-type';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst parser = new UAParser();\n\tconst visitorDeviceType = parser.getDevice().type || 'desktop';\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) => value === visitorDeviceType );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every( ( { value } ) => value !== visitorDeviceType );\n\t}\n}\n","/**\n * External dependencies\n */\nimport type { SegmentationRule } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport * as browser from './browser';\nimport * as cookie from './cookie';\nimport * as dayOfWeek from './day-of-week';\nimport * as deviceType from './device-type';\nimport * as ipAddress from './ip-address';\nimport * as language from './language';\nimport * as location from './location';\nimport * as operatingSystem from './operating-system';\nimport * as queryParameter from './query-parameter';\nimport * as referringUrl from './referring-url';\nimport * as time from './time';\nimport * as userLogin from './user-login';\nimport * as visitorType from './visitor-type';\nimport * as windowWidth from './window-width';\n\ntype Validator = {\n\treadonly type: string;\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\treadonly validate: ( attrs: any ) => boolean;\n};\n\nexport const isValidSegmentationRule = ( {\n\ttype,\n\tattributes,\n}: Omit< SegmentationRule, 'id' > ): boolean => {\n\tconst segmentationRuleValidators: ReadonlyArray< Validator > = [\n\t\tbrowser,\n\t\tcookie,\n\t\tdayOfWeek,\n\t\tdeviceType,\n\t\tipAddress,\n\t\tlanguage,\n\t\tlocation,\n\t\toperatingSystem,\n\t\tqueryParameter,\n\t\treferringUrl,\n\t\ttime,\n\t\tuserLogin,\n\t\tvisitorType,\n\t\twindowWidth,\n\t];\n\n\treturn !! segmentationRuleValidators\n\t\t.find( ( validator ) => validator.type === type )\n\t\t?.validate( attributes );\n};\n","/**\n * Internal dependencies\n */\nimport { getSegmentationGeoData } from '../index';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/ip-address/types';\n\nexport const type = 'nab/ip-address';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst geoData = getSegmentationGeoData();\n\tconst visitorIp = geoData.ipAddress;\n\tif ( 'string' !== typeof visitorIp ) {\n\t\treturn false;\n\t}\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( ipPattern ) =>\n\t\t\t\tmatches( visitorIp, ipPattern )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( ipPattern ) => ! matches( visitorIp, ipPattern )\n\t\t\t);\n\t}\n}\n\nfunction matches( ip: string, pattern: string ) {\n\tconst re = pattern.replace( '*', '\\\\d?\\\\d?\\\\d' ).replace( '.', '\\\\.' );\n\treturn new RegExp( re ).test( ip );\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/language/types';\n\nexport const type = 'nab/language';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, language } = attributes;\n\n\tconst currentLanguages = window.navigator.languages.map( ( l ) =>\n\t\tl.toLowerCase()\n\t);\n\tconst hasLanguage = ( expected: string ) =>\n\t\tcurrentLanguages.some( ( actual ) => actual.startsWith( expected ) );\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn language.some( ( { value } ) => hasLanguage( value ) );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn ! language.some( ( { value } ) => hasLanguage( value ) );\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { getSegmentationGeoData } from '../index';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/location/types';\n\nexport const type = 'nab/location';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, location } = attributes;\n\n\tconst geoData = getSegmentationGeoData();\n\tconst visitorLocation = geoData.location;\n\tif ( 'string' !== typeof visitorLocation ) {\n\t\treturn false;\n\t}\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn location.some( ( { value } ) =>\n\t\t\t\tvisitorLocation.startsWith( value )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn location.every(\n\t\t\t\t( { value } ) => ! visitorLocation.startsWith( value )\n\t\t\t);\n\t}\n}\n","/**\n * External dependencies\n */\nimport { UAParser } from 'ua-parser-js';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/operating-system/types';\n\nexport const type = 'nab/operating-system';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst visitorOS = getVisitorOS();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) => isSameOS( value, visitorOS ) );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => ! isSameOS( value, visitorOS )\n\t\t\t);\n\t}\n}\n\nfunction getVisitorOS() {\n\tconst parser = new UAParser();\n\tconst operatingSystemData = parser.getOS();\n\tlet osName = operatingSystemData.name;\n\n\tif ( 'Windows' === osName && operatingSystemData.version ) {\n\t\tosName += ' ' + operatingSystemData.version;\n\t}\n\n\tif (\n\t\t'Mac OS' === osName &&\n\t\toperatingSystemData.version &&\n\t\toperatingSystemData.version.startsWith( '10' )\n\t) {\n\t\tosName += ' X';\n\t}\n\n\treturn osName;\n}\n\nfunction isSameOS( operatingSystemName: string, visitorOS?: string ) {\n\tif (\n\t\t'Windows' === operatingSystemName &&\n\t\t'string' === typeof visitorOS &&\n\t\tvisitorOS.startsWith( 'Windows' )\n\t) {\n\t\treturn true;\n\t}\n\n\treturn operatingSystemName === visitorOS;\n}\n","/**\n * Internal dependencies\n */\nimport { getQueryArgs } from '../../url';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/query-parameter/types';\n\nexport const type = 'nab/query-parameter';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { name, condition, value } = attributes;\n\n\tconst actualValue = getQueryArgs( document.URL )[ name ];\n\n\tswitch ( condition ) {\n\t\tcase 'is-any-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( expected ) => !! expected )\n\t\t\t\t.some( ( expectedValue ) => expectedValue === actualValue );\n\n\t\tcase 'is-none-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( expected ) => !! expected )\n\t\t\t\t.every( ( expectedValue ) => expectedValue !== actualValue );\n\n\t\tcase 'is-equal-to':\n\t\t\treturn actualValue === value;\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn actualValue !== value;\n\n\t\tcase 'contains':\n\t\t\treturn !! actualValue?.includes( value );\n\n\t\tcase 'does-not-contain':\n\t\t\treturn ! actualValue || ! actualValue.includes( value );\n\n\t\tcase 'exists':\n\t\t\treturn undefined !== actualValue;\n\n\t\tcase 'does-not-exist':\n\t\t\treturn undefined === actualValue;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/referring-url/types';\n\nexport const type = 'nab/referring-url';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, value } = attributes;\n\n\tconst referrer = document.referrer;\n\n\tswitch ( condition ) {\n\t\tcase 'is-any-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( url ) => !! url )\n\t\t\t\t.some( ( url ) => url === referrer );\n\n\t\tcase 'is-none-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( url ) => !! url )\n\t\t\t\t.every( ( url ) => url !== referrer );\n\n\t\tcase 'is-equal-to':\n\t\t\treturn referrer === value;\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn referrer !== value;\n\n\t\tcase 'contains':\n\t\t\treturn !! referrer?.includes( value );\n\n\t\tcase 'does-not-contain':\n\t\t\treturn ! referrer || ! referrer.includes( value );\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/time/types';\n\nexport const type = 'nab/time';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst PERIODS = [\n\t\t'00-02',\n\t\t'02-04',\n\t\t'04-06',\n\t\t'06-08',\n\t\t'08-10',\n\t\t'10-12',\n\t\t'12-14',\n\t\t'14-16',\n\t\t'16-18',\n\t\t'18-20',\n\t\t'20-22',\n\t\t'22-24',\n\t];\n\tconst { condition, values } = attributes;\n\n\tconst visitorHour = new Date().getHours();\n\tconst visitorPeriod = Math.floor( visitorHour / 2 );\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some(\n\t\t\t\t( { value } ) => value === PERIODS[ visitorPeriod ]\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => value !== PERIODS[ visitorPeriod ]\n\t\t\t);\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { getCookie } from '../../cookies';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/user-login/types';\n\nexport const type = 'nab/user-login';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition } = attributes;\n\tconst isUserLoggedIn = !! getCookie( 'nabIsUserLoggedIn' );\n\n\tswitch ( condition ) {\n\t\tcase 'is-logged-in':\n\t\t\treturn isUserLoggedIn;\n\n\t\tcase 'is-not-logged-in':\n\t\t\treturn ! isUserLoggedIn;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { isReturningVisitor } from '../index';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/visitor-type/types';\n\nexport const type = 'nab/visitor-type';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition } = attributes;\n\n\tswitch ( condition ) {\n\t\tcase 'is-new-visitor':\n\t\t\treturn ! isReturningVisitor();\n\t\tcase 'is-returning-visitor':\n\t\t\treturn isReturningVisitor();\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/window-width/types';\n\nexport const type = 'nab/window-width';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, value, interval } = attributes;\n\n\tconst currentWidth =\n\t\twindow.innerWidth ||\n\t\tdocument.documentElement.clientWidth ||\n\t\tdocument.body.clientWidth;\n\n\tswitch ( condition ) {\n\t\tcase 'is-greater-than':\n\t\t\treturn undefined !== value && currentWidth > value;\n\n\t\tcase 'is-less-than':\n\t\t\treturn undefined !== value && currentWidth < value;\n\n\t\tcase 'between':\n\t\t\treturn (\n\t\t\t\t'number' === typeof interval?.min &&\n\t\t\t\t'number' === typeof interval?.max &&\n\t\t\t\tinterval.min <= currentWidth &&\n\t\t\t\tcurrentWidth <= interval.max\n\t\t\t);\n\t}\n}\n","/**\n * External dependencies\n */\nimport type { ExperimentId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getCookie, setCookie } from '../cookies';\n\nexport type SegmentationSettings = {\n\treadonly activeSegments: Partial<\n\t\tRecord< ExperimentId, ReadonlyArray< number > >\n\t>;\n\treadonly firstVisit: number;\n\treadonly geo: {\n\t\treadonly ipAddress: string;\n\t\treadonly location: string;\n\t\treadonly lastUpdate: string;\n\t};\n};\n\nexport function updateFirstVisit(): void {\n\tconst settings = getSegmentationSettings();\n\tsetSegmentationSettings( {\n\t\t...settings,\n\t\tfirstVisit:\n\t\t\tsettings.firstVisit ||\n\t\t\tNumber.parseInt( Date.now().toString() ) ||\n\t\t\t0,\n\t} );\n}\n\nconst DEFAULT_SEGMENTATION_SETTINGS: SegmentationSettings = {\n\tactiveSegments: {},\n\tgeo: {\n\t\tlocation: '',\n\t\tipAddress: '',\n\t\tlastUpdate: '',\n\t},\n\tfirstVisit: 0,\n};\nexport function getSegmentationSettings(): SegmentationSettings {\n\ttry {\n\t\tconst settings = JSON.parse(\n\t\t\tgetCookie( 'nabSegmentation' ) || '{}'\n\t\t) as Partial< SegmentationSettings >;\n\t\treturn {\n\t\t\t...DEFAULT_SEGMENTATION_SETTINGS,\n\t\t\t...settings,\n\t\t};\n\t} catch ( _ ) {\n\t\treturn DEFAULT_SEGMENTATION_SETTINGS;\n\t}\n}\n\nexport function setSegmentationSettings(\n\tsettings: SegmentationSettings\n): void {\n\tsetCookie( 'nabSegmentation', JSON.stringify( settings ), {\n\t\texpires: 120,\n\t} );\n}\n","/**\n * External dependencies\n */\nimport pick from 'lodash/pick';\nimport type { Uuid } from 'uuid';\nimport type {\n\tExperimentId,\n\tMaybe,\n\tTrackEvent,\n\tUniqueVisitEvent,\n\tVisitEvent,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getCookie, removeCookie, setCookie } from './cookies';\nimport {\n\tareHeatmapConditionsValid,\n\tdoesExperimentHaveValidSegments,\n} from './segmentation';\nimport type { GoalIndex, HeatmapSummary, Session } from '../types';\n\ntype ExpsWithViews = Partial< Record< ExperimentId, Timestamp > >;\ntype Timestamp = number;\n\nconst TEN_DAYS_IN_MILLIS = 14400 * 60000;\n\nexport function updateExperimentsWithPageViews(\n\tevents: ReadonlyArray< VisitEvent >,\n\tsession: Session\n): void {\n\tremoveOldExperimentsFromCookie( session );\n\tif ( ! events.length ) {\n\t\treturn;\n\t}\n\n\tconst now = new Date().getTime();\n\tsetExperimentsWithPageViewsCookie( {\n\t\t...getExperimentsWithPageViews(),\n\t\t...events.reduce( ( result, event ) => {\n\t\t\tresult[ event.experiment ] = now;\n\t\t\treturn result;\n\t\t}, {} as ExpsWithViews ),\n\t} );\n}\n\nexport function getUniqueViews(): Partial< Record< ExperimentId, Uuid > > {\n\ttry {\n\t\tconst value = getCookie( 'nabUniqueViews' ) ?? '';\n\t\treturn JSON.parse( value ) as Partial< Record< ExperimentId, Uuid > >;\n\t} catch ( _ ) {\n\t\treturn {};\n\t}\n}\n\nexport function updateUniqueViews(\n\tvalue: ReadonlyArray< UniqueVisitEvent >\n): void {\n\tconst allUniqueViews = {\n\t\t...getUniqueViews(),\n\t\t...value.reduce( ( r, v ) => ( { ...r, [ v.experiment ]: v.id } ), {} ),\n\t};\n\n\tconst views = getExperimentsWithPageViews();\n\tconst uniqueViews = pick( allUniqueViews, Object.keys( views ) );\n\tif ( 0 === Object.keys( uniqueViews ).length ) {\n\t\tremoveCookie( 'nabUniqueViews' );\n\t\treturn;\n\t}\n\n\tsetCookie( 'nabUniqueViews', JSON.stringify( uniqueViews ), {\n\t\texpires: 120,\n\t} );\n}\n\nexport function canSynchEvent( event: TrackEvent, session: Session ): boolean {\n\tconst heatmap = getHeatmap( event.experiment, session );\n\tif ( heatmap ) {\n\t\treturn areHeatmapConditionsValid( heatmap );\n\t}\n\n\tif ( ! doesExperimentHaveValidSegments( event.experiment ) ) {\n\t\treturn false;\n\t}\n\n\tconst experimentsWithPageViews = getExperimentsWithPageViews();\n\tconst timestamp = experimentsWithPageViews[ event.experiment ];\n\tif ( ! timestamp ) {\n\t\treturn 'visit' === event.kind;\n\t}\n\n\tif ( 'visit' === event.kind ) {\n\t\tif ( 'regular' === event.type ) {\n\t\t\treturn true;\n\t\t}\n\t\tconst wait = session.throttle[ event.type ];\n\t\tconst now = new Date().getTime();\n\t\treturn timestamp + wait * 60000 < now;\n\t}\n\n\treturn (\n\t\t'conversion' !== event.kind ||\n\t\tcanSynchConversion( event.experiment, event.goal, session )\n\t);\n}\n\nexport function getExperimentsWithPageViews(): ExpsWithViews {\n\ttry {\n\t\tconst value = getCookie( 'nabExperimentsWithPageViews' ) ?? '';\n\t\treturn JSON.parse( value ) as ExpsWithViews;\n\t} catch ( _ ) {\n\t\treturn {};\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\nlet synchedGoals: ReadonlyArray< string > = [];\nfunction canSynchConversion(\n\texperimentId: ExperimentId,\n\tgoalIndex: GoalIndex,\n\tsession: Session\n): boolean {\n\tif ( ! session.singleConvPerView ) {\n\t\treturn true;\n\t}\n\n\tif ( synchedGoals.includes( `${ experimentId }-${ goalIndex }` ) ) {\n\t\treturn false;\n\t}\n\n\tsynchedGoals = [ ...synchedGoals, `${ experimentId }-${ goalIndex }` ];\n\treturn true;\n}\n\nfunction setExperimentsWithPageViewsCookie( value: ExpsWithViews ): void {\n\tif ( 0 === Object.keys( value ).length ) {\n\t\tremoveCookie( 'nabExperimentsWithPageViews' );\n\t\treturn;\n\t}\n\tsetCookie( 'nabExperimentsWithPageViews', JSON.stringify( value ), {\n\t\texpires: 120,\n\t} );\n}\n\nlet wasCookieCleaned = false;\nfunction removeOldExperimentsFromCookie( session: Session ): void {\n\tif ( wasCookieCleaned ) {\n\t\treturn;\n\t}\n\twasCookieCleaned = true;\n\n\tconst { experiments } = session;\n\tconst experimentsWithPageViews = getExperimentsWithPageViews();\n\tconst experimentIds = experiments.map( ( e ) => e.id );\n\tconst experimentIdsWithPageViews = Object.keys(\n\t\texperimentsWithPageViews\n\t).map( toExperimentId );\n\n\tconst { global: g, woocommerce: w } = session.throttle;\n\tconst now = new Date().getTime();\n\tconst validationTimestamp = now - ( Math.max( g, w ) + 5 ) * 60000;\n\n\tconst isInvalid = ( id: ExperimentId ): boolean =>\n\t\t! experimentIds.includes( id );\n\tconst wasValidTenDaysAgo = ( id: ExperimentId ): boolean => {\n\t\tconst timestamp = experimentsWithPageViews[ id ];\n\t\treturn (\n\t\t\t!! timestamp && Math.abs( now - timestamp ) <= TEN_DAYS_IN_MILLIS\n\t\t);\n\t};\n\n\tconst newExperimentsWithPageViews = experimentIdsWithPageViews.reduce(\n\t\t( result, id ) => {\n\t\t\tconst timestamp = experimentsWithPageViews[ id ];\n\n\t\t\tif ( isInvalid( id ) || ! timestamp ) {\n\t\t\t\treturn !! timestamp && wasValidTenDaysAgo( id )\n\t\t\t\t\t? { ...result, [ id ]: timestamp }\n\t\t\t\t\t: result;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...result,\n\t\t\t\t[ id ]: Math.max( timestamp, validationTimestamp ),\n\t\t\t};\n\t\t},\n\t\t{} as ExpsWithViews\n\t);\n\n\tsetExperimentsWithPageViewsCookie( newExperimentsWithPageViews );\n}\n\nconst toExperimentId = ( x: string ) =>\n\t( Number.parseInt( x ) || 0 ) as ExperimentId;\n\nconst getHeatmap = (\n\tid: ExperimentId,\n\tsession: Session\n): Maybe< HeatmapSummary > => session.heatmaps.find( ( hm ) => hm.id === id );\n","/**\n * Internal dependencies\n */\nimport type { ParamValue } from '../types';\n\nexport const REFERRER_PARAM = 'nab_referrer';\n\nexport function buildUrl(\n\turl: string,\n\targs: Record< string, ParamValue | undefined > = {},\n\thash?: string\n): string {\n\tconst keys = Object.keys( args );\n\tif ( keys.length ) {\n\t\turl +=\n\t\t\t'?' +\n\t\t\tkeys\n\t\t\t\t.filter( ( k ) => undefined !== args[ k ] )\n\t\t\t\t.map(\n\t\t\t\t\t( key ) =>\n\t\t\t\t\t\t`${ key }=${ encodeURIComponent( args[ key ] ?? '' ) }`\n\t\t\t\t)\n\t\t\t\t.map( ( arg ) =>\n\t\t\t\t\t/=$/.test( arg ) ? arg.slice( 0, -1 ) : arg\n\t\t\t\t)\n\t\t\t\t.reduce( ( search, pair ) => `${ search }&${ pair }` );\n\t}\n\n\tif ( hash ) {\n\t\turl += '#' + hash;\n\t}\n\n\treturn url;\n}\n\nexport function removeArgsAndHash( url: string ): string {\n\tconst { cleanUrl } = fragments( url );\n\treturn cleanUrl;\n}\n\nexport function getHash( url: string ): string {\n\tconst { hash } = fragments( url );\n\treturn hash;\n}\n\nexport function addQueryArgs(\n\turl: string,\n\targs?: Record< string, ParamValue | undefined >\n): string {\n\targs = args ?? {};\n\tconst { cleanUrl, hash } = fragments( url );\n\n\tconst oldArgs = getQueryArgs( url );\n\tconst newArgs = {\n\t\t...( 'nab' in args || 'nab' in oldArgs ? { nab: '' } : {} ),\n\t\t...oldArgs,\n\t\t...args,\n\t};\n\treturn buildUrl( cleanUrl, newArgs, hash );\n}\n\nexport function addNabQueryArg(\n\turl: string,\n\tvalue: number,\n\tposition: 'first' | 'last'\n): string {\n\tconst { cleanUrl, hash } = fragments( url );\n\n\tconst { nab: _, ...args } = getQueryArgs( url );\n\tconst nab = value;\n\tconst newArgs = {\n\t\t...( 'first' === position ? { nab } : {} ),\n\t\t...args,\n\t\t...( 'last' === position ? { nab } : {} ),\n\t};\n\treturn buildUrl( cleanUrl, newArgs, hash );\n}\n\nexport function removeQueryArgs(\n\turl: string,\n\t...names: ReadonlyArray< string >\n): string {\n\turl = url || '';\n\n\tif ( 0 === names.length ) {\n\t\treturn url;\n\t}\n\n\tconst { cleanUrl, hash } = fragments( url );\n\n\tconst args = getQueryArgs( url );\n\tfor ( const key of names ) {\n\t\tdelete args[ key ];\n\t}\n\n\treturn buildUrl( cleanUrl, args, hash );\n}\n\nexport const removeTestingArgs = ( url: string, keepNab = false ): string =>\n\tremoveQueryArgs(\n\t\turl,\n\t\tkeepNab ? '' : 'nab',\n\t\t'nabforce',\n\t\t'nabstaging',\n\t\t'nablog',\n\t\t'nab_experiments_with_page_view',\n\t\tREFERRER_PARAM\n\t);\n\nexport function getQueryArg( url: string, name: string ): string | undefined {\n\treturn getQueryArgs( url )[ name ];\n}\n\nexport function getQueryArgs( url: string ): Record< string, string > {\n\tconst { search } = fragments( url );\n\tif ( ! search ) {\n\t\treturn {};\n\t}\n\tconst args = search.split( '&' );\n\treturn args.reduce(\n\t\t( res, arg ) => {\n\t\t\tconst [ key, value = '' ] = arg.split( '=' );\n\t\t\tif ( key ) {\n\t\t\t\tres[ key ] = decodeURIComponent( value );\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{} as Record< string, string >\n\t);\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction fragments( url: string ) {\n\tconst baseUrl =\n\t\t0 <= url.indexOf( '#' ) ? url.substr( 0, url.indexOf( '#' ) ) : url;\n\tconst hash =\n\t\t0 <= url.indexOf( '#' ) ? url.substr( url.indexOf( '#' ) + 1 ) : '';\n\n\tconst cleanUrl =\n\t\t0 <= baseUrl.indexOf( '?' )\n\t\t\t? baseUrl.substr( 0, baseUrl.indexOf( '?' ) )\n\t\t\t: baseUrl;\n\n\tconst search =\n\t\t0 <= baseUrl.indexOf( '?' )\n\t\t\t? baseUrl.substr( baseUrl.indexOf( '?' ) + 1 )\n\t\t\t: '';\n\n\treturn {\n\t\tcleanUrl,\n\t\tsearch,\n\t\thash,\n\t};\n}\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src /*, srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1 /*, options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString /*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")()\n\t? require(\"ext/global-this\").Symbol\n\t: require(\"./polyfill\");\n","\"use strict\";\n\nvar global     = require(\"ext/global-this\")\n  , validTypes = { object: true, symbol: true };\n\nmodule.exports = function () {\n\tvar Symbol = global.Symbol;\n\tvar symbol;\n\tif (typeof Symbol !== \"function\") return false;\n\tsymbol = Symbol(\"test symbol\");\n\ttry { String(symbol); }\n\tcatch (e) { return false; }\n\n\t// Return 'true' also for polyfills\n\tif (!validTypes[typeof Symbol.iterator]) return false;\n\tif (!validTypes[typeof Symbol.toPrimitive]) return false;\n\tif (!validTypes[typeof Symbol.toStringTag]) return false;\n\n\treturn true;\n};\n","\"use strict\";\n\nmodule.exports = function (value) {\n\tif (!value) return false;\n\tif (typeof value === \"symbol\") return true;\n\tif (!value.constructor) return false;\n\tif (value.constructor.name !== \"Symbol\") return false;\n\treturn value[value.constructor.toStringTag] === \"Symbol\";\n};\n","\"use strict\";\n\nvar d = require(\"d\");\n\nvar create = Object.create, defineProperty = Object.defineProperty, objPrototype = Object.prototype;\n\nvar created = create(null);\nmodule.exports = function (desc) {\n\tvar postfix = 0, name, ie11BugWorkaround;\n\twhile (created[desc + (postfix || \"\")]) ++postfix;\n\tdesc += postfix || \"\";\n\tcreated[desc] = true;\n\tname = \"@@\" + desc;\n\tdefineProperty(\n\t\tobjPrototype, name,\n\t\td.gs(null, function (value) {\n\t\t\t// For IE11 issue see:\n\t\t\t// https://connect.microsoft.com/IE/feedbackdetail/view/1928508/\n\t\t\t//    ie11-broken-getters-on-dom-objects\n\t\t\t// https://github.com/medikoo/es6-symbol/issues/12\n\t\t\tif (ie11BugWorkaround) return;\n\t\t\tie11BugWorkaround = true;\n\t\t\tdefineProperty(this, name, d(value));\n\t\t\tie11BugWorkaround = false;\n\t\t})\n\t);\n\treturn name;\n};\n","\"use strict\";\n\nvar d            = require(\"d\")\n  , NativeSymbol = require(\"ext/global-this\").Symbol;\n\nmodule.exports = function (SymbolPolyfill) {\n\treturn Object.defineProperties(SymbolPolyfill, {\n\t\t// To ensure proper interoperability with other native functions (e.g. Array.from)\n\t\t// fallback to eventual native implementation of given symbol\n\t\thasInstance: d(\n\t\t\t\"\", (NativeSymbol && NativeSymbol.hasInstance) || SymbolPolyfill(\"hasInstance\")\n\t\t),\n\t\tisConcatSpreadable: d(\n\t\t\t\"\",\n\t\t\t(NativeSymbol && NativeSymbol.isConcatSpreadable) ||\n\t\t\t\tSymbolPolyfill(\"isConcatSpreadable\")\n\t\t),\n\t\titerator: d(\"\", (NativeSymbol && NativeSymbol.iterator) || SymbolPolyfill(\"iterator\")),\n\t\tmatch: d(\"\", (NativeSymbol && NativeSymbol.match) || SymbolPolyfill(\"match\")),\n\t\treplace: d(\"\", (NativeSymbol && NativeSymbol.replace) || SymbolPolyfill(\"replace\")),\n\t\tsearch: d(\"\", (NativeSymbol && NativeSymbol.search) || SymbolPolyfill(\"search\")),\n\t\tspecies: d(\"\", (NativeSymbol && NativeSymbol.species) || SymbolPolyfill(\"species\")),\n\t\tsplit: d(\"\", (NativeSymbol && NativeSymbol.split) || SymbolPolyfill(\"split\")),\n\t\ttoPrimitive: d(\n\t\t\t\"\", (NativeSymbol && NativeSymbol.toPrimitive) || SymbolPolyfill(\"toPrimitive\")\n\t\t),\n\t\ttoStringTag: d(\n\t\t\t\"\", (NativeSymbol && NativeSymbol.toStringTag) || SymbolPolyfill(\"toStringTag\")\n\t\t),\n\t\tunscopables: d(\n\t\t\t\"\", (NativeSymbol && NativeSymbol.unscopables) || SymbolPolyfill(\"unscopables\")\n\t\t)\n\t});\n};\n","\"use strict\";\n\nvar d              = require(\"d\")\n  , validateSymbol = require(\"../../../validate-symbol\");\n\nvar registry = Object.create(null);\n\nmodule.exports = function (SymbolPolyfill) {\n\treturn Object.defineProperties(SymbolPolyfill, {\n\t\tfor: d(function (key) {\n\t\t\tif (registry[key]) return registry[key];\n\t\t\treturn (registry[key] = SymbolPolyfill(String(key)));\n\t\t}),\n\t\tkeyFor: d(function (symbol) {\n\t\t\tvar key;\n\t\t\tvalidateSymbol(symbol);\n\t\t\tfor (key in registry) {\n\t\t\t\tif (registry[key] === symbol) return key;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t})\n\t});\n};\n","// ES2015 Symbol polyfill for environments that do not (or partially) support it\n\n\"use strict\";\n\nvar d                    = require(\"d\")\n  , validateSymbol       = require(\"./validate-symbol\")\n  , NativeSymbol         = require(\"ext/global-this\").Symbol\n  , generateName         = require(\"./lib/private/generate-name\")\n  , setupStandardSymbols = require(\"./lib/private/setup/standard-symbols\")\n  , setupSymbolRegistry  = require(\"./lib/private/setup/symbol-registry\");\n\nvar create = Object.create\n  , defineProperties = Object.defineProperties\n  , defineProperty = Object.defineProperty;\n\nvar SymbolPolyfill, HiddenSymbol, isNativeSafe;\n\nif (typeof NativeSymbol === \"function\") {\n\ttry {\n\t\tString(NativeSymbol());\n\t\tisNativeSafe = true;\n\t} catch (ignore) {}\n} else {\n\tNativeSymbol = null;\n}\n\n// Internal constructor (not one exposed) for creating Symbol instances.\n// This one is used to ensure that `someSymbol instanceof Symbol` always return false\nHiddenSymbol = function Symbol(description) {\n\tif (this instanceof HiddenSymbol) throw new TypeError(\"Symbol is not a constructor\");\n\treturn SymbolPolyfill(description);\n};\n\n// Exposed `Symbol` constructor\n// (returns instances of HiddenSymbol)\nmodule.exports = SymbolPolyfill = function Symbol(description) {\n\tvar symbol;\n\tif (this instanceof Symbol) throw new TypeError(\"Symbol is not a constructor\");\n\tif (isNativeSafe) return NativeSymbol(description);\n\tsymbol = create(HiddenSymbol.prototype);\n\tdescription = description === undefined ? \"\" : String(description);\n\treturn defineProperties(symbol, {\n\t\t__description__: d(\"\", description),\n\t\t__name__: d(\"\", generateName(description))\n\t});\n};\n\nsetupStandardSymbols(SymbolPolyfill);\nsetupSymbolRegistry(SymbolPolyfill);\n\n// Internal tweaks for real symbol producer\ndefineProperties(HiddenSymbol.prototype, {\n\tconstructor: d(SymbolPolyfill),\n\ttoString: d(\"\", function () { return this.__name__; })\n});\n\n// Proper implementation of methods exposed on Symbol.prototype\n// They won't be accessible on produced symbol instances as they derive from HiddenSymbol.prototype\ndefineProperties(SymbolPolyfill.prototype, {\n\ttoString: d(function () { return \"Symbol (\" + validateSymbol(this).__description__ + \")\"; }),\n\tvalueOf: d(function () { return validateSymbol(this); })\n});\ndefineProperty(\n\tSymbolPolyfill.prototype, SymbolPolyfill.toPrimitive,\n\td(\"\", function () {\n\t\tvar symbol = validateSymbol(this);\n\t\tif (typeof symbol === \"symbol\") return symbol;\n\t\treturn symbol.toString();\n\t})\n);\ndefineProperty(SymbolPolyfill.prototype, SymbolPolyfill.toStringTag, d(\"c\", \"Symbol\"));\n\n// Proper implementaton of toPrimitive and toStringTag for returned symbol instances\ndefineProperty(\n\tHiddenSymbol.prototype, SymbolPolyfill.toStringTag,\n\td(\"c\", SymbolPolyfill.prototype[SymbolPolyfill.toStringTag])\n);\n\n// Note: It's important to define `toPrimitive` as last one, as some implementations\n// implement `toPrimitive` natively without implementing `toStringTag` (or other specified symbols)\n// And that may invoke error in definition flow:\n// See: https://github.com/medikoo/es6-symbol/issues/13#issuecomment-164146149\ndefineProperty(\n\tHiddenSymbol.prototype, SymbolPolyfill.toPrimitive,\n\td(\"c\", SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive])\n);\n","\"use strict\";\n\nvar isSymbol = require(\"./is-symbol\");\n\nmodule.exports = function (value) {\n\tif (!isSymbol(value)) throw new TypeError(value + \" is not a symbol\");\n\treturn value;\n};\n","var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of Object.prototype being sealed (via preventExtensions, seal or freeze)\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ is resolved with global context, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? globalThis : require(\"./implementation\");\n","\"use strict\";\n\nmodule.exports = function () {\n\tif (typeof globalThis !== \"object\") return false;\n\tif (!globalThis) return false;\n\treturn globalThis.Array === Array;\n};\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys'),\n    keysIn = require('./keysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n * of key-value pairs for `object` corresponding to the property names of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the key-value pairs.\n */\nfunction baseToPairs(object, props) {\n  return arrayMap(props, function(key) {\n    return [key, object[key]];\n  });\n}\n\nmodule.exports = baseToPairs;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var baseToPairs = require('./_baseToPairs'),\n    getTag = require('./_getTag'),\n    mapToArray = require('./_mapToArray'),\n    setToPairs = require('./_setToPairs');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Creates a `_.toPairs` or `_.toPairsIn` function.\n *\n * @private\n * @param {Function} keysFunc The function to get the keys of a given object.\n * @returns {Function} Returns the new pairs function.\n */\nfunction createToPairs(keysFunc) {\n  return function(object) {\n    var tag = getTag(object);\n    if (tag == mapTag) {\n      return mapToArray(object);\n    }\n    if (tag == setTag) {\n      return setToPairs(object);\n    }\n    return baseToPairs(object, keysFunc(object));\n  };\n}\n\nmodule.exports = createToPairs;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Converts `set` to its value-value pairs.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the value-value pairs.\n */\nfunction setToPairs(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = [value, value];\n  });\n  return result;\n}\n\nmodule.exports = setToPairs;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that invokes `func`, with the `this` binding and arguments\n * of the created function, while it's called less than `n` times. Subsequent\n * calls to the created function return the result of the last `func` invocation.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {number} n The number of calls at which `func` is no longer invoked.\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * jQuery(element).on('click', _.before(5, addContactToList));\n * // => Allows adding up to 4 contacts to the list.\n */\nfunction before(n, func) {\n  var result;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  n = toInteger(n);\n  return function() {\n    if (--n > 0) {\n      result = func.apply(this, arguments);\n    }\n    if (n <= 1) {\n      func = undefined;\n    }\n    return result;\n  };\n}\n\nmodule.exports = before;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var before = require('./before');\n\n/**\n * Creates a function that is restricted to invoking `func` once. Repeat calls\n * to the function return the value of the first invocation. The `func` is\n * invoked with the `this` binding and arguments of the created function.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * var initialize = _.once(createApplication);\n * initialize();\n * initialize();\n * // => `createApplication` is invoked once\n */\nfunction once(func) {\n  return before(2, func);\n}\n\nmodule.exports = once;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var createToPairs = require('./_createToPairs'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable string keyed-value pairs for `object`\n * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n * entries are returned.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias entries\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the key-value pairs.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.toPairs(new Foo);\n * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n */\nvar toPairs = createToPairs(keys);\n\nmodule.exports = toPairs;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","// Generated ESM version of ua-parser-js\n// DO NOT EDIT THIS FILE!\n// Source: /src/main/ua-parser.js\n\n/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v2.0.7\n   Copyright  2012-2025 Faisal Salman <f@faisalman.com>\n   AGPLv3 License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://uaparser.dev\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n/* jshint esversion: 6 */ \n/* globals window */\n\n\n    \n    //////////////\n    // Constants\n    /////////////\n\n    var LIBVERSION  = '2.0.7',\n        UA_MAX_LENGTH = 500,\n        USER_AGENT  = 'user-agent',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        TYPEOF = {\n            FUNCTION    : 'function',\n            OBJECT      : 'object',\n            STRING      : 'string',\n            UNDEFINED   : 'undefined'\n        },\n\n        // properties\n        BROWSER     = 'browser',\n        CPU         = 'cpu',\n        DEVICE      = 'device',\n        ENGINE      = 'engine',\n        OS          = 'os',\n        RESULT      = 'result',\n\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n\n        // device types\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        XR          = 'xr',\n        EMBEDDED    = 'embedded',\n\n        // browser types\n        INAPP       = 'inapp',\n\n        // client hints\n        BRANDS      = 'brands',\n        FORMFACTORS = 'formFactors',\n        FULLVERLIST = 'fullVersionList',\n        PLATFORM    = 'platform',\n        PLATFORMVER = 'platformVersion',\n        BITNESS     = 'bitness',\n        CH          = 'sec-ch-ua',\n        CH_FULL_VER_LIST= CH + '-full-version-list',\n        CH_ARCH         = CH + '-arch',\n        CH_BITNESS      = CH + '-' + BITNESS,\n        CH_FORM_FACTORS = CH + '-form-factors',\n        CH_MOBILE       = CH + '-' + MOBILE,\n        CH_MODEL        = CH + '-' + MODEL,\n        CH_PLATFORM     = CH + '-' + PLATFORM,\n        CH_PLATFORM_VER = CH_PLATFORM + '-version',\n        CH_ALL_VALUES   = [BRANDS, FULLVERLIST, MOBILE, MODEL, PLATFORM, PLATFORMVER, ARCHITECTURE, FORMFACTORS, BITNESS],\n\n        // device vendors\n        AMAZON      = 'Amazon',\n        APPLE       = 'Apple',\n        ASUS        = 'ASUS',\n        BLACKBERRY  = 'BlackBerry',\n        GOOGLE      = 'Google',\n        HUAWEI      = 'Huawei',\n        LENOVO      = 'Lenovo',\n        HONOR       = 'Honor',\n        LG          = 'LG',\n        MICROSOFT   = 'Microsoft',\n        MOTOROLA    = 'Motorola',\n        NVIDIA      = 'Nvidia',\n        ONEPLUS     = 'OnePlus',\n        OPPO        = 'OPPO',\n        SAMSUNG     = 'Samsung',\n        SHARP       = 'Sharp',\n        SONY        = 'Sony',\n        XIAOMI      = 'Xiaomi',\n        ZEBRA       = 'Zebra',\n\n        // browsers\n        CHROME      = 'Chrome',\n        CHROMIUM    = 'Chromium',\n        CHROMECAST  = 'Chromecast',\n        EDGE        = 'Edge',\n        FIREFOX     = 'Firefox',\n        OPERA       = 'Opera',\n        FACEBOOK    = 'Facebook',\n        SOGOU       = 'Sogou',\n\n        PREFIX_MOBILE  = 'Mobile ',\n        SUFFIX_BROWSER = ' Browser',\n\n        // os\n        WINDOWS     = 'Windows';\n   \n    var isWindow            = typeof window !== TYPEOF.UNDEFINED,\n        NAVIGATOR           = (isWindow && window.navigator) ? \n                                window.navigator : \n                                undefined,\n        NAVIGATOR_UADATA    = (NAVIGATOR && NAVIGATOR.userAgentData) ? \n                                NAVIGATOR.userAgentData : \n                                undefined;\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (defaultRgx, extensions) {\n            var mergedRgx = {};\n            var extraRgx = extensions;\n            if (!isExtensions(extensions)) {\n                extraRgx = {};\n                for (var i in extensions) {\n                    for (var j in extensions[i]) {\n                        extraRgx[j] = extensions[i][j].concat(extraRgx[j] ? extraRgx[j] : []);\n                    }\n                }\n            }\n            for (var k in defaultRgx) {\n                mergedRgx[k] = extraRgx[k] && extraRgx[k].length % 2 === 0 ? extraRgx[k].concat(defaultRgx[k]) : defaultRgx[k];\n            }\n            return mergedRgx;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            if (typeof str1 === TYPEOF.OBJECT && str1.length > 0) {\n                for (var i in str1) {\n                    if (lowerize(str2) == lowerize(str1[i])) return true;\n                }\n                return false;\n            }\n            return isString(str1) ? lowerize(str2) == lowerize(str1) : false;\n        },\n        isExtensions = function (obj, deep) {\n            for (var prop in obj) {\n                return /^(browser|cpu|device|engine|os)$/.test(prop) || (deep ? isExtensions(obj[prop]) : false);\n            }\n        },\n        isString = function (val) {\n            return typeof val === TYPEOF.STRING;\n        },\n        itemListToArray = function (header) {\n            if (!header) return undefined;\n            var arr = [];\n            var tokens = strip(/\\\\?\\\"/g, header).split(',');\n            for (var i = 0; i < tokens.length; i++) {\n                if (tokens[i].indexOf(';') > -1) {\n                    var token = trim(tokens[i]).split(';v=');\n                    arr[i] = { brand : token[0], version : token[1] };\n                } else {\n                    arr[i] = trim(tokens[i]);\n                }\n            }\n            return arr;\n        },\n        lowerize = function (str) {\n            return isString(str) ? str.toLowerCase() : str;\n        },\n        majorize = function (version) {\n            return isString(version) ? strip(/[^\\d\\.]/g, version).split('.')[0] : undefined;\n        },\n        setProps = function (arr) {\n            for (var i in arr) {\n                if (!arr.hasOwnProperty(i)) continue;\n\n                var propName = arr[i];\n                if (typeof propName == TYPEOF.OBJECT && propName.length == 2) {\n                    this[propName[0]] = propName[1];\n                } else {\n                    this[propName] = undefined;\n                }\n            }\n            return this;\n        },\n        strip = function (pattern, str) {\n            return isString(str) ? str.replace(pattern, EMPTY) : str;\n        },\n        stripQuotes = function (str) {\n            return strip(/\\\\?\\\"/g, str); \n        },\n        trim = function (str, len) {\n            str = strip(/^\\s\\s*/, String(str));\n            return typeof len === TYPEOF.UNDEFINED ? str : str.substring(0, len);\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            if(!ua || !arrays) return;\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === TYPEOF.OBJECT && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == TYPEOF.FUNCTION) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length >= 3) {\n                                    // Check whether q[1] FUNCTION or REGEX\n                                    if (typeof q[1] === TYPEOF.FUNCTION && !(q[1].exec && q[1].test)) {\n                                        if (q.length > 3) {\n                                            this[q[0]] = match ? q[1].apply(this, q.slice(2)) : undefined;\n                                        } else {\n                                            // call function (usually string mapper)\n                                            this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                        }\n                                    } else {\n                                        if (q.length == 3) {\n                                            // sanitize match using given regex\n                                            this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                        } else if (q.length == 4) {\n                                            this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                        } else if (q.length > 4) {\n                                            this[q[0]] = match ? q[3].apply(this, [match.replace(q[1], q[2])].concat(q.slice(4))) : undefined;\n                                        }\n                                    }\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === TYPEOF.OBJECT && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return map.hasOwnProperty('*') ? map['*'] : str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    var windowsVersionMap = {\n            'ME'    : '4.90',\n            'NT 3.51': '3.51',\n            'NT 4.0': '4.0',\n            '2000'  : ['5.0', '5.01'],\n            'XP'    : ['5.1', '5.2'],\n            'Vista' : '6.0',\n            '7'     : '6.1',\n            '8'     : '6.2',\n            '8.1'   : '6.3',\n            '10'    : ['6.4', '10.0'],\n            'NT'    : ''\n        },\n        \n        formFactorsMap = {\n            'embedded'  : 'Automotive',\n            'mobile'    : 'Mobile',\n            'tablet'    : ['Tablet', 'EInk'],\n            'smarttv'   : 'TV',\n            'wearable'  : 'Watch',\n            'xr'        : ['VR', 'XR'],\n            '?'         : ['Desktop', 'Unknown'],\n            '*'         : undefined\n        },\n\n        browserHintsMap = {\n            'Chrome'        : 'Google Chrome',\n            'Edge'          : 'Microsoft Edge',\n            'Edge WebView2' : 'Microsoft Edge WebView2',\n            'Chrome WebView': 'Android WebView',\n            'Chrome Headless':'HeadlessChrome',\n            'Huawei Browser': 'HuaweiBrowser',\n            'MIUI Browser'  : 'Miui Browser',\n            'Opera Mobi'    : 'OperaMobile',\n            'Yandex'        : 'YaBrowser'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var defaultRegexes = {\n\n        browser : [[\n\n            // Most common regardless engine\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, PREFIX_MOBILE + 'Chrome']], [\n            /webview.+edge\\/([\\w\\.]+)/i                                         // Microsoft Edge\n            ], [VERSION, [NAME, EDGE+' WebView']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       \n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bop(?:rg)?x\\/([\\w\\.]+)/i                                          // Opera GX\n            ], [VERSION, [NAME, OPERA+' GX']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i            // Baidu\n            ], [VERSION, [NAME, 'Baidu']], [\n            /\\b(?:mxbrowser|mxios|myie2)\\/?([-\\w\\.]*)\\b/i                       // Maxthon\n            ], [VERSION, [NAME, 'Maxthon']], [\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\/ ]?([\\w\\.]*)/i,      \n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir\n            // Trident based\n            /(avant|iemobile|slim(?:browser|boat|jet))[\\/ ]?([\\d\\.]*)/i,        // Avant/IEMobile/SlimBrowser/SlimBoat/Slimjet\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Blink/Webkit/KHTML based                                         // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon/LG Browser/Otter/qutebrowser/Dooble/Palemoon\n            /(atlas|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser|palemoon)\\/([-\\w\\.]+)/i,\n                                                                                // Atlas/Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio/Dragon\n            /(heytap|ovi|115|surf|qwant)browser\\/([\\d\\.]+)/i,                   // HeyTap/Ovi/115/Surf\n            /(qwant)(?:ios|mobile)\\/([\\d\\.]+)/i,                                // Qwant\n            /(ecosia|weibo)(?:__| \\w+@)([\\d\\.]+)/i                              // Ecosia/Weibo\n            ], [NAME, VERSION], [\n            /quark(?:pc)?\\/([-\\w\\.]+)/i                                         // Quark\n            ], [VERSION, [NAME, 'Quark']], [\n            /\\bddg\\/([\\w\\.]+)/i                                                 // DuckDuckGo\n            ], [VERSION, [NAME, 'DuckDuckGo']], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UCBrowser']], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i,\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /slbrowser\\/([\\w\\.]+)/i                                             // Smart Lenovo Browser\n            ], [VERSION, [NAME, 'Smart ' + LENOVO + SUFFIX_BROWSER]], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure' + SUFFIX_BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI' + SUFFIX_BROWSER]], [\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, PREFIX_MOBILE + FIREFOX]], [\n            /\\bqihoobrowser\\/?([\\w\\.]*)/i                                       // 360\n            ], [VERSION, [NAME, '360']], [\n            /\\b(qq)\\/([\\w\\.]+)/i                                                // QQ\n            ], [[NAME, /(.+)/, '$1Browser'], VERSION], [\n            /(oculus|sailfish|huawei|vivo|pico)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1' + SUFFIX_BROWSER], VERSION], [              // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser\n            /samsungbrowser\\/([\\w\\.]+)/i                                        // Samsung Internet\n            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [\n            /metasr[\\/ ]?([\\d\\.]+)/i                                            // Sogou Explorer\n            ], [VERSION, [NAME, SOGOU + ' Explorer']], [\n            /(sogou)mo\\w+\\/([\\d\\.]+)/i                                          // Sogou Mobile\n            ], [[NAME, SOGOU + ' Mobile'], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|2345(?=browser|chrome|explorer))\\w*[\\/ ]?v?([\\w\\.]+)/i   // QQ/2345\n            ], [NAME, VERSION], [\n            /(lbbrowser|rekonq|steam(?= (clie|tenf|gameo)))/i                   // LieBao Browser/Rekonq/Steam\n            ], [NAME], [\n            /ome\\/([\\w\\.]+) \\w* ?(iron) saf/i,                                  // Iron\n            /ome\\/([\\w\\.]+).+qihu (360)[es]e/i                                  // 360\n            ], [VERSION, NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION, [TYPE, INAPP]], [\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /(daum)apps[\\/ ]([\\w\\.]+)/i,                                        // Daum App\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(alipay)client\\/([\\w\\.]+)/i,                                       // Alipay\n            /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,                               // Twitter\n            /(bing)(?:web|sapphire)\\/([\\w\\.]+)/i,                               // Bing\n            /(instagram|snapchat|klarna)[\\/ ]([-\\w\\.]+)/i                       // Instagram/Snapchat/Klarna\n            ], [NAME, VERSION, [TYPE, INAPP]], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA'], [TYPE, INAPP]], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok'], [TYPE, INAPP]], [\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME, [TYPE, INAPP]], [\n            /(zalo(?:app)?)[\\/\\sa-z]*([\\w\\.-]+)/i                               // Zalo \n            ], [[NAME, /(.+)/, 'Zalo'], VERSION, [TYPE, INAPP]], [\n\n            /(chromium)[\\/ ]([-\\w\\.]+)/i                                        // Chromium\n            ], [NAME, VERSION], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            /wv\\).+chrome\\/([\\w\\.]+).+edgw\\//i                                  // Edge WebView2\n            ], [VERSION, [NAME, EDGE+' WebView2']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android' + SUFFIX_BROWSER]], [\n\n            /chrome\\/([\\w\\.]+) mobile/i                                         // Chrome Mobile\n            ], [VERSION, [NAME, PREFIX_MOBILE + 'Chrome']], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile(?:\\/\\w+ | ?)safari/i                 // Safari Mobile\n            ], [VERSION, [NAME, PREFIX_MOBILE + 'Safari']], [\n            /iphone .*mobile(?:\\/\\w+ | ?)safari/i\n            ], [[NAME, PREFIX_MOBILE + 'Safari']], [\n            /version\\/([\\w\\.\\,]+) .*(safari)/i                                  // Safari\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, '1']], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(?:mobile|tablet);.*(firefox)\\/([\\w\\.-]+)/i                        // Firefox Mobile\n            ], [[NAME, PREFIX_MOBILE + FIREFOX], VERSION], [\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(wolvic|librewolf)\\/([\\w\\.]+)/i                                    // Wolvic/LibreWolf\n            ], [NAME, VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+(?= .+rv\\:.+gecko\\/\\d+)|[0-4][\\w\\.]+(?!.+compatible))/i, // Mozilla\n\n            // Other\n            /(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser/Ladybird\n            /\\b(links) \\(([\\w\\.]+)/i                                            // Links\n            ], [NAME, [VERSION, /_/g, '.']], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /[^\\d\\.]+./, EMPTY]]\n        ],\n\n        cpu : [[\n\n            /\\b((amd|x|x86[-_]?|wow|win)64)\\b/i                                 // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i,                                                     // IA32 (quicktime)\n            /\\b((i[346]|x)86)(pc)?\\b/i                                          // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?[89]e?l?|_?64))\\b/i                               // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(v[67])?ht?n?[fl]p?)\\b/i                                     // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /( (ce|mobile); ppc;|\\/[\\w\\.]+arm\\b)/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            / sun4\\w[;\\)]/i                                                     // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            /\\b(avr32|ia64(?=;)|68k(?=\\))|\\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\\b|pa-risc)/i,\n            /((ppc|powerpc)(64)?)( mac|;|\\))/i,                                 // PowerPC\n            /(?:osf1|[freopnt]{3,4}bsd) (alpha)/i                               // Alpha\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n            /mc680.0/i\n            ], [[ARCHITECTURE, '68k']], [\n            /winnt.+\\[axp/i\n            ], [[ARCHITECTURE, 'alpha']]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-(?![lr])\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]((?!sm-[lr]|browser)[-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)[\\/\\);]/i                           // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\b(?:ios|apple\\w+)\\/.+[\\(\\/](ipad)/i,                              // iPad\n            /\\b(ipad)[\\d,]*[;\\] ].+(mac |i(pad)?)os/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Honor\n            /\\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\\)|;)/i\n            ], [MODEL, [VENDOR, HONOR], [TYPE, TABLET]], [\n            /honor([-\\w ]+)[;\\)]/i\n            ], [MODEL, [VENDOR, HONOR], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\\w\\. ]*(?= bui|\\)))\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei) ?([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][\\dc][adnt]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /oid[^\\)]+; (2[\\dbc]{4}(182|283|rp\\w{2})[cgl]|m2105k81a?c)(?: bui|\\))/i,\n            /\\b(?:xiao)?((?:red)?mi[-_ ]?pad[\\w- ]*)(?: bui|\\))/i               // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n                                                                                // Xiaomi Redmi / POCO / Black Shark / Qin\n            /oid[^\\)]+; (redmi[\\-_ ]?(?:note|k)?[\\w_ ]+|m?[12]\\d[01]\\d\\w{3,6}|poco[\\w ]+|(shark )?\\w{3}-[ah]0|qin ?[1-3](s\\+|ultra| pro)?)( bui|; wv|\\))/i,\n                                                                                // Xiaomi Mi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note|max|cc)?[_ ]?(?:\\d{0,2}\\w?)[_ ]?(?:plus|se|lite|pro)?( 5g|lte)?)(?: bui|\\))/i,\n            / ([\\w ]+) miui\\/v?\\d/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n\n            // OnePlus\n            /droid.+; (cph2[3-6]\\d[13579]|((gm|hd)19|(ac|be|in|kb)20|(d[en]|eb|le|mt)21|ne22)[0-2]\\d|p[g-k]\\w[1m]10)\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, ONEPLUS], [TYPE, MOBILE]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, OPPO], [TYPE, MOBILE]], [\n            /\\b(opd2(\\d{3}a?))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, strMapper, { 'OnePlus' : ['203', '304', '403', '404', '413', '415'], '*' : OPPO }], [TYPE, TABLET]], [\n\n            // BLU\n            /(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\\w\\+ ]*)(?: bui|\\))/i  // Vivo series\n            ], [MODEL, [VENDOR, 'BLU'], [TYPE, MOBILE]], [    \n\n            // Vivo\n            /; vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\\d{3,4}(?:f[cu]|xu|[av])|yt\\d?-[jx]?\\d+[lfmx])( bui|;|\\)|\\/)/i,\n            /lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\\w- ]+?)|tb[\\w-]{6,7})( bui|;|\\)|\\/)/i\n            ], [MODEL, [VENDOR, LENOVO], [TYPE, TABLET]], [            \n            /lenovo[-_ ]?([-\\w ]+?)(?: bui|\\)|\\/)/i\n            ], [MODEL, [VENDOR, LENOVO], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ]([\\w\\s]+)(\\)| bui)/i,\n            /((?:moto(?! 360)[-\\w\\(\\) ]+|xt\\d{3,4}[cgkosw\\+]?[-\\d]*|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+(?!.*(?:browser|netcast|android tv|watch|webos))(\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Nokia\n            /(nokia) (t[12][01])/i\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n            /(?:maemo|nokia).*(n900|lumia \\d+|rm-\\d+)/i,\n            /nokia[-_ ]?(([-\\w\\. ]*?))( bui|\\)|;|\\/)/i\n            ], [[MODEL, /_/g, ' '], [TYPE, MOBILE], [VENDOR, 'Nokia']], [\n\n            // Google\n            /(pixel (c|tablet))\\b/i                                             // Google Pixel C/Tablet\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n                                                                                // Google Pixel\n            /droid.+;(?: google)? (g(01[13]a|020[aem]|025[jn]|1b60|1f8f|2ybb|4s1m|576d|5nz6|8hhn|8vou|a02099|c15s|d1yq|e2ae|ec77|gh2x|kv4x|p4bc|pj41|r83y|tt9q|ur25|wvk6)|pixel[\\d ]*a?( pro)?( xl)?( fold)?( \\(5g\\))?)( bui|\\))/i\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n            /(google) (pixelbook( go)?)/i\n            ], [VENDOR, MODEL], [\n\n            // Sony\n            /droid.+; (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-\\w\\w\\d\\d)(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo(?!bc)\\w\\w)( bui|\\))/i,                           // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /(?:blackberry|\\(bb10;) (\\w+)/i\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // TCL\n            /tcl (xess p17aa)/i,\n            /droid [\\w\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n            ], [MODEL, [VENDOR, 'TCL'], [TYPE, TABLET]], [\n            /droid [\\w\\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n            ], [MODEL, [VENDOR, 'TCL'], [TYPE, MOBILE]], [\n\n            // itel\n            /(itel) ((\\w+))/i\n            ], [[VENDOR, lowerize], MODEL, [TYPE, strMapper, { 'tablet' : ['p10001l', 'w7001'], '*' : 'mobile' }]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n                \n            // Ulefone\n            /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n\n            // Energizer\n            /; (energy ?\\w+)(?: bui|\\))/i,\n            /; energizer ([\\w ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Energizer'], [TYPE, MOBILE]], [\n\n            // Cat\n            /; cat (b35);/i,\n            /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Cat'], [TYPE, MOBILE]], [\n\n            // Smartfren\n            /((?:new )?andromax[\\w- ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Smartfren'], [TYPE, MOBILE]], [\n\n            // Nothing\n            /droid.+; (a(in)?(0(15|59|6[35])|142)p?)/i\n            ], [MODEL, [VENDOR, 'Nothing'], [TYPE, MOBILE]], [\n\n            // Archos\n            /; (x67 5g|tikeasy \\w+|ac[1789]\\d\\w+)( b|\\))/i,\n            /archos ?(5|gamepad2?|([\\w ]*[t1789]|hello) ?\\d+[\\w ]*)( b|\\))/i\n            ], [MODEL, [VENDOR, 'Archos'], [TYPE, TABLET]], [\n            /archos ([\\w ]+)( b|\\))/i,\n            /; (ac[3-6]\\d\\w{2,8})( b|\\))/i \n            ], [MODEL, [VENDOR, 'Archos'], [TYPE, MOBILE]], [\n\n            // HMD\n            /; (n159v)/i\n            ], [MODEL, [VENDOR, 'HMD'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(imo) (tab \\w+)/i,                                                 // IMO\n            /(infinix|tecno) (x1101b?|p904|dp(7c|8d|10a)( pro)?|p70[1-3]a?|p904|t1101)/i                     // Infinix XPad / Tecno\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|tecno|micromax|advan)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron/Tecno/Micromax/Advan\n                                                                                // BLU/HMD/IMO/Infinix/Lava/OnePlus/TCL/Wiko\n            /; (blu|hmd|imo|infinix|lava|oneplus|tcl|wiko)[_ ]([\\w\\+ ]+?)(?: bui|\\)|; r)/i,\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(oppo) ?([\\w ]+) bui/i,                                            // OPPO\n            /(hisense) ([ehv][\\w ]+)\\)/i,                                       // Hisense\n            /droid[^;]+; (philips)[_ ]([sv-x][\\d]{3,4}[xz]?)/i                  // Philips\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i                                              // Kindle\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /((?:tegranote|shield t(?!.+d tv))[\\w- ]*?)(?: b|\\))/i              // Nvidia Tablets\n            ], [MODEL, [VENDOR, NVIDIA], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i               // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /(philips)[\\w ]+tv/i,                                               // Philips\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(vizio)(?: |.+model\\/)(\\w+-\\w+)/i,                                 // Vizio\n            /tcast.+(lg)e?. ([-\\w]+)/i                                          // LG SmartTV\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey.*devicetype\\/chromecast/i                                    // Google Chromecast Third Generation\n            ], [[MODEL, CHROMECAST+' Third Generation'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /crkey.*devicetype\\/([^/]*)/i                                       // Google Chromecast with specific device type\n            ], [[MODEL, /^/, 'Chromecast '], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /fuchsia.*crkey/i                                                   // Google Chromecast Nest Hub\n            ], [[MODEL, CHROMECAST+' Nest Hub'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast, Linux-based or unknown\n            ], [[MODEL, CHROMECAST], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /(portaltv)/i                                                       // Facebook Portal TV\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /(shield \\w+ tv)/i                                                  // Nvidia Shield TV\n            ], [MODEL, [VENDOR, NVIDIA], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                          // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mi(tv|box)-?\\w+) bui/i                                            // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, /.+\\/(\\w+)/, '$1', strMapper, {'LG':'lge'}], [MODEL, trim], [TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(playstation \\w+)/i                                                // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) (\\w+)/i,                                                // Nintendo\n            /(retroid) (pocket ([^\\)]+))/i,                                     // Retroid Pocket\n            /(valve).+(steam deck)/i,\n            /droid.+; ((shield|rgcube|gr0006))( bui|\\))/i                       // Nvidia Portable/Anbernic/Logitech\n            ], [[VENDOR, strMapper, { 'Nvidia': 'Shield', 'Anbernic': 'RGCUBE', 'Logitech': 'GR0006' }], MODEL, [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /\\b(sm-[lr]\\d\\d[0156][fnuw]?s?|gear live)\\b/i                       // Samsung Galaxy Watch\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]], [\n            /((pebble))app/i,                                                   // Pebble\n            /(asus|google|lg|oppo|xiaomi) ((pixel |zen)?watch[\\w ]*)( bui|\\))/i // Asus ZenWatch / LG Watch / Pixel Watch / Xiaomi Watch\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(ow(?:19|20)?we?[1-3]{1,3})/i                                      // Oppo Watch\n            ], [MODEL, [VENDOR, OPPO], [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /(opwwe\\d{3})/i                                                     // OnePlus Watch\n            ], [MODEL, [VENDOR, ONEPLUS], [TYPE, WEARABLE]], [\n            /(moto 360)/i                                                       // Motorola 360\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, WEARABLE]], [\n            /(smartwatch 3)/i                                                   // Sony SmartWatch\n            ], [MODEL, [VENDOR, SONY], [TYPE, WEARABLE]], [\n            /(g watch r)/i                                                      // LG G Watch R\n            ], [MODEL, [VENDOR, LG], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // XR\n            ///////////////////\n\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, XR]], [\n            /(pico) ([\\w ]+) os\\d/i                                             // Pico\n            ], [VENDOR, MODEL, [TYPE, XR]], [\n            /(quest( \\d| pro)?s?).+vr/i                                         // Meta Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, XR]], [\n            /mobile vr; rv.+firefox/i                                           // Unidentifiable VR device using Firefox Reality / Wolvic\n            ], [[TYPE, XR]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n            /(homepod).+mac os/i                                                // Apple HomePod\n            ], [MODEL, [VENDOR, APPLE], [TYPE, EMBEDDED]], [\n            /windows iot/i                                                      // Unidentifiable embedded device using Windows IoT\n            ], [[TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid.+; ([\\w- ]+) (4k|android|smart|google)[- ]?tv/i              // Unidentifiable SmartTV\n            ], [MODEL, [TYPE, SMARTTV]], [\n            /\\b((4k|android|smart|opera)[- ]?tv|tv; rv:|large screen[\\w ]+safari)\\b/i\n            ], [[TYPE, SMARTTV]], [\n            /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew|; hmsc).+?(mobile|vr|\\d) safari/i\n            ], [MODEL, [TYPE, strMapper, { 'mobile' : 'Mobile', 'xr' : 'VR', '*' : TABLET }]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /droid .+?; ([\\w\\. -]+)( bui|\\))/i                                  // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /(arkweb)\\/([\\w\\.]+)/i                                              // ArkWeb\n            ], [NAME, VERSION], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna/Servo\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n\n            /\\b(libweb)/i                                                       // LibWeb\n            ], [NAME, VERSION], [\n            /ladybird\\//i\n            ], [[NAME, 'LibWeb']], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /(windows nt) (6\\.[23]); arm/i                                      // Windows RT\n            ], [[NAME, /N/, 'R'], [VERSION, strMapper, windowsVersionMap]], [\n            /(windows (?:phone|mobile|iot))(?: os)?[\\/ ]?([\\d\\.]*( se)?)/i,     // Windows IoT/Mobile/Phone\n                                                                                // Windows NT/3.1/95/98/ME/2000/XP/Vista/7/8/8.1/10/11\n            /(windows)[\\/ ](1[01]|2000|3\\.1|7|8(\\.1)?|9[58]|me|server 20\\d\\d( r2)?|vista|xp)/i\n            ], [NAME, VERSION], [\n            /windows nt ?([\\d\\.\\)]*)(?!.+xbox)/i,\n            /\\bwin(?=3| ?9|n)(?:nt| 9x )?([\\d\\.;]*)/i\n            ], [[VERSION, /(;|\\))/g, '', strMapper, windowsVersionMap], [NAME, WINDOWS]], [\n            /(windows ce)\\/?([\\d\\.]*)/i                                         // Windows CE\n            ], [NAME, VERSION], [\n\n            // iOS/macOS\n            /[adehimnop]{4,7}\\b(?:.*os ([\\w]+) like mac|; opera)/i,             // iOS\n            /(?:ios;fbsv|ios(?=.+ip(?:ad|hone)|.+apple ?tv)|ip(?:ad|hone)(?: |.+i(?:pad)?)os|apple ?tv.+ios)[\\/ ]([\\w\\.]+)/i,\n            /\\btvos ?([\\w\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+(haiku|morphos))/i                   // Mac OS\n            ], [[NAME, 'macOS'], [VERSION, /_/g, '.']], [\n\n            // Google Chromecast\n            /android ([\\d\\.]+).*crkey/i                                         // Google Chromecast, Android-based\n            ], [VERSION, [NAME, CHROMECAST + ' Android']], [\n            /fuchsia.*crkey\\/([\\d\\.]+)/i                                        // Google Chromecast, Fuchsia-based\n            ], [VERSION, [NAME, CHROMECAST + ' Fuchsia']], [\n            /crkey\\/([\\d\\.]+).*devicetype\\/smartspeaker/i                       // Google Chromecast, Linux-based Smart Speaker\n            ], [VERSION, [NAME, CHROMECAST + ' SmartSpeaker']], [\n            /linux.*crkey\\/([\\d\\.]+)/i                                          // Google Chromecast, Legacy Linux-based\n            ], [VERSION, [NAME, CHROMECAST + ' Linux']], [\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast, unknown\n            ], [VERSION, [NAME, CHROMECAST]], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86)/i                              // Android-x86\n            ], [VERSION, NAME], [                                               \n            /(ubuntu) ([\\w\\.]+) like android/i                                  // Ubuntu Touch\n            ], [[NAME, /(.+)/, '$1 Touch'], VERSION], [\n            /(harmonyos)[\\/ ]?([\\d\\.]*)/i,                                      // HarmonyOS\n                                                                                // Android/Blackberry/WebOS/QNX/Bada/RIM/KaiOS/Maemo/MeeGo/S40/Sailfish OS/OpenHarmony/Tizen\n            /(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen)\\w*[-\\/\\.; ]?([\\d\\.]*)/i\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\\/ ]?([\\w\\.]*)/i       // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i,                             // WebOS\n            /webos(?:[ \\/]?|\\.tv-20(?=2[2-9]))(\\d[\\d\\.]*)/i\n            ], [VERSION, [NAME, 'webOS']], [\n            /web0s;.+?(?:chr[o0]me|safari)\\/(\\d+)/i\n                                                                                // https://webostv.developer.lge.com/develop/specifications/web-api-and-web-engine\n            ], [[VERSION, strMapper, {'25':'120','24':'108','23':'94','22':'87','6':'79','5':'68','4':'53','3':'38','2':'538','1':'537','*':'TV'}], [NAME, 'webOS']], [                   \n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google ChromeOS\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, \"Chrome OS\"], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) (\\w+)/i,                                    // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n            /(pico) .+os([\\w\\.]+)/i,                                            // Pico\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /linux.+(mint)[\\/\\(\\) ]?([\\w\\.]*)/i,                                // Mint\n            /(mageia|vectorlinux|fuchsia|arcaos|arch(?= ?linux))[;l ]([\\d\\.]*)/i,  // Mageia/VectorLinux/Fuchsia/ArcaOS/Arch\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire|knoppix)(?: gnu[\\/ ]linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire/Knoppix\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /\\b(aix)[; ]([1-9\\.]{0,4})/i,                                       // AIX\n            /(hurd|linux|morphos)(?: (?:arm|x86|ppc)\\w*| ?)([\\w\\.]*)/i,         // Hurd/Linux/MorphOS\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) ?(r\\d)?/i                                                  // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\d\\.]*)/i                                               // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /\\b(beos|os\\/2|amigaos|openvms|hp-ux|serenityos)/i,                 // BeOS/OS2/AmigaOS/OpenVMS/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Factories\n    ////////////////\n\n    var defaultProps = (function () {\n            var props = { init : {}, isIgnore : {}, isIgnoreRgx : {}, toString : {}};\n            setProps.call(props.init, [\n                [BROWSER, [NAME, VERSION, MAJOR, TYPE]],\n                [CPU, [ARCHITECTURE]],\n                [DEVICE, [TYPE, MODEL, VENDOR]],\n                [ENGINE, [NAME, VERSION]],\n                [OS, [NAME, VERSION]]\n            ]);\n            setProps.call(props.isIgnore, [\n                [BROWSER, [VERSION, MAJOR]],\n                [ENGINE, [VERSION]],\n                [OS, [VERSION]]\n            ]);\n            setProps.call(props.isIgnoreRgx, [\n                [BROWSER, / ?browser$/i],\n                [OS, / ?os$/i]\n            ]);\n            setProps.call(props.toString, [\n                [BROWSER, [NAME, VERSION]],\n                [CPU, [ARCHITECTURE]],\n                [DEVICE, [VENDOR, MODEL]],\n                [ENGINE, [NAME, VERSION]],\n                [OS, [NAME, VERSION]]\n            ]);\n            return props;\n    })();\n\n    var createIData = function (item, itemType) {\n\n        var init_props = defaultProps.init[itemType],\n            is_ignoreProps = defaultProps.isIgnore[itemType] || 0,\n            is_ignoreRgx = defaultProps.isIgnoreRgx[itemType] || 0,\n            toString_props = defaultProps.toString[itemType] || 0;\n\n        function IData () {\n            setProps.call(this, init_props);\n        }\n\n        IData.prototype.getItem = function () {\n            return item;\n        };\n\n        IData.prototype.withClientHints = function () {\n\n            // nodejs / non-client-hints browsers\n            if (!NAVIGATOR_UADATA) {\n                return item\n                        .parseCH()\n                        .get();\n            }\n\n            // browsers based on chromium 85+\n            return NAVIGATOR_UADATA\n                    .getHighEntropyValues(CH_ALL_VALUES)\n                    .then(function (res) {\n                        return item\n                                .setCH(new UACHData(res, false))\n                                .parseCH()\n                                .get();\n            });\n        };\n\n        IData.prototype.withFeatureCheck = function () {\n            return item.detectFeature().get();\n        };\n\n        if (itemType != RESULT) {\n            IData.prototype.is = function (strToCheck) {\n                var is = false;\n                for (var i in this) {\n                    if (this.hasOwnProperty(i) && !has(is_ignoreProps, i) && lowerize(is_ignoreRgx ? strip(is_ignoreRgx, this[i]) : this[i]) == lowerize(is_ignoreRgx ? strip(is_ignoreRgx, strToCheck) : strToCheck)) {\n                        is = true;\n                        if (strToCheck != TYPEOF.UNDEFINED) break;\n                    } else if (strToCheck == TYPEOF.UNDEFINED && is) {\n                        is = !is;\n                        break;\n                    }\n                }\n                return is;\n            };\n            IData.prototype.toString = function () {\n                var str = EMPTY;\n                for (var i in toString_props) {\n                    if (typeof(this[toString_props[i]]) !== TYPEOF.UNDEFINED) {\n                        str += (str ? ' ' : EMPTY) + this[toString_props[i]];\n                    }\n                }\n                return str || TYPEOF.UNDEFINED;\n            };\n        }\n\n        IData.prototype.then = function (cb) { \n            var that = this;\n            var IDataResolve = function () {\n                for (var prop in that) {\n                    if (that.hasOwnProperty(prop)) {\n                        this[prop] = that[prop];\n                    }\n                }\n            };\n            IDataResolve.prototype = {\n                is : IData.prototype.is,\n                toString : IData.prototype.toString,\n                withClientHints : IData.prototype.withClientHints,\n                withFeatureCheck : IData.prototype.withFeatureCheck\n            };\n            var resolveData = new IDataResolve();\n            cb(resolveData);\n            return resolveData;\n        };\n\n        return new IData();\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    function UACHData (uach, isHttpUACH) {\n        uach = uach || {};\n        setProps.call(this, CH_ALL_VALUES);\n        if (isHttpUACH) {\n            setProps.call(this, [\n                [BRANDS, itemListToArray(uach[CH])],\n                [FULLVERLIST, itemListToArray(uach[CH_FULL_VER_LIST])],\n                [MOBILE, /\\?1/.test(uach[CH_MOBILE])],\n                [MODEL, stripQuotes(uach[CH_MODEL])],\n                [PLATFORM, stripQuotes(uach[CH_PLATFORM])],\n                [PLATFORMVER, stripQuotes(uach[CH_PLATFORM_VER])],\n                [ARCHITECTURE, stripQuotes(uach[CH_ARCH])],\n                [FORMFACTORS, itemListToArray(uach[CH_FORM_FACTORS])],\n                [BITNESS, stripQuotes(uach[CH_BITNESS])]\n            ]);\n        } else {\n            for (var prop in uach) {\n                if(this.hasOwnProperty(prop) && typeof uach[prop] !== TYPEOF.UNDEFINED) this[prop] = uach[prop];\n            }\n        }\n    }\n\n    function UAItem (itemType, ua, rgxMap, uaCH) {\n        setProps.call(this, [\n            ['itemType', itemType],\n            ['ua', ua],\n            ['uaCH', uaCH],\n            ['rgxMap', rgxMap],\n            ['data', createIData(this, itemType)]\n        ]);\n        return this;\n    }\n\n    UAItem.prototype.get = function (prop) {\n        if (!prop) return this.data;\n        return this.data.hasOwnProperty(prop) ? this.data[prop] : undefined;\n    };\n\n    UAItem.prototype.set = function (prop, val) {\n        this.data[prop] = val;\n        return this;\n    };\n\n    UAItem.prototype.setCH = function (ch) {\n        this.uaCH = ch;\n        return this;\n    };\n\n    UAItem.prototype.detectFeature = function () {\n        if (NAVIGATOR && NAVIGATOR.userAgent == this.ua) {\n            switch (this.itemType) {\n                case BROWSER:\n                    // Brave-specific detection\n                    if (NAVIGATOR.brave && typeof NAVIGATOR.brave.isBrave == TYPEOF.FUNCTION) {\n                        this.set(NAME, 'Brave');\n                    }\n                    break;\n                case DEVICE:\n                    // Chrome-specific detection: check for 'mobile' value of navigator.userAgentData\n                    if (!this.get(TYPE) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[MOBILE]) {\n                        this.set(TYPE, MOBILE);\n                    }\n                    // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n                    if (this.get(MODEL) == 'Macintosh' && NAVIGATOR && typeof NAVIGATOR.standalone !== TYPEOF.UNDEFINED && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 2) {\n                        this.set(MODEL, 'iPad')\n                            .set(TYPE, TABLET);\n                    }\n                    break;\n                case OS:\n                    // Chrome-specific detection: check for 'platform' value of navigator.userAgentData\n                    if (!this.get(NAME) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[PLATFORM]) {\n                        this.set(NAME, NAVIGATOR_UADATA[PLATFORM]);\n                    }\n                    break;\n                case RESULT:\n                    var data = this.data;\n                    var detect = function (itemType) {\n                        return data[itemType]\n                                .getItem()\n                                .detectFeature()\n                                .get();\n                    };\n                    this.set(BROWSER, detect(BROWSER))\n                        .set(CPU, detect(CPU))\n                        .set(DEVICE, detect(DEVICE))\n                        .set(ENGINE, detect(ENGINE))\n                        .set(OS, detect(OS));\n            }\n        }\n        return this;\n    };\n\n    UAItem.prototype.parseUA = function () {\n        if (this.itemType != RESULT) {\n            rgxMapper.call(this.data, this.ua, this.rgxMap);\n        }\n        switch (this.itemType) {\n            case BROWSER:\n                this.set(MAJOR, majorize(this.get(VERSION)));\n                break;\n            case OS:\n                if (this.get(NAME) == 'iOS' && this.get(VERSION) == '18.6') {\n                    // Based on the assumption that iOS version is tightly coupled with Safari version\n                    var realVersion = /\\) Version\\/([\\d\\.]+)/.exec(this.ua); // Get Safari version\n                    if (realVersion && parseInt(realVersion[1].substring(0,2), 10) >= 26) {\n                        this.set(VERSION, realVersion[1]);  // Set as iOS version\n                    }\n                }\n                break;\n        }\n        return this;\n    };\n\n    UAItem.prototype.parseCH = function () {\n        var uaCH = this.uaCH,\n            rgxMap = this.rgxMap;\n\n        switch (this.itemType) {\n            case BROWSER:\n            case ENGINE:\n                var brands = uaCH[FULLVERLIST] || uaCH[BRANDS], prevName;\n                if (brands) {\n                    for (var i=0; i<brands.length; i++) {\n                        var brandName = brands[i].brand || brands[i],\n                            brandVersion = brands[i].version;\n                        if (this.itemType == BROWSER && \n                            !/not.a.brand/i.test(brandName) && \n                            (!prevName || \n                                (/Chrom/.test(prevName) && brandName != CHROMIUM) || \n                                (prevName == EDGE && /WebView2/.test(brandName))\n                            )) {\n                                brandName = strMapper(brandName, browserHintsMap);\n                                prevName = this.get(NAME);\n                                if (!(prevName && !/Chrom/.test(prevName) && /Chrom/.test(brandName))) {\n                                    this.set(NAME, brandName)\n                                        .set(VERSION, brandVersion)\n                                        .set(MAJOR, majorize(brandVersion));\n                                }\n                                prevName = brandName;\n                        }\n                        if (this.itemType == ENGINE && brandName == CHROMIUM) {\n                            this.set(VERSION, brandVersion);\n                        }\n                    }\n                }\n                break;\n            case CPU:\n                var archName = uaCH[ARCHITECTURE];\n                if (archName) {\n                    if (archName && uaCH[BITNESS] == '64') archName += '64';\n                    rgxMapper.call(this.data, archName + ';', rgxMap);\n                }\n                break;\n            case DEVICE:\n                if (uaCH[MOBILE]) {\n                    this.set(TYPE, MOBILE);\n                }\n                if (uaCH[MODEL]) {\n                    this.set(MODEL, uaCH[MODEL]);\n                    if (!this.get(TYPE) || !this.get(VENDOR)) {\n                        var reParse = {};\n                        rgxMapper.call(reParse, 'droid 9; ' + uaCH[MODEL] + ')', rgxMap);\n                        if (!this.get(TYPE) && !!reParse.type) {\n                            this.set(TYPE, reParse.type);\n                        }\n                        if (!this.get(VENDOR) && !!reParse.vendor) {\n                            this.set(VENDOR, reParse.vendor);\n                        }\n                    }\n                }\n                if (uaCH[FORMFACTORS]) {\n                    var ff;\n                    if (typeof uaCH[FORMFACTORS] !== 'string') {\n                        var idx = 0;\n                        while (!ff && idx < uaCH[FORMFACTORS].length) {\n                            ff = strMapper(uaCH[FORMFACTORS][idx++], formFactorsMap);\n                        }\n                    } else {\n                        ff = strMapper(uaCH[FORMFACTORS], formFactorsMap);\n                    }\n                    this.set(TYPE, ff);\n                }\n                break;\n            case OS:\n                var osName = uaCH[PLATFORM];\n                if(osName) {\n                    var osVersion = uaCH[PLATFORMVER];\n                    if (osName == WINDOWS) osVersion = (parseInt(majorize(osVersion), 10) >= 13 ? '11' : '10');\n                    this.set(NAME, osName)\n                        .set(VERSION, osVersion);\n                }\n                // Xbox-Specific Detection\n                if (this.get(NAME) == WINDOWS && uaCH[MODEL] == 'Xbox') {\n                    this.set(NAME, 'Xbox')\n                        .set(VERSION, undefined);\n                }           \n                break;\n            case RESULT:\n                var data = this.data;\n                var parse = function (itemType) {\n                    return data[itemType]\n                            .getItem()\n                            .setCH(uaCH)\n                            .parseCH()\n                            .get();\n                };\n                this.set(BROWSER, parse(BROWSER))\n                    .set(CPU, parse(CPU))\n                    .set(DEVICE, parse(DEVICE))\n                    .set(ENGINE, parse(ENGINE))\n                    .set(OS, parse(OS));\n        }\n        return this;\n    };\n\n    function UAParser (ua, extensions, headers) {\n\n        if (typeof ua === TYPEOF.OBJECT) {\n            if (isExtensions(ua, true)) {\n                if (typeof extensions === TYPEOF.OBJECT) {\n                    headers = extensions;               // case UAParser(extensions, headers)           \n                }\n                extensions = ua;                        // case UAParser(extensions)\n            } else {\n                headers = ua;                           // case UAParser(headers)\n                extensions = undefined;\n            }\n            ua = undefined;\n        } else if (typeof ua === TYPEOF.STRING && !isExtensions(extensions, true)) {\n            headers = extensions;                       // case UAParser(ua, headers)\n            extensions = undefined;\n        }\n\n        if (headers) {\n            if (typeof headers.append === TYPEOF.FUNCTION) {\n                // Convert Headers object into a plain object\n                var kv = {};\n                headers.forEach(function (v, k) { kv[String(k).toLowerCase()] = v; });\n                headers = kv;\n            } else {\n                // Normalize headers field name into lowercase\n                var normalized = {};\n                for (var header in headers) {\n                    if (headers.hasOwnProperty(header)) {\n                        normalized[String(header).toLowerCase()] = headers[header];\n                    }\n                }\n                headers = normalized;\n            }\n        }\n        \n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions, headers).getResult();\n        }\n\n        var userAgent = typeof ua === TYPEOF.STRING ? ua :                                       // Passed user-agent string\n                                (headers && headers[USER_AGENT] ? headers[USER_AGENT] :     // User-Agent from passed headers\n                                ((NAVIGATOR && NAVIGATOR.userAgent) ? NAVIGATOR.userAgent : // navigator.userAgent\n                                    EMPTY)),                                                // empty string\n\n            httpUACH = new UACHData(headers, true),\n            regexMap = extensions ? \n                        extend(defaultRegexes, extensions) : \n                        defaultRegexes,\n\n            createItemFunc = function (itemType) {\n                if (itemType == RESULT) {\n                    return function () {\n                        return new UAItem(itemType, userAgent, regexMap, httpUACH)\n                                    .set('ua', userAgent)\n                                    .set(BROWSER, this.getBrowser())\n                                    .set(CPU, this.getCPU())\n                                    .set(DEVICE, this.getDevice())\n                                    .set(ENGINE, this.getEngine())\n                                    .set(OS, this.getOS())\n                                    .get();\n                    };\n                } else {\n                    return function () {\n                        return new UAItem(itemType, userAgent, regexMap[itemType], httpUACH)\n                                    .parseUA()\n                                    .get();\n                    };\n                }\n            };\n            \n        // public methods\n        setProps.call(this, [\n            ['getBrowser', createItemFunc(BROWSER)],\n            ['getCPU', createItemFunc(CPU)],\n            ['getDevice', createItemFunc(DEVICE)],\n            ['getEngine', createItemFunc(ENGINE)],\n            ['getOS', createItemFunc(OS)],\n            ['getResult', createItemFunc(RESULT)],\n            ['getUA', function () { return userAgent; }],\n            ['setUA', function (ua) {\n                if (isString(ua)) userAgent = trim(ua, UA_MAX_LENGTH);\n                return this;\n            }]\n        ])\n        .setUA(userAgent);\n\n        return this;\n    }\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR, TYPE]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    export {UAParser};","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;\n","let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n","import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nexport default v4;\n","import REGEX from './regex.js';\nfunction validate(uuid) {\n    return typeof uuid === 'string' && REGEX.test(uuid);\n}\nexport default validate;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","/**\n * External dependencies\n */\nimport 'es6-symbol';\n\n/**\n * Internal dependencies\n */\nimport { loadAlternative, loadUntestedControl } from './alternative-loading';\nimport {\n\texportTrackingApi,\n\tmarkContentAsReady,\n\tmaybeStartTracking,\n} from './tracking';\nimport { getSession, setNabReferrer } from './utils/helpers';\n\nvoid ( async function (): Promise< void > {\n\tsetNabReferrer();\n\n\texportTrackingApi( 'awaiting-session' );\n\tconst session = await getSession();\n\n\tif ( ! session ) {\n\t\texportTrackingApi( 'missing-session' );\n\t\tawait loadUntestedControl();\n\t\tmarkContentAsReady( undefined, false );\n\t\treturn;\n\t}\n\n\texportTrackingApi( 'awaiting-variant' );\n\tconst loaded = await loadAlternative( session );\n\tmaybeStartTracking( session, loaded );\n\tmarkContentAsReady( session, loaded );\n} )();\n"],"names":["SEPARATOR","CUSTOM_CLASS","getCssPath","element","mode","undefined","classList","add","selector","getSelectorTraversingParents","remove","maybeAddTag","nodeName","tagName","isUndefined","bestSelector","determineBestSelector","test","parentElements","parent","parentElement","push","currentSelector","previousSelector","selectedElementsCount","resetSelectors","i","length","resetPerformed","querySelectorAll","singleSelector","includes","spaceCleaner","trim","charAt","newReset1","isValid","regex","j","unPreferedSelectors","RegExp","newReset2","depthArray","tagArray","document","forEach","currentElement","_b","_a","children","depthConsistent","every","v","_","a","tagConsistent","optimizedSelector","newSelector","match","join","toString","checkSelector","comparisonSelector","simpleLikedTags","toLowerCase","foundTags","node","selectorRegex","isSingleElementOrMatchingSiblings","cleanUnnecessaryGreaterThan","multipleVariation","lastSelector","tag","element2","depthArrayEquals","tagArrayEquals","isDefined","mustHave","elements","console","log","e","isRecursiveCallForInputsEnabled","numberRegex","elementId","id","allowedDigitalIds","some","adi","filterTest","blockedIds","bid","className","cleanClassNameAttribute","filteredClasses","applyFilter","blockedClasses","refinedClasses","unPreferedClasses","filteredClassArray","getClassesArray","refinedClassArray","numericClassArray","filter","cls","filterNumSkipBest","skip","blockedDigitalClasses","bdc","preferredClassFound","find","preferedClasses","preferredCls","numCls","preferedDigitalClasses","preferredNumCls","inputType","getAttribute","isPreferredTag","lastResortNumeric","getMostSpecificClass","rareClass","findLeastOccurringClass","selectedClass","Array","isArray","mostSpecific","isBlocked","replace","selectorArray","getSelectorArray","selectorPlus","currentElementsCount","endsWith","indexOf","from","child","contains","querySelector","prevAll","getPreviousItem","nextAll","getNextItem","selectorPlusNew","addChildrenSupport","cropSelector","split","initialElements","croppedArray","wasCropped","candidateArray","candidateSelector","candidateElements","areEqual","replaceAll","originalSelectorLength","originalSelector","variationSelectors","firstSelectorPart","lastSelectorPart","combinedSelector","middleSelectorParts","pop","shift","selectorParts","firstRegex","lastRegex","centerSelectorParts","centerMatch","type","getEnd","getStart","_c","_d","_e","_f","_g","filteredSelectors","isValidSelector","depthList","tagNameList","consistentSelectors","getParents","isDepthConsistent","value","array","isTagNameConsistent","remainingSelectors","slice","nextSelector","testSelector","sort","b","classes","alternative","singleClass","c","sameDepth","depth","sameTags","hyphenatedClasses","underscoredClasses","selectedClasses","finalClasses","s","isAlreadySelected","link","map","data","singleInspectorPattern","f","INVALID_CHARS_REGEX","ESCAPABLE_CHARS_REGEX","Boolean","matchlessClasses","body","selectorNew","el","elementsNew","pseudoClasses","pseudo","arr","current","parents","x","candidate","last","parts","reverse","appendStyle","domReady","elementReady","headReady","WARNING_TIME_SECONDS","LONG_TIME_IN_MS","Number","MAX_SAFE_INTEGER","applyAutoInlineExperiments","experiments","__awaiter","applyAutoInlineExperimentsOn","inlineLoad","Promise","resolve","inlineExperiments","experiment","active","inline","load","onReady","all","applyExperiment","applyUnwrapExperiment","applyVisibilityExperiment","applyScriptExperiment","exp","alt","innerHTML","insertAdjacentHTML","parentNode","removeChild","style","display","doResolve","disableTimeout","addWarningAfterDomReady","isScriptExperiment","done","getViewTracker","alternatives","run","showContent","message","delayInSeconds","timeout","setTimeout","info","clearTimeout","win","window","nab","view","flow","preloadQueryArgs","areSegmentsValid","addNabQueryArg","addQueryArgs","getQueryArg","getQueryArgs","removeArgsAndHash","removeQueryArgs","removeTestingArgs","REFERRER_PARAM","loadAlternative","session","isCookieTestingEnabled","loadUntestedControl","wasCookieTestingUpdated","refresh","targetUrl","getExpectedAlternativeUrl","loadPage","removeOverlay","url","location","href","args","currentUrl","numOfAlternatives","untestedUrl","urls","alternativeUrls","nabPosition","expectedAlternativeUrl","addMissingArguments","maybeAddHash","validateCurrentUrl","maybeReplaceUrlWithControlUrl","cleanTestingQueryArgs","isTestedPostRequest","updateUrl","areUrlsEqual","isTargetUrlCompletelyDifferent","redirect","isCurrentUrlJustMissingNab","doesCurrentUrlHaveCompatibleNab","isAlternativeRequestNoLongerValid","stayWithNoTestingArgs","overlay","getElementById","history","replaceState","hideQueryArgs","cleanCurrentUrl","maybeRemoveTrailingSlash","cleanTargetUrl","isNabAlreadyThere","isNabExpected","areAllExperimentsInline","doAllExperimentsLoadControlVariant","maxCombinations","actualNab","parseInt","isNaN","expectedNab","actual","expected","search","isAlternativeRequest","getReferrer","referrerValue","decodeURIComponent","referrer","isSameDomain","oneUrl","anotherUrl","clean","useControlUrl","alternativeUrl","oneCleanUrl","anotherCleanUrl","ignoreTrailingSlash","oneArgs","anotherArgs","oneArgKeys","Object","keys","anotherArgKeys","key","expectedArguments","currentArguments","nabforce","assign","hash","activeExperiments","first","cookieTesting","once","LISTENERS","sendConversions","getAllActions","getConvertingGoals","initConversionTracking","sendConvertingPageViews","addActionListeners","events","action","allActions","flatMap","isEngagementAction","expandEngagementAction","listener","actions","attributes","delay","getSettings","sendToGA4","eventData","settings","ga4TrackingMethod","hasDataLayer","dataLayer","event","kind","experiment_id","variant_id","variant_name","getVariantName","goal_id","goal","goal_name","getGoalName","hasGTag","gtag","initGA4Tracking","isGA4Integrated","addEventListener","detail","getGA4ClientId","cookie","name","goals","xPath","track","getDocumentHeight","ROW_HEIGHT_FOR_SHOW_TIME_TRACKING","SHOW_TIME_UPDATE_INTERVAL_IN_MS","SHOW_TIME_UPDATE_MAX_DURATION_IN_MS","initHeatmapTracking","doInitHeatmapTracking","heatmapTracking","heatmaps","startTime","Date","getTime","trackClick","ev","button","createClickEventWithoutExperimentInfo","maxScroll","scrollY","innerHeight","bottom","showTimes","Math","ceil","fill","numOfShowTimeUpdates","maxNumOfShowTimeUpdates","updateShowTimes","top","firstVisibleRow","lastVisibleRow","min","floor","row","createPartialScrollEvent","sweetSpot","findSweetSpot","start","target","rect","getBoundingClientRect","width","height","clientX","left","y","clientY","timeToClick","round","windowWidth","offsetWidth","xpath","optimizeXPath","firstFold","documentHeight","collapsedShowTimes","collapseShowTimes","sweetSpotValue","reduce","maxValue","max","sweetSpots","maxSweetSpotAreaSize","maxSize","size","largestSweetSpots","pickRandom","result","index","list","random","cloneDeep","sendViews","isGdprAccepted","getActiveExperiments","logIf","logOnce","cleanOldSegments","addCookieListener","removeCookieListener","getExperimentsWithPageViews","isTrackingEnabled","pendingEvents","isContentReady","pendingCallbacks","exportTrackingApi","initExports","markContentAsReady","loaded","dispatchEvent","CustomEvent","variant","nabIsLoading","callback","maybeStartTracking","trackViews","wasGdprMissing","startTracking","experimentIds","enableTracking","trackHeaderViews","trackFooterViews","isExperimentId","isExperimentIdArray","Error","trigger","eventName","convert","isNonNegativeInteger","JSON","parse","stringify","hasQuota","user","ewpv","pairs","seen","lastExperiment","ready","isFunction","expIds","groupCollapsed","groupEnd","memo","hasCustomEventAction","conversionActions","found","pageViewTracking","footerIds","getFooterViews","nabFooterViews","n","debounce","getClosest","MILLISECONDS_IN_SECOND","listenToClickEvent","clickActions","isClickAction","externalClickActions","isClickExternalLinkAction","now","isOldEnough","onClick","anchorTag","els","getElements","isExactlyOrDescendant","doesExternalActionMatch","leading","trailing","candidates","p","getElementsByClassName","error","startsWith","MIN_SCREEN_COVERAGE","MIN_INTERSECTION_RATIO","listenToElementViewEvent","isElementViewAction","actionsBySelector","getSelector","removeListener","onElementVisible","attrs","options","intersectionObservers","Map","observeVisibility","io","IntersectionObserver","entries","observer","entry","intersectionRatio","boundingClientRect","isIntersecting","visibleEnough","screenCoverage","disconnect","threshold","observe","set","mutationObserver","MutationObserver","has","childList","subtree","clear","vw","documentElement","clientWidth","innerWidth","vh","clientHeight","right","intersectionArea","viewportArea","toPairs","getCookie","getUniqueViews","getAllActiveSegments","FORM_ACTIONS","JS_FORM_TYPES","prepareFormForSyncingEventInWordPress","isWordPressFormSubmissionAction","addListenersToAddHiddenFields","listenToJavaScriptFormSubmission","addHubSpotListener","isHubSpotFormSubmissionAction","addHubSpotLegacyListener","isHubSpotEvent","formName","formId","isHubSpotLegacyEvent","isJavaScriptFormSubmissionAction","isFormSubmissionAction","formType","isJQuery","hasData","hasAction","maybeAddHiddenFieldsInForm","form","generateCloudFields","maybeAddHiddenField","jQuery","ajaxPrefilter","opts","oriOpts","encodeURIComponent","fieldName","fieldValue","hiddenField","getHiddenField","setAttribute","createElement","appendChild","fromEntries","nab_experiments_with_page_view","generateExperimentsWithPageViewValue","nab_segments","generateExperimentSegments","nab_unique_views","generateUniqueViewsValue","nab_ga4_client_id","getExperimentsWithPageView","relevantActions","ss","uniqueViews","listenToScrollEvent","listenToTimeOnPageEvent","listenToVideoPlaybackEvent","listenToWooCommerceAddToCartEvent","isScrollAction","r","onScroll","scrollTop","windowHeight","fullHeight","scrollHeight","scrollPercentage","removeEventListener","isTimeOnPageAction","actionsByTime","time","trackedActions","timer","remainingTime","startTimer","pauseTimer","hidden","throttle","onScrollDown","YOUTUBE_PLAY","YOUTUBE_END","isVideoPlaybackAction","platform","listenToYouTubeVideoPlaybackEvent","apiReady","loadYouTubeApi","addYouTubeListeners","youTubeApiStatus","fn","onYouTubeIframeAPIReady","src","head","check","attempt","listenedYouTubeIframes","videoId","getYouTubeIframes","iframe","YT","Player","onStateChange","iframes","enablejsapi","isWooCommerceAddToCartAction","processProducts","products","anyProduct","intersect","productIds","removeInitialListener","addInitialListener","previousProducts","ps","pids","dispatchProductsAddedToCartEvent","isObject","hasJQuery","cart","getWooCommerceCart","updateNabCart","on","newCart","fragments","hasOwnProperty","nab_cart_info","items","previousCart","getNabCart","addedProducts","pp","product_id","variation_id","setNabCart","getNabCartKey","sessionStorage","getItem","setItem","getWooCommerceCartFragmentsParams","fragment_name","fragmentName","wooCommerceFragments","params","hasWooCommerceCartFragmentsParams","wc_cart_fragments_params","obj","prop","getItems","wp","select","getCartData","call","previousItems","currentItems","v4","uuid","getApiUrl","getActiveSegments","canSynchEvent","updateExperimentsWithPageViews","updateUniqueViews","generatePageViewEvent","isVisitEvent","convGoals","isConvEvent","generateConversionEvent","then","addUniqueEvents","isStagingSite","api","site","timezone","timestamp","toISOString","_uvisit","btoa","beaconSent","useSendBeacon","navigator","sendBeacon","Blob","image","catch","experimentId","maybeGeneratePageViewEventForHeatmap","segments","getVisitType","ids","goalIndex","uniqueVisits","makeUniqueViewEvent","uniqueConversions","makeUniqueConversionEvent","visit","conversion","uniqueViewId","canMonitorEvents","plugin","nabMonitorTrackingEvents","gdprCookie","matches","pattern","actionMatcher","relevantGoals","hasMatchingAction","eventsFromGoals","onScrollDownFns","Node","XPathResult","getElementByXPath","evaluate","FIRST_ORDERED_NODE_TYPE","singleNodeValue","optimized","nodeType","DOCUMENT_NODE","steps","contextNode","step","_xPathValue","path","ownIndex","_xPathIndex","ownValue","ELEMENT_NODE","isHTMLElement","localName","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","areNodesSimilar","leftType","rightType","siblings","hasSameNamedElements","sibling","setCookie","expires","expiration","toUTCString","cookies","removeCookie","getNewId","listeners","resetTimeout","trackState","timeoutId","counter","tick","values","clearInterval","css","readyState","observing","OBSERVER","checkPendingSelectors","setCss","enqueueSelectorCallback","textContent","PENDING_SELECTORS","selectors","get","callbacks","cb","delete","fns","input","isActiveExperiment","currentNode","html","offsetHeight","md5","canVisitorParticipate","updateSegmentationSettings","doGetUniqueViews","MINUTE_IN_MILLIS","QUOTA_CHECK_LIVESPAN","setNabReferrer","nabReferrer","getSession","updateAlternativeCookie","isStagingSimulated","updateECommerceSession","getAlternativeFromCookie","participationChance","resetCookies","newAlternative","shouldAlternativeBeOverwritten","resetCookieExpirations","nabAlt","ajaxUrl","oldChecksum","checksum","getSessionChecksum","forceECommerceSessionSync","FormData","append","getViewedAlternatives","getSegments","running","sync","fetch","method","credentials","finally","res","allSegments","viewUuid","epv","tenMinutesTimestamp","substring","assignedAlternative","queryAlternative","cookieAlternative","quotaString","quotaCheck","isValidQuotaCheck","zero","removeItem","checkQuota","q","siteId","text","isHeadReady","pending","markHeadAsReady","checkHead","isIE","excludeBots","isBot","areCookiesEnabled","userAgent","ua","parseJavaScript","hasSettings","nabSettings","postId","preloadQueryArgUrls","segmentMatching","singleConvPerView","version","global","fixThrottleWait","woocommerce","wait","g","ca","snippet","eval","LOG_REGEX","condition","logs","doPreloadQueryArgs","fixSelfHashUrls","protocol","hostname","anchors","config","preloadQueryArg","URL","searchParams","scopes","getMatchingScopes","altCount","getAlternativeUrl","scope","altUrls","l","isPartialUrl","getPart","isPartialNotIncludedUrl","isExclusionUrl","partialUrl","isValidSegmentationRule","updateFirstVisit","getSegmentationSettings","setSegmentationSettings","allExperiments","allHeatmaps","relevantExperiments","segmentEvaluation","isGeoDataNeeded","isGeoDataOutdated","isGeoDataNeededNow","updateGeoData","updateActiveSegments","activeExperimentIds","doesExperimentHaveValidSegments","activeSegments","isEmptyArray","isHeatmapActive","areHeatmapConditionsValid","heatmap","participation","getSegmentationGeoData","segmentationSettings","geo","RETURNING_VISITOR_MINUTES_THRESHOLD","isReturningVisitor","minutesSinceFirstVisit","firstVisit","gapInMinutes","isActiveSegmentImplicit","viewedExperimentIds","newActiveSegments","geoData","lastUpdate","lastUpdateDate","diffTime","abs","diffDays","exps","getIdsThatNeedGeo","idsWithGeoNeeds","segmentationRules","isGeoRule","h","jsonData","hasGeoData","ipAddress","ip","previousActiveSegments","calculateActiveSegments","segmentIndex","UAParser","validate","visitorBrowser","getVisitorBrowser","isSameBrowser","parser","browserData","getBrowser","browserName","visitorBrowserName","actualValue","expectedValue","DAYS","visitorDay","getDay","visitorDeviceType","getDevice","browser","dayOfWeek","deviceType","language","operatingSystem","queryParameter","referringUrl","userLogin","visitorType","segmentationRuleValidators","validator","visitorIp","ipPattern","re","currentLanguages","languages","hasLanguage","visitorLocation","visitorOS","getVisitorOS","isSameOS","operatingSystemData","getOS","osName","operatingSystemName","PERIODS","visitorHour","getHours","visitorPeriod","isUserLoggedIn","interval","currentWidth","DEFAULT_SEGMENTATION_SETTINGS","pick","TEN_DAYS_IN_MILLIS","removeOldExperimentsFromCookie","setExperimentsWithPageViewsCookie","allUniqueViews","views","getHeatmap","experimentsWithPageViews","canSynchConversion","synchedGoals","wasCookieCleaned","experimentIdsWithPageViews","toExperimentId","w","validationTimestamp","isInvalid","wasValidTenDaysAgo","newExperimentsWithPageViews","hm","buildUrl","k","arg","pair","cleanUrl","getHash","oldArgs","newArgs","position","__rest","names","keepNab","baseUrl","substr"],"ignoreList":[],"sourceRoot":""}