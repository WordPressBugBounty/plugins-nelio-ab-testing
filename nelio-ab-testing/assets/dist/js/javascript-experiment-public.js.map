{"version":3,"file":"js/javascript-experiment-public.js","mappings":"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GAAI;IAAE,CAAE,CAAE,GAC7DE,QAAQ;IAETf,IAAI,CAACiB,YAAY,CAAE,MAAM,EAAED,QAAQ,CAAE;EACtC,CAAC,CAAE;AACJ,C;;;;;;;;;;;AC7DA,0C;;;;;;;;;;;ACAA,qC;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,E;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;UENA;UACA;UACA;UACA;UACA","sources":["webpack://nab/./assets/src/public/utils/helpers/append-style.ts","webpack://nab/./assets/src/public/utils/helpers/dom-ready.ts","webpack://nab/./assets/src/public/utils/helpers/element-ready.ts","webpack://nab/./assets/src/public/utils/helpers/head-ready.ts","webpack://nab/./includes/hooks/experiments/javascript/assets/javascript-previewer/index.ts","webpack://nab/./includes/hooks/experiments/javascript/assets/javascript-previewer/style.scss?0b33","webpack://nab/./includes/hooks/experiments/javascript/assets/public.ts","webpack://nab/./includes/hooks/experiments/javascript/assets/utils.ts","webpack://nab/./packages/safe-wordpress/dom-ready.ts","webpack://nab/./packages/safe-wordpress/url.ts","webpack://nab/./packages/utils/links.ts","webpack://nab/external window [\"wp\",\"domReady\"]","webpack://nab/external window [\"wp\",\"url\"]","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/chunk loaded","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/webpack/before-startup","webpack://nab/webpack/startup","webpack://nab/webpack/after-startup"],"sourcesContent":["/**\n * Internal dependencies\n */\nimport { headReady } from './head-ready';\n\nexport function appendStyle( css: string ): void {\n\theadReady( () => {\n\t\tconst style = document.createElement( 'style' );\n\t\tstyle.innerHTML = css;\n\t\tdocument.head.appendChild( style );\n\t} );\n}\n","export function domReady( callback: () => unknown ): void {\n\tif ( typeof document === 'undefined' ) {\n\t\treturn;\n\t}\n\n\tif (\n\t\tdocument.readyState === 'complete' || // DOMContentLoaded + Images/Styles/etc loaded, so we call directly.\n\t\tdocument.readyState === 'interactive' // DOMContentLoaded fires at this point, so we call directly.\n\t) {\n\t\treturn void callback();\n\t}\n\n\t// DOMContentLoaded has not fired yet, delay callback until then.\n\tdocument.addEventListener( 'DOMContentLoaded', callback );\n}\n","let observing = false;\nconst OBSERVER = new MutationObserver( checkPendingSelectors );\n\nexport function elementReady( selector: string, callback: Callback ): void {\n\ttry {\n\t\tconst el = document.querySelector< HTMLElement >( selector );\n\t\tif ( el ) {\n\t\t\tcallback( el, setCss( selector ) );\n\t\t\treturn;\n\t\t}\n\n\t\tenqueueSelectorCallback( selector, callback );\n\t} catch ( _ ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log( `Element “${ selector }” not found.` );\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\ntype Callback = (\n\tel: HTMLElement,\n\tsetCss: ( style: string ) => void\n) => unknown;\n\nconst setCss =\n\t( selector: string ) =>\n\t( css: string ): void => {\n\t\tconst style = document.createElement( 'style' );\n\t\tstyle.textContent = `${ selector } {\\n${ trim( css ) }\\n}`;\n\t\tdocument.head?.appendChild( style );\n\t};\n\nconst trim = ( s = '' ) => s.replace( /^\\s*/, '' ).replace( /\\s*$/, '' );\n\nconst PENDING_SELECTORS = new Map< string, ReadonlyArray< Callback > >();\nfunction enqueueSelectorCallback( selector: string, callback: Callback ) {\n\tconst selectors = PENDING_SELECTORS.get( selector ) ?? [];\n\tPENDING_SELECTORS.set( selector, [ ...selectors, callback ] );\n\tif ( ! observing ) {\n\t\tobserving = true;\n\t\tOBSERVER.observe( document.body, {\n\t\t\tchildList: true,\n\t\t\tsubtree: true,\n\t\t} );\n\t}\n}\n\nfunction checkPendingSelectors() {\n\tfor ( const [ selector, callbacks ] of PENDING_SELECTORS ) {\n\t\tconst el = document.querySelector< HTMLElement >( selector );\n\t\tif ( el ) {\n\t\t\tcallbacks.forEach( ( cb ) => cb( el, setCss( selector ) ) );\n\t\t\tPENDING_SELECTORS.delete( selector );\n\t\t}\n\t}\n\n\tif ( PENDING_SELECTORS.size === 0 ) {\n\t\tOBSERVER.disconnect();\n\t\tobserving = false;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { domReady } from './dom-ready';\n\ntype Callback = () => unknown;\n\nlet isHeadReady = false;\nconst pending: Callback[] = [];\nexport const headReady = ( callback: Callback ): void =>\n\tisHeadReady ? void callback() : void pending.push( callback );\n\n// =======\n// HELPERS\n// =======\n\nconst markHeadAsReady = () => {\n\tif ( isHeadReady ) {\n\t\treturn;\n\t}\n\tisHeadReady = true;\n\tpending.forEach( ( fn ) => fn() );\n};\n\nconst checkHead = () => {\n\tif ( isHeadReady ) {\n\t\treturn;\n\t}\n\tif ( document.body !== null ) {\n\t\treturn markHeadAsReady();\n\t}\n\tsetTimeout( checkHead, 100 );\n};\n\ncheckHead();\ndomReady( markHeadAsReady );\n","/**\n * WordPress dependencies\n */\nimport domReady from '@safe-wordpress/dom-ready';\nimport { getQueryArgs } from '@safe-wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { markTestPreviewAsActive } from '../utils';\nimport {\n\tdisableExternalLinks,\n\taddParamToLocalLinks,\n} from '../../../../../../packages/utils/links';\nimport { appendStyle } from '../../../../../../assets/src/public/utils/helpers/append-style';\nimport { elementReady } from '../../../../../../assets/src/public/utils/helpers/element-ready';\nimport type { ScriptAlternative } from '../../../../../../assets/src/public/types';\n\nexport function initJavaScriptPreviewer(\n\talternative: {\n\t\treadonly run: string;\n\t},\n\tenabled: boolean\n): void {\n\tdisableExternalLinks();\n\taddParamToLocalLinks( 'nab-javascript-previewer' );\n\n\tmarkTestPreviewAsActive( enabled );\n\tif ( enabled ) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, no-eval\n\t\tconst run: ScriptAlternative[ 'run' ] = eval(\n\t\t\t`(()=>${ alternative.run })()`\n\t\t);\n\t\trun( () => void null, {\n\t\t\tappendStyle,\n\t\t\tdomReady,\n\t\t\telementReady,\n\t\t\tgetCssPath: () => undefined,\n\t\t\tshowContent: () => void null,\n\t\t} );\n\t}\n\n\tconst value = getQueryArgs( document.location.href )[\n\t\t'nab-javascript-previewer'\n\t] as unknown as string;\n\tif ( value ) {\n\t\tdomReady( () =>\n\t\t\taddParamToLocalLinks( 'nab-javascript-previewer', value )\n\t\t);\n\t}\n}\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * External dependencies\n */\nimport type { Dict } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { initJavaScriptPreviewer } from './javascript-previewer';\n\nconst hasNab = ( x: unknown ): x is { nab: Dict } =>\n\t!! x && 'object' === typeof x && 'nab' in x;\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n( window as any as Dict ).nab = {\n\t...( hasNab( window ) ? window.nab : {} ),\n\tinitJavaScriptPreviewer,\n};\n","/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@safe-wordpress/url';\nimport type {\n\tdispatch as Dispatch,\n\tselect as Select,\n} from '@safe-wordpress/data';\n\n/* eslint-disable */\nconst parent = window.parent as any;\nconst dispatch = parent.wp.data.dispatch as typeof Dispatch;\nconst select = parent.wp.data.select as typeof Select;\n/* eslint-enable */\n\n// NOTE. No @nab packages in front.\nimport type { store as dataStore } from '@nab/data';\nconst NAB_DATA = 'nab/data' as unknown as typeof dataStore;\n\nexport function isExternalLink( link: string ): boolean {\n\t// Internal link.\n\tif ( ! /^[a-z]+:\\/\\//.test( link ) ) {\n\t\treturn false;\n\t}\n\n\tlink = link.replace( /^https?:\\/\\//, 'http://' );\n\tconst currentDomain = document.location.href\n\t\t.replace( /^https?:\\/\\//, '' )\n\t\t.replace( /\\/.*$/, '' );\n\tif ( 0 === link.indexOf( 'http://' + currentDomain ) ) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nexport function disableExternalLinks(): void {\n\tArray.from( document.querySelectorAll< HTMLAnchorElement >( 'a' ) ).forEach(\n\t\t( link ) => {\n\t\t\tconst href = link.getAttribute( 'href' ) || '';\n\t\t\tif ( ! isExternalLink( href ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlink.classList.add( 'nab-disabled-link' );\n\t\t\tlink.addEventListener( 'click', ( ev ) => ev.preventDefault() );\n\t\t}\n\t);\n}\n\nexport function addParamToLocalLinks(\n\tparamName: string,\n\tparamValue = true\n): void {\n\tArray.from( document.querySelectorAll< HTMLAnchorElement >( 'a' ) ).forEach(\n\t\t( link ) => {\n\t\t\tconst href = link.getAttribute( 'href' ) || '';\n\t\t\tif ( isExternalLink( href ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// HACK. Remove fragment stuff when this pull request is finally merged: https://github.com/WordPress/gutenberg/pull/16656\n\t\t\tconst cleanUrl = href.replace( /#.*$/, '' );\n\t\t\tconst fragment = href.replace( /^[^#]*/, '' );\n\t\t\tconst finalUrl =\n\t\t\t\taddQueryArgs( cleanUrl, { [ paramName ]: paramValue } ) +\n\t\t\t\tfragment;\n\n\t\t\tlink.setAttribute( 'href', finalUrl );\n\t\t}\n\t);\n}\n\nexport function markTestPreviewAsActive( active: boolean ): void {\n\tconst editor = select( NAB_DATA ).getPageAttribute(\n\t\t'javascript-editor/javascriptEditorState'\n\t);\n\tif ( ! editor ) {\n\t\treturn;\n\t}\n\n\tvoid dispatch( NAB_DATA ).setPageAttribute(\n\t\t'javascript-editor/javascriptEditorState',\n\t\t{\n\t\t\t...editor,\n\t\t\tisPreviewInScope: active,\n\t\t}\n\t);\n}\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/dom-ready';\nimport domReady from '@wordpress/dom-ready';\nexport default domReady;\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/url';\n","/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@safe-wordpress/url';\n\nexport function addFreeTracker( link: string ): string {\n\treturn addQueryArgs( link, {\n\t\tutm_source: 'nelio-ab-testing',\n\t\tutm_medium: 'plugin',\n\t\tutm_campaign: 'free',\n\t} );\n}\n\nexport function isExternalLink( link: string ): boolean {\n\t// Internal link.\n\tif ( ! /^[a-z]+:\\/\\//.test( link ) ) {\n\t\treturn false;\n\t}\n\n\tlink = link.replace( /^https?:\\/\\//, 'http://' );\n\tconst currentDomain = document.location.href\n\t\t.replace( /^https?:\\/\\//, '' )\n\t\t.replace( /\\/.*$/, '' );\n\tif ( 0 === link.indexOf( 'http://' + currentDomain ) ) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nexport function disableExternalLinks(): void {\n\tArray.from( document.querySelectorAll( 'a' ) ).forEach( ( link ) => {\n\t\tconst href = link.getAttribute( 'href' ) || '';\n\t\tif ( ! isExternalLink( href ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlink.classList.add( 'nab-disabled-link' );\n\t\tlink.addEventListener( 'click', ( ev ) => ev.preventDefault() );\n\t} );\n}\n\nexport function addParamToLocalLinks(\n\tparamName: string,\n\tparamValue?: number | string | boolean\n): void {\n\tArray.from( document.querySelectorAll( 'a' ) ).forEach( ( link ) => {\n\t\tconst href = link.getAttribute( 'href' ) || '';\n\t\tif ( isExternalLink( href ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// HACK. Remove fragment stuff when this pull request is finally merged: https://github.com/WordPress/gutenberg/pull/16656\n\t\tconst cleanUrl = href.replace( /#.*$/, '' );\n\t\tconst fragment = href.replace( /^[^#]*/, '' );\n\t\tconst finalUrl =\n\t\t\taddQueryArgs( cleanUrl, { [ paramName ]: paramValue ?? '' } ) +\n\t\t\tfragment;\n\n\t\tlink.setAttribute( 'href', finalUrl );\n\t} );\n}\n","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"url\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-javascript-experiment-public\"], () => (__webpack_require__(\"./includes/hooks/experiments/javascript/assets/public.ts\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["headReady","appendStyle","css","style","document","createElement","innerHTML","head","appendChild","domReady","callback","readyState","addEventListener","observing","OBSERVER","MutationObserver","checkPendingSelectors","elementReady","selector","el","querySelector","setCss","enqueueSelectorCallback","_","console","log","textContent","trim","_a","s","replace","PENDING_SELECTORS","Map","selectors","get","set","observe","body","childList","subtree","callbacks","forEach","cb","delete","size","disconnect","isHeadReady","pending","push","markHeadAsReady","fn","checkHead","setTimeout","getQueryArgs","markTestPreviewAsActive","disableExternalLinks","addParamToLocalLinks","initJavaScriptPreviewer","alternative","enabled","run","eval","getCssPath","undefined","showContent","value","location","href","hasNab","x","window","nab","Object","assign","addQueryArgs","parent","dispatch","wp","data","select","NAB_DATA","isExternalLink","link","test","currentDomain","indexOf","Array","from","querySelectorAll","getAttribute","classList","add","ev","preventDefault","paramName","paramValue","cleanUrl","fragment","finalUrl","setAttribute","active","editor","getPageAttribute","setPageAttribute","isPreviewInScope","addFreeTracker","utm_source","utm_medium","utm_campaign"],"ignoreList":[],"sourceRoot":""}