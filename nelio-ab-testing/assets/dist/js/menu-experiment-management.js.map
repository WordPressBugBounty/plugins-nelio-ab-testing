{"version":3,"file":"js/menu-experiment-management.js","mappings":"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","sources":["webpack://nab/./includes/hooks/experiments/menu/assets/duplicate-control-menu-button/index.tsx","webpack://nab/./packages/safe-wordpress/api-fetch.ts","webpack://nab/./packages/safe-wordpress/components.tsx","webpack://nab/./packages/safe-wordpress/element.ts","webpack://nab/./packages/safe-wordpress/i18n.ts","webpack://nab/./packages/safe-wordpress/url.ts","webpack://nab/external window [\"nab\",\"components\"]","webpack://nab/external window [\"nab\",\"data\"]","webpack://nab/external window [\"nab\",\"utils\"]","webpack://nab/external window [\"wp\",\"apiFetch\"]","webpack://nab/external window [\"wp\",\"components\"]","webpack://nab/external window [\"wp\",\"date\"]","webpack://nab/external window [\"wp\",\"element\"]","webpack://nab/external window [\"wp\",\"i18n\"]","webpack://nab/external window [\"wp\",\"url\"]","webpack://nab/external window \"ReactJSXRuntime\"","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/./includes/hooks/experiments/menu/assets/index.tsx"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { Button } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\nimport { addQueryArgs } from '@safe-wordpress/url';\n\n/**\n * External dependencies\n */\nimport { ConfirmationDialog } from '@nab/components';\nimport { usePageAttribute } from '@nab/data';\nimport type { AlternativeId, ExperimentId } from '@nab/types';\n\nexport type DuplicateControlMenuButtonProps = {\n\treadonly experiment: ExperimentId;\n\treadonly alternative: AlternativeId;\n};\n\nexport const DuplicateControlMenuButton = ( {\n\texperiment,\n\talternative,\n}: DuplicateControlMenuButtonProps ): JSX.Element => {\n\tconst [ isDuplicating, duplicateMenu ] = useMenuDuplicator(\n\t\texperiment,\n\t\talternative\n\t);\n\tconst [ isConfirmVisible, showConfirm ] = useConfirmationDialog();\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tclassName=\"page-title-action\"\n\t\t\t\tonClick={ () => showConfirm( true ) }\n\t\t\t\tstyle={ { height: 'auto' } }\n\t\t\t>\n\t\t\t\t{ _x(\n\t\t\t\t\t'Duplicate Control Menu',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</Button>\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Duplicate Control Menu?',\n\t\t\t\t\t'title',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ _x(\n\t\t\t\t\t'This will overwrite the items in your menu variant using those included in the control menu. Are you sure you want to continue?',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={\n\t\t\t\t\tisDuplicating\n\t\t\t\t\t\t? _x(\n\t\t\t\t\t\t\t\t'Duplicatingâ€¦',\n\t\t\t\t\t\t\t\t'text (widgets)',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: _x( 'Duplicate', 'command', 'nelio-ab-testing' )\n\t\t\t\t}\n\t\t\t\tisConfirmEnabled={ ! isDuplicating }\n\t\t\t\tisCancelEnabled={ ! isDuplicating }\n\t\t\t\tisOpen={ isConfirmVisible }\n\t\t\t\tonCancel={ () => showConfirm( false ) }\n\t\t\t\tonConfirm={ duplicateMenu }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useConfirmationDialog = () =>\n\tusePageAttribute(\n\t\t'menus/isConfirmationDialogForMenuDuplicationVisible',\n\t\tfalse\n\t);\n\nconst useMenuDuplicator = (\n\texperiment: ExperimentId,\n\talternative: AlternativeId\n) => {\n\tconst [ isDuplicating, markAsDuplicating ] = usePageAttribute(\n\t\t'menus/isDuplicatingMenu',\n\t\tfalse\n\t);\n\n\tconst duplicateMenu = () => {\n\t\tif ( isDuplicating ) {\n\t\t\treturn;\n\t\t}\n\t\tvoid markAsDuplicating( true );\n\t\tvoid apiFetch( {\n\t\t\tpath: addQueryArgs( '/nab/v1/menu/duplicate-control', {\n\t\t\t\texperiment,\n\t\t\t\talternative,\n\t\t\t} ),\n\t\t\tmethod: 'PUT',\n\t\t} ).finally( () => {\n\t\t\twindow.location.reload();\n\t\t} );\n\t};\n\n\treturn [ isDuplicating, duplicateMenu ] as const;\n};\n","/**\n * WordPress dependencies\n */\nimport baseApiFetch from '@wordpress/api-fetch';\nimport { format } from '@wordpress/date';\nimport { addQueryArgs } from '@wordpress/url';\n\nimport type { APIFetchOptions } from '@wordpress/api-fetch';\n\nconst apiFetch = < T >( options: APIFetchOptions ): Promise< T > => {\n\tconst { url, path } = options;\n\tconst nabts = format( 'YmjHi' ).substring( 0, 11 ) + '0';\n\treturn baseApiFetch( {\n\t\t...options,\n\t\t...( url && {\n\t\t\turl: isRestApiRequest( options )\n\t\t\t\t? addQueryArgs( url, { nabts } )\n\t\t\t\t: url,\n\t\t} ),\n\t\t...( path && { path: addQueryArgs( path, { nabts } ) } ),\n\t\tparse: true,\n\t} );\n};\n\nexport * from '@wordpress/api-fetch';\nexport default apiFetch;\n\n// =======\n// HELPERS\n// =======\nconst isRestApiRequest = ( options: APIFetchOptions ): boolean =>\n\t!! options.url?.includes( '/wp-json/' ) ||\n\t!! options.url?.includes( 'rest_route' ) ||\n\t!! Object.keys( options ).includes( 'rest_route' );\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/components';\n\nexport {\n\t__experimentalGrid as Grid,\n\t__experimentalHeading as Heading,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalInputControl as InputControl,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalNumberControl as NumberControl,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalHStack as HStack,\n\t__experimentalZStack as ZStack,\n\t__experimentalVStack as VStack,\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\n\t__experimentalSpacer as Spacer,\n\t__experimentalTruncate as Truncate,\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalHasSplitBorders as hasSplitBorders,\n\t__experimentalIsDefinedBorder as isDefinedBorder,\n\t__experimentalText as Text,\n\t__experimentalView as View,\n} from '@wordpress/components';\n\nexport type { BaseControlProps } from '@wordpress/components/build-types/base-control/types';\nexport type { BoxControlValue } from '@wordpress/components/build-types/box-control/types';\nexport type { ButtonAsButtonProps } from '@wordpress/components/build-types/button/types';\nexport type {\n\tColorObject,\n\tPaletteObject,\n} from '@wordpress/components/build-types/color-palette/types';\nexport type { ControlledRangeValue } from '@wordpress/components/build-types/range-control/types';\nexport type { DropdownProps } from '@wordpress/components/build-types/dropdown/types';\nexport type { GradientPickerComponentProps } from '@wordpress/components/build-types/gradient-picker/types';\nexport type { HeadingSize } from '@wordpress/components/build-types/heading/types';\nexport type { ItemGroupProps } from '@wordpress/components/build-types/item-group/types';\nexport type { PopoverProps } from '@wordpress/components/build-types/popover/types';\nexport type { Size } from '@wordpress/components/build-types/input-control/types';\nexport type { ToggleGroupControlProps } from '@wordpress/components/build-types/toggle-group-control/types';\nexport type {\n\tUnitControlProps,\n\tUnitControlOnChangeCallback,\n} from '@wordpress/components/build-types/unit-control/types';\nexport type { WordPressComponentProps } from '@wordpress/components/build-types/context';\nexport type { WPUnitControlUnit } from '@wordpress/components/build-types/unit-control/types';\n\nimport {\n\t// eslint-disable-next-line\n\t__experimentalToggleGroupControl as OriginalToggleGroupControl,\n\tBaseControl as OriginalBaseControl,\n\tCheckboxControl as OriginalCheckboxControl,\n\tFormTokenField as OriginalFormTokenField,\n\tRangeControl as OriginalRangeControl,\n\tSelectControl as OriginalSelectControl,\n\tTextControl as OriginalTextControl,\n\tTextareaControl as OriginalTextareaControl,\n\tToggleControl as OriginalToggleControl,\n} from '@wordpress/components';\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedBaseControl: typeof OriginalBaseControl = ( props ) => (\n\t<OriginalBaseControl\n\t\t{ ...{\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const BaseControl = Object.assign(\n\tWrappedBaseControl,\n\tOriginalBaseControl\n);\n\nconst WrappedCheckboxControl: typeof OriginalCheckboxControl = ( props ) => (\n\t<OriginalCheckboxControl\n\t\t{ ...{\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const CheckboxControl = Object.assign(\n\tWrappedCheckboxControl,\n\tOriginalCheckboxControl\n);\n\nconst WrappedFormTokenField: typeof OriginalFormTokenField = ( props ) => (\n\t<OriginalFormTokenField\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const FormTokenField = Object.assign(\n\tWrappedFormTokenField,\n\tOriginalFormTokenField\n);\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedRangeControl: typeof OriginalRangeControl = ( props ) => (\n\t<OriginalRangeControl\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const RangeControl = Object.assign(\n\tWrappedRangeControl,\n\tOriginalRangeControl\n);\n\nexport const SelectControl: typeof OriginalSelectControl = ( props ) => (\n\t<OriginalSelectControl\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedTextControl: typeof OriginalTextControl = ( props ) => (\n\t<OriginalTextControl\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const TextControl = Object.assign(\n\tWrappedTextControl,\n\tOriginalTextControl\n);\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedTextareaControl: typeof OriginalTextareaControl = ( props ) => (\n\t<OriginalTextareaControl\n\t\t{ ...{\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const TextareaControl = Object.assign(\n\tWrappedTextareaControl,\n\tOriginalTextareaControl\n);\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedToggleControl: typeof OriginalToggleControl = ( props ) => (\n\t<OriginalToggleControl\n\t\t{ ...{\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const ToggleControl = Object.assign(\n\tWrappedToggleControl,\n\tOriginalToggleControl\n);\n\nconst WrappedToggleGroupControl: typeof OriginalToggleGroupControl = (\n\t// @ts-expect-error Compiler complains, but this is just a temporary fix.\n\tprops\n) => (\n\t<OriginalToggleGroupControl\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const ToggleGroupControl = Object.assign(\n\tWrappedToggleGroupControl,\n\tOriginalToggleGroupControl\n);\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/element';\nimport { createRoot, render as legacyRender } from '@wordpress/element';\n\nexport function render(\n\telement: JSX.Element,\n\tcontainer: Element | null\n): void {\n\tif ( ! container ) {\n\t\treturn;\n\t}\n\n\tif ( createRoot ) {\n\t\tconst root = createRoot( container );\n\t\troot.render( element );\n\t} else {\n\t\tlegacyRender( element, container );\n\t}\n}\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/i18n';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/url';\n","module.exports = window[\"nab\"][\"components\"];","module.exports = window[\"nab\"][\"data\"];","module.exports = window[\"nab\"][\"utils\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"date\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"url\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { render } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport '@nab/data';\nimport { appendSibling } from '@nab/utils';\nimport type { AlternativeId, Dict, ExperimentId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { DuplicateControlMenuButton } from './duplicate-control-menu-button';\n\ntype Settings = {\n\treadonly experiment: ExperimentId;\n\treadonly alternative: AlternativeId;\n\treadonly links: {\n\t\treadonly experimentUrl: string;\n\t};\n};\n\nfunction initAlternativeEdition( settings: Settings ) {\n\trenamePage();\n\trenameUpdateMessage();\n\tdestroyUnnecessaryUIElements();\n\taddAlternativeTitleActions( settings );\n}\n\n// =======\n// HELPERS\n// =======\n\nconst hasNab = ( x: unknown ): x is { nab: Dict } =>\n\t!! x && 'object' === typeof x && 'nab' in x;\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n( window as any as Dict ).nab = {\n\t...( hasNab( window ) ? window.nab : {} ),\n\tinitAlternativeEdition,\n};\n\nfunction renamePage() {\n\tconst title = document.querySelector< HTMLElement >(\n\t\t'#wpbody-content .wrap .wp-heading-inline'\n\t);\n\tif ( title ) {\n\t\ttitle.textContent = _x( 'Menu Variant', 'text', 'nelio-ab-testing' );\n\t}\n}\n\nfunction renameUpdateMessage() {\n\tArray.from(\n\t\tdocument.querySelectorAll< HTMLElement >( '#message.updated.notice' )\n\t).forEach( ( notice ) => {\n\t\tconst text = _x(\n\t\t\t'<strong>Menu variant</strong> has been updated.',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t);\n\t\tnotice.innerHTML = `<p>${ text }</p>`;\n\t} );\n}\n\nfunction destroyUnnecessaryUIElements() {\n\tArray.from(\n\t\tdocument.querySelectorAll< HTMLElement >( '.wrap > .page-title-action' )\n\t).forEach( ( button ) => button.remove() );\n\tArray.from(\n\t\tdocument.querySelectorAll< HTMLElement >( '.wrap > .nav-tab-wrapper' )\n\t).forEach( ( tabs ) => tabs.remove() );\n\tArray.from(\n\t\tdocument.querySelectorAll< HTMLElement >( '.wrap > .manage-menus' )\n\t).forEach( ( notice ) => notice.remove() );\n\n\tArray.from(\n\t\tdocument.querySelectorAll< HTMLElement >(\n\t\t\t'#menu-name, .menu-name-label'\n\t\t)\n\t).forEach( ( node ) => ( node.style.display = 'none' ) );\n\tArray.from(\n\t\tdocument.querySelectorAll< HTMLElement >(\n\t\t\t'#nav-menu-footer .delete-action'\n\t\t)\n\t).forEach( ( node ) => node.remove() );\n\n\tArray.from(\n\t\tdocument.querySelectorAll< HTMLElement >( '.menu-settings' )\n\t).forEach( ( node ) => node.remove() );\n}\n\nfunction addAlternativeTitleActions( settings: Settings ) {\n\tconst title = document.querySelector< HTMLElement >(\n\t\t'#wpbody-content .wrap .wp-heading-inline'\n\t);\n\n\tconst duplicate = document.createElement( 'span' );\n\trender(\n\t\t<DuplicateControlMenuButton\n\t\t\texperiment={ settings.experiment }\n\t\t\talternative={ settings.alternative }\n\t\t/>,\n\t\tduplicate\n\t);\n\n\tconst backToTest = document.createElement( 'a' );\n\tbackToTest.className = 'page-title-action';\n\tbackToTest.textContent = _x(\n\t\t'Back to Test',\n\t\t'command',\n\t\t'nelio-ab-testing'\n\t);\n\tbackToTest.setAttribute( 'href', settings.links.experimentUrl );\n\n\tif ( title ) {\n\t\tappendSibling( backToTest, title );\n\t\tappendSibling( duplicate, title );\n\t}\n}\n"],"names":["apiFetch","Button","_x","addQueryArgs","ConfirmationDialog","usePageAttribute","DuplicateControlMenuButton","experiment","alternative","isDuplicating","duplicateMenu","useMenuDuplicator","isConfirmVisible","showConfirm","useConfirmationDialog","_jsxs","_Fragment","children","_jsx","className","onClick","style","height","title","text","confirmLabel","isConfirmEnabled","isCancelEnabled","isOpen","onCancel","onConfirm","markAsDuplicating","path","method","finally","window","location","reload","baseApiFetch","format","options","url","nabts","substring","Object","assign","isRestApiRequest","parse","_a","includes","_b","keys","__experimentalGrid","Grid","__experimentalHeading","Heading","__experimentalItemGroup","ItemGroup","__experimentalInputControl","InputControl","__experimentalInputControlPrefixWrapper","InputControlPrefixWrapper","__experimentalToggleGroupControlOption","ToggleGroupControlOption","__experimentalToggleGroupControlOptionIcon","ToggleGroupControlOptionIcon","__experimentalUnitControl","UnitControl","__experimentalNumberControl","NumberControl","__experimentalToolsPanel","ToolsPanel","__experimentalToolsPanelItem","ToolsPanelItem","__experimentalHStack","HStack","__experimentalZStack","ZStack","__experimentalVStack","VStack","__experimentalDropdownContentWrapper","DropdownContentWrapper","__experimentalSpacer","Spacer","__experimentalTruncate","Truncate","__experimentalParseQuantityAndUnitFromRawValue","parseQuantityAndUnitFromRawValue","__experimentalUseCustomUnits","useCustomUnits","__experimentalHasSplitBorders","hasSplitBorders","__experimentalIsDefinedBorder","isDefinedBorder","__experimentalText","Text","__experimentalView","View","__experimentalToggleGroupControl","OriginalToggleGroupControl","BaseControl","OriginalBaseControl","CheckboxControl","OriginalCheckboxControl","FormTokenField","OriginalFormTokenField","RangeControl","OriginalRangeControl","SelectControl","OriginalSelectControl","TextControl","OriginalTextControl","TextareaControl","OriginalTextareaControl","ToggleControl","OriginalToggleControl","WrappedBaseControl","props","__nextHasNoMarginBottom","WrappedCheckboxControl","WrappedFormTokenField","__next40pxDefaultSize","WrappedRangeControl","WrappedTextControl","WrappedTextareaControl","WrappedToggleControl","WrappedToggleGroupControl","ToggleGroupControl","createRoot","render","legacyRender","element","container","root","appendSibling","initAlternativeEdition","settings","renamePage","renameUpdateMessage","destroyUnnecessaryUIElements","addAlternativeTitleActions","hasNab","x","nab","document","querySelector","textContent","Array","from","querySelectorAll","forEach","notice","innerHTML","button","remove","tabs","node","display","duplicate","createElement","backToTest","setAttribute","links","experimentUrl"],"ignoreList":[],"sourceRoot":""}