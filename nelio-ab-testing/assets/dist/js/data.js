(()=>{var t={94396:(t,e)=>{"use strict";function n(t){return t}e.L8=void 0,e.L8=function(t){return t?function(e){return t(e),e}:n}}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{"use strict";n.r(i),n.d(i,{data:()=>r});var t={};n.r(t),n.d(t,{areUniqueResultsAvailable:()=>jt,areUniqueResultsVisible:()=>Ot,canLimitSiteQuota:()=>ct,getActivePlugins:()=>J,getAdminUrl:()=>st,getAlternativePageViews:()=>mt,getAlternativeResultsInExperiment:()=>pt,getConversionRatesOfAlternativesInGoal:()=>_t,getConversions:()=>bt,getCurrency:()=>I,getDaysRunning:()=>xt,getDefaultGoal:()=>P,getECommercePlugin:()=>A,getECommerceSetting:()=>ut,getEntityRecord:()=>w,getExperiment:()=>O,getExperimentAttribute:()=>j,getExperimentResults:()=>dt,getExperimentResultsStatus:()=>Et,getKindEntities:()=>T,getMediaUrl:()=>U,getMenu:()=>tt,getPageAttribute:()=>D,getPageViews:()=>vt,getPluginSetting:()=>rt,getProducts:()=>C,getQuota:()=>Pt,getRestUrl:()=>at,getResultsOfAlternatives:()=>wt,getRevenuesOfAlternativesInGoal:()=>Tt,getSiteLanguage:()=>X,getSubscriptionId:()=>R,getTemplateContexts:()=>et,getTemplates:()=>nt,getThemes:()=>it,getToday:()=>K,getTotalPageViews:()=>ft,getTotalRevenue:()=>ht,getUniquePageViews:()=>yt,getWinnerAlternative:()=>St,getWinnersInExperiment:()=>gt,hasCapability:()=>ot,hasMenus:()=>Z,isLocked:()=>k,isSubscribedTo:()=>lt});var e={};n.r(e),n.d(e,{changeLastAppliedAlternative:()=>Ct,lock:()=>Vt,receiveECommerceSettings:()=>zt,receiveEntityRecords:()=>It,receiveExperiment:()=>Rt,receiveExperimentResult:()=>Nt,receiveFSCurrency:()=>Ut,receiveFSProducts:()=>Dt,receiveFSSubscriptionId:()=>kt,receiveKindEntitiesQuery:()=>At,receiveMediaUrl:()=>Lt,receiveMenus:()=>Ft,receivePluginSettings:()=>Yt,receivePlugins:()=>Bt,receiveSiteQuota:()=>Xt,receiveTemplateContexts:()=>Qt,receiveTemplates:()=>Ht,receiveThemes:()=>Wt,setPageAttribute:()=>$t,setSiteLanguage:()=>Gt,setToday:()=>qt,unlock:()=>Mt,updateAiSettings:()=>Kt});var s={};n.r(s),n.d(s,{applyAlternative:()=>ke,createTestFromHypothesis:()=>me,generateTestHypotheses:()=>ye,pauseExperiment:()=>De,purchaseQuota:()=>Me,searchTestCandidates:()=>fe,setPublicResultStatus:()=>Le,stopExperiment:()=>Ue});var o={};n.r(o),n.d(o,{getActivePlugins:()=>rn,getAlternativePageViews:()=>tn,getConversionRatesOfAlternativesInGoal:()=>sn,getCurrency:()=>We,getDaysRunning:()=>en,getEntityRecord:()=>Ge,getExperiment:()=>Fe,getExperimentResults:()=>Je,getExperimentResultsStatus:()=>nn,getKindEntities:()=>qe,getMediaUrl:()=>Ke,getMenu:()=>un,getPageViews:()=>Ze,getProducts:()=>He,getQuota:()=>pn,getSubscriptionId:()=>Ye,getTemplateContexts:()=>cn,getTemplates:()=>ln,getThemes:()=>dn,hasMenus:()=>an});var r={};n.r(r),n.d(r,{store:()=>fn,useAdminUrl:()=>hn,useExperimentAttribute:()=>yn,usePageAttribute:()=>mn,usePluginSetting:()=>bn});const a=window.wp.data;function u(t,e){return(0,a.useSelect)(t,e)}function c(t){return(0,a.resolveSelect)(t)}const l=window.nab.date,d=window.lodash,g={config:[],data:{}},p={},v={currency:"USD",products:[],subscriptionId:""},f={},y={isLocked:!1,sidebarDimensions:{top:0,height:"100vh",applyFix:!0}},m={},b={today:"2013-01-01",language:"en_US",menus:{},nelio:{adminUrl:"/wp-admin/",apiUrl:"",areAutoTutorialsEnabled:!0,areSubscriptionControlsDisabled:!1,capabilities:[],goalTracking:"all-pages",homeUrl:"/",isCookieTestingEnabled:!1,maxCombinations:24,minConfidence:95,minSampleSize:100,restUrl:"",segmentEvaluation:"site",siteId:"",subscription:!1,themeSupport:{menus:!1,widgets:!1}},plugins:[],templateContexts:{},templates:{},themes:{},ecommerce:{woocommerce:{currency:"USD",currencyPosition:"before",currencySymbol:"$",decimalSeparator:".",numberOfDecimals:2,orderStatuses:[],thousandsSeparator:","},edd:{currency:"USD",currencyPosition:"before",currencySymbol:"$",decimalSeparator:".",numberOfDecimals:2,orderStatuses:[],thousandsSeparator:","}}},h=window.nab.utils;function x(t){const e=(0,h.createAlternative)("control"),n=(0,h.createAlternative)();return t?"control"!==t[0].id?[e,...t]:1===t.length?[t[0],n]:t:[e,n]}const E=window.wp.i18n,S={"Accordion Content":(0,E._x)("Accordion Content","text","nelio-ab-testing"),"Accordion Toggle":(0,E._x)("Accordion Toggle","text","nelio-ab-testing"),"Alert Division":(0,E._x)("Alert Division","text","nelio-ab-testing"),"All Elements":(0,E._x)("All Elements","text","nelio-ab-testing"),"Allowed Tags Section":(0,E._x)("Allowed Tags Section","text","nelio-ab-testing"),Article:(0,E._x)("Article","text","nelio-ab-testing"),"Block Quote":(0,E._x)("Block Quote","text","nelio-ab-testing"),"Body Of Table":(0,E._x)("Body Of Table","text","nelio-ab-testing"),Body:(0,E._x)("Body","text","nelio-ab-testing"),"Bold Tag":(0,E._x)("Bold Tag","text","nelio-ab-testing"),Button:(0,E._x)("Button","text","nelio-ab-testing"),"Caption Of table":(0,E._x)("Caption Of table","text","nelio-ab-testing"),"Centred block":(0,E._x)("Centred block","text","nelio-ab-testing"),"Citation Tag":(0,E._x)("Citation Tag","text","nelio-ab-testing"),"Code Tag":(0,E._x)("Code Tag","text","nelio-ab-testing"),
/* translators: %d is the number of the column */
"Column %d/12":(0,E._x)("Column %d/12","text","nelio-ab-testing"),"Comment Form":(0,E._x)("Comment Form","text","nelio-ab-testing"),"Comment Reply Title":(0,E._x)("Comment Reply Title","text","nelio-ab-testing"),"Comments Link Division":(0,E._x)("Comments Link Division","text","nelio-ab-testing"),"Content Division":(0,E._x)("Content Division","text","nelio-ab-testing"),"Definition description":(0,E._x)("Definition description","text","nelio-ab-testing"),"Definition list":(0,E._x)("Definition list","text","nelio-ab-testing"),"Definition term":(0,E._x)("Definition term","text","nelio-ab-testing"),Division:(0,E._x)("Division","text","nelio-ab-testing"),"Edit Link":(0,E._x)("Edit Link","text","nelio-ab-testing"),"Entry Content":(0,E._x)("Entry Content","text","nelio-ab-testing"),"Entry Footer":(0,E._x)("Entry Footer","text","nelio-ab-testing"),"Entry Header":(0,E._x)("Entry Header","text","nelio-ab-testing"),"Entry Time":(0,E._x)("Entry Time","text","nelio-ab-testing"),"Font Icon":(0,E._x)("Font Icon","text","nelio-ab-testing"),"Foot Of Table":(0,E._x)("Foot Of Table","text","nelio-ab-testing"),Footer:(0,E._x)("Footer","text","nelio-ab-testing"),"Form Division":(0,E._x)("Form Division","text","nelio-ab-testing"),"Head Of Table":(0,E._x)("Head Of Table","text","nelio-ab-testing"),Header:(0,E._x)("Header","text","nelio-ab-testing"),Heading:(0,E._x)("Heading","text","nelio-ab-testing"),"Horizontal Rule":(0,E._x)("Horizontal Rule","text","nelio-ab-testing"),Image:(0,E._x)("Image","text","nelio-ab-testing"),Input:(0,E._x)("Input","text","nelio-ab-testing"),"Italic Tag":(0,E._x)("Italic Tag","text","nelio-ab-testing"),Label:(0,E._x)("Label","text","nelio-ab-testing"),Lead:(0,E._x)("Lead","text","nelio-ab-testing"),"Line Break":(0,E._x)("Line Break","text","nelio-ab-testing"),Link:(0,E._x)("Link","text","nelio-ab-testing"),"List Item":(0,E._x)("List Item","text","nelio-ab-testing"),List:(0,E._x)("List","text","nelio-ab-testing"),"Login Info":(0,E._x)("Login Info","text","nelio-ab-testing"),Logo:(0,E._x)("Logo","text","nelio-ab-testing"),"Menu Item":(0,E._x)("Menu Item","text","nelio-ab-testing"),"Menu Link":(0,E._x)("Menu Link","text","nelio-ab-testing"),Menu:(0,E._x)("Menu","text","nelio-ab-testing"),Navigation:(0,E._x)("Navigation","text","nelio-ab-testing"),Paragraph:(0,E._x)("Paragraph","text","nelio-ab-testing"),"Post Division":(0,E._x)("Post Division","text","nelio-ab-testing"),"Post Edit Link":(0,E._x)("Post Edit Link","text","nelio-ab-testing"),"Post Meta Division":(0,E._x)("Post Meta Division","text","nelio-ab-testing"),"Post Thumbnail":(0,E._x)("Post Thumbnail","text","nelio-ab-testing"),"Post Title":(0,E._x)("Post Title","text","nelio-ab-testing"),Preformatted:(0,E._x)("Preformatted","text","nelio-ab-testing"),Quotation:(0,E._x)("Quotation","text","nelio-ab-testing"),Root:(0,E._x)("Root","text","nelio-ab-testing"),Row:(0,E._x)("Row","text","nelio-ab-testing"),"Show More Link":(0,E._x)("Show More Link","text","nelio-ab-testing"),"Site Description":(0,E._x)("Site Description","text","nelio-ab-testing"),"Small Tag":(0,E._x)("Small Tag","text","nelio-ab-testing"),"Span Tag":(0,E._x)("Span Tag","text","nelio-ab-testing"),"Strong Tag":(0,E._x)("Strong Tag","text","nelio-ab-testing"),"Sub Menu":(0,E._x)("Sub Menu","text","nelio-ab-testing"),"Submit Button":(0,E._x)("Submit Button","text","nelio-ab-testing"),"Table Data":(0,E._x)("Table Data","text","nelio-ab-testing"),"Table Row":(0,E._x)("Table Row","text","nelio-ab-testing"),Table:(0,E._x)("Table","text","nelio-ab-testing"),"Tag Cloud":(0,E._x)("Tag Cloud","text","nelio-ab-testing"),"Text Area":(0,E._x)("Text Area","text","nelio-ab-testing"),"Thumbnail Image":(0,E._x)("Thumbnail Image","text","nelio-ab-testing"),Thumbnail:(0,E._x)("Thumbnail","text","nelio-ab-testing"),"Time Tag":(0,E._x)("Time Tag","text","nelio-ab-testing"),"Underline text tag":(0,E._x)("Underline text tag","text","nelio-ab-testing"),Well:(0,E._x)("Well","text","nelio-ab-testing"),"Widget Title":(0,E._x)("Widget Title","text","nelio-ab-testing"),Widget:(0,E._x)("Widget","text","nelio-ab-testing"),Wrapper:(0,E._x)("Wrapper","text","nelio-ab-testing")},_=(0,a.combineReducers)({entities:function(t=g,e){var n;return null!==(n=function(t,e){switch(e.type){case"RECEIVE_TYPE_QUERY":return Object.assign(Object.assign({},t),{config:e.kindEntities});case"RECEIVE_ITEMS":return Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{[e.kind]:Object.assign(Object.assign({},t.data[e.kind]),(0,d.keyBy)(e.items,"id"))})})}}(t,e))&&void 0!==n?n:t},experiments:function(t=p,e){var n;return null!==(n=function(t,e){switch(e.type){case"RECEIVE_EXPERIMENT":return Object.assign(Object.assign({},t),{[e.key]:Object.assign(Object.assign({},e.experiment),{alternatives:x(e.experiment.alternatives),goals:e.experiment.goals||[(0,h.createGoal)()],segments:e.experiment.segments||[]})});case"CHANGE_LAST_APPLIED_ALTERNATIVE":const i=t[e.experimentId];return i?Object.assign(Object.assign({},t),{[e.experimentId]:Object.assign(Object.assign({},i),{alternatives:i.alternatives.map((n=e.alternativeId,function(t){return Object.assign(Object.assign({},t),{isLastApplied:t.id===n})}))})}):t}var n}(t,e))&&void 0!==n?n:t},fastspring:function(t=v,e){var n;return null!==(n=function(t,e){switch(e.type){case"RECEIVE_FS_CURRENCY":return Object.assign(Object.assign({},t),{currency:e.currency});case"RECEIVE_FS_PRODUCTS":return Object.assign(Object.assign({},t),{products:e.products});case"RECEIVE_FS_SUBSCRIPTION_ID":return Object.assign(Object.assign({},t),{subscriptionId:e.subscriptionId})}}(t,e))&&void 0!==n?n:t},media:function(t=f,e){var n;return null!==(n=function(t,e){if("RECEIVE_MEDIA_URL"===e.type)return Object.assign(Object.assign({},t),{[e.id]:e.url})}(t,e))&&void 0!==n?n:t},page:function(t=y,e){var n;return null!==(n=function(t,e){switch(e.type){case"SET_PAGE_ATTRIBUTE":{const{name:n,value:i}=e;return n?"css-selector/cssSelectorFinderState"===n?void 0===i?Object.assign(Object.assign({},t),{[n]:void 0}):Object.assign(Object.assign({},t),{[n]:Object.assign(Object.assign({},i),{labels:S})}):Object.assign(Object.assign({},t),{[n]:i}):t}case"LOCK_UI":return Object.assign(Object.assign({},t),{isLocked:!0});case"UNLOCK_UI":return Object.assign(Object.assign({},t),{isLocked:!1})}}(t,e))&&void 0!==n?n:t},results:function(t=m,e){var n;return null!==(n=function(t,e){if("RECEIVE_RESULT"===e.type)return Object.assign(Object.assign({},t),{[e.key]:e.result})}(t,e))&&void 0!==n?n:t},settings:function(t=b,e){var n;return null!==(n=function(t,e){switch(e.type){case"SET_TODAY":return Object.assign(Object.assign({},t),{today:e.today});case"SET_SITE_LANGUAGE":return Object.assign(Object.assign({},t),{language:e.language});case"RECEIVE_MENUS":return Object.assign(Object.assign({},t),{menus:Object.assign(Object.assign({},t.menus),(0,d.keyBy)(e.menus,"id"))});case"RECEIVE_PLUGINS":return Object.assign(Object.assign({},t),{plugins:e.plugins||[]});case"RECEIVE_TEMPLATE_CONTEXTS":return Object.assign(Object.assign({},t),{templateContexts:e.templateContexts});case"RECEIVE_TEMPLATES":return Object.assign(Object.assign({},t),{templates:e.templates});case"RECEIVE_THEMES":return Object.assign(Object.assign({},t),{themes:(0,d.keyBy)(e.themes,"id")});case"RECEIVE_PLUGIN_SETTINGS":return Object.assign(Object.assign({},t),{nelio:e.settings});case"RECEIVE_ECOMMERCE_SETTINGS":return Object.assign(Object.assign({},t),{ecommerce:Object.assign(Object.assign({},t.ecommerce),{[e.ecommerce]:Object.assign(Object.assign({},e.settings),{orderStatuses:(0,d.sortBy)(e.settings.orderStatuses,"label")})})});case"UPDATE_AI_SETTINGS":return t.nelio.aiSettings?Object.assign(Object.assign({},t),{nelio:Object.assign(Object.assign({},t.nelio),{aiSettings:e.settings})}):t}}(t,e))&&void 0!==n?n:t},siteQuota:function(t=undefined,e){var n;return null!==(n=function(t,e){if("RECEIVE_SITE_QUOTA"===e.type)return e.quota}(0,e))&&void 0!==n?n:t}});function T(t){return t.entities.config}function w(t,e,n){return(0,d.get)(t.entities.data,[e,n])}function O(t,e){return e?(0,d.get)(t.experiments,e):void 0}const j=function(t,e,n){const i=O(t,e);if(i)return i[n]};function P(t,e){const n=O(t,e);if(n)return n.goals[0]}function A(t,e,n){return function(t,e,n){var i,s;const o=O(t,e);if(!o)return!1;n=null!=n?n:null===(i=P(t,e))||void 0===i?void 0:i.id;const r=o.goals.find((t=>t.id===n));if(!r)return!1;const a=null!==(s=null==r?void 0:r.conversionActions)&&void 0!==s?s:[];return 0<a.length&&a.every((({type:t})=>"nab/wc-order"===t))}(t,e,n)?"woocommerce":function(t,e,n){var i,s;const o=O(t,e);if(!o)return!1;n=null!=n?n:null===(i=P(t,e))||void 0===i?void 0:i.id;const r=o.goals.find((t=>t.id===n));if(!r)return!1;const a=null!==(s=null==r?void 0:r.conversionActions)&&void 0!==s?s:[];return 0<a.length&&a.every((({type:t})=>"nab/edd-order"===t))}(t,e,n)?"edd":void 0}function I(t){return t.fastspring.currency}function C(t){return t.fastspring.products}function R(t){return t.fastspring.subscriptionId||void 0}function U(t,e){return t.media[e]}const D=function(t,e){return t.page[e]};function k(t){return D(t,"isLocked")}function L(t,e){const{segments:n}=e,i={results:{}};return(0,d.keyBy)(n.map(((n,s)=>{var o,r,a,u,c,l,d,g,p,v,f;return Object.assign(Object.assign({winners:$((null===(r=null===(o=t.segments)||void 0===o?void 0:o[`s${s+1}`])||void 0===r?void 0:r.results)||{},e.goals),wasEnoughData:V((null===(u=null===(a=t.segments)||void 0===a?void 0:a[`s${s+1}`])||void 0===u?void 0:u.results)||{},e.goals),alternatives:M((null===(c=t.segments)||void 0===c?void 0:c[`s${s+1}`])||i,e)},(null===(d=null===(l=t.segments)||void 0===l?void 0:l[`s${s+1}`])||void 0===d?void 0:d.uniqueResults)&&{winnersUnique:$((null===(p=null===(g=t.segments)||void 0===g?void 0:g[`s${s+1}`])||void 0===p?void 0:p.uniqueResults)||{},e.goals),wasEnoughDataUnique:V((null===(f=null===(v=t.segments)||void 0===v?void 0:v[`s${s+1}`])||void 0===f?void 0:f.uniqueResults)||{},e.goals)}),{id:n.id})})),"id")}function $(t,e){const n={},i=e.length;for(let s=0;s<i;++s){const i=e[s];if(!i)continue;const o=i.id,r=t[`g${s}`]||!1;r&&"win"===r.status&&(n[o]={alternative:r.winner,confidence:r.confidence})}return n}function V(t,e){const n={},i=e.length;for(let s=0;s<i;++s){const i=e[s];if(!i)continue;const o=i.id,r=t[`g${s}`];n[o]="low-data"!==(null==r?void 0:r.status)}return n}function M(t,e){const{alternatives:n}=e,i="finished"===e.status?(0,l.getDate)(e.endDate||""):new Date,s=(0,l.date)("Y-m-d",i);return Object.assign({control:N({},"control","","",[])},(0,d.keyBy)(n.map(((n,i)=>N(t[`a${i}`]||{},n.id,e.startDate,s,e.goals))),"id"))}function N(t,e,n,i,s){return{id:e,visits:t.v||0,values:q(t.cv,s),conversions:G(t.c,s),conversionRates:B(t.cr,s),improvementFactors:F(t.i,s),uniqueVisits:t.uv||0,uniqueValues:q(t.ucv,s),uniqueConversions:G(t.uc,s),uniqueConversionRates:B(t.ucr,s),uniqueImprovementFactors:F(t.ui,s),timeline:Q(t.t,n,i,s)}}function q(t,e){const n={},i=e.length;for(let s=0;s<i;++s){const i=e[s];i&&(n[i.id]=(null==t?void 0:t[`g${s}`])||0)}return n}function G(t,e){const n={},i=e.length;for(let s=0;s<i;++s){const i=e[s];i&&(n[i.id]=(null==t?void 0:t[`g${s}`])||0)}return n}function B(t,e){const n={},i=e.length;for(let s=0;s<i;++s){const i=e[s];if(!i)continue;const o=i.id,r=(null==t?void 0:t[`g${s}`])||0;n[o]=Math.round(100*r)/100||0}return n}function F(t,e){const n={},i=e.length;for(let s=0;s<i;++s){const i=e[s];if(!i)continue;const o=i.id,r=(null==t?void 0:t[`g${s}`])||0;n[o]=Math.round(100*r)/100||0}return n}function Q(t,e,n,i){const s=[],o=(0,l.getDate)(e);let r;do{r=(0,l.format)("Y-m-d",o);const e=W(H(t,r),i);s.push(e),o.setDate(o.getDate()+1)}while(n>r);return s}function H(t,e){const n=(0,d.find)(t,{d:e})||{};return Object.assign(Object.assign({v:0},n),{d:e})}function W(t,e){const n={visits:t.v||0,date:t.d,conversions:{},values:{},uniqueVisits:t.uv||0,uniqueConversions:{},uniqueValues:{}},i=e.length;for(let s=0;s<i;++s){const i=e[s];if(!i)continue;const o=i.id;n.conversions[o]=t[`g${s}`]||0,n.values[o]=t[`val${s}`]||0,n.uniqueConversions[o]=t[`ug${s}`]||0,n.uniqueValues[o]=t[`uval${s}`]||0}return n}const Y=window.wp.url;var z=n(94396);function K(t){return t.settings.today}function X(t){return t.settings.language}function J(t){return t.settings.plugins}function Z(t){return!!(0,d.keys)(t.settings.menus).length}function tt(t,e){return t.settings.menus[e]}function et(t){return t.settings.templateContexts}function nt(t){return t.settings.templates}function it(t){return(0,d.values)(t.settings.themes).filter(h.isDefined)}function st(t,e,n){const i=rt(t,"adminUrl");return(0,Y.addQueryArgs)(`${i}${e}`,n)}function ot(t,e){return t.settings.nelio.capabilities.includes(e)}const rt=function(t,e){return t.settings.nelio[e]};function at(t,e="/"){const n=t.settings.nelio.restUrl;return(0,z.L8)()(n.includes("rest_route=")?n.replace("rest_route=",`rest_route=${e}`):`${n}${e}`)}const ut=function(t,e,n){return t.settings.ecommerce[e][n]};function ct(t){return lt(t,"professional","or-above")}function lt(t,e,n="or-above"){const i=rt(t,"subscription");if(!i)return!1;const s=["basic","professional","enterprise"],o=s.indexOf(e),r=s.indexOf(i);return-1!==o&&-1!==r&&("or-above"!==n?o===r:r>=o)}function dt(t,e){return e?t.results[e]:void 0}function gt(t,e){var n,i;const s=dt(t,e);if(!s)return;const o=Ot(t,e),r=null!==(n=D(t,"editor/activeSegment"))&&void 0!==n?n:"default",a=o?"winnersUnique":"winners";return"default"===r?s[a]:null===(i=s.segments[r])||void 0===i?void 0:i[a]}function pt(t,e){var n,i;const s=dt(t,e);if(!s)return;const o=null!==(n=D(t,"editor/activeSegment"))&&void 0!==n?n:"default";return"default"===o?(0,d.values)(s.alternatives):(0,d.values)(null===(i=s.segments[o])||void 0===i?void 0:i.alternatives)}function vt(t,e){return Ot(t,e)?yt(t,e):ft(t,e)}function ft(t,e){var n,i;const s=dt(t,e);if(!(null==s?void 0:s.alternatives))return 0;const o=null!==(n=D(t,"editor/activeSegment"))&&void 0!==n?n:"default";return("default"===o?(0,d.values)(s.alternatives):(0,d.values)(null===(i=s.segments[o])||void 0===i?void 0:i.alternatives)).reduce(((t,e)=>t+e.visits),0)}function yt(t,e){var n,i;const s=dt(t,e);if(!(null==s?void 0:s.alternatives))return 0;const o=null!==(n=D(t,"editor/activeSegment"))&&void 0!==n?n:"default";return("default"===o?(0,d.values)(s.alternatives):(0,d.values)(null===(i=s.segments[o])||void 0===i?void 0:i.alternatives)).reduce(((t,e)=>t+e.uniqueVisits),0)}function mt(t,e,n){var i,s;const o=dt(t,e);if(!(null==o?void 0:o.alternatives))return 0;const r=null!==(i=D(t,"editor/activeSegment"))&&void 0!==i?i:"default",a="default"===r?o.alternatives[n]:null===(s=o.segments[r])||void 0===s?void 0:s.alternatives[n];return a?Ot(t,e)?a.uniqueVisits:a.visits:0}function bt(t,e,n){var i,s,o,r;const a=dt(t,e);if(!a||!a.alternatives)return 0;const u=null!==(s=null!=n?n:null===(i=P(t,e))||void 0===i?void 0:i.id)&&void 0!==s?s:"";if(!u)return 0;const c=Ot(t,e),l=null!==(o=D(t,"editor/activeSegment"))&&void 0!==o?o:"default";return("default"===l?(0,d.values)(a.alternatives):(0,d.values)(null===(r=a.segments[l])||void 0===r?void 0:r.alternatives)).reduce(((t,e)=>t+((c?e.uniqueConversions[u]:e.conversions[u])||0)),0)}function ht(t,e,n){var i,s,o,r;const a=dt(t,e);if(!a||!a.alternatives)return 0;const u=null!==(s=null!=n?n:null===(i=P(t,e))||void 0===i?void 0:i.id)&&void 0!==s?s:"";if(!u)return 0;const c=Ot(t,e),l=null!==(o=D(t,"editor/activeSegment"))&&void 0!==o?o:"default";return("default"===l?(0,d.values)(a.alternatives):(0,d.values)(null===(r=a.segments[l])||void 0===r?void 0:r.alternatives)).reduce(((t,e)=>{var n;return t+(null!==(n=c?e.uniqueValues[u]:e.values[u])&&void 0!==n?n:0)}),0)}function xt(t,e){const n=O(t,e);if(!n)return 0;const i=n.startDate;let s="";return"finished"===n.status&&(s=n.endDate||""),function(t,e){"string"==typeof t&&(t=new Date(t)),"string"==typeof e&&(e=new Date(e));const n=new Date;t&&!isNaN(t.getTime())||(t=n),e&&!isNaN(e.getTime())||(e=n);const i=Math.abs(e.getTime()-t.getTime());return Math.ceil(i/864e5)}(i,s)}function Et(t,e,n){var i,s,o,r,a,u;const c=dt(t,e);if(!c)return;const l=null!==(s=null!=n?n:null===(i=P(t,e))||void 0===i?void 0:i.id)&&void 0!==s?s:"";if(!l)return;const d=rt(t,"minConfidence");if(!d)return;const g=Ot(t,e),p=null!==(o=D(t,"editor/activeSegment"))&&void 0!==o?o:"default",v=g?"winnersUnique":"winners",f="default"===p?null===(r=c[v])||void 0===r?void 0:r[l]:null===(u=null===(a=c.segments[p])||void 0===a?void 0:a[v])||void 0===u?void 0:u[l];return f?f.confidence>=d?"winner":"possible-winner":"testing"}function St(t,e,n){var i,s,o,r,a,u;const c=dt(t,e);if(!c)return;const l=null!==(s=null!=n?n:null===(i=P(t,e))||void 0===i?void 0:i.id)&&void 0!==s?s:"";if(!l)return;const d=rt(t,"minConfidence");if(!d)return;const g=Ot(t,e),p=null!==(o=D(t,"editor/activeSegment"))&&void 0!==o?o:"default",v=g?"winnersUnique":"winners",f="default"===p?null===(r=c[v])||void 0===r?void 0:r[l]:null===(u=null===(a=c.segments[p])||void 0===a?void 0:a[v])||void 0===u?void 0:u[l];return!f||f.confidence<d?void 0:f.alternative}function _t(t,e,n){var i,s,o;const r=dt(t,e);if(!r)return;const a=null!=n?n:null===(i=P(t,e))||void 0===i?void 0:i.id;if(!a)return;const u=Ot(t,e),c=null!==(s=D(t,"editor/activeSegment"))&&void 0!==s?s:"default";return("default"===c?(0,d.values)(r.alternatives):(0,d.values)(null===(o=r.segments[c])||void 0===o?void 0:o.alternatives)).map((t=>u?t.uniqueConversionRates[a]||0:t.conversionRates[a]||0))}function Tt(t,e,n){var i,s,o,r;const a=dt(t,e);if(!a)return;const u=null!==(s=null!=n?n:null===(i=P(t,e))||void 0===i?void 0:i.id)&&void 0!==s?s:"";if(!u)return;const c=Ot(t,e),l=null!==(o=D(t,"editor/activeSegment"))&&void 0!==o?o:"default";return("default"===l?(0,d.values)(a.alternatives):(0,d.values)(null===(r=a.segments[l])||void 0===r?void 0:r.alternatives)).map((t=>c?t.uniqueValues[u]||0:t.values[u]||0))}function wt(t,e){var n,i;const s=dt(t,e);if(!s)return;const o=null!==(n=D(t,"editor/activeSegment"))&&void 0!==n?n:"default";return"default"===o?s.alternatives:null===(i=s.segments[o])||void 0===i?void 0:i.alternatives}function Ot(t,e){var n;return null!==(n=D(t,"results/shouldShowUniqueResults"))&&void 0!==n&&n&&jt(t,e)}function jt(t,e){const n=dt(t,e);return(0,d.values)(null==n?void 0:n.alternatives).some((t=>t.uniqueVisits>0))}function Pt(t){return t.siteQuota}function At(t){return{type:"RECEIVE_TYPE_QUERY",kindEntities:(0,d.castArray)(t)}}function It(t,e){return{type:"RECEIVE_ITEMS",items:(0,d.castArray)(e),kind:t}}function Ct(t,e){return{type:"CHANGE_LAST_APPLIED_ALTERNATIVE",experimentId:t,alternativeId:e}}function Rt(t,e){return{type:"RECEIVE_EXPERIMENT",key:t,experiment:e}}function Ut(t){return{type:"RECEIVE_FS_CURRENCY",currency:t}}function Dt(t){return{type:"RECEIVE_FS_PRODUCTS",products:(0,d.castArray)(t)}}function kt(t){return{type:"RECEIVE_FS_SUBSCRIPTION_ID",subscriptionId:t}}function Lt(t,e){return{type:"RECEIVE_MEDIA_URL",id:t,url:e}}function $t(t,e){return{type:"SET_PAGE_ATTRIBUTE",name:t,value:e}}function Vt(){return{type:"LOCK_UI"}}function Mt(){return{type:"UNLOCK_UI"}}function Nt(t,e){return{type:"RECEIVE_RESULT",key:t,result:e}}function qt(t){return{type:"SET_TODAY",today:t}}function Gt(t){return{type:"SET_SITE_LANGUAGE",language:t}}function Bt(t){return{type:"RECEIVE_PLUGINS",plugins:(0,d.castArray)(t)}}function Ft(t){return{type:"RECEIVE_MENUS",menus:(0,d.castArray)(t)}}function Qt(t){return{type:"RECEIVE_TEMPLATE_CONTEXTS",templateContexts:t}}function Ht(t){return{type:"RECEIVE_TEMPLATES",templates:t}}function Wt(t){return{type:"RECEIVE_THEMES",themes:(0,d.castArray)(t)}}function Yt(t){return{type:"RECEIVE_PLUGIN_SETTINGS",settings:t}}function zt(t,e){return{type:"RECEIVE_ECOMMERCE_SETTINGS",ecommerce:t,settings:e}}function Kt(t){return{type:"UPDATE_AI_SETTINGS",settings:t}}function Xt(t){return{type:"RECEIVE_SITE_QUOTA",quota:t}}const Jt=window.wp.apiFetch;var Zt=n.n(Jt);const te=window.wp.date,ee=t=>{const{url:e,path:n}=t,i=(0,te.format)("YmjHi").substring(0,11)+"0";return Zt()(Object.assign(Object.assign(Object.assign({},t),e&&{url:ne(t)?(0,Y.addQueryArgs)(e,{nabts:i}):e}),n&&{path:(0,Y.addQueryArgs)(n,{nabts:i})}))},ne=t=>{var e,n;return!!(null===(e=t.url)||void 0===e?void 0:e.includes("/wp-json/"))||!!(null===(n=t.url)||void 0===n?void 0:n.includes("rest_route"))||!!Object.keys(t).includes("rest_route")},ie=window.wp.htmlEntities,se={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let oe;const re=new Uint8Array(16),ae=[];for(let t=0;t<256;++t)ae.push((t+256).toString(16).slice(1));const ue=function(t,e,n){if(se.randomUUID&&!e&&!t)return se.randomUUID();const i=(t=t||{}).random??t.rng?.()??function(){if(!oe){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");oe=crypto.getRandomValues.bind(crypto)}return oe(re)}();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){if((n=n||0)<0||n+16>e.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let t=0;t<16;++t)e[n+t]=i[t];return e}return function(t,e=0){return(ae[t[e+0]]+ae[t[e+1]]+ae[t[e+2]]+ae[t[e+3]]+"-"+ae[t[e+4]]+ae[t[e+5]]+"-"+ae[t[e+6]]+ae[t[e+7]]+"-"+ae[t[e+8]]+ae[t[e+9]]+"-"+ae[t[e+10]]+ae[t[e+11]]+ae[t[e+12]]+ae[t[e+13]]+ae[t[e+14]]+ae[t[e+15]]).toLowerCase()}(i)},ce=({isWooCommerceEnabled:t})=>["page","post","attachment","nelio_popup","nelio_form","elementor_library","e-floating-buttons","nab_elementor_popup","sc_product","wp_block",...t?["product","product_variation"]:[]];var le=function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((i=i.apply(t,e||[])).next())}))},de=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n};const ge=100,pe=50,ve=1500;function fe(t,e){return le(this,void 0,void 0,(function*(){const n=(0,a.select)(fn).getPageAttribute("ai/testGenerationState");if(!n||"intro"!==n.type)return;try{if(e){const t=(0,a.select)(fn).getPluginSetting("aiSettings");if("ready"===(null==t?void 0:t.type))throw new Error("cant-override-settings");yield Ae((()=>function(t,e){return le(this,void 0,void 0,(function*(){yield xe({id:e,type:"analyzing-site",what:"saving-ai-settings"});const n=yield ee({path:"/nab/v1/ai/settings",method:"PUT",data:{settings:t}});yield(0,a.dispatch)(fn).updateAiSettings(n)}))}(e,n.id)))}}catch(t){return void(yield xe({id:n.id,type:"error",reason:Ce(t)}))}const i=(0,a.select)(fn).getPluginSetting("aiSettings");if("ready"!==(null==i?void 0:i.type))throw new Error("invalid-ai-settings");const s=yield Ae((()=>function(t){return le(this,void 0,void 0,(function*(){yield xe({id:t,type:"analyzing-site",what:"ab-testing"});try{const t=yield function(){return le(this,void 0,void 0,(function*(){try{return ee({path:"/nab/v1/ai/latest-experiments"})}catch(t){return[]}}))}();return{type:"data",base:{experiments:t.filter((t=>"nab/heatmap"!==t.type)),heatmaps:t.filter((t=>"nab/heatmap"===t.type))},aiAnalysis:{experiments:t.filter((t=>"nab/heatmap"!==t.type)).map((t=>({id:t.id,type:t.type,status:t.status,name:t.name,description:t.description,startDate:t.startDate,endDate:t.endDate||void 0,alternatives:(0,d.map)(t.alternatives,((t,e)=>({name:je(e,t.attributes.name),attributes:(0,d.omit)(t.attributes,"name")}))),goals:(0,d.map)(t.goals,((t,e)=>({name:Pe(e,t.attributes.name),actions:t.conversionActions.map((t=>({type:t.type,attributes:t.attributes})))})))}))),heatmaps:t.filter((t=>"nab/heatmap"===t.type)).map((t=>({id:t.id,type:t.type,status:t.status,name:t.name,description:t.description,startDate:t.startDate,endDate:t.endDate||void 0,trackingMode:t.trackingMode,trackedPostId:t.trackedPostId,trackedPostType:t.trackedPostType,trackedUrl:t.trackedUrl})))}}}catch(t){return{type:"error",error:t}}}))}(n.id)));if("error"!==s.type){try{const e=yield function(t,e,n){return le(this,void 0,void 0,(function*(){var i;yield xe({id:n,type:"analyzing-site",what:"previous-candidates"});const s=yield ee({path:"/nab/v1/ai/test-candidates",method:"GET"});if(!s.length)return;const o=(0,d.toPairs)((0,d.mapValues)((0,d.groupBy)(s,"type"),(t=>t.map((t=>t.id))))).filter((t=>"string"==typeof t[0])),r=(yield Promise.allSettled(o.map((([t,e])=>function(t,e){return le(this,void 0,void 0,(function*(){const n=e.join(",");if("product"===t&&(yield _e()))return(yield ee({path:`/wc/v3/products?include=${n}`})).map(Te);const i="page"===t||"post"===t?`${t}s`:t;return(yield ee({path:`/wp/v2/${i}?include=${n}`})).map(Ee({analytics:[]}))}))}(t,e))))).filter((t=>"fulfilled"===t.status)).map((t=>t.value)),u=(0,d.groupBy)(r.filter((t=>{var e;return"product"!==(null===(e=t[0])||void 0===e?void 0:e.type)})).flatMap((t=>t)),"type"),c=Object.assign({product:null!==(i=r.find((t=>{var e;return"product"===(null===(e=t[0])||void 0===e?void 0:e.type)})))&&void 0!==i?i:[]},u),l={status:"pending"},g=s.map((t=>{var n,{type:i,id:s}=t,o=de(t,["type","id"]);const r=null===(n=c[i])||void 0===n?void 0:n.find((t=>t.id===s)),a=r&&o.hypotheses?{status:"ready",hypotheses:o.hypotheses.map((t=>Object.assign(Object.assign({},t),{controlUrl:r.url,relatedTests:e.filter((e=>{var n;return(null===(n=e.ai)||void 0===n?void 0:n.basedOnNelioAIHypothesis)===t.id})).map((t=>t.id))}))),isVisible:!1}:l;return r?Object.assign(Object.assign(Object.assign({},r),o),{hypothesisState:a}):void 0})).filter(h.isDefined);return g.length?{siteAnalysis:{content:c,metaInformation:{language:(0,a.select)(fn).getSiteLanguage(),blog:void 0,woocommerce:void 0,abTesting:t,urlAnalytics:[]}},candidates:g}:void 0}))}(s.aiAnalysis,s.base.experiments,n.id);if(e){const i=yield be({candidates:e.candidates,experiments:s.base.experiments,siteAnalysis:e.siteAnalysis,stateId:n.id,validExperimentTypes:t});return void(yield xe({id:n.id,type:"hypothesis-selection",siteAnalysis:e.siteAnalysis,candidates:i,testing:s.base}))}}catch(t){}try{const e=yield function(t,e){return le(this,void 0,void 0,(function*(){const n=yield Ae((()=>function(t){return le(this,void 0,void 0,(function*(){const e=(0,a.select)(fn).getPluginSetting("aiSettings");if("ready"!==(null==e?void 0:e.type))return[];if(!e.analytics.enabled)return[];try{return yield xe({id:t,type:"analyzing-site",what:"google-analytics"}),(yield ee({path:"/nab/v1/ai/top-viewed-items"})).filter((t=>"url"!==t.type))}catch(t){return[]}}))}(e))),i={analytics:n,abTesting:t},s=yield Ae((()=>function(t,e){return le(this,void 0,void 0,(function*(){const n=(0,a.select)(fn).getPluginSetting("aiSettings");if("ready"!==(null==n?void 0:n.type))return[];if(!n.privacy.postTypes.includes("page"))return[];try{return yield xe({id:e,type:"analyzing-site",what:"pages"}),Se({context:t,postType:"page",experimentTypes:["nab/page"],maxItems:ge})}catch(t){return[]}}))}(i,e))),o=yield Ae((()=>function(t,e){return le(this,void 0,void 0,(function*(){const n=(0,a.select)(fn).getPluginSetting("aiSettings");if("ready"!==(null==n?void 0:n.type))return{};yield xe({id:e,type:"analyzing-site",what:"custom-posts"});try{const e=yield c(fn).getKindEntities(),i=ce({isWooCommerceEnabled:yield _e()}),s=e.filter((t=>"entity"===t.kind)).map((t=>t.name)).filter((t=>!t.startsWith("nab_"))).filter((t=>!i.includes(t))).filter((t=>n.privacy.postTypes.includes(t)));if(!s.length)return{};const o=yield Promise.allSettled(s.map((e=>Se({postType:e,experimentTypes:["nab/custom-post-type"],context:t,maxItems:pe}))));return(0,d.groupBy)(o.filter((t=>"fulfilled"===t.status)).flatMap((t=>t.value)),"type")}catch(t){return{}}}))}(i,e))),r=yield Ae((()=>function(t,e){return le(this,void 0,void 0,(function*(){const n=(0,a.select)(fn).getPluginSetting("aiSettings");if("ready"===(null==n?void 0:n.type)&&n.privacy.postTypes.includes("post")){yield xe({id:e,type:"analyzing-site",what:"blog"});try{const e=window.wpApiSettings,n=yield fetch(`${e.root.replace(/\/$/,"")}/wp/v2/posts?status=publish&per_page=1&after=${Oe()}`,{method:"GET",headers:{"X-WP-Nonce":e.nonce,"Content-Type":"application/json"},credentials:"same-origin"}),i=Number.parseInt(n.headers.get("X-WP-Total")||"")||0;return{posts:yield Se({context:t,postType:"post",experimentTypes:["nab/post","nab/headline"],maxItems:pe}),info:{totalPostsInLastYear:i,averagePostsPerMonth:i/12}}}catch(t){return}}}))}(i,e))),u=yield Ae((()=>function(t){return le(this,void 0,void 0,(function*(){if(!(yield _e()))return;const e=(0,a.select)(fn).getPluginSetting("aiSettings");if("ready"!==(null==e?void 0:e.type))return;if(!e.privacy.isWooCommerceEnabled)return;yield xe({id:t,type:"analyzing-site",what:"ecommerce"});const n=yield function(){return le(this,void 0,void 0,(function*(){var t,e;try{const n=yield ee({path:`/wc-analytics/leaderboards?leaderboard=products&after=${Oe()}&before=${(new Date).toISOString()}&per_page=10`}),i=document.createElement("div");return(null!==(e=null===(t=n[0])||void 0===t?void 0:t.rows)&&void 0!==e?e:[]).map((t=>{var e,n,s,o;i.innerHTML=(null===(e=t[0])||void 0===e?void 0:e.display)||"";const r=(null!==(s=null===(n=i.querySelector("a"))||void 0===n?void 0:n.href)&&void 0!==s?s:"").match(/\bproducts=([0-9]+)\b/)||[];return{id:Number.parseInt(r[1]||"0")||0,quantity:(null===(o=t[1])||void 0===o?void 0:o.value)||0}})).filter((t=>!!t.id&&!!t.quantity))}catch(t){return[]}}))}(),i=yield function(){return le(this,void 0,void 0,(function*(){const t=(0,a.select)(fn).getPluginSetting("aiSettings");if("ready"!==(null==t?void 0:t.type))return[];if(t.privacy.isWooCommerceEnabled&&t.privacy.includeWooCommerceOrderInfo)return[];try{return(yield ee({path:"/wc/v3/orders?per_page=50"})).map((t=>({date:t.date_created,total:t.total,status:t.status,products:t.line_items.map((t=>t.product_id))})))}catch(t){return[]}}))}(),s=yield we("random"),o=(0,d.uniq)(i.flatMap((t=>t.products))).filter((t=>!s.some((e=>e.id===t)))),r=yield we(o);return{products:[...s,...r],info:{bestSellers:n,latestOrders:i}}}))}(e)));return{content:Object.assign(Object.assign({},(0,d.mapValues)(o,(t=>(null==t?void 0:t.length)?t:void 0))),{page:s.length?s:void 0,post:null==r?void 0:r.posts,product:null==u?void 0:u.products}),metaInformation:{language:(0,a.select)(fn).getSiteLanguage(),blog:null==r?void 0:r.info,woocommerce:null==u?void 0:u.info,abTesting:t,urlAnalytics:n.filter((t=>"url"===t.type)).map((t=>({url:t.url,monthlyViews:t.monthlyViews})))}}}))}(s.aiAnalysis,n.id),i=yield function(t,e,n){return le(this,void 0,void 0,(function*(){yield xe({id:n,type:"searching-candidates",step:"just-started"});const i=()=>{const t=(0,a.select)(fn).getPageAttribute("ai/testGenerationState");return!!t&&"searching-candidates"===t.type};setTimeout((()=>i()&&xe({id:n,type:"searching-candidates",step:"keep-waiting"})),12e3),setTimeout((()=>i()&&xe({id:n,type:"searching-candidates",step:"quite-slow"})),24e3);const s=yield ee({path:"/nab/v1/ai/test-candidates",method:"POST",data:{analysis:Object.assign(Object.assign({},t),{content:(0,d.mapValues)(t.content,(t=>null==t?void 0:t.map((t=>(0,d.omit)(t,"contentSummary")))))})}}),o={status:"pending"};return s.map((({type:n,id:i,rationale:s,priority:r,hypotheses:a,hypothesisGeneration:u})=>{var c;const l=null===(c=t.content[n])||void 0===c?void 0:c.find((t=>t.id===i)),d=l&&a?{status:"ready",hypotheses:a.map((t=>Object.assign(Object.assign({},t),{controlUrl:l.url,relatedTests:e.filter((e=>{var n;return(null===(n=e.ai)||void 0===n?void 0:n.basedOnNelioAIHypothesis)===t.id})).map((t=>t.id))}))),isVisible:!1}:o;return l?Object.assign(Object.assign({},l),{rationale:s,priority:r,hypothesisState:d,hypothesisGeneration:u}):void 0})).filter(h.isDefined)}))}(e,s.base.experiments,n.id),o=yield be({candidates:i,experiments:s.base.experiments,siteAnalysis:e,stateId:n.id,validExperimentTypes:t});yield xe({id:n.id,type:"hypothesis-selection",siteAnalysis:e,candidates:o,testing:s.base})}catch(t){yield xe({id:n.id,type:"error",reason:Ce(t)})}}else yield xe({id:n.id,type:"error",reason:Ce(s.error)})}))}function ye(t,e){return le(this,void 0,void 0,(function*(){const n=(0,a.select)(fn).getPluginSetting("aiSettings");if("ready"!==(null==n?void 0:n.type))return;const i=(0,a.select)(fn).getPageAttribute("ai/testGenerationState");i&&"hypothesis-selection"===i.type&&("ready"!==t.hypothesisState.status?"pending"===t.hypothesisState.status&&(t=yield Ie(Object.assign(Object.assign({},t),{hypothesisState:{status:"generating"}})),yield he({candidate:t,experiments:i.testing.experiments,language:i.siteAnalysis.metaInformation.language,validExperimentTypes:e})):yield Ie(Object.assign(Object.assign({},t),{hypothesisState:Object.assign(Object.assign({},t.hypothesisState),{isVisible:!0})})))}))}function me(t,e){return le(this,void 0,void 0,(function*(){var n;const i=(0,a.select)(fn).getPluginSetting("aiSettings");if("ready"!==(null==i?void 0:i.type))return;const s=(0,a.select)(fn).getPageAttribute("ai/testGenerationState");if(s&&"hypothesis-selection"===s.type){yield xe(Object.assign(Object.assign({},s),{type:"creating-test"}));try{const i=e.find((e=>e.name===t.testType));if(!i)throw new Error("invalid-experiment-type");const o=yield function(t){return le(this,void 0,void 0,(function*(){var e,n;const i="tested-post-with-consistency"===(null===(e=t.supports)||void 0===e?void 0:e.scope)||"tested-product-with-consistency"===(null===(n=t.supports)||void 0===n?void 0:n.scope);return ee({path:"/nab/v1/experiment",method:"post",data:{type:t.name,addTestedPostScopeRule:i}})}))}(i),r=i.supports.automaticGoalSetup?{id:ue(),attributes:{name:(0,E._x)("Default Goal","text","nelio-ab-testing")},conversionActions:null!==(n=i.supports.automaticGoalSetup(o.alternatives[0]))&&void 0!==n?n:[]}:void 0,a="urls"===i.supports.scope||"urls-or-php"===i.supports.scope?[{id:ue(),attributes:{type:"exact",value:t.controlUrl}}]:void 0,u=yield function(t){return le(this,void 0,void 0,(function*(){return ee({path:`/nab/v1/experiment/${t.id}`,method:"PUT",data:t})}))}(Object.assign(Object.assign({},o),{scope:null!=a?a:o.scope,name:t.name,description:t.description,ai:{version:1,basedOnNelioAIHypothesis:t.id},alternatives:[{id:"control",attributes:{postId:t.control.id,postType:t.control.type},links:(0,h.createAlternative)().links},...t.variants.map((t=>{const e=(0,h.createAlternative)();return Object.assign(Object.assign({},e),{attributes:Object.assign(Object.assign({},e.attributes),{name:t.name}),ai:{isReady:!1,name:t.name,changes:t.changes}})}))],goals:[r,...t.goals.map((t=>({id:ue(),attributes:{name:t.name},ai:{name:t.name,description:t.description},conversionActions:[]})))].filter(h.isDefined)}));yield xe(Object.assign(Object.assign({},s),{experiment:u,type:"done"}))}catch(t){yield xe({id:s.id,type:"error",reason:Ce(t)})}}}))}function be(t){return le(this,void 0,void 0,(function*(){const e=t.candidates.find((t=>"available"===t.hypothesisGeneration));if(!e)return t.candidates;if("ready"===e.hypothesisState.status){const n=yield Ie(Object.assign(Object.assign({},e),{hypothesisState:Object.assign(Object.assign({},e.hypothesisState),{isVisible:!0})}));return t.candidates.map((t=>t===e?n:t))}yield xe({id:t.stateId,type:"analyzing-site",what:"first-hypotheses"});const n=yield he({candidate:e,language:t.siteAnalysis.metaInformation.language,validExperimentTypes:t.validExperimentTypes,experiments:t.experiments});return t.candidates.map((t=>t===e?n:t))}))}function he(t){return le(this,arguments,void 0,(function*({candidate:t,experiments:e,language:n,validExperimentTypes:i}){var s;t=yield Ie(Object.assign(Object.assign({},t),{contentSummary:(null===(s=t.contentSummary)||void 0===s?void 0:s.length)?t.contentSummary:yield(0,h.getContentSummary)(t.url)}));const o=i.map((t=>t.name));try{const i=(yield ee({path:"/nab/v1/ai/test-hypotheses",method:"POST",data:{language:n,id:t.id,type:t.type,url:t.url,content:t.contentSummary||[]}})).filter((t=>o.includes(t.testType))).map((n=>Object.assign(Object.assign({},n),{controlUrl:t.url,relatedTests:e.filter((t=>{var e;return(null===(e=t.ai)||void 0===e?void 0:e.basedOnNelioAIHypothesis)===n.id})).map((t=>t.id))}))),s=[...i.filter((t=>!t.relatedTests.length)),...i.filter((t=>!!t.relatedTests.length))];if(!s.length)throw new Error("no-hypotheses-available");return Ie(Object.assign(Object.assign({},t),{hypothesisState:{status:"ready",hypotheses:s,isVisible:!0}}))}catch(e){return Ie(Object.assign(Object.assign({},t),{hypothesisState:{status:"error",reason:Ce(e)||"nelio-ai-unknown-error-901"}}))}}))}function xe(t){return le(this,void 0,void 0,(function*(){const e=(0,a.select)(fn).getPageAttribute("ai/testGenerationState");if(!e||e.id!==t.id)return;const{setPageAttribute:n}=(0,a.dispatch)(fn);yield n("ai/testGenerationState",t)}))}const Ee=({analytics:t})=>e=>{var n,i,s,o,r,u,c,l;return{id:e.id,type:e.type,title:(0,ie.decodeEntities)(null!==(i=null===(n=e.title)||void 0===n?void 0:n.rendered)&&void 0!==i?i:""),url:e.link||"",contentMetrics:(0,h.getContentMetrics)((0,a.select)(fn).getPluginSetting("homeUrl"),null===(s=e.content)||void 0===s?void 0:s.rendered),publicationDate:e.date||"",lastUpdate:e.modified||"",monthlyViews:null===(o=t.find((t=>"post"===t.type&&t.postType===e.type&&t.postId===e.id)))||void 0===o?void 0:o.monthlyViews,seoTitle:(null===(u=null===(r=e.yoast_head_json)||void 0===r?void 0:r.title)||void 0===u?void 0:u.trim())||void 0,seoDescription:(null===(l=null===(c=e.yoast_head_json)||void 0===c?void 0:c.description)||void 0===l?void 0:l.trim())||void 0}};function Se(t){return le(this,arguments,void 0,(function*({context:t,postType:e,experimentTypes:n,maxItems:i}){const s=(0,d.uniq)([...t.analytics.map((t=>"post"===t.type&&t.postType===e?t.postId:0)).filter((t=>!!t)),...t.abTesting.experiments.filter((t=>n.includes(t.type))).map((t=>{var e;return null===(e=t.alternatives[0])||void 0===e?void 0:e.attributes})).filter((t=>!(null==t?void 0:t.postType)||(null==t?void 0:t.postType)===e)).map((t=>{var e;return null!==(e=null==t?void 0:t.postId)&&void 0!==e?e:0})).filter((t=>!!t)),...t.abTesting.heatmaps.filter((t=>"post"===t.trackingMode&&t.trackedPostType===e)).map((t=>t.trackedPostId)).filter((t=>"number"==typeof t)).filter((t=>!!t))]),o="page"===e||"post"===e?`${e}s`:e,r=s.length?yield ee({path:`/wp/v2/${o}?include=${s.join(",")}`}):[],a=r.map((t=>t.id)).join(","),u=Math.max(0,i-r.length),c=u?yield ee({path:a?`/wp/v2/${o}?per_page=${u}&exclude=${a}&status=publish&orderby=rand`:`/wp/v2/${o}?per_page=${u}&status=publish&orderby=rand`}):[];return[...r,...c].map(Ee(t))}))}function _e(){return le(this,void 0,void 0,(function*(){return(yield c(fn).getActivePlugins()).includes("woocommerce/woocommerce.php")}))}const Te=t=>({id:t.id,type:"product",url:t.permalink||"",name:t.name||"",price:t.price?`${t.price}`:"",publicationDate:t.date_created||"",lastUpdate:t.date_modified||""});function we(t){return le(this,void 0,void 0,(function*(){try{return(yield ee({path:"random"===t?"/wc/v3/products?per_page=50&status=publish&orderby=rand":`/wc/v3/products?include=${t.join(",")}`})).map(Te)}catch(t){return[]}}))}function Oe(){const t=new Date;return t.setFullYear(t.getFullYear()-1),t.toISOString()}function je(t,e=""){const n=(0,E.sprintf)(/* translators: a letter, such as A, B, or C */ /* translators: a letter, such as A, B, or C */
(0,E._x)("Variant %s","text","nelio-ab-testing"),(0,h.getLetter)(t));return(e=e.trim())?`${n} – ${e}`:n}function Pe(t,e=""){const n=0===t?(0,E._x)("Default Goal","text","nelio-ab-testing"):(0,E.sprintf)(/* translators: a number */ /* translators: a number */
(0,E._x)("Goal %d","text","nelio-ab-testing"),t);return(e=e.trim())?`${n} – ${e}`:n}function Ae(t){return le(this,void 0,void 0,(function*(){const e=Date.now(),n=yield t();if(void 0===n)return n;const i=Date.now()-e,s=Math.max(0,ve-i);return yield new Promise((t=>setTimeout(t,s))),n}))}function Ie(t){return le(this,void 0,void 0,(function*(){const e=(0,a.select)(fn).getPageAttribute("ai/testGenerationState");return e&&"hypothesis-selection"===e.type?(yield xe(Object.assign(Object.assign({},e),{candidates:e.candidates.map((e=>e.type===t.type&&e.id===t.id?t:e))})),t):t}))}function Ce(t){if(!t)return;if("string"==typeof t)return t||void 0;const e="object"==typeof t&&"code"in t&&"string"==typeof t.code&&t.code?t.code:void 0;return e||console.error(t),e}var Re=function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((i=i.apply(t,e||[])).next())}))};function Ue(){return Re(this,void 0,void 0,(function*(){const t=(0,a.select)(fn).getPageAttribute("editor/activeExperiment");if(!t)return;let e,n;yield(0,a.dispatch)(fn).setPageAttribute("editor/isExperimentBeingStopped",!0);try{if(e=yield c(fn).getExperiment(t),!e)return}catch(t){return void(yield(0,h.createErrorNotice)(t))}try{n=yield ee({path:`/nab/v1/experiment/${t}/stop`,method:"PUT"})}catch(t){return yield(0,h.createErrorNotice)(t,(0,E._x)("Test can’t be stopped","text","nelio-ab-testing")),void(yield(0,a.dispatch)(fn).setPageAttribute("editor/isExperimentBeingStopped",!1))}const i=(0,d.keyBy)(n.alternatives||[],"id"),s=Object.assign(Object.assign({},n),{links:Object.assign(Object.assign({},n.links),e.links),alternatives:(e.alternatives||[]).map((t=>Object.assign(Object.assign({},t),{links:$e(t,i[t.id])})))});yield(0,a.dispatch)(fn).receiveExperiment(e.id,s),yield(0,a.dispatch)(fn).setPageAttribute("editor/isExperimentBeingStopped",!1)}))}function De(){return Re(this,void 0,void 0,(function*(){const t=(0,a.select)(fn).getPageAttribute("editor/activeExperiment");if(t){yield(0,a.dispatch)(fn).setPageAttribute("editor/isExperimentBeingPaused",!0);try{yield ee({path:`/nab/v1/experiment/${t}/pause`,method:"PUT"})}catch(t){return yield(0,h.createErrorNotice)(t,(0,E._x)("Test can’t be paused","text","nelio-ab-testing")),void(yield(0,a.dispatch)(fn).setPageAttribute("editor/isExperimentBeingPaused",!1))}window.location.href=(0,a.select)(fn).getAdminUrl("admin.php",{page:"nelio-ab-testing-experiment-edit",experiment:t})}}))}function ke(t){return Re(this,void 0,void 0,(function*(){const e=(0,a.select)(fn).getPageAttribute("editor/activeExperiment");if(!e)return;let n;yield(0,a.dispatch)(fn).setPageAttribute("editor/alternativeBeingApplied",t);try{n=yield ee({path:`/nab/v1/experiment/${e}/apply/${t}`,method:"PUT"})}catch(t){return yield(0,h.createErrorNotice)(t,(0,E._x)("Alternative can’t be applied","text","nelio-ab-testing")),void(yield(0,a.dispatch)(fn).setPageAttribute("editor/alternativeBeingApplied",!1))}yield(0,a.dispatch)(fn).changeLastAppliedAlternative(n.id,t),yield(0,a.dispatch)(fn).setPageAttribute("editor/alternativeBeingApplied",!1)}))}function Le(t){return Re(this,void 0,void 0,(function*(){const e=(0,a.select)(fn).getPageAttribute("editor/activeExperiment");if(!e)return;yield(0,a.dispatch)(fn).setPageAttribute("isLocked",!0);let n=t;try{n=yield ee({path:`/nab/v1/experiment/${e}/public-result-status`,method:"PUT",data:{status:t}})}catch(t){return yield(0,h.createErrorNotice)(t,(0,E._x)("Public result’s status can’t be changed","text","nelio-ab-testing")),void(yield(0,a.dispatch)(fn).setPageAttribute("isLocked",!1))}yield(0,a.dispatch)(fn).setPageAttribute("isLocked",!1),yield(0,a.dispatch)(fn).setPageAttribute("results/isReadOnlyActive",n)}))}function $e(t,e){if(null==t?void 0:t.links)return(null==e?void 0:e.links)?Object.assign(Object.assign({},e.links),{heatmap:t.links.heatmap,preview:t.links.preview}):t.links}var Ve=function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((i=i.apply(t,e||[])).next())}))};function Me(t,e){return Ve(this,void 0,void 0,(function*(){const n=(0,a.select)(fn).getSubscriptionId();if(n)try{yield(0,a.dispatch)(fn).lock(),yield ee({path:`/nab/v1/subscription/${n}/quota`,method:"POST",data:{quantity:t,currency:e}}),window.location.reload()}catch(t){yield(0,a.dispatch)(fn).unlock(),yield(0,h.createErrorNotice)(t)}}))}var Ne=function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((i=i.apply(t,e||[])).next())}))};function qe(){return Ne(this,void 0,void 0,(function*(){try{const t=yield ee({path:"/nab/v1/types"});yield(0,a.dispatch)(fn).receiveKindEntitiesQuery((0,d.values)(t))}catch(t){console.warn(t)}}))}function Ge(t,e){return Ne(this,void 0,void 0,(function*(){if(t&&e)try{const n=yield c(fn).getKindEntities();if(!(0,d.find)(n,{name:t}))return void console.warn(`Entity ${t} not found in`,n);const i=yield ee({path:`/nab/v1/post/?id=${e}&type=${t}`});yield(0,a.dispatch)(fn).receiveEntityRecords(t,i)}catch(t){console.warn(t)}}))}var Be=function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((i=i.apply(t,e||[])).next())}))};function Fe(t){return Be(this,void 0,void 0,(function*(){try{const e=yield ee({path:`/nab/v1/experiment/${t}`});yield(0,a.dispatch)(fn).receiveExperiment(t,e)}catch(e){const n=e instanceof Error?e.message:"unknown";console.warn(`Unable to retrieve experiment ${t}. Error: ${n}.`)}}))}var Qe=function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((i=i.apply(t,e||[])).next())}))};function He(){return Qe(this,void 0,void 0,(function*(){try{const{currency:t,products:e,subscriptionId:n}=yield ee({path:"/nab/v1/fastspring"});yield(0,a.dispatch)(fn).receiveFSCurrency(t),yield(0,a.dispatch)(fn).receiveFSProducts(e),yield(0,a.dispatch)(fn).receiveFSSubscriptionId(n)}catch(t){throw yield(0,h.createErrorNotice)(t,(0,E._x)("Error while retrieving NC products.","text","nelio-ab-testing")),t}}))}const We=()=>Qe(void 0,void 0,void 0,(function*(){yield c(fn).getProducts()})),Ye=()=>Qe(void 0,void 0,void 0,(function*(){yield c(fn).getProducts()}));var ze=function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((i=i.apply(t,e||[])).next())}))};function Ke(t){return ze(this,void 0,void 0,(function*(){if(t)try{const e=yield ee({path:`/wp/v2/media/${t}`});yield(0,a.dispatch)(fn).receiveMediaUrl(t,e.source_url)}catch(t){const e=t instanceof Error?t.message:"unknown";console.warn(`Error while retrieving media. Error: ${e}`)}}))}var Xe=function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((i=i.apply(t,e||[])).next())}))};function Je(t){return Xe(this,void 0,void 0,(function*(){try{const e=yield c(fn).getExperiment(t);if(!e)return;const n=function(t,e){return Object.assign({winners:$(t.results||{},e.goals),wasEnoughData:V(t.results||{},e.goals),alternatives:M(t,e),segments:L(t,e)},t.uniqueResults&&{winnersUnique:$(t.uniqueResults||{},e.goals),wasEnoughDataUnique:V(t.uniqueResults||{},e.goals)})}(yield ee({path:`/nab/v1/experiment/${t}/result`}),e);yield(0,a.dispatch)(fn).receiveExperimentResult(t,n)}catch(e){yield(0,h.createErrorNotice)(e,(0,E.sprintf)(/* translators: test id */ /* translators: test id */
(0,E._x)("Unable to retrieve results in test %d.","text","nelio-ab-testing"),t))}}))}function Ze(t){return Xe(this,void 0,void 0,(function*(){yield c(fn).getExperimentResults(t)}))}function tn(t){return Xe(this,void 0,void 0,(function*(){yield c(fn).getExperimentResults(t)}))}function en(t){return Xe(this,void 0,void 0,(function*(){yield c(fn).getExperimentResults(t)}))}function nn(t){return Xe(this,void 0,void 0,(function*(){yield c(fn).getExperimentResults(t)}))}function sn(t){return Xe(this,void 0,void 0,(function*(){yield c(fn).getExperimentResults(t)}))}var on=function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((i=i.apply(t,e||[])).next())}))};function rn(){return on(this,void 0,void 0,(function*(){try{const t=yield ee({path:"/nab/v1/plugins"});yield(0,a.dispatch)(fn).receivePlugins(t)}catch(t){const e=t instanceof Error?t.message:"unknown";console.warn(`Unable to retrieve active plugins. Error: ${e}`)}}))}function an(){return on(this,void 0,void 0,(function*(){try{const t=yield ee({path:"/nab/v1/menu/search?query"});yield(0,a.dispatch)(fn).receiveMenus(t.results)}catch(t){const e=t instanceof Error?t.message:"unknown";console.warn(`Unable to check if site has menus. Error: ${e}`)}}))}function un(t){return on(this,void 0,void 0,(function*(){try{const e=yield ee({path:`/nab/v1/menu/${t}`});yield(0,a.dispatch)(fn).receiveMenus(e)}catch(e){const n=e instanceof Error?e.message:"unknown";console.warn(`Unable to retrieve menu ${t}. Error: ${n}`)}}))}function cn(){return on(this,void 0,void 0,(function*(){try{const t=yield ee({path:(0,Y.addQueryArgs)("/nab/v1/template-contexts")});yield(0,a.dispatch)(fn).receiveTemplateContexts(t.results)}catch(t){const e=t instanceof Error?t.message:"unknown";console.warn(`Unable to retrieve template contexts. Error: ${e}`)}}))}function ln(){return on(this,void 0,void 0,(function*(){try{const t=yield ee({path:(0,Y.addQueryArgs)("/nab/v1/templates")});yield(0,a.dispatch)(fn).receiveTemplates(t.results)}catch(t){const e=t instanceof Error?t.message:"unknown";console.warn(`Unable to retrieve templates. Error: ${e}`)}}))}function dn(){return on(this,void 0,void 0,(function*(){try{const t=yield ee({path:"/nab/v1/themes"});yield(0,a.dispatch)(fn).receiveThemes(t.results)}catch(t){const e=t instanceof Error?t.message:"unknown";console.warn(`Unable to retrieve themes. Error: ${e}`)}}))}var gn=function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}u((i=i.apply(t,e||[])).next())}))};function pn(){return gn(this,void 0,void 0,(function*(){try{const t=yield ee({path:"/nab/v1/site/quota"});yield(0,a.dispatch)(fn).receiveSiteQuota(t)}catch(t){throw yield(0,h.createErrorNotice)((0,E._x)("Unable to retrieve quota.","text","nelio-ab-testing")),t}}))}const vn=Object.assign(Object.assign({},e),s),fn=(0,a.createReduxStore)("nab/data",{reducer:_,controls:a.controls,actions:vn,selectors:t,resolvers:o});function yn(t,e){return u((n=>{var i;const{getPageAttribute:s,getExperimentAttribute:o}=n(fn),r=s("editor/activeExperiment");return r&&null!==(i=o(r,t))&&void 0!==i?i:e}))}function mn(t,e){var n;const i=null!==(n=u((e=>e(fn).getPageAttribute(t))))&&void 0!==n?n:e,{setPageAttribute:s}=(0,a.useDispatch)(fn);return[i,e=>s(t,e)]}function bn(t){return u((e=>e(fn).getPluginSetting(t)))}!function(t){(0,a.register)(t)}(fn),(0,a.select)(fn).getPluginSetting("siteId"),(0,a.dispatch)(fn).setToday((0,l.format)("Y-m-d",new Date)),function(t,e){var n;(0,a.dispatch)(fn).setPageAttribute(t,(0,h.getValue)(t,e));let i=null!==(n=(0,a.select)(fn).getPageAttribute(t))&&void 0!==n?n:e;!function(t,e){(0,a.subscribe)(t,e)}((()=>{var n;const s=null!==(n=(0,a.select)(fn).getPageAttribute(t))&&void 0!==n?n:e;s!==i&&(i=s,(0,h.setValue)(t,s))}),fn)}("results/shouldShowUniqueResults",!1);const hn=(t,e)=>u((n=>n(fn).getAdminUrl(t,e)))})();var s=nab="undefined"==typeof nab?{}:nab;for(var o in i)s[o]=i[o];i.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})})();