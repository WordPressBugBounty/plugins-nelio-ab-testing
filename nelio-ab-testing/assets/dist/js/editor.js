(()=>{var e,t,n,r={3072:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,h=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case v:case l:return e;default:return t}}case i:return t}}}function _(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||w(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===a||e===s||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===h||e.$$typeof===x||e.$$typeof===y||e.$$typeof===b)},t.typeOf=w},4146:(e,t,n)=>{"use strict";var r=n(73404),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var i=f(n);i&&i!==m&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),v=l(n),g=0;g<s.length;++g){var b=s[g];if(!(o[b]||r&&r[b]||v&&v[b]||a&&a[b])){var h=p(n,b);try{c(t,b,h)}catch(e){}}}}return t}},14744:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,n,l){(l=l||{}).arrayMerge=l.arrayMerge||i,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=r;var c=Array.isArray(n);return c===Array.isArray(e)?c?l.arrayMerge(e,n,l):function(e,t,n){var i={};return n.isMergeableObject(e)&&o(e).forEach((function(t){i[t]=r(e[t],n)})),o(t).forEach((function(o){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(s(e,o)&&n.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))})),i}(e,n,l):r(n,l)}a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})};var l=a;e.exports=l},19888:(e,t,n)=>{"use strict";e.exports=n(58493)},29252:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},51609:e=>{"use strict";e.exports=window.React},58493:(e,t,n)=>{"use strict";var r=n(51609),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),s((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},60661:(e,t,n)=>{"use strict";n.r(t),n.d(t,{editor:()=>s});var r={};n.r(r),n.d(r,{getActiveGoal:()=>M,getActiveGoalIndex:()=>L,getActiveSegment:()=>B,getActiveSegmentIndex:()=>$,getAiAlternativeModal:()=>V,getAlternative:()=>T,getAlternativeIds:()=>k,getAlternativePreviewerUrl:()=>G,getAlternatives:()=>N,getConversionActions:()=>P,getDraftStatusRationale:()=>F,getExperimentAttribute:()=>H,getExperimentId:()=>U,getExperimentType:()=>z,getGoals:()=>K,getHeatmapAttribute:()=>q,getScope:()=>X,getSegmentEvaluation:()=>Q,getSegmentationRules:()=>J,getSegments:()=>Y,hasExperimentBeenRecentlySaved:()=>D,isExperimentBeingSaved:()=>R,isTestedElementInvalid:()=>W});var i={};n.r(i),n.d(i,{addAlternatives:()=>Z,addConversionActionsIntoGoal:()=>re,addGoals:()=>xe,addSegmentationRulesIntoSegment:()=>Oe,addSegments:()=>Se,closeAlternativePreviewer:()=>me,openAlternativePreviewer:()=>fe,removeAlternatives:()=>ee,removeConversionActionsFromGoal:()=>oe,removeGoals:()=>ye,removeSegmentationRulesFromSegment:()=>Ae,removeSegments:()=>je,replaceAlternatives:()=>te,replaceConversionActionsInGoal:()=>ie,replaceSegmentationRulesInSegment:()=>Ie,setActiveGoal:()=>le,setActiveSegment:()=>ce,setAlternative:()=>ne,setDraftStatusRationale:()=>de,setExperimentAsBeingSaved:()=>ue,setExperimentAsRecentlySaved:()=>pe,setExperimentData:()=>ge,setHeatmapData:()=>be,setScopeRules:()=>_e,setSegmentEvaluation:()=>Te,setTestedElementAsInvalid:()=>he,setupEditor:()=>ae,showAiAlternativeModal:()=>ve,updateConversionAction:()=>se,updateGoal:()=>we,updateSegment:()=>Ee,updateSegmentationRule:()=>Ce});var o={};n.r(o),n.d(o,{moveToTrash:()=>ze,resumeExperiment:()=>qe,saveExperiment:()=>Ge,saveExperimentAndEditAlternative:()=>Ve,saveExperimentAndPreviewAlternative:()=>Ue,startExperiment:()=>He});var s={};n.r(s),n.d(s,{EditorProvider:()=>Ze,ExperimentName:()=>bl,Header:()=>ll,Sidebar:()=>ju,initializeExperimentEditor:()=>Wu,store:()=>Qe});const a=window.ReactJSXRuntime,l=(window.wp.coreData,window.wp.data);function c(e,t){return(0,l.useSelect)(e,t)}const u=window.wp.domReady,d=n.n(u)(),p=window.wp.element,f=window.lodash,m=window.nab.data,v=window.nab.experimentLibrary,g=window.nab.utils,b={alternatives:{byId:{control:{id:"control",attributes:{},links:{edit:"",heatmap:"",preview:""}}},allIds:[]},conversionActions:{},data:{id:0,type:"",status:"draft",name:"",description:"",startDate:"",endDate:"",endMode:"manual",endValue:0,autoAlternativeApplication:!1,isTestedElementInvalid:!1,links:{edit:"",preview:""}},goals:{},scope:{},segmentation:{evaluation:"tested-page",rules:{},segments:{}}},h={activeGoalId:"",activeSegmentId:"",aiAlternativeModal:void 0,alternativePreviewerUrl:"",draftStatusRationale:"",hasExperimentBeenRecentlySaved:!1,isExperimentBeingSaved:!1},x=b.alternatives,y=b.conversionActions,w=b.data,_=b.goals,S=b.scope,j=b.segmentation,E=(0,l.combineReducers)({editor:function(e=h,t){var n;return null!==(n=function(e,t){switch(t.type){case"SET_ACTIVE_GOAL":return Object.assign(Object.assign({},e),{activeGoalId:t.goalId});case"SET_ACTIVE_SEGMENT":return Object.assign(Object.assign({},e),{activeSegmentId:t.segmentId});case"SET_EXPERIMENT_AS_BEING_SAVED":return Object.assign(Object.assign({},e),{isExperimentBeingSaved:!!t.status});case"SET_EXPERIMENT_AS_RECENTLY_SAVED":return Object.assign(Object.assign({},e),{hasExperimentBeenRecentlySaved:!0});case"SET_DRAFT_STATUS_RATIONALE":return Object.assign(Object.assign({},e),{draftStatusRationale:t.rationale});case"OPEN_ALTERNATIVE_PREVIEWER":return Object.assign(Object.assign({},e),{alternativePreviewerUrl:t.url});case"CLOSE_ALTERNATIVE_PREVIEWER":return Object.assign(Object.assign({},e),{alternativePreviewerUrl:""});case"SHOW_AI_ALTERNATIVE_MODAL":return Object.assign(Object.assign({},e),{aiAlternativeModal:t.alternativeId});case"SETUP_EDITOR":return e}}(e=Object.assign(Object.assign({},e),{hasExperimentBeenRecentlySaved:!1}),t))&&void 0!==n?n:e},experiment:(0,l.combineReducers)({alternatives:function(e=x,t){var n;return null!==(n=function(e,t){switch(t.type){case"ADD_ALTERNATIVES":return{byId:Object.assign(Object.assign({},e.byId),(0,f.keyBy)(t.alternatives,"id")),allIds:[...e.allIds,...(0,f.map)(t.alternatives,"id")]};case"REMOVE_ALTERNATIVES":return{byId:Object.assign({control:e.byId.control},(0,f.omit)(e.byId,t.ids)),allIds:(0,f.difference)(e.allIds,t.ids.filter((e=>"control"!==e)))};case"REPLACE_ALTERNATIVES":{const n=(0,f.zip)(t.oldIds,(0,f.map)(t.alternatives,"id"));return{byId:Object.assign(Object.assign({control:e.byId.control},(0,f.omit)(e.byId,t.oldIds)),(0,f.keyBy)(t.alternatives,"id")),allIds:[...e.allIds.map((e=>{const t=n.find((t=>t[0]===e));return t?t[1]:e})).filter(g.isDefined),...n.filter((e=>!e[0])).map((e=>e[1])).filter(g.isDefined)]}}case"SET_ALTERNATIVE":return!t.alternative||(0,g.isEmpty)(t.alternative)||(0,g.isEmpty)(e.byId[t.id])?e:Object.assign(Object.assign({},e),{byId:Object.assign(Object.assign({},e.byId),{[t.id]:t.alternative})});case"SETUP_EDITOR":return"nab/heatmap"===t.experiment.type?x:{byId:Object.assign({control:e.byId.control},(0,f.keyBy)(t.experiment.alternatives,"id")),allIds:(0,f.map)(t.experiment.alternatives,"id")}}}(e,t))&&void 0!==n?n:e},conversionActions:function(e=y,t){var n;return null!==(n=function(e,t){switch(t.type){case"ADD_CONVERSION_ACTIONS_INTO_GOAL":return Object.assign(Object.assign({},e),{[t.goalId]:Object.assign(Object.assign({},e[t.goalId]),(0,f.keyBy)(t.conversionActions,"id"))});case"REPLACE_CONVERSION_ACTIONS_IN_GOAL":return Object.assign(Object.assign({},e),{[t.goalId]:Object.assign({},(0,f.keyBy)(t.conversionActions,"id"))});case"UPDATE_CONVERSION_ACTION":{const n=e[t.goalId];if(!n)return e;const r=n[t.conversionActionId];return r?Object.assign(Object.assign({},e),{[t.goalId]:Object.assign(Object.assign({},n),{[t.conversionActionId]:Object.assign(Object.assign({},r),{attributes:t.attributes?Object.assign(Object.assign({},r.attributes),t.attributes):r.attributes,scope:t.scope?t.scope:r.scope})})}):e}case"REMOVE_CONVERSION_ACTIONS_FROM_GOAL":return Object.assign(Object.assign({},e),{[t.goalId]:(0,f.omit)(e[t.goalId],t.conversionActionIds)});case"SETUP_EDITOR":return"nab/heatmap"===t.experiment.type?{}:t.experiment.goals.reduce(((e,t)=>(e[t.id]=(0,f.keyBy)(t.conversionActions,"id"),e)),{})}}(e,t))&&void 0!==n?n:e},data:function(e=w,t){var n;return null!==(n=function(e,t){switch(t.type){case"UPDATE_EXPERIMENT_DATA":return Object.assign(Object.assign({},e),t.attributes);case"SET_TESTED_ELEMENT_AS_INVALID":return Object.assign(Object.assign({},e),{isTestedElementInvalid:!!t.invalid});case"SETUP_EDITOR":return Object.assign(Object.assign({},e),(0,f.omit)(t.experiment,["alternatives","goals","scope","segments"]))}}(e,t))&&void 0!==n?n:e},goals:function(e=_,t){var n;return null!==(n=function(e,t){switch(t.type){case"ADD_GOALS":return Object.assign(Object.assign({},e),(0,f.keyBy)(t.goals,"id"));case"UPDATE_GOAL":{const n=e[t.goalId];return n?Object.assign(Object.assign({},e),{[t.goalId]:Object.assign(Object.assign({},n),{attributes:Object.assign(Object.assign({},n.attributes),t.attributes)})}):e}case"REMOVE_GOALS":return(0,f.omit)(e,t.ids);case"SETUP_EDITOR":return"nab/heatmap"===t.experiment.type?{}:(0,f.keyBy)(t.experiment.goals.map((e=>(0,f.omit)(e,"conversionActions"))),"id")}}(e,t))&&void 0!==n?n:e},scope:function(e=S,t){var n;return null!==(n=function(e,t){switch(t.type){case"SET_SCOPE_RULES":return(0,f.keyBy)(t.rules,"id");case"SETUP_EDITOR":return"nab/heatmap"===t.experiment.type?{}:(0,f.keyBy)(t.experiment.scope,"id")}}(0,t))&&void 0!==n?n:e},segmentation:function(e=j,t){var n;return null!==(n=function(e,t){switch(t.type){case"ADD_SEGMENTS":return Object.assign(Object.assign({},e),{segments:Object.assign(Object.assign({},e.segments),(0,f.keyBy)(t.segments,"id"))});case"UPDATE_SEGMENT":{const n=e.segments[t.segmentId];return n?Object.assign(Object.assign({},e),{segments:Object.assign(Object.assign({},e.segments),{[t.segmentId]:Object.assign(Object.assign({},n),{attributes:Object.assign(Object.assign({},n.attributes),t.attributes)})})}):e}case"REMOVE_SEGMENTS":return Object.assign(Object.assign({},e),{segments:(0,f.omit)(e.segments,t.ids)});case"ADD_SEGMENTATION_RULES_INTO_SEGMENT":return Object.assign(Object.assign({},e),{rules:Object.assign(Object.assign({},e.rules),{[t.segmentId]:Object.assign(Object.assign({},e.rules[t.segmentId]),(0,f.keyBy)(t.segmentationRules,"id"))})});case"REPLACE_SEGMENTATION_RULES_IN_SEGMENT":return Object.assign(Object.assign({},e),{rules:Object.assign(Object.assign({},e.rules),{[t.segmentId]:Object.assign({},(0,f.keyBy)(t.segmentationRules,"id"))})});case"UPDATE_SEGMENTATION_RULE":{const n=e.rules[t.segmentId];if(!n)return e;const r=n[t.segmentationRuleId];return r?Object.assign(Object.assign({},e),{rules:Object.assign(Object.assign({},e.rules),{[t.segmentId]:Object.assign(Object.assign({},n),{[t.segmentationRuleId]:Object.assign(Object.assign({},r),{attributes:Object.assign(Object.assign({},r.attributes),t.attributes)})})})}):e}case"REMOVE_SEGMENTATION_RULES_FROM_SEGMENT":return Object.assign(Object.assign({},e),{rules:Object.assign(Object.assign({},e.rules),{[t.segmentId]:(0,f.omit)(e.rules[t.segmentId],t.segmentationRuleIds)})});case"SET_SEGMENT_EVALUATION":return Object.assign(Object.assign({},e),{evaluation:t.strategy});case"SETUP_EDITOR":return"nab/heatmap"===t.experiment.type?e:{evaluation:t.experiment.segmentEvaluation,rules:t.experiment.segments.reduce(((e,t)=>(e[t.id]=(0,f.keyBy)(t.segmentationRules,"id"),e)),{}),segments:(0,f.keyBy)(t.experiment.segments.map((e=>(0,f.omit)(e,"segmentationRules"))),"id")}}}(e,t))&&void 0!==n?n:e}})});var O={};function I(e){return[e]}function A(e,t,n){var r;if(e.length!==t.length)return!1;for(r=n;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function C(e,t){var n,r=t||I;function i(){n=new WeakMap}function o(){var t,i,o,s,a,l=arguments.length;for(s=new Array(l),o=0;o<l;o++)s[o]=arguments[o];for(t=function(e){var t,r,i,o,s,a=n,l=!0;for(t=0;t<e.length;t++){if(!(s=r=e[t])||"object"!=typeof s){l=!1;break}a.has(r)?a=a.get(r):(i=new WeakMap,a.set(r,i),a=i)}return a.has(O)||((o=function(){var e={clear:function(){e.head=null}};return e}()).isUniqueByDependants=l,a.set(O,o)),a.get(O)}(a=r.apply(null,s)),t.isUniqueByDependants||(t.lastDependants&&!A(a,t.lastDependants,0)&&t.clear(),t.lastDependants=a),i=t.head;i;){if(A(i.args,s,1))return i!==t.head&&(i.prev.next=i.next,i.next&&(i.next.prev=i.prev),i.next=t.head,i.prev=null,t.head.prev=i,t.head=i),i.val;i=i.next}return i={val:e.apply(null,s)},s[0]=null,i.args=s,t.head&&(t.head.prev=i,i.next=t.head),t.head=i,i.val}return o.getDependants=r,o.clear=i,i(),o}const T=function(e,t){return e.experiment.alternatives.byId[t]},N=C((e=>(0,f.values)(e.experiment.alternatives.byId).filter(g.isDefined)),(e=>[e.experiment.alternatives.byId])),k=e=>e.experiment.alternatives.allIds,P=C(((e,t)=>(0,f.values)(e.experiment.conversionActions[t])),((e,t)=>[e.experiment.conversionActions,t]));function R(e){return!!e.editor.isExperimentBeingSaved}function D(e){return!!e.editor.hasExperimentBeenRecentlySaved}function M(e){return e.experiment.goals[e.editor.activeGoalId]||(0,f.values)(e.experiment.goals)[0]}function L(e){return(0,f.map)(e.experiment.goals,"id").indexOf(e.editor.activeGoalId)||0}function B(e){return(0,f.filter)(e.experiment.segmentation.segments,{id:e.editor.activeSegmentId})[0]}function $(e){return(0,f.map)(e.experiment.segmentation.segments,"id").indexOf(e.editor.activeSegmentId)||0}function F(e){if(e.experiment&&e.experiment.data)return["draft","paused_draft"].includes(e.experiment.data.status)?e.editor.draftStatusRationale:void 0}function G(e){return e.editor.alternativePreviewerUrl}function V(e){return e.editor.aiAlternativeModal}function U(e){return e.experiment.data.id}function z(e){return e.experiment.data.type}const H=function(e,t){return e.experiment.data[t]},q=function(e,t){return e.experiment.data[t]};function W(e){return!!e.experiment.data.isTestedElementInvalid}const K=C((e=>(0,f.values)(e.experiment.goals).filter(g.isDefined)),(e=>[e.experiment.goals])),X=C((e=>(0,f.values)(e.experiment.scope).filter(g.isDefined)),(e=>[e.experiment.scope])),Y=C((e=>(0,f.values)(e.experiment.segmentation.segments).filter(g.isDefined)),(e=>[e.experiment.segmentation.segments])),J=C(((e,t)=>(0,f.values)(e.experiment.segmentation.rules[t])),((e,t)=>[e.experiment.segmentation.rules,t]));function Q(e){return e.experiment.segmentation.evaluation}function Z(e){return{type:"ADD_ALTERNATIVES",alternatives:(0,f.castArray)(e)}}function ee(e){return{type:"REMOVE_ALTERNATIVES",ids:(0,f.castArray)(e)}}function te(e,t){return{type:"REPLACE_ALTERNATIVES",oldIds:(0,f.castArray)(e),alternatives:(0,f.castArray)(t)}}function ne(e,t){return{type:"SET_ALTERNATIVE",id:e,alternative:t}}function re(e,t){return{type:"ADD_CONVERSION_ACTIONS_INTO_GOAL",goalId:e,conversionActions:(0,f.castArray)(t)}}function ie(e,t){return{type:"REPLACE_CONVERSION_ACTIONS_IN_GOAL",goalId:e,conversionActions:(0,f.castArray)(t)}}function oe(e,t){return{type:"REMOVE_CONVERSION_ACTIONS_FROM_GOAL",goalId:e,conversionActionIds:(0,f.castArray)(t)}}function se(e,t,n,r){return{type:"UPDATE_CONVERSION_ACTION",goalId:e,conversionActionId:t,attributes:n,scope:r}}function ae(e){return{type:"SETUP_EDITOR",experiment:e}}function le(e){return{type:"SET_ACTIVE_GOAL",goalId:e}}function ce(e){return{type:"SET_ACTIVE_SEGMENT",segmentId:e}}function ue(e){return{type:"SET_EXPERIMENT_AS_BEING_SAVED",status:e}}function de(e){return{type:"SET_DRAFT_STATUS_RATIONALE",rationale:e}}function pe(){return{type:"SET_EXPERIMENT_AS_RECENTLY_SAVED"}}function fe(e){return{type:"OPEN_ALTERNATIVE_PREVIEWER",url:e}}function me(){return{type:"CLOSE_ALTERNATIVE_PREVIEWER"}}function ve(e){return{type:"SHOW_AI_ALTERNATIVE_MODAL",alternativeId:e}}function ge(e){return{type:"UPDATE_EXPERIMENT_DATA",attributes:e}}function be(e){return{type:"UPDATE_EXPERIMENT_DATA",attributes:e}}function he(e){return{type:"SET_TESTED_ELEMENT_AS_INVALID",invalid:e}}function xe(e){return{type:"ADD_GOALS",goals:(0,f.castArray)(e)}}function ye(e){return{type:"REMOVE_GOALS",ids:(0,f.castArray)(e)}}function we(e,t){return{type:"UPDATE_GOAL",goalId:e,attributes:t}}function _e(e){return{type:"SET_SCOPE_RULES",rules:e}}function Se(e){return{type:"ADD_SEGMENTS",segments:(0,f.castArray)(e)}}function je(e){return{type:"REMOVE_SEGMENTS",ids:(0,f.castArray)(e)}}function Ee(e,t){return{type:"UPDATE_SEGMENT",segmentId:e,attributes:t}}function Oe(e,t){return{type:"ADD_SEGMENTATION_RULES_INTO_SEGMENT",segmentId:e,segmentationRules:(0,f.castArray)(t)}}function Ie(e,t){return{type:"REPLACE_SEGMENTATION_RULES_IN_SEGMENT",segmentId:e,segmentationRules:(0,f.castArray)(t)}}function Ae(e,t){return{type:"REMOVE_SEGMENTATION_RULES_FROM_SEGMENT",segmentId:e,segmentationRuleIds:(0,f.castArray)(t)}}function Ce(e,t,n){return{type:"UPDATE_SEGMENTATION_RULE",segmentId:e,segmentationRuleId:t,attributes:n}}function Te(e){return{type:"SET_SEGMENT_EVALUATION",strategy:e}}const Ne=window.wp.apiFetch;var ke=n.n(Ne);const Pe=window.wp.date,Re=window.wp.url,De=e=>{const{url:t,path:n}=e,r=(0,Pe.format)("YmjHi").substring(0,11)+"0";return ke()(Object.assign(Object.assign(Object.assign({},e),t&&{url:Me(e)?(0,Re.addQueryArgs)(t,{nabts:r}):t}),n&&{path:(0,Re.addQueryArgs)(n,{nabts:r})}))},Me=e=>{var t,n;return!!(null===(t=e.url)||void 0===t?void 0:t.includes("/wp-json/"))||!!(null===(n=e.url)||void 0===n?void 0:n.includes("rest_route"))||!!Object.keys(e).includes("rest_route")},Le=window.wp.i18n,Be=window.wp.notices,$e=window.nab.experiments;var Fe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};function Ge(){return Fe(this,void 0,void 0,(function*(){var e,t,n,r,i,o;if((0,l.select)(Qe).isExperimentBeingSaved())return;yield(0,l.dispatch)(Qe).setExperimentAsBeingSaved(!0);const s=[],a=(0,l.select)(Qe).getGoals();for(const t of a){const n=(0,l.select)(Qe).getConversionActions(t.id),r=Ke(n);s.push(Object.assign(Object.assign({},t),{attributes:Object.assign(Object.assign({},t.attributes),{useOrderRevenue:r?null===(e=t.attributes.useOrderRevenue)||void 0===e||e:void 0,orderStatusForConversion:r?Xe(r,t):void 0}),conversionActions:n}))}const c=[],u=(0,l.select)(Qe).getSegments();for(const e of u)c.push(Object.assign(Object.assign({},e),{segmentationRules:(0,l.select)(Qe).getSegmentationRules(e.id)}));const d=[],p=(0,l.select)(Qe).getAlternativeIds(),f=(0,l.select)(Qe).isTestedElementInvalid(),m=(0,l.select)(Qe).getAlternative("control");for(const e of p){if("control"===e)continue;const t=(0,l.select)(Qe).getAlternative(e);t&&d.push(t)}let v;const g=(0,l.select)(Qe).getExperimentType();v="nab/heatmap"===g?{id:(0,l.select)(Qe).getExperimentId(),type:g,name:(0,l.select)(Qe).getExperimentAttribute("name"),description:(0,l.select)(Qe).getExperimentAttribute("description"),status:(0,l.select)(Qe).getExperimentAttribute("status"),startDate:(0,l.select)(Qe).getExperimentAttribute("startDate"),endDate:!1,endMode:(0,l.select)(Qe).getExperimentAttribute("endMode"),endValue:(0,l.select)(Qe).getExperimentAttribute("endValue"),trackingMode:null!==(t=(0,l.select)(Qe).getHeatmapAttribute("trackingMode"))&&void 0!==t?t:"post",trackedPostId:null!==(n=(0,l.select)(Qe).getHeatmapAttribute("trackedPostId"))&&void 0!==n?n:0,trackedPostType:null!==(r=(0,l.select)(Qe).getHeatmapAttribute("trackedPostType"))&&void 0!==r?r:"page",trackedUrl:null!==(i=(0,l.select)(Qe).getHeatmapAttribute("trackedUrl"))&&void 0!==i?i:"",participationConditions:null!==(o=(0,l.select)(Qe).getHeatmapAttribute("participationConditions"))&&void 0!==o?o:[]}:{id:(0,l.select)(Qe).getExperimentId(),type:g,name:(0,l.select)(Qe).getExperimentAttribute("name"),description:(0,l.select)(Qe).getExperimentAttribute("description"),status:(0,l.select)(Qe).getExperimentAttribute("status"),startDate:(0,l.select)(Qe).getExperimentAttribute("startDate"),endDate:!1,endMode:(0,l.select)(Qe).getExperimentAttribute("endMode"),endValue:(0,l.select)(Qe).getExperimentAttribute("endValue"),autoAlternativeApplication:(0,l.select)(Qe).getExperimentAttribute("autoAlternativeApplication"),scope:(0,l.select)(Qe).getScope(),alternatives:f?[m]:[m,...d],goals:s,segmentEvaluation:(0,l.select)(Qe).getSegmentEvaluation(),segments:c};try{let e=yield De({path:`/nab/v1/experiment/${v.id}`,method:"PUT",data:v});"nab/heatmap"!==v.type&&f&&(e=Object.assign(Object.assign({},e),{alternatives:[e.alternatives[0],...d]})),yield(0,l.dispatch)(Qe).setupEditor(e),yield(0,l.dispatch)(Qe).setExperimentAsBeingSaved(!1),yield(0,l.dispatch)(Qe).setExperimentAsRecentlySaved()}catch(e){const t=Ye(e);yield(0,l.dispatch)(Be.store).createErrorNotice(t),yield(0,l.dispatch)(Qe).setExperimentAsBeingSaved(!1)}}))}function Ve(e){return Fe(this,void 0,void 0,(function*(){if(yield Ge(),!(0,l.select)(Qe).hasExperimentBeenRecentlySaved())return;if(!(0,l.select)(Qe).getAlternativeIds().includes(e))return;const t=(0,l.select)(Qe).getAlternative(e);t&&t.links.edit&&(window.location.href=t.links.edit)}))}function Ue(e){return Fe(this,void 0,void 0,(function*(){if(yield Ge(),!(0,l.select)(Qe).hasExperimentBeenRecentlySaved())return;if(!(0,l.select)(Qe).getAlternativeIds().includes(e))return;const t=(0,l.select)(Qe).getAlternative(e);if(!(null==t?void 0:t.links.preview)){let e=(0,Le._x)("Preview not available.","text","nelio-ab-testing");const t=(0,l.select)(Qe).getExperimentType(),n=(0,l.select)($e.store).getExperimentSupport(t,"scope");return"urls"!==n&&"urls-with-tested-post"!==n||(e+=" ",e+=(0,Le._x)("Please review your test scope and consider adding an exact URL where the test should be active so that Nelio can use it in the preview.","user","nelio-ab-testing")),void(yield(0,l.dispatch)(Be.store).createWarningNotice(e))}yield(0,l.dispatch)(Qe).openAlternativePreviewer(t.links.preview)}))}function ze(){return Fe(this,void 0,void 0,(function*(){yield(0,l.dispatch)(Qe).setExperimentData({status:"trash"}),yield Ge(),window.location.href=(0,l.select)(m.store).getAdminUrl("edit.php",{post_type:"nab_experiment"})}))}function He(){return Fe(this,void 0,void 0,(function*(){yield We("start")}))}function qe(){return Fe(this,void 0,void 0,(function*(){yield We("resume")}))}function We(e){return Fe(this,arguments,void 0,(function*(e,t=!1){if(yield Ge(),!(0,l.select)(Qe).hasExperimentBeenRecentlySaved())return;yield(0,l.dispatch)(Qe).setExperimentAsBeingSaved(!0);const n=(0,l.select)(Qe).getExperimentId();try{yield De({path:`/nab/v1/experiment/${n}/${e}`,method:"PUT",data:{ignoreScopeOverlap:t}})}catch(t){const n=Ye(t,"start"===e?(0,Le._x)("Test can’t be started","text","nelio-ab-testing"):(0,Le._x)("Test can’t be resumed","text","nelio-ab-testing"));if("equivalent-experiment-running"===function(e){if(!e||"object"!=typeof e)return!1;if(!("errors"in e)||"object"!=typeof e.errors)return!1;const t=e.errors||{};return Object.keys(t).includes("equivalent-experiment-running")&&"equivalent-experiment-running"}(t)){const{notice:t}=yield(0,l.dispatch)(Be.store).createWarningNotice(n,{actions:[{label:"start"===e?(0,Le._x)("Start anyway","command","nelio-ab-testing"):(0,Le._x)("Resume anyway","command","nelio-ab-testing"),variant:"primary",onClick:()=>Fe(this,void 0,void 0,(function*(){yield(0,l.dispatch)(Be.store).removeNotice(t.id),yield We(e,!0)}))}]})}else yield(0,l.dispatch)(Be.store).createErrorNotice(n);return void(yield(0,l.dispatch)(Qe).setExperimentAsBeingSaved(!1))}window.location.href=(0,l.select)(m.store).getAdminUrl("admin.php",{page:"nelio-ab-testing-experiment-view",experiment:n})}))}function Ke(e){if(e.length)return e.every((({type:e})=>"nab/wc-order"===e))?"woocommerce":e.every((({type:e})=>"nab/edd-order"===e))?"edd":void 0}function Xe(e,t){const n=(0,l.select)(m.store).getECommerceSetting(e,"orderStatuses"),r=t.attributes.orderStatusForConversion;return r&&n.map((e=>e.value)).includes(r)?r:function(e){switch(e){case"woocommerce":return"wc-completed";case"edd":return"complete"}}(e)}function Ye(e,t){const n=t||(0,Le._x)("Unknown error","text","nelio-ab-testing");if(!e||"object"!=typeof e)return n;if("errors"in e&&"object"==typeof e.errors){const t=Array.isArray(e.errors)?e.errors:(0,f.values)(e.errors);if("string"==typeof t[0])return t[0]||n;const r=Array.isArray(t[0])&&"string"==typeof t[0][0]?t[0][0]:void 0;if(r)return r||n}return"message"in e&&"string"==typeof e.message&&e.message||n}const Je=Object.assign(Object.assign({},i),o),Qe=(0,l.createReduxStore)("nab/editor",{reducer:E,controls:l.controls,actions:Je,selectors:r});!function(e){(0,l.register)(e)}(Qe);const Ze=({experiment:e,children:t})=>{const[n,r]=(0,p.useState)(!1),{setupEditor:i,setActiveGoal:o,setActiveSegment:s}=(0,l.useDispatch)(Qe);return(0,p.useEffect)((()=>{if(!e)return;const t=e.goals[0]||(0,g.createGoal)(),n=e.segments[0];i(e),o(t.id),n&&s(n.id),r(!0)}),[!!e]),n?(0,a.jsx)("div",{children:t}):null},et=window.wp.components;function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(null,arguments)}var nt=n(51609),rt=n.t(nt,2),it=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ot=Math.abs,st=String.fromCharCode,at=Object.assign;function lt(e){return e.trim()}function ct(e,t,n){return e.replace(t,n)}function ut(e,t){return e.indexOf(t)}function dt(e,t){return 0|e.charCodeAt(t)}function pt(e,t,n){return e.slice(t,n)}function ft(e){return e.length}function mt(e){return e.length}function vt(e,t){return t.push(e),e}var gt=1,bt=1,ht=0,xt=0,yt=0,wt="";function _t(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:gt,column:bt,length:s,return:""}}function St(e,t){return at(_t("",null,null,"",null,null,0),e,{length:-e.length},t)}function jt(){return yt=xt>0?dt(wt,--xt):0,bt--,10===yt&&(bt=1,gt--),yt}function Et(){return yt=xt<ht?dt(wt,xt++):0,bt++,10===yt&&(bt=1,gt++),yt}function Ot(){return dt(wt,xt)}function It(){return xt}function At(e,t){return pt(wt,e,t)}function Ct(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Tt(e){return gt=bt=1,ht=ft(wt=e),xt=0,[]}function Nt(e){return wt="",e}function kt(e){return lt(At(xt-1,Dt(91===e?e+2:40===e?e+1:e)))}function Pt(e){for(;(yt=Ot())&&yt<33;)Et();return Ct(e)>2||Ct(yt)>3?"":" "}function Rt(e,t){for(;--t&&Et()&&!(yt<48||yt>102||yt>57&&yt<65||yt>70&&yt<97););return At(e,It()+(t<6&&32==Ot()&&32==Et()))}function Dt(e){for(;Et();)switch(yt){case e:return xt;case 34:case 39:34!==e&&39!==e&&Dt(yt);break;case 40:41===e&&Dt(e);break;case 92:Et()}return xt}function Mt(e,t){for(;Et()&&e+yt!==57&&(e+yt!==84||47!==Ot()););return"/*"+At(t,xt-1)+"*"+st(47===e?e:Et())}function Lt(e){for(;!Ct(Ot());)Et();return At(e,xt)}var Bt="-ms-",$t="-moz-",Ft="-webkit-",Gt="comm",Vt="rule",Ut="decl",zt="@keyframes";function Ht(e,t){for(var n="",r=mt(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function qt(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ut:return e.return=e.return||e.value;case Gt:return"";case zt:return e.return=e.value+"{"+Ht(e.children,r)+"}";case Vt:e.value=e.props.join(",")}return ft(n=Ht(e.children,r))?e.return=e.value+"{"+n+"}":""}function Wt(e){return Nt(Kt("",null,null,null,[""],e=Tt(e),0,[0],e))}function Kt(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,p=0,f=0,m=0,v=1,g=1,b=1,h=0,x="",y=i,w=o,_=r,S=x;g;)switch(m=h,h=Et()){case 40:if(108!=m&&58==dt(S,d-1)){-1!=ut(S+=ct(kt(h),"&","&\f"),"&\f")&&(b=-1);break}case 34:case 39:case 91:S+=kt(h);break;case 9:case 10:case 13:case 32:S+=Pt(m);break;case 92:S+=Rt(It()-1,7);continue;case 47:switch(Ot()){case 42:case 47:vt(Yt(Mt(Et(),It()),t,n),l);break;default:S+="/"}break;case 123*v:a[c++]=ft(S)*b;case 125*v:case 59:case 0:switch(h){case 0:case 125:g=0;case 59+u:-1==b&&(S=ct(S,/\f/g,"")),f>0&&ft(S)-d&&vt(f>32?Jt(S+";",r,n,d-1):Jt(ct(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(vt(_=Xt(S,t,n,c,u,i,a,x,y=[],w=[],d),o),123===h)if(0===u)Kt(S,t,_,_,y,o,d,a,w);else switch(99===p&&110===dt(S,3)?100:p){case 100:case 108:case 109:case 115:Kt(e,_,_,r&&vt(Xt(e,_,_,0,0,i,a,x,i,y=[],d),w),i,w,d,a,r?y:w);break;default:Kt(S,_,_,_,[""],w,0,a,w)}}c=u=f=0,v=b=1,x=S="",d=s;break;case 58:d=1+ft(S),f=m;default:if(v<1)if(123==h)--v;else if(125==h&&0==v++&&125==jt())continue;switch(S+=st(h),h*v){case 38:b=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(ft(S)-1)*b,b=1;break;case 64:45===Ot()&&(S+=kt(Et())),p=Ot(),u=d=ft(x=S+=Lt(It())),h++;break;case 45:45===m&&2==ft(S)&&(v=0)}}return o}function Xt(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,p=0===i?o:[""],f=mt(p),m=0,v=0,g=0;m<r;++m)for(var b=0,h=pt(e,d+1,d=ot(v=s[m])),x=e;b<f;++b)(x=lt(v>0?p[b]+" "+h:ct(h,/&\f/g,p[b])))&&(l[g++]=x);return _t(e,t,n,0===i?Vt:a,l,c,u)}function Yt(e,t,n){return _t(e,t,n,Gt,st(yt),pt(e,2,-2),0)}function Jt(e,t,n,r){return _t(e,t,n,Ut,pt(e,0,r),pt(e,r+1,-1),r)}var Qt=function(e,t,n){for(var r=0,i=0;r=i,i=Ot(),38===r&&12===i&&(t[n]=1),!Ct(i);)Et();return At(e,xt)},Zt=new WeakMap,en=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Zt.get(n))&&!r){Zt.set(e,!0);for(var i=[],o=function(e,t){return Nt(function(e,t){var n=-1,r=44;do{switch(Ct(r)){case 0:38===r&&12===Ot()&&(t[n]=1),e[n]+=Qt(xt-1,t,n);break;case 2:e[n]+=kt(r);break;case 4:if(44===r){e[++n]=58===Ot()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=st(r)}}while(r=Et());return e}(Tt(e),t))}(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},tn=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function nn(e,t){switch(function(e,t){return 45^dt(e,0)?(((t<<2^dt(e,0))<<2^dt(e,1))<<2^dt(e,2))<<2^dt(e,3):0}(e,t)){case 5103:return Ft+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ft+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ft+e+$t+e+Bt+e+e;case 6828:case 4268:return Ft+e+Bt+e+e;case 6165:return Ft+e+Bt+"flex-"+e+e;case 5187:return Ft+e+ct(e,/(\w+).+(:[^]+)/,Ft+"box-$1$2"+Bt+"flex-$1$2")+e;case 5443:return Ft+e+Bt+"flex-item-"+ct(e,/flex-|-self/,"")+e;case 4675:return Ft+e+Bt+"flex-line-pack"+ct(e,/align-content|flex-|-self/,"")+e;case 5548:return Ft+e+Bt+ct(e,"shrink","negative")+e;case 5292:return Ft+e+Bt+ct(e,"basis","preferred-size")+e;case 6060:return Ft+"box-"+ct(e,"-grow","")+Ft+e+Bt+ct(e,"grow","positive")+e;case 4554:return Ft+ct(e,/([^-])(transform)/g,"$1"+Ft+"$2")+e;case 6187:return ct(ct(ct(e,/(zoom-|grab)/,Ft+"$1"),/(image-set)/,Ft+"$1"),e,"")+e;case 5495:case 3959:return ct(e,/(image-set\([^]*)/,Ft+"$1$`$1");case 4968:return ct(ct(e,/(.+:)(flex-)?(.*)/,Ft+"box-pack:$3"+Bt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ft+e+e;case 4095:case 3583:case 4068:case 2532:return ct(e,/(.+)-inline(.+)/,Ft+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ft(e)-1-t>6)switch(dt(e,t+1)){case 109:if(45!==dt(e,t+4))break;case 102:return ct(e,/(.+:)(.+)-([^]+)/,"$1"+Ft+"$2-$3$1"+$t+(108==dt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~ut(e,"stretch")?nn(ct(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==dt(e,t+1))break;case 6444:switch(dt(e,ft(e)-3-(~ut(e,"!important")&&10))){case 107:return ct(e,":",":"+Ft)+e;case 101:return ct(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ft+(45===dt(e,14)?"inline-":"")+"box$3$1"+Ft+"$2$3$1"+Bt+"$2box$3")+e}break;case 5936:switch(dt(e,t+11)){case 114:return Ft+e+Bt+ct(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ft+e+Bt+ct(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ft+e+Bt+ct(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ft+e+Bt+e+e}return e}var rn=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ut:e.return=nn(e.value,e.length);break;case zt:return Ht([St(e,{value:ct(e.value,"@","@"+Ft)})],r);case Vt:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return Ht([St(e,{props:[ct(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Ht([St(e,{props:[ct(t,/:(plac\w+)/,":"+Ft+"input-$1")]}),St(e,{props:[ct(t,/:(plac\w+)/,":-moz-$1")]}),St(e,{props:[ct(t,/:(plac\w+)/,Bt+"input-$1")]})],r)}return""}))}}],on=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||rn,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c,u,d,p=[qt,(d=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],f=(c=[en,tn].concat(o,p),u=mt(c),function(e,t,n,r){for(var i="",o=0;o<u;o++)i+=c[o](e,t,n,r)||"";return i});i=function(e,t,n,r){l=n,Ht(Wt(e?e+"{"+t.styles+"}":t.styles),f),r&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new it({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return m.sheet.hydrate(a),m};function sn(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var an=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ln=function(e,t,n){an(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},cn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function un(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var dn=/[A-Z]|^ms/g,pn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fn=function(e){return 45===e.charCodeAt(1)},mn=function(e){return null!=e&&"boolean"!=typeof e},vn=un((function(e){return fn(e)?e:e.replace(dn,"-$&").toLowerCase()})),gn=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(pn,(function(e,t,n){return hn={name:t,styles:n,next:hn},t}))}return 1===cn[e]||fn(e)||"number"!=typeof t||0===t?t:t+"px"};function bn(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return hn={name:i.name,styles:i.styles,next:hn},i.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)hn={name:s.name,styles:s.styles,next:hn},s=s.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=bn(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!=typeof s){var a=s;null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":mn(a)&&(r+=vn(o)+":"+gn(o,a)+";")}else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=bn(e,t,s);switch(o){case"animation":case"animationName":r+=vn(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<s.length;c++)mn(s[c])&&(r+=vn(o)+":"+gn(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=hn,l=n(e);return hn=a,bn(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var hn,xn=/label:\s*([^\s;{]+)\s*(;|$)/g;function yn(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";hn=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=bn(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=bn(n,t,e[s]),r&&(i+=o[s]);xn.lastIndex=0;for(var a,l="";null!==(a=xn.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:hn}}var wn,Sn,jn=!!nt.useInsertionEffect&&nt.useInsertionEffect,En=jn||function(e){return e()},On=(jn||nt.useLayoutEffect,nt.createContext("undefined"!=typeof HTMLElement?on({key:"css"}):null)),In=(On.Provider,function(e){return(0,nt.forwardRef)((function(t,n){var r=(0,nt.useContext)(On);return e(t,r,n)}))}),An=nt.createContext({}),Cn={}.hasOwnProperty,Tn="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Nn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return an(t,n,r),En((function(){return ln(t,n,r)})),null},kn=In((function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var i=e[Tn],o=[r],s="";"string"==typeof e.className?s=sn(t.registered,o,e.className):null!=e.className&&(s=e.className+" ");var a=yn(o,void 0,nt.useContext(An));s+=t.key+"-"+a.name;var l={};for(var c in e)Cn.call(e,c)&&"css"!==c&&c!==Tn&&(l[c]=e[c]);return l.className=s,n&&(l.ref=n),nt.createElement(nt.Fragment,null,nt.createElement(Nn,{cache:t,serialized:a,isStringTag:"string"==typeof i}),nt.createElement(i,l))})),Pn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Rn=un((function(e){return Pn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Dn=function(e){return"theme"!==e},Mn=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?Rn:Dn},Ln=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},Bn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return an(t,n,r),En((function(){return ln(t,n,r)})),null},$n=function e(t,n){var r,i,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var a=Ln(t,n,o),l=a||Mn(s),c=!l("as");return function(){var u=arguments,d=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==u[0]||void 0===u[0].raw)d.push.apply(d,u);else{var p=u[0];d.push(p[0]);for(var f=u.length,m=1;m<f;m++)d.push(u[m],p[m])}var v=In((function(e,t,n){var r=c&&e.as||s,o="",u=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=nt.useContext(An)}"string"==typeof e.className?o=sn(t.registered,u,e.className):null!=e.className&&(o=e.className+" ");var m=yn(d.concat(u),t.registered,p);o+=t.key+"-"+m.name,void 0!==i&&(o+=" "+i);var v=c&&void 0===a?Mn(r):l,g={};for(var b in e)c&&"as"===b||v(b)&&(g[b]=e[b]);return g.className=o,n&&(g.ref=n),nt.createElement(nt.Fragment,null,nt.createElement(Bn,{cache:t,serialized:m,isStringTag:"string"==typeof r}),nt.createElement(r,g))}));return v.displayName=void 0!==r?r:"Styled("+("string"==typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=d,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+i}}),v.withComponent=function(t,r){return e(t,tt({},n,r,{shouldForwardProp:Ln(v,r,!0)})).apply(void 0,d)},v}},Fn=(n(4146),function(e,t){var n=arguments;if(null==t||!Cn.call(t,"css"))return nt.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=kn,i[1]=function(e,t){var n={};for(var r in t)Cn.call(t,r)&&(n[r]=t[r]);return n[Tn]=e,n}(e,t);for(var o=2;o<r;o++)i[o]=n[o];return nt.createElement.apply(null,i)});function Gn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yn(t)}function Vn(e){var t,n;if(void 0===e)return;if(!e)return"0";const r="number"==typeof e?e:Number(e);return"undefined"!=typeof window&&(null===(n=null===(t=window.CSS)||void 0===t?void 0:t.supports)||void 0===n?void 0:n.call(t,"margin",e.toString()))||Number.isNaN(r)?e.toString():`calc(4px * ${e})`}wn=Fn||(Fn={}),Sn||(Sn=wn.JSX||(wn.JSX={})),Vn(2);var Un=Object.defineProperty,zn=Object.defineProperties,Hn=Object.getOwnPropertyDescriptors,qn=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,Kn=Object.prototype.propertyIsEnumerable,Xn=(e,t,n)=>t in e?Un(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yn=(e,t)=>{for(var n in t||(t={}))Wn.call(t,n)&&Xn(e,n,t[n]);if(qn)for(var n of qn(t))Kn.call(t,n)&&Xn(e,n,t[n]);return e},Jn=(e,t)=>zn(e,Hn(t)),Qn=(e,t)=>{var n={};for(var r in e)Wn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&qn)for(var r of qn(e))t.indexOf(r)<0&&Kn.call(e,r)&&(n[r]=e[r]);return n},Zn=Object.defineProperty,er=Object.defineProperties,tr=Object.getOwnPropertyDescriptors,nr=Object.getOwnPropertySymbols,rr=Object.prototype.hasOwnProperty,ir=Object.prototype.propertyIsEnumerable,or=(e,t,n)=>t in e?Zn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sr=(e,t)=>{for(var n in t||(t={}))rr.call(t,n)&&or(e,n,t[n]);if(nr)for(var n of nr(t))ir.call(t,n)&&or(e,n,t[n]);return e},ar=(e,t)=>er(e,tr(t));function lr(...e){}function cr(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function ur(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function dr(e){return e}function pr(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function fr(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function mr(e){const t={};for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function vr(...e){for(const t of e)if(void 0!==t)return t}function gr(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var br,hr="undefined"!=typeof window&&!!(null==(br=window.document)?void 0:br.createElement);function xr(e){return e?"self"in e?e.document:e.ownerDocument||document:document}function yr(e,t=!1){const{activeElement:n}=xr(e);if(!(null==n?void 0:n.nodeName))return null;if(_r(n)&&n.contentDocument)return yr(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=xr(n).getElementById(e);if(t)return t}}return n}function wr(e,t){return e===t||e.contains(t)}function _r(e){return"IFRAME"===e.tagName}function Sr(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==jr.indexOf(e.type)}var jr=["button","color","file","image","reset","submit"];function Er(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function Or(e){return e.isContentEditable||Er(e)}function Ir(e){if(!e)return null;const t=e=>"auto"===e||"scroll"===e;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:n}=getComputedStyle(e);if(t(n))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:n}=getComputedStyle(e);if(t(n))return e}return Ir(e.parentElement)||document.scrollingElement||document.body}function Ar(e,t){const n=e.map(((e,t)=>[t,e]));let r=!1;return n.sort((([e,n],[i,o])=>{const s=t(n),a=t(o);return s===a?0:s&&a?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(s,a)?(e>i&&(r=!0),-1):(e<i&&(r=!0),1):0})),r?n.map((([e,t])=>t)):e}function Cr(e){return Boolean(e.currentTarget&&!wr(e.currentTarget,e.target))}function Tr(e){return e.target===e.currentTarget}function Nr(e,t){const n=new FocusEvent("blur",t),r=e.dispatchEvent(n),i=ar(sr({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",i)),r}function kr(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function Pr(e,t,n,r){const i=(e=>{if(r){const t=setTimeout(e,r);return()=>clearTimeout(t)}const t=requestAnimationFrame(e);return()=>cancelAnimationFrame(t)})((()=>{e.removeEventListener(t,o,!0),n()})),o=()=>{i(),n()};return e.addEventListener(t,o,{once:!0,capture:!0}),i}function Rr(e,t,n,r=window){const i=[];try{r.document.addEventListener(e,t,n);for(const o of Array.from(r.frames))i.push(Rr(e,t,n,o))}catch(e){}return()=>{try{r.document.removeEventListener(e,t,n)}catch(e){}for(const e of i)e()}}var Dr=Yn({},rt),Mr=Dr.useId,Lr=(Dr.useDeferredValue,Dr.useInsertionEffect),Br=hr?nt.useLayoutEffect:nt.useEffect;function $r(e){const t=(0,nt.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return Lr?Lr((()=>{t.current=e})):t.current=e,(0,nt.useCallback)(((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}function Fr(...e){return(0,nt.useMemo)((()=>{if(e.some(Boolean))return t=>{for(const n of e)gr(n,t)}}),e)}function Gr(e){if(Mr){const t=Mr();return e||t}const[t,n]=(0,nt.useState)(e);return Br((()=>{if(e||t)return;const r=Math.random().toString(36).slice(2,8);n(`id-${r}`)}),[e,t]),e||t}function Vr(e,t){const n=(0,nt.useRef)(!1);(0,nt.useEffect)((()=>{if(n.current)return e();n.current=!0}),t),(0,nt.useEffect)((()=>()=>{n.current=!1}),[])}function Ur(e){return $r("function"==typeof e?e:()=>e)}function zr(e,t,n=[]){const r=(0,nt.useCallback)((n=>(e.wrapElement&&(n=e.wrapElement(n)),t(n))),[...n,e.wrapElement]);return Jn(Yn({},e),{wrapElement:r})}var Hr=!1,qr=0,Wr=0;function Kr(e){(function(e){const t=e.movementX||e.screenX-qr,n=e.movementY||e.screenY-Wr;return qr=e.screenX,Wr=e.screenY,t||n||!1})(e)&&(Hr=!0)}function Xr(){Hr=!1}function Yr(e,t){const n=e.__unstableInternals;return pr(n,"Invalid store"),n[t]}function Jr(e,...t){let n=e,r=n,i=Symbol(),o=lr;const s=new Set,a=new Set,l=new Set,c=new Set,u=new Set,d=new WeakMap,p=new WeakMap,f=(e,t,n=c)=>(n.add(t),p.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),p.delete(t),n.delete(t)}),m=(e,o,s=!1)=>{var l;if(!cr(n,e))return;const f=(m=o,v=n[e],function(e){return"function"==typeof e}(m)?m(function(e){return"function"==typeof e}(v)?v():v):m);var m,v;if(f===n[e])return;if(!s)for(const n of t)null==(l=null==n?void 0:n.setState)||l.call(n,e,f);const g=n;n=ar(sr({},n),{[e]:f});const b=Symbol();i=b,a.add(e);const h=(t,r,i)=>{var o;const s=p.get(t);s&&!s.some((t=>i?i.has(t):t===e))||(null==(o=d.get(t))||o(),d.set(t,t(n,r)))};for(const e of c)h(e,g);queueMicrotask((()=>{if(i!==b)return;const e=n;for(const e of u)h(e,r,a);r=e,a.clear()}))},v={getState:()=>n,setState:m,__unstableInternals:{setup:e=>(l.add(e),()=>l.delete(e)),init:()=>{const e=s.size,r=Symbol();s.add(r);const i=()=>{s.delete(r),s.size||o()};if(e)return i;const a=(c=n,Object.keys(c)).map((e=>ur(...t.map((t=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(r&&cr(r,e))return ti(t,[e],(t=>{m(e,t[e],!0)}))})))));var c;const u=[];for(const e of l)u.push(e());const d=t.map(Zr);return o=ur(...a,...u,...d),i},subscribe:(e,t)=>f(e,t),sync:(e,t)=>(d.set(t,t(n,n)),f(e,t)),batch:(e,t)=>(d.set(t,t(n,r)),f(e,t,u)),pick:e=>Jr(function(e,t){const n={};for(const r of t)cr(e,r)&&(n[r]=e[r]);return n}(n,e),v),omit:e=>Jr(function(e,t){const n=sr({},e);for(const e of t)cr(n,e)&&delete n[e];return n}(n,e),v)}};return v}function Qr(e,...t){if(e)return Yr(e,"setup")(...t)}function Zr(e,...t){if(e)return Yr(e,"init")(...t)}function ei(e,...t){if(e)return Yr(e,"subscribe")(...t)}function ti(e,...t){if(e)return Yr(e,"sync")(...t)}function ni(e,...t){if(e)return Yr(e,"batch")(...t)}function ri(e,...t){if(e)return Yr(e,"omit")(...t)}function ii(...e){const t=e.reduce(((e,t)=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);return r?Object.assign(e,r):e}),{}),n=Jr(t,...e);return Object.assign({},...e,n)}var oi=n(19888),{useSyncExternalStore:si}=oi;function ai(e,t=dr){const n=nt.useCallback((t=>e?ei(e,null,t):()=>{}),[e]),r=()=>{const n="string"==typeof t?t:null,r="function"==typeof t?t:null,i=null==e?void 0:e.getState();return r?r(i):i&&n&&cr(i,n)?i[n]:void 0};return si(n,r,r)}function li(e,t,n,r){const i=cr(t,n)?t[n]:void 0,o=r?t[r]:void 0,s=function(e){const t=(0,nt.useRef)(e);return Br((()=>{t.current=e})),t}({value:i,setValue:o});Br((()=>ti(e,[n],((e,t)=>{const{value:r,setValue:i}=s.current;i&&e[n]!==t[n]&&e[n]!==r&&i(e[n])}))),[e,n]),Br((()=>{if(void 0!==i)return e.setState(n,i),ni(e,[n],(()=>{void 0!==i&&e.setState(n,i)}))}))}function ci(e,t){const[n,r]=nt.useState((()=>e(t)));Br((()=>Zr(n)),[n]);const i=nt.useCallback((e=>ai(n,e)),[n]);return[nt.useMemo((()=>Jn(Yn({},n),{useState:i})),[n,i]),$r((()=>{r((n=>e(Yn(Yn({},t),n.getState()))))}))]}function ui(e){const t=[];for(const n of e)t.push(...n);return t}function di(e){return e.slice().reverse()}function pi(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),r=vr(e.items,null==n?void 0:n.items,e.defaultItems,[]),i=new Map(r.map((e=>[e.id,e]))),o={items:r,renderedItems:vr(null==n?void 0:n.renderedItems,[])},s=function(e){return null==e?void 0:e.__unstablePrivateStore}(e.store),a=Jr({items:r,renderedItems:o.renderedItems},s),l=Jr(o,e.store),c=e=>{const t=Ar(e,(e=>e.element));a.setState("renderedItems",t),l.setState("renderedItems",t)};Qr(l,(()=>Zr(a))),Qr(a,(()=>ni(a,["items"],(e=>{l.setState("items",e.items)})))),Qr(a,(()=>ni(a,["renderedItems"],(e=>{let t=!0,n=requestAnimationFrame((()=>{const{renderedItems:t}=l.getState();e.renderedItems!==t&&c(e.renderedItems)}));if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const r=function(e){var t;const n=e.find((e=>!!e.element)),r=[...e].reverse().find((e=>!!e.element));let i=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;i&&(null==r?void 0:r.element);){if(r&&i.contains(r.element))return i;i=i.parentElement}return xr(i).body}(e.renderedItems),i=new IntersectionObserver((()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame((()=>c(e.renderedItems))))}),{root:r});for(const t of e.renderedItems)t.element&&i.observe(t.element);return()=>{cancelAnimationFrame(n),i.disconnect()}}))));const u=(e,t,n=!1)=>{let r;return t((t=>{const n=t.findIndex((({id:t})=>t===e.id)),o=t.slice();if(-1!==n){r=t[n];const s=sr(sr({},r),e);o[n]=s,i.set(e.id,s)}else o.push(e),i.set(e.id,e);return o})),()=>{t((t=>{if(!r)return n&&i.delete(e.id),t.filter((({id:t})=>t!==e.id));const o=t.findIndex((({id:t})=>t===e.id));if(-1===o)return t;const s=t.slice();return s[o]=r,i.set(e.id,r),s}))}},d=e=>u(e,(e=>a.setState("items",e)),!0);return ar(sr({},l),{registerItem:d,renderItem:e=>ur(d(e),u(e,(e=>a.setState("renderedItems",e)))),item:e=>{if(!e)return null;let t=i.get(e);if(!t){const{items:n}=a.getState();t=n.find((t=>t.id===e)),t&&i.set(e,t)}return t||null},__unstablePrivateStore:a})}var fi={id:null};function mi(e,t){return e.find((e=>t?!e.disabled&&e.id!==t:!e.disabled))}function vi(e,t){return e.filter((e=>e.rowId===t))}function gi(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}function bi(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}function hi(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),r=pi(e),i=vr(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),o=Jr(ar(sr({},r.getState()),{id:vr(e.id,null==n?void 0:n.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:i,baseElement:vr(null==n?void 0:n.baseElement,null),includesBaseElement:vr(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===i),moves:vr(null==n?void 0:n.moves,0),orientation:vr(e.orientation,null==n?void 0:n.orientation,"both"),rtl:vr(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:vr(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:vr(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:vr(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:vr(e.focusShift,null==n?void 0:n.focusShift,!1)}),r,e.store);Qr(o,(()=>ti(o,["renderedItems","activeId"],(e=>{o.setState("activeId",(t=>{var n;return void 0!==t?t:null==(n=mi(e.renderedItems))?void 0:n.id}))}))));const s=(e="next",t={})=>{var n,r;const i=o.getState(),{skip:s=0,activeId:a=i.activeId,focusShift:l=i.focusShift,focusLoop:c=i.focusLoop,focusWrap:u=i.focusWrap,includesBaseElement:d=i.includesBaseElement,renderedItems:p=i.renderedItems,rtl:f=i.rtl}=t,m="up"===e||"down"===e,v="next"===e||"down"===e,g=v?f&&!m:!f||m,b=l&&!s;let h=m?ui(function(e,t,n){const r=bi(e);for(const i of e)for(let e=0;e<r;e+=1){const r=i[e];if(!r||n&&r.disabled){const r=0===e&&n?mi(i):i[e-1];i[e]=r&&t!==r.id&&n?r:{id:"__EMPTY_ITEM__",disabled:!0,rowId:null==r?void 0:r.rowId}}}return e}(gi(p),a,b)):p;if(h=g?di(h):h,h=m?function(e){const t=gi(e),n=bi(t),r=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&r.push(ar(sr({},t),{rowId:t.rowId?`${e}`:void 0}))}return r}(h):h,null==a)return null==(n=mi(h))?void 0:n.id;const x=h.find((e=>e.id===a));if(!x)return null==(r=mi(h))?void 0:r.id;const y=h.some((e=>e.rowId)),w=h.indexOf(x),_=h.slice(w+1),S=vi(_,x.rowId);if(s){const e=function(e,t){return e.filter((e=>t?!e.disabled&&e.id!==t:!e.disabled))}(S,a),t=e.slice(s)[0]||e[e.length-1];return null==t?void 0:t.id}const j=c&&(m?"horizontal"!==c:"vertical"!==c),E=y&&u&&(m?"horizontal"!==u:"vertical"!==u),O=v?(!y||m)&&j&&d:!!m&&d;if(j){const e=function(e,t,n=!1){const r=e.findIndex((e=>e.id===t));return[...e.slice(r+1),...n?[fi]:[],...e.slice(0,r)]}(E&&!O?h:vi(h,x.rowId),a,O),t=mi(e,a);return null==t?void 0:t.id}if(E){const e=mi(O?S:_,a);return O?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const I=mi(S,a);return!I&&O?null:null==I?void 0:I.id};return ar(sr(sr({},r),o),{setBaseElement:e=>o.setState("baseElement",e),setActiveId:e=>o.setState("activeId",e),move:e=>{void 0!==e&&(o.setState("activeId",e),o.setState("moves",(e=>e+1)))},first:()=>{var e;return null==(e=mi(o.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=mi(di(o.getState().renderedItems)))?void 0:e.id},next:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),s("next",e)),previous:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),s("previous",e)),down:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),s("down",e)),up:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),s("up",e))})}function xi(e,t,n){return li(e=function(e,t,n){return Vr(t,[n.store]),li(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),li(e,n,"includesBaseElement"),li(e,n,"virtualFocus"),li(e,n,"orientation"),li(e,n,"rtl"),li(e,n,"focusLoop"),li(e,n,"focusWrap"),li(e,n,"focusShift"),e}var yi={id:null};function wi(e,t){return t&&e.item(t)||null}var _i=Symbol("FOCUS_SILENTLY");function Si(e,t,n){if(!t)return!1;if(t===n)return!1;const r=e.item(t.id);return!(!r||n&&r.element===n)}function ji(e){const t=nt.forwardRef(((t,n)=>e(Jn(Yn({},t),{ref:n}))));return t.displayName=e.displayName||e.name,t}function Ei(e,t){return nt.memo(e,t)}function Oi(e,t){const n=t,{wrapElement:r,render:i}=n,o=Qn(n,["wrapElement","render"]),s=Fr(t.ref,function(e){return function(e){return!!e&&!!(0,nt.isValidElement)(e)&&("ref"in e.props||"ref"in e)}(e)?Yn({},e.props).ref||e.ref:null}(i));let l;if(nt.isValidElement(i)){const e=Jn(Yn({},i.props),{ref:s});l=nt.cloneElement(i,function(e,t){const n=Yn({},e);for(const r in t){if(!cr(t,r))continue;if("className"===r){const r="className";n[r]=e[r]?`${e[r]} ${t[r]}`:t[r];continue}if("style"===r){const r="style";n[r]=e[r]?Yn(Yn({},e[r]),t[r]):t[r];continue}const i=t[r];if("function"==typeof i&&r.startsWith("on")){const t=e[r];if("function"==typeof t){n[r]=(...e)=>{i(...e),t(...e)};continue}}n[r]=i}return n}(o,e))}else l=i?i(o):(0,a.jsx)(e,Yn({},o));return r?r(l):l}function Ii(e){const t=(t={})=>e(t);return t.displayName=e.name,t}function Ai(e=[],t=[]){const n=nt.createContext(void 0),r=nt.createContext(void 0),i=()=>nt.useContext(n),o=t=>e.reduceRight(((e,n)=>(0,a.jsx)(n,Jn(Yn({},t),{children:e}))),(0,a.jsx)(n.Provider,Yn({},t)));return{context:n,scopedContext:r,useContext:i,useScopedContext:(e=!1)=>{const t=nt.useContext(r),n=i();return e?t:t||n},useProviderContext:()=>{const e=nt.useContext(r),t=i();if(!e||e!==t)return t},ContextProvider:o,ScopedContextProvider:e=>(0,a.jsx)(o,Jn(Yn({},e),{children:t.reduceRight(((t,n)=>(0,a.jsx)(n,Jn(Yn({},e),{children:t}))),(0,a.jsx)(r.Provider,Yn({},e)))}))}}var Ci=Ai(),Ti=Ci.useContext,Ni=(Ci.useScopedContext,Ci.useProviderContext,Ai([Ci.ContextProvider],[Ci.ScopedContextProvider])),ki=Ni.useContext,Pi=(Ni.useScopedContext,Ni.useProviderContext),Ri=Ni.ContextProvider,Di=Ni.ScopedContextProvider,Mi=(0,nt.createContext)(void 0),Li=(0,nt.createContext)(void 0),Bi=(0,nt.createContext)(!0),$i="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function Fi(e){return!!e.matches($i)&&!!function(e){if("function"==typeof e.checkVisibility)return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!e.closest("[inert]")}function Gi(e){if(!Fi(e))return!1;if(function(e){return Number.parseInt(e.getAttribute("tabindex")||"0",10)<0}(e))return!1;if(!("form"in e))return!0;if(!e.form)return!0;if(e.checked)return!0;if("radio"!==e.type)return!0;const t=e.form.elements.namedItem(e.name);if(!t)return!0;if(!("length"in t))return!0;const n=yr(e);return!n||n===e||!("form"in n)||n.form!==e.form||n.name!==e.name}function Vi(e,t,n){const r=Array.from(e.querySelectorAll($i)),i=r.filter(Gi);return t&&Gi(e)&&i.unshift(e),i.forEach(((e,t)=>{if(_r(e)&&e.contentDocument){const r=Vi(e.contentDocument.body,!1,n);i.splice(t,1,...r)}})),!i.length&&n?r:i}function Ui(e){const t=yr(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function zi(e){const t=yr(e);if(!t)return!1;if(wr(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}function Hi(){return hr&&!!hr&&/mac|iphone|ipad|ipod/i.test(navigator.platform)&&/apple/i.test(navigator.vendor)}var qi=Hi(),Wi=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],Ki=Symbol("safariFocusAncestor");function Xi(e,t){e&&(e[Ki]=t)}function Yi(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function Ji(e,t,n,r,i){return e?t?n&&!r?-1:void 0:n?i:i||0:i}function Qi(e,t){return $r((n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())}))}var Zi=!0;function eo(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(Zi=!1))}function to(e){e.metaKey||e.ctrlKey||e.altKey||(Zi=!0)}var no=Ii((function(e){var t=e,{focusable:n=!0,accessibleWhenDisabled:r,autoFocus:i,onFocusVisible:o}=t,s=Qn(t,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const a=(0,nt.useRef)(null);(0,nt.useEffect)((()=>{n&&(Rr("mousedown",eo,!0),Rr("keydown",to,!0))}),[n]),qi&&(0,nt.useEffect)((()=>{if(!n)return;const e=a.current;if(!e)return;if(!Yi(e))return;const t=function(e){return"labels"in e?e.labels:null}(e);if(!t)return;const r=()=>queueMicrotask((()=>e.focus()));for(const e of t)e.addEventListener("mouseup",r);return()=>{for(const e of t)e.removeEventListener("mouseup",r)}}),[n]);const l=n&&fr(s),c=!!l&&!r,[u,d]=(0,nt.useState)(!1);(0,nt.useEffect)((()=>{n&&c&&u&&d(!1)}),[n,c,u]),(0,nt.useEffect)((()=>{if(!n)return;if(!u)return;const e=a.current;if(!e)return;if("undefined"==typeof IntersectionObserver)return;const t=new IntersectionObserver((()=>{Fi(e)||d(!1)}));return t.observe(e),()=>t.disconnect()}),[n,u]);const p=Qi(s.onKeyPressCapture,l),f=Qi(s.onMouseDownCapture,l),m=Qi(s.onClickCapture,l),v=s.onMouseDown,g=$r((e=>{if(null==v||v(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget;if(!qi)return;if(Cr(e))return;if(!Sr(t)&&!Yi(t))return;let r=!1;const i=()=>{r=!0};t.addEventListener("focusin",i,{capture:!0,once:!0});const o=function(e){for(;e&&!Fi(e);)e=e.closest($i);return e||null}(t.parentElement);Xi(o,!0),Pr(t,"mouseup",(()=>{t.removeEventListener("focusin",i,!0),Xi(o,!1),r||function(e){!zi(e)&&Fi(e)&&e.focus()}(t)}))})),b=(e,t)=>{if(t&&(e.currentTarget=t),!n)return;const r=e.currentTarget;r&&Ui(r)&&(null==o||o(e),e.defaultPrevented||(r.dataset.focusVisible="true",d(!0)))},h=s.onKeyDownCapture,x=$r((e=>{if(null==h||h(e),e.defaultPrevented)return;if(!n)return;if(u)return;if(e.metaKey)return;if(e.altKey)return;if(e.ctrlKey)return;if(!Tr(e))return;const t=e.currentTarget;Pr(t,"focusout",(()=>b(e,t)))})),y=s.onFocusCapture,w=$r((e=>{if(null==y||y(e),e.defaultPrevented)return;if(!n)return;if(!Tr(e))return void d(!1);const t=e.currentTarget;Zi||function(e){const{tagName:t,readOnly:n,type:r}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable||!("combobox"!==e.getAttribute("role")||!e.dataset.name):Wi.includes(r))}(e.target)?Pr(e.target,"focusout",(()=>b(e,t))):d(!1)})),_=s.onBlur,S=$r((e=>{null==_||_(e),n&&function(e){const t=e.currentTarget,n=e.relatedTarget;return!n||!wr(t,n)}(e)&&(e.currentTarget.removeAttribute("data-focus-visible"),d(!1))})),j=(0,nt.useContext)(Bi),E=$r((e=>{n&&i&&e&&j&&queueMicrotask((()=>{Ui(e)||Fi(e)&&e.focus()}))})),O=function(e,t){const n=e=>{if("string"==typeof e)return e},[r,i]=(0,nt.useState)((()=>n(t)));return Br((()=>{const r=e&&"current"in e?e.current:e;i((null==r?void 0:r.tagName.toLowerCase())||n(t))}),[e,t]),r}(a),I=n&&function(e){return!e||"button"===e||"summary"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(O),A=n&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(O),C=s.style,T=(0,nt.useMemo)((()=>c?Yn({pointerEvents:"none"},C):C),[c,C]);return mr(s=Jn(Yn({"data-focus-visible":n&&u||void 0,"data-autofocus":i||void 0,"aria-disabled":l||void 0},s),{ref:Fr(a,E,s.ref),style:T,tabIndex:Ji(n,c,I,A,s.tabIndex),disabled:!(!A||!c)||void 0,contentEditable:l?void 0:s.contentEditable,onKeyPressCapture:p,onClickCapture:m,onMouseDownCapture:f,onMouseDown:g,onKeyDownCapture:x,onFocusCapture:w,onBlur:S}))}));function ro(e,t,n){return $r((r=>{var i;if(null==t||t(r),r.defaultPrevented)return;if(r.isPropagationStopped())return;if(!Tr(r))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(r))return;if(function(e){const t=e.target;return!(t&&!Er(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(r))return;const o=e.getState(),s=null==(i=wi(e,o.activeId))?void 0:i.element;if(!s)return;const a=r,{view:l}=a,c=Qn(a,["view"]);s!==(null==n?void 0:n.current)&&s.focus(),function(e,t,n){const r=new KeyboardEvent(t,n);return e.dispatchEvent(r)}(s,r.type,c)||r.preventDefault(),r.currentTarget.contains(s)&&r.stopPropagation()}))}ji((function(e){return Oi("div",no(e))}));var io=Ii((function(e){var t=e,{store:n,composite:r=!0,focusOnMove:i=r,moveOnKeyPress:o=!0}=t,s=Qn(t,["store","composite","focusOnMove","moveOnKeyPress"]);const l=Pi();pr(n=n||l,!1);const c=(0,nt.useRef)(null),u=(0,nt.useRef)(null),d=function(e){const[t,n]=(0,nt.useState)(!1),r=(0,nt.useCallback)((()=>n(!0)),[]),i=e.useState((t=>wi(e,t.activeId)));return(0,nt.useEffect)((()=>{const e=null==i?void 0:i.element;t&&e&&(n(!1),e.focus({preventScroll:!0}))}),[i,t]),r}(n),p=n.useState("moves"),[,f]=function(e){const[t,n]=(0,nt.useState)(null);return Br((()=>{if(null==t)return;if(!e)return;let n=null;return e((e=>(n=e,t))),()=>{e(n)}}),[t,e]),[t,n]}(r?n.setBaseElement:null);(0,nt.useEffect)((()=>{var e;if(!n)return;if(!p)return;if(!r)return;if(!i)return;const{activeId:t}=n.getState(),o=null==(e=wi(n,t))?void 0:e.element;var s;o&&("scrollIntoView"in(s=o)?(s.focus({preventScroll:!0}),s.scrollIntoView(sr({block:"nearest",inline:"nearest"},undefined))):s.focus())}),[n,p,r,i]),Br((()=>{if(!n)return;if(!p)return;if(!r)return;const{baseElement:e,activeId:t}=n.getState();if(null!==t)return;if(!e)return;const i=u.current;u.current=null,i&&Nr(i,{relatedTarget:e}),Ui(e)||e.focus()}),[n,p,r]);const m=n.useState("activeId"),v=n.useState("virtualFocus");Br((()=>{var e;if(!n)return;if(!r)return;if(!v)return;const t=u.current;if(u.current=null,!t)return;const i=(null==(e=wi(n,m))?void 0:e.element)||yr(t);i!==t&&Nr(t,{relatedTarget:i})}),[n,m,v,r]);const g=ro(n,s.onKeyDownCapture,u),b=ro(n,s.onKeyUpCapture,u),h=s.onFocusCapture,x=$r((e=>{if(null==h||h(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:t}=n.getState();if(!t)return;const r=e.relatedTarget,i=function(e){const t=e[_i];return delete e[_i],t}(e.currentTarget);Tr(e)&&i&&(e.stopPropagation(),u.current=r)})),y=s.onFocus,w=$r((e=>{if(null==y||y(e),e.defaultPrevented)return;if(!r)return;if(!n)return;const{relatedTarget:t}=e,{virtualFocus:i}=n.getState();i?Tr(e)&&!Si(n,t)&&queueMicrotask(d):Tr(e)&&n.setActiveId(null)})),_=s.onBlurCapture,S=$r((e=>{var t;if(null==_||_(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:r,activeId:i}=n.getState();if(!r)return;const o=null==(t=wi(n,i))?void 0:t.element,s=e.relatedTarget,a=Si(n,s),l=u.current;u.current=null,Tr(e)&&a?(s===o?l&&l!==s&&Nr(l,e):o?Nr(o,e):l&&Nr(l,e),e.stopPropagation()):!Si(n,e.target)&&o&&Nr(o,e)})),j=s.onKeyDown,E=Ur(o),O=$r((e=>{var t;if(null==j||j(e),e.nativeEvent.isComposing)return;if(e.defaultPrevented)return;if(!n)return;if(!Tr(e))return;const{orientation:r,renderedItems:i,activeId:o}=n.getState(),s=wi(n,o);if(null==(t=null==s?void 0:s.element)?void 0:t.isConnected)return;const a="horizontal"!==r,l="vertical"!==r,c=i.some((e=>!!e.rowId));if(("ArrowLeft"===e.key||"ArrowRight"===e.key||"Home"===e.key||"End"===e.key)&&Er(e.currentTarget))return;const u={ArrowUp:(c||a)&&(()=>{if(c){const e=function(e){return e.find((e=>!e.disabled))}(ui(di(function(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}(i))));return null==e?void 0:e.id}return null==n?void 0:n.last()}),ArrowRight:(c||l)&&n.first,ArrowDown:(c||a)&&n.first,ArrowLeft:(c||l)&&n.last,Home:n.first,End:n.last,PageUp:n.first,PageDown:n.last},d=u[e.key];if(d){const t=d();if(void 0!==t){if(!E(e))return;e.preventDefault(),n.move(t)}}}));s=zr(s,(e=>(0,a.jsx)(Ri,{value:n,children:e})),[n]);const I=n.useState((e=>{var t;if(n&&r&&e.virtualFocus)return null==(t=wi(n,e.activeId))?void 0:t.id}));s=Jn(Yn({"aria-activedescendant":I},s),{ref:Fr(c,f,s.ref),onKeyDownCapture:g,onKeyUpCapture:b,onFocusCapture:x,onFocus:w,onBlurCapture:S,onKeyDown:O});const A=n.useState((e=>r&&(e.virtualFocus||null===e.activeId)));return no(Yn({focusable:A},s))})),oo=ji((function(e){return Oi("div",io(e))}));const so=(0,p.createContext)({}),ao=()=>(0,p.useContext)(so);var lo=(0,nt.createContext)(void 0),co=Ii((function(e){const[t,n]=(0,nt.useState)();return e=zr(e,(e=>(0,a.jsx)(lo.Provider,{value:n,children:e})),[]),mr(e=Yn({role:"group","aria-labelledby":t},e))})),uo=(ji((function(e){return Oi("div",co(e))})),Ii((function(e){var t=e,{store:n}=t,r=Qn(t,["store"]);return co(r)}))),po=ji((function(e){return Oi("div",uo(e))}));const fo=(0,p.forwardRef)((function(e,t){var n;const r=ao(),i=null!==(n=e.store)&&void 0!==n?n:r.store;return(0,a.jsx)(po,Object.assign({store:i},e,{ref:t}))}));var mo=Ii((function(e){const t=(0,nt.useContext)(lo),n=Gr(e.id);return Br((()=>(null==t||t(n),()=>null==t?void 0:t(void 0))),[t,n]),mr(e=Yn({id:n,"aria-hidden":!0},e))})),vo=(ji((function(e){return Oi("div",mo(e))})),Ii((function(e){var t=e,{store:n}=t,r=Qn(t,["store"]);return mo(r)}))),go=ji((function(e){return Oi("div",vo(e))}));const bo=(0,p.forwardRef)((function(e,t){var n;const r=ao(),i=null!==(n=e.store)&&void 0!==n?n:r.store;return(0,a.jsx)(go,Object.assign({store:i},e,{ref:t}))}));function ho(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var xo=Symbol("composite-hover"),yo=Ii((function(e){var t=e,{store:n,focusOnHover:r=!0,blurOnHoverEnd:i=!!r}=t,o=Qn(t,["store","focusOnHover","blurOnHoverEnd"]);const s=ki();pr(n=n||s,!1);const a=((0,nt.useEffect)((()=>{Rr("mousemove",Kr,!0),Rr("mousedown",Xr,!0),Rr("mouseup",Xr,!0),Rr("keydown",Xr,!0),Rr("scroll",Xr,!0)}),[]),$r((()=>Hr))),l=o.onMouseMove,c=Ur(r),u=$r((e=>{if(null==l||l(e),!e.defaultPrevented&&a()&&c(e)){if(!zi(e.currentTarget)){const e=null==n?void 0:n.getState().baseElement;e&&!Ui(e)&&e.focus()}null==n||n.setActiveId(e.currentTarget.id)}})),d=o.onMouseLeave,p=Ur(i),f=$r((e=>{var t;null==d||d(e),e.defaultPrevented||a()&&(function(e){const t=ho(e);return!!t&&wr(e.currentTarget,t)}(e)||function(e){let t=ho(e);if(!t)return!1;do{if(cr(t,xo)&&t[xo])return!0;t=t.parentElement}while(t);return!1}(e)||c(e)&&p(e)&&(null==n||n.setActiveId(null),null==(t=null==n?void 0:n.getState().baseElement)||t.focus()))})),m=(0,nt.useCallback)((e=>{e&&(e[xo]=!0)}),[]);return mr(o=Jn(Yn({},o),{ref:Fr(m,o.ref),onMouseMove:u,onMouseLeave:f}))})),wo=Ei(ji((function(e){return Oi("div",yo(e))})));const _o=(0,p.forwardRef)((function(e,t){var n;const r=ao(),i=null!==(n=e.store)&&void 0!==n?n:r.store;return(0,a.jsx)(wo,Object.assign({store:i},e,{ref:t}))}));var So=Ii((function(e){var t=e,{store:n,shouldRegisterItem:r=!0,getItem:i=dr,element:o}=t,s=Qn(t,["store","shouldRegisterItem","getItem","element"]);const a=Ti();n=n||a;const l=Gr(s.id),c=(0,nt.useRef)(o);return(0,nt.useEffect)((()=>{const e=c.current;if(!l)return;if(!e)return;if(!r)return;const t=i({id:l,element:e});return null==n?void 0:n.renderItem(t)}),[l,r,i,n]),mr(s=Jn(Yn({},s),{ref:Fr(c,s.ref)}))}));function jo(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?Sr(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(Sr(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}ji((function(e){return Oi("div",So(e))}));var Eo=Symbol("command"),Oo=Ii((function(e){var t=e,{clickOnEnter:n=!0,clickOnSpace:r=!0}=t,i=Qn(t,["clickOnEnter","clickOnSpace"]);const o=(0,nt.useRef)(null),[s,a]=(0,nt.useState)(!1);(0,nt.useEffect)((()=>{o.current&&a(Sr(o.current))}),[]);const[l,c]=(0,nt.useState)(!1),u=(0,nt.useRef)(!1),d=fr(i),[p,f]=function(e,t,n){const r=e.onLoadedMetadataCapture,i=(0,nt.useMemo)((()=>Object.assign((()=>{}),Jn(Yn({},r),{[t]:n}))),[r,t,n]);return[null==r?void 0:r[t],{onLoadedMetadataCapture:i}]}(i,Eo,!0),m=i.onKeyDown,v=$r((e=>{null==m||m(e);const t=e.currentTarget;if(e.defaultPrevented)return;if(p)return;if(d)return;if(!Tr(e))return;if(Er(t))return;if(t.isContentEditable)return;const i=n&&"Enter"===e.key,o=r&&" "===e.key,s="Enter"===e.key&&!n,a=" "===e.key&&!r;if(s||a)e.preventDefault();else if(i||o){const n=jo(e);if(i){if(!n){e.preventDefault();const n=e,{view:r}=n,i=Qn(n,["view"]),o=()=>kr(t,i);hr&&/firefox\//i.test(navigator.userAgent)?Pr(t,"keyup",o):queueMicrotask(o)}}else o&&(u.current=!0,n||(e.preventDefault(),c(!0)))}})),g=i.onKeyUp,b=$r((e=>{if(null==g||g(e),e.defaultPrevented)return;if(p)return;if(d)return;if(e.metaKey)return;const t=r&&" "===e.key;if(u.current&&t&&(u.current=!1,!jo(e))){e.preventDefault(),c(!1);const t=e.currentTarget,n=e,{view:r}=n,i=Qn(n,["view"]);queueMicrotask((()=>kr(t,i)))}}));return i=Jn(Yn(Yn({"data-active":l||void 0,type:s?"button":void 0},f),i),{ref:Fr(o,i.ref),onKeyDown:v,onKeyUp:b}),no(i)}));function Io(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function Ao(e,t,n,r=!1){var i;if(!t)return;if(!n)return;const{renderedItems:o}=t.getState(),s=Ir(e);if(!s)return;const a=function(e,t=!1){const n=e.clientHeight,{top:r}=e.getBoundingClientRect(),i=1.5*Math.max(.875*n,n-40),o=t?n-i+r:i+r;return"HTML"===e.tagName?o+e.scrollTop:o}(s,r);let l,c;for(let e=0;e<o.length;e+=1){const o=l;if(l=n(e),!l)break;if(l===o)continue;const s=null==(i=wi(t,l))?void 0:i.element;if(!s)continue;const u=Io(s,r)-a,d=Math.abs(u);if(r&&u<=0||!r&&u>=0){void 0!==c&&c<d&&(l=o);break}c=d}return l}ji((function(e){return Oi("button",Oo(e))}));var Co=Ii((function(e){var t=e,{store:n,rowId:r,preventScrollOnKeyDown:i=!1,moveOnKeyPress:o=!0,tabbable:s=!1,getItem:l,"aria-setsize":c,"aria-posinset":u}=t,d=Qn(t,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const p=ki();n=n||p;const f=Gr(d.id),m=(0,nt.useRef)(null),v=(0,nt.useContext)(Li),g=fr(d)&&!d.accessibleWhenDisabled,{rowId:b,baseElement:h,isActiveItem:x,ariaSetSize:y,ariaPosInSet:w,isTabbable:_}=function(e,t){const n=nt.useRef({}),r=nt.useCallback((t=>e?ei(e,null,t):()=>{}),[e]),i=()=>{const r=null==e?void 0:e.getState();let i=!1;const o=n.current;for(const e in t){const n=t[e];if("function"==typeof n){const t=n(r);t!==o[e]&&(o[e]=t,i=!0)}if("string"==typeof n){if(!r)continue;if(!cr(r,n))continue;const t=r[n];t!==o[e]&&(o[e]=t,i=!0)}}return i&&(n.current=Yn({},o)),n.current};return si(r,i,i)}(n,{rowId:e=>r||(e&&(null==v?void 0:v.baseElement)&&v.baseElement===e.baseElement?v.id:void 0),baseElement:e=>(null==e?void 0:e.baseElement)||void 0,isActiveItem:e=>!!e&&e.activeId===f,ariaSetSize:e=>null!=c?c:e&&(null==v?void 0:v.ariaSetSize)&&v.baseElement===e.baseElement?v.ariaSetSize:void 0,ariaPosInSet(e){if(null!=u)return u;if(!e)return;if(!(null==v?void 0:v.ariaPosInSet))return;if(v.baseElement!==e.baseElement)return;const t=e.renderedItems.filter((e=>e.rowId===b));return v.ariaPosInSet+t.findIndex((e=>e.id===f))},isTabbable(e){if(!(null==e?void 0:e.renderedItems.length))return!0;if(e.virtualFocus)return!1;if(s)return!0;if(null===e.activeId)return!1;const t=null==n?void 0:n.item(e.activeId);return!!(null==t?void 0:t.disabled)||!(null==t?void 0:t.element)||e.activeId===f}}),S=(0,nt.useCallback)((e=>{var t;const n=Jn(Yn({},e),{id:f||e.id,rowId:b,disabled:!!g,children:null==(t=e.element)?void 0:t.textContent});return l?l(n):n}),[f,b,g,l]),j=d.onFocus,E=(0,nt.useRef)(!1),O=$r((e=>{if(null==j||j(e),e.defaultPrevented)return;if(Cr(e))return;if(!f)return;if(!n)return;if(function(e,t){return!Tr(e)&&Si(t,e.target)}(e,n))return;const{virtualFocus:t,baseElement:r}=n.getState();var i;(n.setActiveId(f),Or(e.currentTarget)&&function(e,t=!1){if(Er(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const n=xr(e).getSelection();null==n||n.selectAllChildren(e),t&&(null==n||n.collapseToEnd())}}(e.currentTarget),t)&&(Tr(e)&&(Or(i=e.currentTarget)||"INPUT"===i.tagName&&!Sr(i)||(null==r?void 0:r.isConnected)&&(Hi()&&e.currentTarget.hasAttribute("data-autofocus")&&e.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),E.current=!0,e.relatedTarget===r||Si(n,e.relatedTarget)?function(e){e[_i]=!0,e.focus({preventScroll:!0})}(r):r.focus())))})),I=d.onBlurCapture,A=$r((e=>{if(null==I||I(e),e.defaultPrevented)return;const t=null==n?void 0:n.getState();(null==t?void 0:t.virtualFocus)&&E.current&&(E.current=!1,e.preventDefault(),e.stopPropagation())})),C=d.onKeyDown,T=Ur(i),N=Ur(o),k=$r((e=>{if(null==C||C(e),e.defaultPrevented)return;if(!Tr(e))return;if(!n)return;const{currentTarget:t}=e,r=n.getState(),i=n.item(f),o=!!(null==i?void 0:i.rowId),s="horizontal"!==r.orientation,a="vertical"!==r.orientation,l=()=>!(!o&&!a&&r.baseElement&&Er(r.baseElement)),c={ArrowUp:(o||s)&&n.up,ArrowRight:(o||a)&&n.next,ArrowDown:(o||s)&&n.down,ArrowLeft:(o||a)&&n.previous,Home:()=>{if(l())return!o||e.ctrlKey?null==n?void 0:n.first():null==n?void 0:n.previous(-1)},End:()=>{if(l())return!o||e.ctrlKey?null==n?void 0:n.last():null==n?void 0:n.next(-1)},PageUp:()=>Ao(t,n,null==n?void 0:n.up,!0),PageDown:()=>Ao(t,n,null==n?void 0:n.down)}[e.key];if(c){if(Or(t)){const n=function(e){let t=0,n=0;if(Er(e))t=e.selectionStart||0,n=e.selectionEnd||0;else if(e.isContentEditable){const r=xr(e).getSelection();if((null==r?void 0:r.rangeCount)&&r.anchorNode&&wr(e,r.anchorNode)&&r.focusNode&&wr(e,r.focusNode)){const i=r.getRangeAt(0),o=i.cloneRange();o.selectNodeContents(e),o.setEnd(i.startContainer,i.startOffset),t=o.toString().length,o.setEnd(i.endContainer,i.endOffset),n=o.toString().length}}return{start:t,end:n}}(t),r=a&&"ArrowLeft"===e.key,i=a&&"ArrowRight"===e.key,o=s&&"ArrowUp"===e.key,l=s&&"ArrowDown"===e.key;if(i||l){const{length:e}=function(e){if(Er(e))return e.value;if(e.isContentEditable){const t=xr(e).createRange();return t.selectNodeContents(e),t.toString()}return""}(t);if(n.end!==e)return}else if((r||o)&&0!==n.start)return}const r=c();if(T(e)||void 0!==r){if(!N(e))return;e.preventDefault(),n.move(r)}}})),P=(0,nt.useMemo)((()=>({id:f,baseElement:h})),[f,h]);return d=zr(d,(e=>(0,a.jsx)(Mi.Provider,{value:P,children:e})),[P]),d=Jn(Yn({id:f,"data-active-item":x||void 0},d),{ref:Fr(m,d.ref),tabIndex:_?d.tabIndex:-1,onFocus:O,onBlurCapture:A,onKeyDown:k}),d=Oo(d),d=So(Jn(Yn({store:n},d),{getItem:S,shouldRegisterItem:!!f&&d.shouldRegisterItem})),mr(Jn(Yn({},d),{"aria-setsize":y,"aria-posinset":w}))})),To=Ei(ji((function(e){return Oi("button",Co(e))})));const No=(0,p.forwardRef)((function(e,t){var n;const r=ao(),i=null!==(n=e.store)&&void 0!==n?n:r.store;return(0,a.jsx)(To,Object.assign({store:i},e,{ref:t}))}));var ko=Ii((function(e){var t=e,{store:n,"aria-setsize":r,"aria-posinset":i}=t,o=Qn(t,["store","aria-setsize","aria-posinset"]);const s=ki();pr(n=n||s,!1);const l=Gr(o.id),c=n.useState((e=>e.baseElement||void 0)),u=(0,nt.useMemo)((()=>({id:l,baseElement:c,ariaSetSize:r,ariaPosInSet:i})),[l,c,r,i]);return o=zr(o,(e=>(0,a.jsx)(Li.Provider,{value:u,children:e})),[u]),mr(o=Yn({id:l},o))})),Po=ji((function(e){return Oi("div",ko(e))}));const Ro=(0,p.forwardRef)((function(e,t){var n;const r=ao(),i=null!==(n=e.store)&&void 0!==n?n:r.store;return(0,a.jsx)(Po,Object.assign({store:i},e,{ref:t}))}));var Do="";function Mo(){Do=""}function Lo(e,t){var n;const r=(null==(n=e.element)?void 0:n.textContent)||e.children||"value"in e&&e.value;return!!r&&(i=r,i.normalize("NFD").replace(/[\u0300-\u036f]/g,"")).trim().toLowerCase().startsWith(t.toLowerCase());var i}var Bo=Ii((function(e){var t=e,{store:n,typeahead:r=!0}=t,i=Qn(t,["store","typeahead"]);const o=ki();pr(n=n||o,!1);const s=i.onKeyDownCapture,a=(0,nt.useRef)(0),l=$r((e=>{if(null==s||s(e),e.defaultPrevented)return;if(!r)return;if(!n)return;if(!function(e){const t=e.target;return(!t||!Er(t))&&(!(" "!==e.key||!Do.length)||1===e.key.length&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(e.key))}(e))return Mo();const{renderedItems:t,items:i,activeId:o,id:l}=n.getState();let c=function(e){return e.filter((e=>!e.disabled))}(i.length>t.length?i:t);const u=`[data-offscreen-id="${l}"]`,d=xr(e.currentTarget).querySelectorAll(u);for(const e of d){const t="true"===e.ariaDisabled||"disabled"in e&&!!e.disabled;c.push({id:e.id,element:e,disabled:t})}if(d.length&&(c=Ar(c,(e=>e.element))),!function(e,t){if(Tr(e))return!0;const n=e.target;return!!n&&t.some((e=>e.element===n))}(e,c))return Mo();e.preventDefault(),window.clearTimeout(a.current),a.current=window.setTimeout((()=>{Do=""}),500);const p=e.key.toLowerCase();Do+=p,c=function(e,t,n){if(!n)return e;const r=e.find((e=>e.id===n));return r&&Lo(r,t)?Do!==t&&Lo(r,Do)?e:(Do=t,function(e,t,n=!1){const r=e.findIndex((e=>e.id===t));return[...e.slice(r+1),...n?[yi]:[],...e.slice(0,r)]}(e.filter((e=>Lo(e,Do))),n).filter((e=>e.id!==n))):e}(c,p,o);const f=c.find((e=>Lo(e,Do)));f?n.move(f.id):Mo()}));return mr(i=Jn(Yn({},i),{onKeyDownCapture:l}))})),$o=ji((function(e){return Oi("div",Bo(e))}));const Fo=(0,p.forwardRef)((function(e,t){var n;const r=ao(),i=null!==(n=e.store)&&void 0!==n?n:r.store;return(0,a.jsx)($o,Object.assign({store:i},e,{ref:t}))}));Object.assign((0,p.forwardRef)((function(e,t){var{activeId:n,defaultActiveId:r,setActiveId:i,focusLoop:o=!1,focusWrap:s=!1,focusShift:l=!1,virtualFocus:c=!1,orientation:u="both",rtl:d=(0,Le.isRTL)(),children:f,disabled:m=!1}=e,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["activeId","defaultActiveId","setActiveId","focusLoop","focusWrap","focusShift","virtualFocus","orientation","rtl","children","disabled"]);const g=v.store,b=function(e={}){e=function(e){const t=Gr(e.id);return Yn({id:t},e)}(e);const[t,n]=ci(hi,e);return xi(t,n,e)}({activeId:n,defaultActiveId:r,setActiveId:i,focusLoop:o,focusWrap:s,focusShift:l,virtualFocus:c,orientation:u,rtl:d}),h=null!=g?g:b,x=(0,p.useMemo)((()=>({store:h})),[h]);return(0,a.jsx)(oo,Object.assign({disabled:m,store:h},v,{ref:t,children:(0,a.jsx)(so.Provider,{value:x,children:f})}))})),{Group:Object.assign(fo,{displayName:"Composite.Group"}),GroupLabel:Object.assign(bo,{displayName:"Composite.GroupLabel"}),Item:Object.assign(No,{displayName:"Composite.Item"}),Row:Object.assign(Ro,{displayName:"Composite.Row"}),Hover:Object.assign(_o,{displayName:"Composite.Hover"}),Typeahead:Object.assign(Fo,{displayName:"Composite.Typeahead"}),Context:Object.assign(so,{displayName:"Composite.Context"})});const Go=window.wp.compose,Vo={name:"9amh4a",styles:"font-size:11px;font-weight:500;line-height:1.4;text-transform:uppercase"},Uo="#fff",zo={900:"#1e1e1e",800:"#2f2f2f",700:"#757575",600:"#949494",400:"#ccc",300:"#ddd",200:"#e0e0e0",100:"#f0f0f0"},Ho={accent:"var(--wp-components-color-accent, var(--wp-admin-theme-color, #3858e9))",accentDarker10:"var(--wp-components-color-accent-darker-10, var(--wp-admin-theme-color-darker-10, #2145e6))",accentDarker20:"var(--wp-components-color-accent-darker-20, var(--wp-admin-theme-color-darker-20, #183ad6))",accentInverted:`var(--wp-components-color-accent-inverted, ${Uo})`,background:`var(--wp-components-color-background, ${Uo})`,foreground:`var(--wp-components-color-foreground, ${zo[900]})`,foregroundInverted:`var(--wp-components-color-foreground-inverted, ${Uo})`,gray:{900:`var(--wp-components-color-foreground, ${zo[900]})`,800:`var(--wp-components-color-gray-800, ${zo[800]})`,700:`var(--wp-components-color-gray-700, ${zo[700]})`,600:`var(--wp-components-color-gray-600, ${zo[600]})`,400:`var(--wp-components-color-gray-400, ${zo[400]})`,300:`var(--wp-components-color-gray-300, ${zo[300]})`,200:`var(--wp-components-color-gray-200, ${zo[200]})`,100:`var(--wp-components-color-gray-100, ${zo[100]})`}},qo={background:Ho.background,backgroundDisabled:Ho.gray[100],border:Ho.gray[600],borderHover:Ho.gray[700],borderFocus:Ho.accent,borderDisabled:Ho.gray[400],textDisabled:Ho.gray[600],darkGrayPlaceholder:`color-mix(in srgb, ${Ho.foreground}, transparent 38%)`,lightGrayPlaceholder:`color-mix(in srgb, ${Ho.background}, transparent 35%)`},Wo=Object.freeze({gray:zo,white:Uo,alert:{yellow:"#f0b849",red:"#d94f4f",green:"#4ab866"},theme:Ho,ui:qo}),Ko="36px",Xo={controlPaddingX:12,controlPaddingXSmall:8,controlPaddingXLarge:12*1.3334,controlBoxShadowFocus:`0 0 0 0.5px ${Wo.theme.accent}`,controlHeight:Ko,controlHeightXSmall:`calc( ${Ko} * 0.6 )`,controlHeightSmall:`calc( ${Ko} * 0.8 )`,controlHeightLarge:`calc( ${Ko} * 1.2 )`,controlHeightXLarge:`calc( ${Ko} * 1.4 )`},Yo=Object.assign({},Xo,{colorDivider:"rgba(0, 0, 0, 0.1)",colorScrollbarThumb:"rgba(0, 0, 0, 0.2)",colorScrollbarThumbHover:"rgba(0, 0, 0, 0.5)",colorScrollbarTrack:"rgba(0, 0, 0, 0.04)",elevationIntensity:1,radiusXSmall:"1px",radiusSmall:"2px",radiusMedium:"4px",radiusLarge:"8px",radiusFull:"9999px",radiusRound:"50%",borderWidth:"1px",borderWidthFocus:"1.5px",borderWidthTab:"4px",spinnerSize:16,fontSize:"13px",fontSizeH1:"calc(2.44 * 13px)",fontSizeH2:"calc(1.95 * 13px)",fontSizeH3:"calc(1.56 * 13px)",fontSizeH4:"calc(1.25 * 13px)",fontSizeH5:"13px",fontSizeH6:"calc(0.8 * 13px)",fontSizeInputMobile:"16px",fontSizeMobile:"15px",fontSizeSmall:"calc(0.92 * 13px)",fontSizeXSmall:"calc(0.75 * 13px)",fontLineHeightBase:"1.4",fontWeight:"normal",fontWeightHeading:"600",gridBase:"4px",cardPaddingXSmall:`${Vn(2)}`,cardPaddingSmall:`${Vn(4)}`,cardPaddingMedium:`${Vn(4)} ${Vn(6)}`,cardPaddingLarge:`${Vn(6)} ${Vn(8)}`,elevationXSmall:"0 1px 1px rgba(0, 0, 0, 0.03), 0 1px 2px rgba(0, 0, 0, 0.02), 0 3px 3px rgba(0, 0, 0, 0.02), 0 4px 4px rgba(0, 0, 0, 0.01)",elevationSmall:"0 1px 2px rgba(0, 0, 0, 0.05), 0 2px 3px rgba(0, 0, 0, 0.04), 0 6px 6px rgba(0, 0, 0, 0.03), 0 8px 8px rgba(0, 0, 0, 0.02)",elevationMedium:"0 2px 3px rgba(0, 0, 0, 0.05), 0 4px 5px rgba(0, 0, 0, 0.04), 0 12px 12px rgba(0, 0, 0, 0.03), 0 16px 16px rgba(0, 0, 0, 0.02)",elevationLarge:"0 5px 15px rgba(0, 0, 0, 0.08), 0 15px 27px rgba(0, 0, 0, 0.07), 0 30px 36px rgba(0, 0, 0, 0.04), 0 50px 43px rgba(0, 0, 0, 0.02)",surfaceBackgroundColor:Wo.white,surfaceBackgroundSubtleColor:"#F3F3F3",surfaceBackgroundTintColor:"#F5F5F5",surfaceBorderColor:"rgba(0, 0, 0, 0.1)",surfaceBorderBoldColor:"rgba(0, 0, 0, 0.15)",surfaceBorderSubtleColor:"rgba(0, 0, 0, 0.05)",surfaceBackgroundTertiaryColor:Wo.white,surfaceColor:Wo.white,transitionDuration:"200ms",transitionDurationFast:"160ms",transitionDurationFaster:"120ms",transitionDurationFastest:"100ms",transitionTimingFunction:"cubic-bezier(0.08, 0.52, 0.52, 1)",transitionTimingFunctionControl:"cubic-bezier(0.12, 0.8, 0.32, 1)"});function Jo(e){const t=(0,p.useRef)((()=>{throw new Error("Callbacks created with `useEvent` cannot be called during rendering.")}));return(0,p.useInsertionEffect)((()=>{t.current=e})),(0,p.useCallback)(((...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}function Qo(e,t,{prefix:n="subelement",dataAttribute:r=`${n}-animated`,transitionEndFilter:i=()=>!0,roundRect:o=!1}={}){const s=Jo((()=>{Object.keys(t).forEach((r=>"element"!==r&&(null==e?void 0:e.style.setProperty(`--${n}-${r}`,String(o?Math.floor(t[r]):t[r])))))}));(0,p.useLayoutEffect)((()=>{s()}),[t,s]),function(n){const i=(0,p.useRef)(n),o=Jo((({previousValue:n})=>{t.element&&n&&(null==e||e.setAttribute(`data-${r}`,""))}));(0,p.useLayoutEffect)((()=>{i.current!==n&&(o({previousValue:i.current}),i.current=n)}),[o,n])}(t.element),(0,p.useLayoutEffect)((()=>{function t(t){i(t)&&(null==e||e.removeAttribute(`data-${r}`))}return null==e||e.addEventListener("transitionend",t),()=>null==e?void 0:e.removeEventListener("transitionend",t)}),[r,e,i])}function Zo(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function es(e,t,n){var r=[],i=sn(e,r,n);return r.length<2?n:i+t(r)}var ts=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=e(i);else for(var s in o="",i)i[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=i}o&&(n&&(n+=" "),n+=o)}}return n},ns=function(){var e=on({key:"css"});e.sheet.speedy=function(e){this.isSpeedy=e},e.compat=!0;var t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=yn(n,e.registered,void 0);return ln(e,i,!1),e.key+"-"+i.name};return{css:t,cx:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return es(e.registered,t,ts(r))},injectGlobal:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=yn(n,e.registered);Zo(e,i)},keyframes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=yn(n,e.registered),o="animation-"+i.name;return Zo(e,{name:i.name,styles:"@keyframes "+o+"{"+i.styles+"}"}),o},hydrate:function(t){t.forEach((function(t){e.inserted[t]=!0}))},flush:function(){e.registered={},e.inserted={},e.sheet.flush()},sheet:e.sheet,cache:e,getRegisteredStyles:sn.bind(null,e.registered),merge:es.bind(null,e.registered,t)}}(),rs=(ns.flush,ns.hydrate,ns.cx);ns.merge,ns.getRegisteredStyles,ns.injectGlobal,ns.keyframes,ns.css,ns.sheet,ns.cache;const is=new RegExp(/-left/g),os=new RegExp(/-right/g),ss=new RegExp(/Left/g),as=new RegExp(/Right/g);function ls(e){return"left"===e?"right":"right"===e?"left":is.test(e)?e.replace(is,"-right"):os.test(e)?e.replace(os,"-left"):ss.test(e)?e.replace(ss,"Right"):as.test(e)?e.replace(as,"Left"):e}function cs(e={},t){return()=>t?(0,Le.isRTL)()?Gn(t,"",""):Gn(e,"",""):(0,Le.isRTL)()?Gn(((e={})=>Object.fromEntries(Object.entries(e).map((([e,t])=>[ls(e),t]))))(e),"",""):Gn(e,"","")}cs.watch=()=>(0,Le.isRTL)();const us=$n("span",{target:"e1ip7opv8"})({name:"pvvbxf",styles:"box-sizing:border-box;display:block"}),ds=$n("span",{target:"e1ip7opv7"})({name:"jgf79h",styles:"align-items:center;align-self:stretch;box-sizing:border-box;display:flex"}),ps=({disabled:e,isBorderless:t})=>t?"transparent":e?Wo.ui.borderDisabled:Wo.ui.border,fs=$n("div",{target:"e1ip7opv6"})("&&&{box-sizing:border-box;border-color:",ps,";border-radius:inherit;border-style:solid;border-width:1px;bottom:0;left:0;margin:0;padding:0;pointer-events:none;position:absolute;right:0;top:0;",cs({paddingLeft:2}),";}"),ms=$n(et.Flex,{target:"e1ip7opv5"})("box-sizing:border-box;position:relative;border-radius:",Yo.radiusSmall,";padding-top:0;&:focus-within:not( :has( :is( ",us,", ",ds," ):focus-within ) ){",fs,"{border-color:",Wo.ui.borderFocus,";box-shadow:",Yo.controlBoxShadowFocus,";outline:2px solid transparent;outline-offset:-2px;}}"),vs=({disabled:e})=>Gn({backgroundColor:e?Wo.ui.backgroundDisabled:Wo.ui.background},"","");var gs={name:"1d3w5wq",styles:"width:100%"};const bs=({__unstableInputWidth:e,labelPosition:t})=>e?"side"===t?"":Gn("edge"===t?{flex:`0 0 ${e}`}:{width:e},"",""):gs,hs=$n("div",{target:"e1ip7opv4"})("align-items:center;box-sizing:border-box;border-radius:inherit;display:flex;flex:1;position:relative;",vs," ",bs,";"),xs=({inputSize:e,__next40pxDefaultSize:t})=>{const n={default:{height:40,lineHeight:1,minHeight:40,paddingLeft:Yo.controlPaddingX,paddingRight:Yo.controlPaddingX},small:{height:24,lineHeight:1,minHeight:24,paddingLeft:Yo.controlPaddingXSmall,paddingRight:Yo.controlPaddingXSmall},compact:{height:32,lineHeight:1,minHeight:32,paddingLeft:Yo.controlPaddingXSmall,paddingRight:Yo.controlPaddingXSmall},"__unstable-large":{height:40,lineHeight:1,minHeight:40,paddingLeft:Yo.controlPaddingX,paddingRight:Yo.controlPaddingX}};return t||(n.default=n.compact),n[e]||n.default},ys=(Wo.theme.foreground,Wo.ui.darkGrayPlaceholder,Wo.ui.darkGrayPlaceholder,Wo.ui.darkGrayPlaceholder,$n(et.__experimentalText,{target:"e1ip7opv2"})("&&&{",Vo,";box-sizing:border-box;display:block;padding-top:0;padding-bottom:0;max-width:100%;z-index:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}")),ws=e=>(0,a.jsx)(ys,Object.assign({},e,{as:"label"})),_s=$n(et.FlexItem,{target:"e1ip7opv1"})({name:"1b6uupn",styles:"max-width:calc( 100% - 10px )"}),Ss=({variant:e="default",size:t,__next40pxDefaultSize:n,isPrefix:r})=>{const{paddingLeft:i}=xs({inputSize:t,__next40pxDefaultSize:n}),o=r?"paddingInlineStart":"paddingInlineEnd";return Gn("default"===e?{[o]:i}:{display:"flex",[o]:i-4},"","")},js=$n("div",{target:"e1ip7opv0"})(Ss,";"),Es=(0,p.memo)((function({disabled:e=!1,isBorderless:t=!1}){return(0,a.jsx)(fs,{"aria-hidden":"true",className:"components-input-control__backdrop",disabled:e,isBorderless:t})}));function Os(e){var{children:t,hideLabelFromVision:n,htmlFor:r}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["children","hideLabelFromVision","htmlFor"]);return t?n?(0,a.jsx)(et.VisuallyHidden,{as:"label",htmlFor:r,children:t}):(0,a.jsx)(_s,{children:(0,a.jsx)(ws,Object.assign({htmlFor:r},i,{children:t}))}):null}var Is=n(14744),As=n.n(Is),Cs=n(29252),Ts=n.n(Cs);function Ns(e){return"[object Object]"===Object.prototype.toString.call(e)}function ks(e){var t,n;return!1!==Ns(e)&&(void 0===(t=e.constructor)||!1!==Ns(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}window.wp.warning;const Ps=(0,p.createContext)({}),Rs=()=>(0,p.useContext)(Ps),Ds=(0,p.memo)((({children:e,value:t})=>{const n=function({value:e}){const t=Rs(),n=(0,p.useRef)(e);return function(e,t){const n=(0,p.useRef)(!1);(0,p.useEffect)((()=>{if(n.current)return e();n.current=!0}),t),(0,p.useEffect)((()=>()=>{n.current=!1}),[])}((()=>{Ts()(n.current,e)&&n.current}),[e]),(0,p.useMemo)((()=>As()(null!=t?t:{},null!=e?e:{},{isMergeableObject:ks})),[t,e])}({value:t});return(0,a.jsx)(Ps.Provider,{value:n,children:e})})),Ms="data-wp-component",Ls="data-wp-c16t",Bs="__contextSystemKey__",$s=function(e,t){var n,r,i=0;function o(){var o,s,a=n,l=arguments.length;e:for(;a;){if(a.args.length===arguments.length){for(s=0;s<l;s++)if(a.args[s]!==arguments[s]){a=a.next;continue e}return a!==n&&(a===r&&(r=a.prev),a.prev.next=a.next,a.next&&(a.next.prev=a.prev),a.next=n,a.prev=null,n.prev=a,n=a),a.val}a=a.next}for(o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];return a={args:o,val:e.apply(null,o)},n?(n.prev=a,a.next=n):r=a,i===t.maxSize?(r=r.prev).next=null:i++,n=a,a.val}return t=t||{},o.clear=function(){n=null,r=null,i=0},o}((function(e){return`components-${(0,f.kebabCase)(e)}`}));function Fs(e,t){return function(e,t,n){const r=(null==n?void 0:n.forwardsRef)?(0,p.forwardRef)(e):e;let i=r[Bs]||[t];return Array.isArray(t)&&(i=[...i,...t]),"string"==typeof t&&(i=[...i,t]),Object.assign(r,{[Bs]:[...new Set(i)],displayName:t,selector:`.${$s(t)}`})}(e,t,{forwardsRef:!0})}function Gs(e,t){const n=Rs(),r=(null==n?void 0:n[t])||{},i=Object.assign(Object.assign({},{[Ls]:!0}),(o=t,{[Ms]:o}));var o;const{_overrides:s}=r,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(r,["_overrides"]),l=Object.entries(a).length?Object.assign({},a,e):e,c=(()=>{const e=(0,nt.useContext)(On);return(0,p.useCallback)(((...t)=>{if(null===e)throw new Error("The `useCx` hook should be only used within a valid Emotion Cache Context");return rs(...t.map((t=>{return null!=(n=t)&&["name","styles"].every((e=>void 0!==n[e]))?(ln(e,t,!1),`${e.key}-${t.name}`):t;var n})))}),[e])})()($s(t),e.className),u="function"==typeof l.renderChildren?l.renderChildren(l):l.children;for(const e in l)i[e]=l[e];for(const e in s)i[e]=s[e];return void 0!==u&&(i.children=u),i.className=c,i}Fs((function e(t,n){const r=Gs(t,"InputBase"),{__next40pxDefaultSize:i,__unstableInputWidth:o,children:s,className:l,disabled:c=!1,hideLabelFromVision:u=!1,labelPosition:d,id:f,isBorderless:m=!1,label:v,prefix:g,size:b="default",suffix:h}=r,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(r,["__next40pxDefaultSize","__unstableInputWidth","children","className","disabled","hideLabelFromVision","labelPosition","id","isBorderless","label","prefix","size","suffix"]),y=function(t){const n=(0,Go.useInstanceId)(e);return t||`input-base-control-${n}`}(f),w=u||!v,_=(0,p.useMemo)((()=>({InputControlPrefixWrapper:{__next40pxDefaultSize:i,size:b},InputControlSuffixWrapper:{__next40pxDefaultSize:i,size:b}})),[i,b]);return(0,a.jsxs)(ms,Object.assign({},x,function(e){const t={};switch(e){case"top":t.direction="column",t.expanded=!1,t.gap=0;break;case"bottom":t.direction="column-reverse",t.expanded=!1,t.gap=0;break;case"edge":t.justify="space-between"}return t}(d),{className:l,gap:2,ref:n,children:[(0,a.jsx)(Os,{className:"components-input-control__label",hideLabelFromVision:u,labelPosition:d,htmlFor:y,children:v}),(0,a.jsxs)(hs,{__unstableInputWidth:o,className:"components-input-control__container",disabled:c,hideLabel:w,labelPosition:d,children:[(0,a.jsxs)(Ds,{value:_,children:[g&&(0,a.jsx)(us,{className:"components-input-control__prefix",children:g}),s,h&&(0,a.jsx)(ds,{className:"components-input-control__suffix",children:h})]}),(0,a.jsx)(Es,{disabled:c,isBorderless:m})]})]}))}),"InputBase"),Fs((function(e,t){const n=Gs(e,"InputControlSuffixWrapper");return(0,a.jsx)(js,Object.assign({},n,{ref:t}))}),"InputControlSuffixWrapper");Wo.gray[900];Yo.radiusXSmall;var Vs=Ai(),Us=(Vs.useContext,Vs.useScopedContext,Vs.useProviderContext),zs=Ai([Vs.ContextProvider],[Vs.ScopedContextProvider]),Hs=(zs.useContext,zs.useScopedContext,zs.useProviderContext,zs.ContextProvider),qs=zs.ScopedContextProvider,Ws=((0,nt.createContext)(void 0),(0,nt.createContext)(void 0),Ai([Hs],[qs])),Ks=(Ws.useContext,Ws.useScopedContext,Ws.useProviderContext,Ws.ContextProvider),Xs=Ws.ScopedContextProvider,Ys=Ai([Ks,Ri],[Xs,Di]),Js=Ys.useContext,Qs=(Ys.useScopedContext,Ys.useProviderContext,Ys.ContextProvider,Ys.ScopedContextProvider,(0,nt.createContext)(!1),(0,nt.createContext)(null),(0,nt.createContext)(void 0),Ai([Ks,Ri],[Xs,Di])),Zs=Qs.useContext;function ea(e={}){var t=e,{composite:n,combobox:r}=t,i=((e,t)=>{var n={};for(var r in e)rr.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&nr)for(var r of nr(e))t.indexOf(r)<0&&ir.call(e,r)&&(n[r]=e[r]);return n})(t,["composite","combobox"]);const o=["items","renderedItems","moves","orientation","virtualFocus","includesBaseElement","baseElement","focusLoop","focusShift","focusWrap"],s=ii(i.store,ri(n,o),ri(r,o)),a=null==s?void 0:s.getState(),l=hi(ar(sr({},i),{store:s,includesBaseElement:vr(i.includesBaseElement,null==a?void 0:a.includesBaseElement,!1),orientation:vr(i.orientation,null==a?void 0:a.orientation,"horizontal"),focusLoop:vr(i.focusLoop,null==a?void 0:a.focusLoop,!0)})),c=pi(),u=Jr(ar(sr({},l.getState()),{selectedId:vr(i.selectedId,null==a?void 0:a.selectedId,i.defaultSelectedId),selectOnMove:vr(i.selectOnMove,null==a?void 0:a.selectOnMove,!0)}),l,s);Qr(u,(()=>ti(u,["moves"],(()=>{const{activeId:e,selectOnMove:t}=u.getState();if(!t)return;if(!e)return;const n=l.item(e);n&&(n.dimmed||n.disabled||u.setState("selectedId",n.id))}))));let d=!0;Qr(u,(()=>ni(u,["selectedId"],((e,t)=>{d?n&&e.selectedId===t.selectedId||u.setState("activeId",e.selectedId):d=!0})))),Qr(u,(()=>ti(u,["selectedId","renderedItems"],(e=>{if(void 0!==e.selectedId)return;const{activeId:t,renderedItems:n}=u.getState(),r=l.item(t);if(!r||r.disabled||r.dimmed){const e=n.find((e=>!e.disabled&&!e.dimmed));u.setState("selectedId",null==e?void 0:e.id)}else u.setState("selectedId",r.id)})))),Qr(u,(()=>ti(u,["renderedItems"],(e=>{const t=e.renderedItems;if(t.length)return ti(c,["renderedItems"],(e=>{const n=e.renderedItems;n.some((e=>!e.tabId))&&n.forEach(((e,n)=>{if(e.tabId)return;const r=t[n];r&&c.renderItem(ar(sr({},e),{tabId:r.id}))}))}))}))));let p=null;return Qr(u,(()=>{const e=()=>{p=u.getState().selectedId},t=()=>{d=!1,u.setState("selectedId",p)};return n&&"setSelectElement"in n?ur(ti(n,["value"],e),ti(n,["mounted"],t)):r?ur(ti(r,["selectedValue"],e),ti(r,["mounted"],t)):void 0})),ar(sr(sr({},l),u),{panels:c,setSelectedId:e=>u.setState("selectedId",e),select:e=>{u.setState("selectedId",e),l.move(e)}})}Qs.useScopedContext,Qs.useProviderContext,Qs.ContextProvider,Qs.ScopedContextProvider,(0,nt.createContext)(void 0),(0,nt.createContext)(!1);const ta=(0,p.createContext)(void 0),na=()=>(0,p.useContext)(ta),ra=window.wp.primitives,ia=(0,a.jsx)(ra.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(ra.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})});var oa=Ai([Ri],[Di]),sa=(oa.useContext,oa.useScopedContext),aa=oa.useProviderContext,la=(oa.ContextProvider,oa.ScopedContextProvider),ca=Ii((function(e){var t=e,{store:n}=t,r=Qn(t,["store"]);const i=aa();pr(n=n||i,!1);const o=n.useState((e=>"both"===e.orientation?void 0:e.orientation));return r=zr(r,(e=>(0,a.jsx)(la,{value:n,children:e})),[n]),n.composite&&(r=Yn({focusable:!1},r)),r=Yn({role:"tablist","aria-orientation":o},r),io(Yn({store:n},r))})),ua=ji((function(e){return Oi("div",ca(e))})),da=Ii((function(e){var t,n=e,{store:r,getItem:i}=n,o=Qn(n,["store","getItem"]);const s=sa();pr(r=r||s,!1);const l=Gr(),c=o.id||l,u=fr(o),d=(0,nt.useCallback)((e=>{const t=Jn(Yn({},e),{dimmed:u});return i?i(t):t}),[u,i]),p=o.onClick,f=$r((e=>{null==p||p(e),e.defaultPrevented||null==r||r.setSelectedId(c)})),m=r.panels.useState((e=>{var t;return null==(t=e.items.find((e=>e.tabId===c)))?void 0:t.id})),v=!!l&&o.shouldRegisterItem,g=r.useState((e=>!!c&&e.activeId===c)),b=r.useState((e=>!!c&&e.selectedId===c)),h=r.useState((e=>!!r.item(e.activeId))),x=g||b&&!h,y=b||null==(t=o.accessibleWhenDisabled)||t;if(ai(r.combobox||r.composite,"virtualFocus")&&(o=Jn(Yn({},o),{tabIndex:-1})),o=Jn(Yn({id:c,role:"tab","aria-selected":b,"aria-controls":m||void 0},o),{onClick:f}),r.composite){const e={id:c,accessibleWhenDisabled:y,store:r.composite,shouldRegisterItem:x&&v,rowId:o.rowId,render:o.render};o=Jn(Yn({},o),{render:(0,a.jsx)(To,Jn(Yn({},e),{render:r.combobox&&r.composite!==r.combobox?(0,a.jsx)(To,Jn(Yn({},e),{store:r.combobox})):e.render}))})}return Co(Jn(Yn({store:r},o),{accessibleWhenDisabled:y,getItem:d,shouldRegisterItem:v}))})),pa=Ei(ji((function(e){return Oi("button",da(e))})));const fa=window.ReactDOM;function ma(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function va(...e){return e.join(", ").split(", ").reduce(((e,t)=>{const n=t.endsWith("ms")?1:1e3,r=Number.parseFloat(t||"0s")*n;return r>e?r:e}),0)}var ga=Ii((function(e){var t=e,{store:n,alwaysVisible:r}=t,i=Qn(t,["store","alwaysVisible"]);const o=Us();pr(n=n||o,!1);const s=(0,nt.useRef)(null),l=Gr(i.id),[c,u]=(0,nt.useState)(null),d=n.useState("open"),p=n.useState("mounted"),f=n.useState("animated"),m=n.useState("contentElement"),v=ai(n.disclosure,"contentElement");Br((()=>{s.current&&(null==n||n.setContentElement(s.current))}),[n]),Br((()=>{let e;return null==n||n.setState("animated",(t=>(e=t,!0))),()=>{void 0!==e&&(null==n||n.setState("animated",e))}}),[n]),Br((()=>{if(f){if(null==m?void 0:m.isConnected)return function(e){let t=requestAnimationFrame((()=>{t=requestAnimationFrame(e)}));return()=>cancelAnimationFrame(t)}((()=>{u(d?"enter":p?"leave":null)}));u(null)}}),[f,m,d,p]),Br((()=>{if(!n)return;if(!f)return;if(!c)return;if(!m)return;const e=()=>null==n?void 0:n.setState("animating",!1),t=()=>(0,fa.flushSync)(e);if("leave"===c&&d)return;if("enter"===c&&!d)return;if("number"==typeof f)return ma(f,t);const{transitionDuration:r,animationDuration:i,transitionDelay:o,animationDelay:s}=getComputedStyle(m),{transitionDuration:a="0",animationDuration:l="0",transitionDelay:u="0",animationDelay:p="0"}=v?getComputedStyle(v):{},g=va(o,s,u,p)+va(r,i,a,l);return g?ma(Math.max(g-1e3/60,0),t):("enter"===c&&n.setState("animated",!1),void e())}),[n,f,m,v,d,c]),i=zr(i,(e=>(0,a.jsx)(qs,{value:n,children:e})),[n]);const g=function(e,t,n){return!(n||!1===t||e&&!t)}(p,i.hidden,r),b=i.style,h=(0,nt.useMemo)((()=>g?Jn(Yn({},b),{display:"none"}):b),[g,b]);return mr(i=Jn(Yn({id:l,"data-open":d||void 0,"data-enter":"enter"===c||void 0,"data-leave":"leave"===c||void 0,hidden:g},i),{ref:Fr(l?n.setContentElement:null,s,i.ref),style:h}))})),ba=ji((function(e){return Oi("div",ga(e))}));function ha(e={}){const t=ii(e.store,ri(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),r=vr(e.open,null==n?void 0:n.open,e.defaultOpen,!1),i=vr(e.animated,null==n?void 0:n.animated,!1),o=Jr({open:r,animated:i,animating:!!i&&r,mounted:r,contentElement:vr(null==n?void 0:n.contentElement,null),disclosureElement:vr(null==n?void 0:n.disclosureElement,null)},t);return Qr(o,(()=>ti(o,["animated","animating"],(e=>{e.animated||o.setState("animating",!1)})))),Qr(o,(()=>ei(o,["open"],(()=>{o.getState().animated&&o.setState("animating",!0)})))),Qr(o,(()=>ti(o,["open","animating"],(e=>{o.setState("mounted",e.open||e.animating)})))),ar(sr({},o),{disclosure:e.disclosure,setOpen:e=>o.setState("open",e),show:()=>o.setState("open",!0),hide:()=>o.setState("open",!1),toggle:()=>o.setState("open",(e=>!e)),stopAnimation:()=>o.setState("animating",!1),setContentElement:e=>o.setState("contentElement",e),setDisclosureElement:e=>o.setState("disclosureElement",e)})}ji((function(e){var t=e,{unmountOnHide:n}=t,r=Qn(t,["unmountOnHide"]);const i=Us();return!1===ai(r.store||i,(e=>!n||(null==e?void 0:e.mounted)))?null:(0,a.jsx)(ba,Yn({},r))}));var xa=Ii((function(e){var t=e,{store:n,unmountOnHide:r,tabId:i,getItem:o,scrollRestoration:s,scrollElement:l}=t,c=Qn(t,["store","unmountOnHide","tabId","getItem","scrollRestoration","scrollElement"]);const u=aa();pr(n=n||u,!1);const d=(0,nt.useRef)(null),p=Gr(c.id),f=ai(n.panels,(()=>{var e;return i||(null==(e=null==n?void 0:n.panels.item(p))?void 0:e.tabId)})),m=function(e={}){const[t,n]=ci(ha,e);return function(e,t,n){return Vr(t,[n.store,n.disclosure]),li(e,n,"open","setOpen"),li(e,n,"mounted","setMounted"),li(e,n,"animated"),Object.assign(e,{disclosure:n.disclosure})}(t,n,e)}({open:ai(n,(e=>!!f&&e.selectedId===f))}),v=ai(m,"mounted"),g=(0,nt.useRef)(new Map),b=$r((()=>{const e=d.current;return e?l?"function"==typeof l?l(e):"current"in l?l.current:l:e:null}));(0,nt.useEffect)((()=>{var e,t;if(!s)return;if(!v)return;const n=b();if(!n)return;if("reset"===s)return void n.scroll(0,0);if(!f)return;const r=g.current.get(f);n.scroll(null!=(e=null==r?void 0:r.x)?e:0,null!=(t=null==r?void 0:r.y)?t:0);const i=()=>{g.current.set(f,{x:n.scrollLeft,y:n.scrollTop})};return n.addEventListener("scroll",i),()=>{n.removeEventListener("scroll",i)}}),[s,v,f,b,n]);const[h,x]=(0,nt.useState)(!1);(0,nt.useEffect)((()=>{const e=d.current;if(!e)return;const t=Vi(e);x(!!t.length)}),[]);const y=(0,nt.useCallback)((e=>{const t=Jn(Yn({},e),{id:p||e.id,tabId:i});return o?o(t):t}),[p,i,o]),w=c.onKeyDown,_=$r((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!(null==n?void 0:n.composite))return;const t={ArrowLeft:n.previous,ArrowRight:n.next,Home:n.first,End:n.last}[e.key];if(!t)return;const{selectedId:r}=n.getState(),i=t({activeId:r});i&&(e.preventDefault(),n.move(i))}));return c=zr(c,(e=>(0,a.jsx)(la,{value:n,children:e})),[n]),c=Jn(Yn({id:p,role:"tabpanel","aria-labelledby":f||void 0},c),{children:r&&!v?null:c.children,ref:Fr(d,c.ref),onKeyDown:_}),c=no(Yn({focusable:!n.composite&&!h},c)),c=ga(Yn({store:m},c)),So(Jn(Yn({store:n.panels},c),{getItem:y}))})),ya=ji((function(e){return Oi("div",xa(e))}));const wa=$n(ua,{target:"epwp8ln4"})("display:flex;align-items:stretch;overflow-x:auto;&[aria-orientation='vertical']{flex-direction:column;}:where( [aria-orientation='horizontal'] ){width:fit-content;}--direction-factor:1;--direction-start:left;--direction-end:right;--selected-start:var( --selected-left, 0 );&:dir( rtl ){--direction-factor:-1;--direction-start:right;--direction-end:left;--selected-start:var( --selected-right, 0 );}@media not ( prefers-reduced-motion ){&[data-indicator-animated]::before{transition-property:transform,border-radius,border-block;transition-duration:0.2s;transition-timing-function:ease-out;}}position:relative;&::before{content:'';position:absolute;pointer-events:none;transform-origin:var( --direction-start ) top;outline:2px solid transparent;outline-offset:-1px;}--antialiasing-factor:100;&[aria-orientation='horizontal']{--fade-width:4rem;--fade-gradient-base:transparent 0%,black var( --fade-width );--fade-gradient-composed:var( --fade-gradient-base ),black 60%,transparent 50%;&.is-overflowing-first{mask-image:linear-gradient(\n\t\t\t\tto var( --direction-end ),\n\t\t\t\tvar( --fade-gradient-base )\n\t\t\t);}&.is-overflowing-last{mask-image:linear-gradient(\n\t\t\t\tto var( --direction-start ),\n\t\t\t\tvar( --fade-gradient-base )\n\t\t\t);}&.is-overflowing-first.is-overflowing-last{mask-image:linear-gradient(\n\t\t\t\t\tto right,\n\t\t\t\t\tvar( --fade-gradient-composed )\n\t\t\t\t),linear-gradient( to left, var( --fade-gradient-composed ) );}&::before{bottom:0;height:0;width:calc( var( --antialiasing-factor ) * 1px );transform:translateX(\n\t\t\t\t\tcalc(\n\t\t\t\t\t\tvar( --selected-start ) * var( --direction-factor ) *\n\t\t\t\t\t\t\t1px\n\t\t\t\t\t)\n\t\t\t\t) scaleX(\n\t\t\t\t\tcalc(\n\t\t\t\t\t\tvar( --selected-width, 0 ) /\n\t\t\t\t\t\t\tvar( --antialiasing-factor )\n\t\t\t\t\t)\n\t\t\t\t);border-bottom:var( --wp-admin-border-width-focus ) solid ",Wo.theme.accent,";}}&[aria-orientation='vertical']{&::before{border-radius:",Yo.radiusSmall,"/calc(\n\t\t\t\t\t",Yo.radiusSmall," /\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tvar( --selected-height, 0 ) /\n\t\t\t\t\t\t\t\tvar( --antialiasing-factor )\n\t\t\t\t\t\t)\n\t\t\t\t);top:0;left:0;width:100%;height:calc( var( --antialiasing-factor ) * 1px );transform:translateY( calc( var( --selected-top, 0 ) * 1px ) ) scaleY(\n\t\t\t\t\tcalc(\n\t\t\t\t\t\tvar( --selected-height, 0 ) /\n\t\t\t\t\t\t\tvar( --antialiasing-factor )\n\t\t\t\t\t)\n\t\t\t\t);background-color:color-mix(\n\t\t\t\tin srgb,\n\t\t\t\t",Wo.theme.accent,",\n\t\t\t\ttransparent 96%\n\t\t\t);}&[data-select-on-move='true']:has(\n\t\t\t\t:is( :focus-visible, [data-focus-visible] )\n\t\t\t)::before{box-sizing:border-box;border:var( --wp-admin-border-width-focus ) solid ",Wo.theme.accent,";border-block-width:calc(\n\t\t\t\tvar( --wp-admin-border-width-focus, 1px ) /\n\t\t\t\t\t(\n\t\t\t\t\t\tvar( --selected-height, 0 ) /\n\t\t\t\t\t\t\tvar( --antialiasing-factor )\n\t\t\t\t\t)\n\t\t\t);}}"),_a=$n(pa,{target:"epwp8ln3"})("&{border-radius:0;background:transparent;border:none;box-shadow:none;flex:1 0 auto;white-space:nowrap;display:flex;align-items:center;cursor:pointer;line-height:1.2;font-weight:400;color:",Wo.theme.foreground,";position:relative;&[aria-disabled='true']{cursor:default;color:",Wo.ui.textDisabled,";}&:not( [aria-disabled='true'] ):is( :hover, [data-focus-visible] ){color:",Wo.theme.accent,";}&:focus:not( :disabled ){box-shadow:none;outline:none;}&::after{position:absolute;pointer-events:none;outline:var( --wp-admin-border-width-focus ) solid ",Wo.theme.accent,";border-radius:",Yo.radiusSmall,";opacity:0;@media not ( prefers-reduced-motion ){transition:opacity 0.1s linear;}}&[data-focus-visible]::after{opacity:1;}}[aria-orientation='horizontal'] &{padding-inline:",Vn(4),";height:",Vn(12),";scroll-margin:24px;&::after{content:'';inset:",Vn(3),";}}[aria-orientation='vertical'] &{padding:",Vn(2)," ",Vn(3),";min-height:",Vn(10),";&[aria-selected='true']{color:",Wo.theme.accent,";fill:currentColor;}}[aria-orientation='vertical'][data-select-on-move='false'] &::after{content:'';inset:var( --wp-admin-border-width-focus );}"),Sa=$n("span",{target:"epwp8ln2"})({name:"9at4z3",styles:"flex-grow:1;display:flex;align-items:center;[aria-orientation='horizontal'] &{justify-content:center;}[aria-orientation='vertical'] &{justify-content:start;}"}),ja=$n(et.Icon,{target:"epwp8ln1"})("flex-shrink:0;margin-inline-end:",Vn(-1),";[aria-orientation='horizontal'] &{display:none;}opacity:0;[role='tab']:is( [aria-selected='true'], [data-focus-visible], :hover ) &{opacity:1;}@media not ( prefers-reduced-motion ){[data-select-on-move='true'] [role='tab']:is( [aria-selected='true'],  ) &{transition:opacity 0.15s 0.15s linear;}}&:dir( rtl ){rotate:180deg;}"),Ea=$n(ya,{target:"epwp8ln0"})("&:focus{box-shadow:none;outline:none;}&[data-focus-visible]{box-shadow:0 0 0 var( --wp-admin-border-width-focus ) ",Wo.theme.accent,";outline:2px solid transparent;outline-offset:0;}");const Oa=(0,p.forwardRef)((function(e,t){var n,{children:r,tabId:i,disabled:o,render:s}=e,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["children","tabId","disabled","render"]);const{store:c,instanceId:u}=null!==(n=na())&&void 0!==n?n:{};if(!c)return null;const d=`${u}-${i}`;return(0,a.jsxs)(_a,Object.assign({ref:t,store:c,id:d,disabled:o,render:s},l,{children:[(0,a.jsx)(Sa,{children:r}),(0,a.jsx)(ja,{icon:ia})]}))}));function Ia(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ia(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Aa=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ia(e))&&(r&&(r+=" "),r+=t);return r},Ca={element:void 0,top:0,right:0,bottom:0,left:0,width:0,height:0};function Ta(e,t=[]){const[n,r]=(0,p.useState)(Ca),i=(0,p.useRef)(),o=Jo((()=>{if(e&&e.isConnected){const t=function(e){var t,n,r;const i=e.getBoundingClientRect();if(0===i.width||0===i.height)return;const o=e.offsetParent,s=null!==(t=null==o?void 0:o.getBoundingClientRect())&&void 0!==t?t:Ca,a=null!==(n=null==o?void 0:o.scrollLeft)&&void 0!==n?n:0,l=null!==(r=null==o?void 0:o.scrollTop)&&void 0!==r?r:0,c=parseFloat(getComputedStyle(e).width),u=parseFloat(getComputedStyle(e).height),d=c/i.width,p=u/i.height;return{element:e,top:(i.top-(null==s?void 0:s.top))*p+l,right:((null==s?void 0:s.right)-i.right)*d-a,bottom:((null==s?void 0:s.bottom)-i.bottom)*p-l,left:(i.left-(null==s?void 0:s.left))*d+a,width:c,height:u}}(e);if(t)return r(t),clearInterval(i.current),!0}else clearInterval(i.current);return!1})),s=function(e,t={}){return function(e,t={}){const n=Jo(e),r=(0,p.useRef)(),i=(0,p.useRef)();return Jo((e=>{var o;if(e===r.current)return;null!==(o=i.current)&&void 0!==o||(i.current=new ResizeObserver(n));const{current:s}=i;r.current&&s.unobserve(r.current),r.current=e,e&&s.observe(e,t)}))}(e,t)}((()=>{o()||requestAnimationFrame((()=>{o()||(i.current=setInterval(o,100))}))}));return(0,p.useLayoutEffect)((()=>{s(e),e||r(Ca)}),[s,e]),(0,p.useLayoutEffect)((()=>{o()}),t),n}const Na=(0,p.forwardRef)((function(e,t){var n,r,i,{children:o}=e,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["children"]);const{store:l}=null!==(n=na())&&void 0!==n?n:{},c=ai(l,"selectedId"),u=ai(l,"activeId"),d=ai(l,"selectOnMove"),f=ai(l,"items"),[m,v]=(0,p.useState)(),g=(0,Go.useMergeRefs)([t,v]),b=null==l?void 0:l.item(c),h=ai(l,"renderedItems"),x=h&&b?h.indexOf(b):-1,y=Ta(null==b?void 0:b.element,[x]),w=function(e,t){const[n,r]=(0,p.useState)(!1),[i,o]=(0,p.useState)(!1),[s,a]=(0,p.useState)(),l=Jo((e=>{for(const n of e)n.target===t.first&&r(!n.isIntersecting),n.target===t.last&&o(!n.isIntersecting)}));return(0,p.useEffect)((()=>{if(!e||!window.IntersectionObserver)return;const t=new IntersectionObserver(l,{root:e,threshold:.9});return a(t),()=>t.disconnect()}),[l,e]),(0,p.useEffect)((()=>{if(s)return t.first&&s.observe(t.first),t.last&&s.observe(t.last),()=>{t.first&&s.unobserve(t.first),t.last&&s.unobserve(t.last)}}),[t.first,t.last,s]),{first:n,last:i}}(m,{first:null===(r=null==f?void 0:f.at(0))||void 0===r?void 0:r.element,last:null===(i=null==f?void 0:f.at(-1))||void 0===i?void 0:i.element});return Qo(m,y,{prefix:"selected",dataAttribute:"indicator-animated",transitionEndFilter:e=>"::before"===e.pseudoElement,roundRect:!0}),function(e,t,{margin:n=24}={}){(0,p.useLayoutEffect)((()=>{var r;if(!e||!t)return;const{scrollLeft:i}=e,o=e.getBoundingClientRect().width,{left:s,width:a}=t,l=s+a+n-(i+o),c=i-(s-n);let u=null;c>0?u=i-c:l>0&&(u=i+l),null!==u&&(null===(r=e.scroll)||void 0===r||r.call(e,{left:u}))}),[n,e,t])}(m,y),l?(0,a.jsx)(wa,Object.assign({ref:g,store:l,render:e=>{var t;return(0,a.jsx)("div",Object.assign({},e,{tabIndex:null!==(t=e.tabIndex)&&void 0!==t?t:-1}))},onBlur:()=>{d&&c!==u&&(null==l||l.setActiveId(c))},"data-select-on-move":d?"true":"false"},s,{className:Aa(w.first&&"is-overflowing-first",w.last&&"is-overflowing-last",s.className),children:o})):null}));const ka=(0,p.forwardRef)((function(e,t){var{children:n,tabId:r,focusable:i=!0}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["children","tabId","focusable"]);const s=na(),l=ai(null==s?void 0:s.store,"selectedId");if(!s)return null;const{store:c,instanceId:u}=s,d=`${u}-${r}`;return(0,a.jsx)(Ea,Object.assign({ref:t,store:c,id:`${d}-view`,tabId:d,focusable:i},o,{children:l===d&&n}))}));function Pa(e,t){return e&&`${t}-${e}`}function Ra(e,t){return"string"==typeof e?e.replace(`${t}-`,""):e}Object.assign((function e({selectOnMove:t=!0,defaultTabId:n,orientation:r="horizontal",onSelect:i,children:o,selectedTabId:s,activeTabId:l,defaultActiveTabId:c,onActiveTabIdChange:u}){const d=(0,Go.useInstanceId)(e,"tabs"),f=function(e={}){const t=Zs(),n=Js()||t;e=Jn(Yn({},e),{composite:void 0!==e.composite?e.composite:n,combobox:void 0!==e.combobox?e.combobox:t});const[r,i]=ci(ea,e);return function(e,t,n){Vr(t,[n.composite,n.combobox]),li(e=xi(e,t,n),n,"selectedId","setSelectedId"),li(e,n,"selectOnMove");const[r,i]=ci((()=>e.panels),{});return Vr(i,[e,i]),Object.assign((0,nt.useMemo)((()=>Jn(Yn({},e),{panels:r})),[e,r]),{composite:n.composite,combobox:n.combobox})}(r,i,e)}({selectOnMove:t,orientation:r,defaultSelectedId:Pa(n,d),setSelectedId:e=>{null==i||i(Ra(e,d))},selectedId:Pa(s,d),defaultActiveId:Pa(c,d),setActiveId:e=>{null==u||u(Ra(e,d))},activeId:Pa(l,d),rtl:(0,Le.isRTL)()}),{items:m,activeId:v}=ai(f),{setActiveId:g}=f;(0,p.useEffect)((()=>{requestAnimationFrame((()=>{var e,t;const n=null===(t=null===(e=null==m?void 0:m[0])||void 0===e?void 0:e.element)||void 0===t?void 0:t.ownerDocument.activeElement;n&&m.some((e=>n===e.element))&&v!==n.id&&g(n.id)}))}),[v,m,g]);const b=(0,p.useMemo)((()=>({store:f,instanceId:d})),[f,d]);return(0,a.jsx)(ta.Provider,{value:b,children:o})}),{Tab:Object.assign(Oa,{displayName:"Tabs.Tab"}),TabList:Object.assign(Na,{displayName:"Tabs.TabList"}),TabPanel:Object.assign(ka,{displayName:"Tabs.TabPanel"}),Context:Object.assign(ta,{displayName:"Tabs.Context"})});const Da=window.nab.conversionActions,Ma=window.nab.date,La=window.nab.segmentationRules;function Ba(e,t,n){var r;if(!e.conversionActions.length)return(0,Le.sprintf)(/* translators: goal name */ /* translators: goal name */
(0,Le._x)("%s doesn’t have any conversion actions","text","nelio-ab-testing"),$a(e,t));for(let i=0;i<e.conversionActions.length;++i){const o=e.conversionActions[i];if(!o)continue;const s=n[o.type];if(!s)return(0,Le.sprintf)(/* translators: goal name */ /* translators: goal name */
(0,Le._x)("%s has one or more invalid conversion actions","text","nelio-ab-testing"),$a(e,t));if(!(0,g.isEmpty)(null===(r=s.validate)||void 0===r?void 0:r.call(s,o.attributes))||!(0,g.isEmpty)((0,g.getConversionActionScopeError)(o.scope)))return(0,Le.sprintf)(/* translators: goal name, as in “Goal 2” or “Default Goal” */ /* translators: goal name, as in “Goal 2” or “Default Goal” */
(0,Le._x)("One or more conversion actions in %s are invalid","text","nelio-ab-testing"),$a(e,t))}return!1}function $a(e,t){let n=(0,Le.sprintf)(/* translators: goal id */ /* translators: goal id */
(0,Le._x)("Goal %d","text","nelio-ab-testing"),t+1);return 0===t&&(n=(0,Le._x)("Default Goal","text","nelio-ab-testing")),(0,f.trim)(e.attributes.name)&&(n=(0,Le.sprintf)(/* translators: goal name */ /* translators: goal name */
(0,Le._x)("Goal “%s”","text","nelio-ab-testing"),(0,f.trim)(e.attributes.name))),n}function Fa(e,t,n){var r;if(!e.segmentationRules.length)return(0,Le.sprintf)(/* translators: segment name */ /* translators: segment name */
(0,Le._x)("%s doesn’t have any segmentation rules","text","nelio-ab-testing"),Ga(e,t));for(let i=0;i<e.segmentationRules.length;++i){const o=e.segmentationRules[i];if(!o)continue;const s=n[o.type];if(!s)return(0,Le.sprintf)(/* translators: segment name */ /* translators: segment name */
(0,Le._x)("%s has one or more invalid segmentation rules","text","nelio-ab-testing"),Ga(e,t));if(!(0,g.isEmpty)(null===(r=s.validate)||void 0===r?void 0:r.call(s,o.attributes)))return(0,Le.sprintf)(/* translators: segment name, as in Segment 2” */ /* translators: segment name, as in Segment 2” */
(0,Le._x)("One or more segmentation rules in %s are invalid","text","nelio-ab-testing"),Ga(e,t))}return!1}function Ga(e,t){let n=(0,Le.sprintf)(/* translators: segment id */ /* translators: segment id */
(0,Le._x)("Segment %d","text","nelio-ab-testing"),t+1);return(0,f.trim)(e.attributes.name)&&(n=(0,Le.sprintf)(/* translators: segment name */ /* translators: segment name */
(0,Le._x)("Segment “%s”","text","nelio-ab-testing"),(0,f.trim)(e.attributes.name))),n}const Va=e=>"php-snippet"===(null==e?void 0:e.attributes.type);function Ua(e){const t=c((t=>t(Qe).getExperimentAttribute(e))),{setExperimentData:n}=(0,l.useDispatch)(Qe);return[t,t=>{n({[e]:t})}]}function za(){const e=Ua("type")[0];return c((t=>t($e.store).getExperimentType(e)))}const Ha=e=>c((t=>t(m.store).isSubscribedTo(e))),qa=()=>{const e=Math.min(8,(0,m.usePluginSetting)("maxCombinations")),t=c((e=>e(Qe).getAlternativeIds().length));return!Wa()&&t<e},Wa=()=>{const[e]=Ua("status");return e.includes("paused")},Ka=()=>(Xa(),Ya(),null),Xa=()=>{const e=Ja(),t=Ua("startDate")[0]||"",[n,r]=Ua("status"),{setDraftStatusRationale:i}=(0,l.useDispatch)(Qe),o=(e,t)=>{n.includes("paused")&&(e="draft"===e?"paused_draft":"paused"),r(e),i(null!=t?t:"")};(0,p.useEffect)((()=>{"running"!==n&&"trash"!==n&&(e?o("draft",e):"ready"!==n&&("scheduled"!==n||(0,Ma.isInTheFuture)(t)||o("ready"),"scheduled"!==n&&o("ready")))}),[e,t,n])},Ya=()=>{const[e]=Ua("status"),t=Qa(),n=za(),r=(0,f.find)(t,{id:"control"}),i=c((e=>e(Qe).isTestedElementInvalid())),{setTestedElementAsInvalid:o}=(0,l.useDispatch)(Qe);(0,p.useEffect)((()=>{if("running"===e)return;const t=!!r&&!!n&&!!n.checks.getControlError(r.attributes,l.select);(0,f.isEqual)(i,t)||o(t)}),[r,l.select,n,i])},Ja=()=>{const[e,t]=(0,p.useState)(""),n=Ua("name")[0]||"",r=za(),i=Qa(),o=Za(),s=el(),a=tl(),c=nl(),u=rl();return(0,p.useEffect)((()=>{if(!r)return void t((0,Le._x)("Type not found","text","nelio-ab-testing"));const e=(0,f.find)(i,{id:"control"}),d=function(e,t,n){const{control:r,alternatives:i,goals:o,scope:s,segments:a,name:c,type:u}=e;if(!c)return(0,Le._x)("Test is unnamed","text","nelio-ab-testing");if(i.length<2)return(0,Le._x)("Test doesn’t have any variants","text","nelio-ab-testing");const d=u.checks.getControlError(r.attributes,l.select);if(d)return d;const[p,...m]=i,v=m.reduce(((e,t,n)=>e||u.checks.getAlternativeError(t.attributes,(0,g.getLetter)(n+1),r.attributes,l.select)),!1);if(v)return v;const b=m.reduce(((e,t,n)=>e||!t.ai||t.ai.isReady?e:(0,Le.sprintf)(/* translators: 1 -> Nelio AI, 2 -> variant letter */ /* translators: 1 -> Nelio AI, 2 -> variant letter */
(0,Le._x)("%1$s Variant %2$s has pending changes that need to be applied","text","nelio-ab-testing"),"Nelio AI",(0,g.getLetter)(n+1))),!1);if(b)return b;const h=function(e){var t;const[n]=e;if(Va(n))return!!n.attributes.value.errorMessage&&(0,Le._x)("Test scope is incorrect","text","nelio-ab-testing");const r=e.filter((e=>"tested-url-with-query-args"===e.attributes.type));for(const e of r){const n=null===(t=(0,f.toPairs)((0,f.countBy)(e.attributes.value.args,"name")).find((([e,t])=>!!e&&t>=2)))||void 0===t?void 0:t[0];if(n)return(0,Le.sprintf)(/* translators: query parameter’s name */ /* translators: query parameter’s name */
(0,Le._x)("Query parameter “%s” should only appear once in the test scope","text","nelio-ab-testing"),n)}return!1}(s);if(h)return h;const x=function(e,t){if(!e.length)return(0,Le._x)("Test doesn’t have any goals","text","nelio-ab-testing");for(let n=0;n<e.length;++n){const r=e[n];if(!r)continue;const i=Ba(r,n,t);if(i)return i}return!1}(o,t);if(x)return x;const y=function(e,t){for(let n=0;n<e.length;++n){const r=e[n];if(!r)continue;const i=Fa(r,n,t);if(i)return i}return!1}(a,n);return y||!1}({name:n,control:e,alternatives:i,scope:a,goals:o,segments:s,type:r},c,u);t(d||"")}),[n,r,JSON.stringify(i),JSON.stringify(o),JSON.stringify(s),a]),e},Qa=()=>c((e=>e(Qe).getAlternatives())),Za=()=>c((e=>{const{getGoals:t,getConversionActions:n}=e(Qe);return(0,f.map)(t(),(e=>Object.assign(Object.assign({},e),{conversionActions:n(e.id)})))})),el=()=>c((e=>{const{getSegments:t,getSegmentationRules:n}=e(Qe);return(0,f.map)(t(),(e=>Object.assign(Object.assign({},e),{segmentationRules:n(e.id)})))})),tl=()=>c((e=>e(Qe).getScope())),nl=()=>c((e=>(0,f.keyBy)(e(Da.store).getConversionActionTypes()||[],"name"))),rl=()=>c((e=>(0,f.keyBy)(e(La.store).getSegmentationRuleTypes()||[],"name"))),il=window.nab.components,ol=()=>{var e,t;const n=c((e=>{const t=e(Qe).getExperimentType(),n=e($e.store).getExperimentType(t),{isSubscribedTo:r}=e(m.store);return{type:n,isSubscribedTo:r}})),r=null!==(t=null===(e=n.type)||void 0===e?void 0:e.name)&&void 0!==t?t:"unknown";return(0,a.jsx)(il.ContextualHelpButton,{placement:"bottom-start",screen:`experiment-list:${r}`,questions:sl,walkthrough:al(n)})},sl=[{label:(0,Le._x)("What is the original page or post of a test?","text","nelio-ab-testing"),link:"https://neliosoftware.com/testing/help/what-is-the-original-page-or-post-of-a-test/"},{label:(0,Le._x)("Why don’t all my posts/pages appear in the selection list when I’m creating a new test?","text","nelio-ab-testing"),link:"https://neliosoftware.com/testing/help/why-dont-all-my-posts-appear-in-the-selection-list/"},{label:(0,Le._x)("What is a conversion and what counts as one?","text","nelio-ab-testing"),link:"https://neliosoftware.com/testing/help/what-is-a-conversion/"},{label:(0,Le._x)("How can I track conversions occurring in third-party websites?","text","nelio-ab-testing"),link:"https://neliosoftware.com/testing/help/how-can-i-track-conversions-occurring-in-third-party-websites/"}];function al(e){var t,n,r,i;const{type:o,isSubscribedTo:s}=e;return[{title:(0,Le._x)("Test Editor","text","nelio-ab-testing"),intro:(0,Le._x)("Welcome to the Test Editor. Here you’ll be able to select the element you want to test and create one or more variants to find out which one converts the most. As you can see, it’s quite similar to WordPress’ Block Editor: there’s a header, a sidebar, and a main area.","user","nelio-ab-testing")},{title:(0,Le._x)("Name","text","nelio-ab-testing"),intro:(0,Le._x)("You’ll notice that all test types have a similar user interface. When creating a new test, you’ll first have to name it. Just type in a descriptive name that helps you identify the test in the future.","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-experiment-title")},{title:(0,Le._x)("Variants","text","nelio-ab-testing"),intro:(0,Le._x)("Next, there’s a “Control Version and Variants” section. Use it to (a) identify the element you want to test and (b) create one or more split testing variants.","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-edit-experiment__alternative-section")},{title:(0,Le._x)("Variant A","text","nelio-ab-testing"),intro:null!==(n=null===(t=null==o?void 0:o.help)||void 0===t?void 0:t.original)&&void 0!==n?n:"",element:()=>document.querySelector(".nab-alternative-list__alternative--original"),active:()=>{var e;return!!(null===(e=null==o?void 0:o.help)||void 0===e?void 0:e.original)}},{title:(0,Le._x)("Variant B","text","nelio-ab-testing"),intro:null!==(i=null===(r=null==o?void 0:o.help)||void 0===r?void 0:r.alternative)&&void 0!==i?i:"",element:()=>document.querySelector(".nab-alternative-list__alternative:not(.nab-alternative-list__alternative--original)"),active:()=>{var e;return!!(null===(e=null==o?void 0:o.help)||void 0===e?void 0:e.alternative)&&!!document.querySelector(".nab-alternative-list__alternative:not(.nab-alternative-list__alternative--original)")}},{title:(0,Le._x)("Goals","text","nelio-ab-testing"),intro:(0,Le._x)("Split tests help you to improve the conversion rate of your website. Here you can set up the goals a test pursues and the specific conversion actions that, when performed by a visitor, will trigger a conversion.","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-edit-experiment__goal-section"),active:()=>{var e;return!(null===(e=null==o?void 0:o.supports)||void 0===e?void 0:e.automaticGoalSetup)}},{title:(0,Le._x)("Goals","text","nelio-ab-testing"),intro:(0,Le._x)("Split tests help you to improve the conversion rate of your website. With this type of test, the conversion goal and conversion action that might trigger a conversion is already set up by Nelio A/B Testing.","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-edit-experiment__goal-section"),active:()=>{var e;return!!(null===(e=null==o?void 0:o.supports)||void 0===e?void 0:e.automaticGoalSetup)}},{title:(0,Le._x)("Actions","text","nelio-ab-testing"),intro:(0,Le._x)("Use these buttons to add the specific conversion actions that might trigger a conversion like, for example, “visiting a page” or “clicking an element on the page.”","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-conversion-action-type-list"),active:()=>!!document.querySelector(".nab-conversion-action-type-list")},{title:(0,Le._x)("Segmentation","text","nelio-ab-testing"),intro:(0,Le._x)("If you subscribe to Nelio A/B Testing, you’ll be able to segment your visitors into groups and specify who may or may not participate in a test.","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-edit-experiment__segmentation-section"),active:()=>!!document.querySelector(".nab-edit-experiment-segmentation-section__content--free")},{title:(0,Le._x)("Segmentation","text","nelio-ab-testing"),intro:(0,Le._x)("You can segment your audience into different groups and look at the performance of your split test with respect to each group. You can also use segmentation to limit who may or may not participate in a test.","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-edit-experiment__segmentation-section"),active:()=>!document.querySelector(".nab-edit-experiment-segmentation-section__content--free")},{title:(0,Le._x)("Status","text","nelio-ab-testing"),intro:(0,Le._x)("Here you can see the current status of your test: once it’s “Ready,” you’ll be able to start it. Also, if you subscribe to our Professional plan, you’ll be able to schedule when a test should be started, as well as to define if and when it should be automatically stopped.","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-experiment-management"),active:()=>!s("professional")},{title:(0,Le._x)("Status","text","nelio-ab-testing"),intro:(0,Le._x)("Here you can see the current status of your test: once it’s “Ready,” you’ll be able to start it. You can also schedule when the test should be started, as well as define a stop condition to automatically stop the test.","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-experiment-management"),active:()=>s("professional")},{title:(0,Le._x)("Scope","text","nelio-ab-testing"),intro:(0,Le._x)("By default, this type of test will show up on all pages of your website. You can limit its scope by specifying the URLs in which the test should be visible.","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-experiment-scope"),active:()=>{var e,t;return"urls"===(null===(e=null==o?void 0:o.supports)||void 0===e?void 0:e.scope)||"urls-with-tested-post"===(null===(t=null==o?void 0:o.supports)||void 0===t?void 0:t.scope)}},{title:(0,Le._x)("Scope","text","nelio-ab-testing"),intro:(0,Le._x)("By default, this type of test will show up on all pages of your website. You can limit its scope by specifying the URLs in which the test should be visible.","user","nelio-ab-testing")+" "+(0,Le._x)("Alternatively, you can specify where variants should be visible using PHP.","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-experiment-scope"),active:()=>{var e;return"urls-or-php"===(null===(e=null==o?void 0:o.supports)||void 0===e?void 0:e.scope)}},{title:(0,Le._x)("Scope","text","nelio-ab-testing"),intro:(0,Le._x)("This type of test applies to a specific element of your website, be it a page, a post, or what. If you enable “Global Consistency,” our plugin will also load the appropriate variant on any page in which the tested element (i.e. its title, featured image, and so on) shows up.","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-experiment-scope"),active:()=>{var e;return"tested-post-with-consistency"===(null===(e=null==o?void 0:o.supports)||void 0===e?void 0:e.scope)}},{title:(0,Le._x)("Scope","text","nelio-ab-testing"),intro:(0,Le._x)("This type of test applies to a specific product on your store. If you enable the option to run it on “product’s page only,” our plugin will only load alternative content when the visitor sees the tested product’s page. If the product shows up anywhere else on your store, the control version will be shown and no page views will be tracked.","user","nelio-ab-testing"),element:()=>document.querySelector(".nab-experiment-scope"),active:()=>{var e;return"tested-product-with-consistency"===(null===(e=null==o?void 0:o.supports)||void 0===e?void 0:e.scope)}}]}const ll=()=>{const e=(0,p.useRef)(null),t=dl(),n=ul(),r=pl(),[i]=Ua("status"),o=(i||"").includes("draft"),s=(i||"").includes("paused"),c=fl(),u=ml(),d=vl(),{saveExperiment:f,setExperimentData:m}=(0,l.useDispatch)(Qe),v=cl();return(0,a.jsxs)("div",{ref:e,className:"nab-edit-experiment-header",children:[(0,a.jsxs)("div",{className:"nab-edit-experiment-header__info",children:[t&&(0,a.jsx)(t,{className:"nab-edit-experiment-header__experiment-icon"}),(0,a.jsx)("h1",{className:"nab-edit-experiment-header__title",children:(0,Le._x)("Edit Test","text","nelio-ab-testing")}),(0,a.jsx)(il.SubscribeWithCouponButton,{className:"finished"===i?"nab-edit-experiment-header__right-promo-button":void 0})]}),(0,a.jsxs)("div",{className:"nab-edit-experiment-header__settings",children:[c&&(0,a.jsxs)("span",{className:"nab-edit-experiment-header__save-button nab-edit-experiment-header__save-button--is-saving",children:[(0,a.jsx)(et.Dashicon,{icon:"cloud"}),(0,Le._x)("Saving…","text","nelio-ab-testing")]}),u&&"scheduled"!==i&&(0,a.jsxs)("span",{className:"nab-edit-experiment-header__save-button nab-edit-experiment-header__save-button--has-been-saved",children:[(0,a.jsx)(et.Dashicon,{icon:"yes"}),(0,Le._x)("Saved","text (experiment)","nelio-ab-testing")]}),!c&&!(u&&"scheduled"!==i)&&(0,a.jsx)(et.Button,{variant:"tertiary",className:"nab-edit-experiment-header__save-button",onClick:"scheduled"===i?()=>{m({status:s?"paused":"ready"}),f()}:f,children:"scheduled"===i?(0,Le._x)("Save as Ready","command (experiment)","nelio-ab-testing"):(0,Le._x)("Save","command","nelio-ab-testing")}),(0,a.jsx)("div",{className:"nab-edit-experiment-header__start-button",children:(0,a.jsx)(il.Tooltip,{text:r,placement:"left",getTooltipContainer:e.current?()=>e.current:void 0,children:(0,a.jsx)("span",{children:(0,a.jsx)(et.Button,{variant:"primary",disabled:o||c||!v||u&&"scheduled"===i,onClick:d,children:n})})})}),(0,a.jsx)(ol,{})]})]})},cl=()=>{const[e]=Ua("status"),t=(e||"").includes("paused");return c((e=>{const{hasCapability:n}=e(m.store);return n(t?"resume_nab_experiments":"start_nab_experiments")}))},ul=()=>{const[e]=Ua("startDate"),[t]=Ua("status");return(t||"").includes("paused")?(0,Le._x)("Resume…","command","nelio-ab-testing"):e&&(0,Ma.isInTheFuture)(e)?"scheduled"===t?(0,Le._x)("Schedule","command","nelio-ab-testing"):(0,Le._x)("Schedule…","command","nelio-ab-testing"):(0,Le._x)("Start…","command","nelio-ab-testing")},dl=()=>c((e=>{var t;const{getExperimentTypes:n}=e($e.store),{getExperimentType:r}=e(Qe);return null===(t=n()[r()])||void 0===t?void 0:t.icon})),pl=()=>c((e=>e(Qe).getDraftStatusRationale())),fl=()=>c((e=>e(Qe).isExperimentBeingSaved())),ml=()=>c((e=>e(Qe).hasExperimentBeenRecentlySaved())),vl=()=>{const[e]=Ua("status"),[t]=Ua("startDate"),n=(e||"").includes("paused"),{resumeExperiment:r,setExperimentData:i,saveExperiment:o,startExperiment:s}=(0,l.useDispatch)(Qe);return()=>{n?r():t&&(0,Ma.isInTheFuture)(t)?(i({status:"scheduled"}),o()):s()}},gl=window.wp.blockEditor,bl=()=>{const[e,t]=Ua("name");return(0,a.jsx)("div",{className:"nab-experiment-title",children:(0,a.jsx)(gl.PlainText,{value:e,className:"nab-experiment-title__edit",placeholder:(0,Le._x)("Name your test…","user","nelio-ab-testing"),onChange:t})})},hl=({readOnly:e,action:t,goalId:n})=>{var r;const i=xl(),o=yl(),s=wl(),l=_l(t.type),c=Sl(t),u=null==l?void 0:l.view,d=null==l?void 0:l.edit,f=null==l?void 0:l.icon,m=(null==t?void 0:t.attributes)||{},v=null!==(r=null==l?void 0:l.validate)&&void 0!==r?r:()=>({}),b=Object.assign(Object.assign({},v(m)),{_scope:(0,g.getConversionActionScopeError)(c)}),[h]=(0,p.useState)(!(0,g.isEmpty)(b)),{setAttributes:x,setScope:y}=jl(n,t.id),w=El(n,t.id);return o?e?(0,a.jsx)("div",{className:"nab-conversion-action",children:(0,a.jsxs)("div",{className:"nab-conversion-action__view",children:[f?(0,a.jsx)(f,{className:"nab-conversion-action__icon"}):(0,a.jsx)(et.Dashicon,{className:"nab-conversion-action__icon nab-conversion-action__icon--invalid",icon:"warning"}),(0,a.jsx)("div",{className:"nab-conversion-action__actual-view",children:u?(0,a.jsx)(u,{attributes:m,scope:c,experimentId:i,goal:o.attributes,goalId:n,goalIndex:s}):(0,a.jsx)("span",{children:(0,Le._x)("Invalid conversion action.","text","nelio-ab-testing")})})]})}):(0,a.jsxs)(et.PanelBody,{className:"nab-conversion-action",initialOpen:h,title:(0,a.jsxs)("div",{className:"nab-conversion-action__view",children:[f?(0,a.jsx)(f,{className:"nab-conversion-action__icon"}):(0,a.jsx)(et.Dashicon,{className:"nab-conversion-action__icon nab-conversion-action__icon--invalid",icon:"warning"}),(0,a.jsx)("div",{className:"nab-conversion-action__actual-view",children:u?(0,a.jsx)(u,{attributes:m,scope:c,experimentId:i,goal:o.attributes,goalId:n,goalIndex:s}):(0,a.jsx)("span",{children:(0,Le._x)("Invalid conversion action.","text","nelio-ab-testing")})})]}),children:[(0,a.jsx)("div",{className:"nab-conversion-action__edit",children:d?(0,a.jsx)(d,{attributes:m,scope:c,experimentId:i,goal:o.attributes,goalId:n,goalIndex:s,setAttributes:x,setScope:y,errors:b}):(0,a.jsx)("span",{children:(0,Le._x)("This conversion action can’t be properly loaded. Please consider removing it.","text","nelio-ab-testing")})}),(0,a.jsx)(et.Button,{variant:"link",isDestructive:!0,onClick:w,className:"nab-conversion-action__delete-button",children:(0,Le._x)("Delete","command","neli-ab-testing")})]}):null},xl=()=>c((e=>e(Qe).getExperimentId())),yl=()=>c((e=>e(Qe).getActiveGoal())),wl=()=>c((e=>e(Qe).getActiveGoalIndex())),_l=e=>c((t=>t(Da.store).getConversionActionType(e))),Sl=e=>{const t=(0,m.usePluginSetting)("goalTracking");return"custom"!==t?{type:t}:(null==e?void 0:e.scope)?e.scope:{type:"test-scope"}},jl=(e,t)=>{const{updateConversionAction:n}=(0,l.useDispatch)(Qe),r=(r,i)=>n(e,t,r,i),i=(0,p.useCallback)((e=>r(e,void 0)),[e,t]),o=(0,p.useCallback)((e=>r(void 0,e)),[e,t]);return{setAttributes:e&&t?i:f.noop,setScope:e&&t?o:f.noop}},El=(e,t)=>{const{removeConversionActionsFromGoal:n}=(0,l.useDispatch)(Qe);return e&&t?()=>n(e,t):f.noop},Ol=()=>{const e=Il(),t=Al(e);return(0,a.jsxs)("div",{className:"nab-conversion-action-list nab-conversion-action-list--automatic",children:[1===t.length?(0,a.jsx)("p",{className:"nab-conversion-action-list__help",children:(0,Le._x)("By default, there will be a new conversion in this test when the following conversion action occurs after the visitor has seen the tested element:","text","nelio-ab-testing")},"conversion-action-explanation"):(0,a.jsx)("p",{className:"nab-conversion-action-list__help",children:(0,Le._x)("Split tests are usually run with some specific goals in mind. In this type of test, there’s a new conversion when at least one of the following conversion actions occurs after the visitor has seen the tested element:","text","nelio-ab-testing")},"conversion-action-explanation"),e&&t.map((t=>(0,a.jsx)(hl,{goalId:e,action:t,readOnly:!0},t.id)))]})},Il=()=>c((e=>{var t;return null===(t=e(Qe).getActiveGoal())||void 0===t?void 0:t.id})),Al=e=>c((t=>{if(!e)return[];const{getConversionActions:n}=t(Qe);return n(e)||[]})),Cl=()=>{var e,t;const n=Tl(),r=null==n?void 0:n.id,i=Nl(r);return i.length?(0,a.jsxs)("div",{className:"nab-conversion-action-list",children:[(0,a.jsx)("p",{className:"nab-conversion-action-list__help",children:!!(null===(t=null==n?void 0:n.ai)||void 0===t?void 0:t.description)&&(0,a.jsx)("p",{className:"nab-conversion-action-list__help",children:n.ai.description})}),(0,a.jsx)("p",{children:(0,Le._x)("After a visitor has seen the tested element, there’s a new conversion every time one of the following conversion actions occurs:","text","nelio-ab-testing")}),r&&i.map((e=>(0,a.jsx)(hl,{goalId:r,action:e},e.id)))]}):(0,a.jsxs)("div",{className:"nab-conversion-action-list",children:[(null===(e=null==n?void 0:n.ai)||void 0===e?void 0:e.description)?(0,a.jsx)("p",{className:"nab-conversion-action-list__help",children:n.ai.description}):(0,a.jsx)("p",{className:"nab-conversion-action-list__help",children:(0,Le._x)("Split tests are usually run with some specific goals in mind, such as “getting more subscribers” or “showing interest in your products.” Goals are fulfilled when the visitor performs certain actions. For instance, a visitor might be “showing interest in your products” when they visit your pricing page or they submit a certain form in your website.","text","nelio-ab-testing")}),(0,a.jsx)("p",{className:"nab-conversion-action-list__help",children:(0,p.createInterpolateElement)((0,Le._x)("Use the buttons below to <strong>add the specific conversion actions</strong> that fulfill this goal.","user","nelio-ab-testing"),{strong:(0,a.jsx)("strong",{})})})]})},Tl=()=>c((e=>e(Qe).getActiveGoal())),Nl=e=>c((t=>{if(!e)return[];const{getConversionActions:n}=t(Qe);return n(e)||[]})),kl=()=>{const e=Pl(),t=Rl(),{addConversionActionsIntoGoal:n}=(0,l.useDispatch)(Qe);return(0,a.jsx)("ul",{className:"nab-conversion-action-type-list",children:t&&t.map((t=>{const r=t.icon;return(0,a.jsx)(et.Tooltip,{text:t.title,placement:"top",children:(0,a.jsx)("li",{className:"nab-conversion-action-type-list__item",children:(0,a.jsx)(et.Button,{variant:"secondary",className:"nab-conversion-action-type-list__new-action-button",onClick:()=>(t=>{if(!e)return;const r=(0,Da.createConversionAction)(t);r&&n(e,r)})(t.name),children:(0,a.jsx)(r,{})})},t.name)},t.name)}))})},Pl=()=>c((e=>{var t;return null===(t=e(Qe).getActiveGoal())||void 0===t?void 0:t.id})),Rl=()=>{const e=Pl(),t=Dl(e);return c((e=>{const{getConversionActionTypes:n}=e(Da.store),r=(0,f.filter)(n(),(t=>!t.isActive||t.isActive(e)));if(!t.length)return r;const i=(0,f.filter)(r,(e=>!!e.requiresUniformity));for(const e of i)if((0,f.every)(t,(t=>t.type===e.name)))return[e];return i.length?(0,f.difference)(r,i):r}))},Dl=e=>c((t=>e&&t(Qe).getConversionActions(e)||[])),Ml=()=>{const e=$l();return e?(0,a.jsx)(Ll,{plugin:e}):null},Ll=({plugin:e})=>{const t=Bl(e),[n,r]=Fl(),i=Vl(e),[o,s]=Gl(e);return(0,a.jsxs)("div",{className:"nab-ecommerce-goal-settings",children:[(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:t})}),(0,a.jsx)(et.SelectControl,{label:(0,Le._x)("Order status required for conversions:","command","nelio-ab-testing"),options:i,value:o,onChange:s}),(0,a.jsx)(et.CheckboxControl,{label:(0,Le._x)("Track revenue and show in test results","command","nelio-ab-testing"),checked:n,onChange:r})]})},Bl=e=>{switch(e){case"woocommerce":return(0,Le._x)("WooCommerce Goal Settings","text","nelio-ab-testing");case"edd":return(0,Le._x)("Easy Digital Downloads Goal Settings","text","nelio-ab-testing")}},$l=()=>c((e=>{var t;const{getActiveGoal:n}=e(Qe),{getConversionActions:r}=e(Qe),i=null===(t=n())||void 0===t?void 0:t.id,o=i?r(i):[];if(o.length)return o.every((({type:e})=>"nab/wc-order"===e))?"woocommerce":o.every((({type:e})=>"nab/edd-order"===e))?"edd":void 0})),Fl=()=>{var e;const t=Ul(),n=null===(e=null==t?void 0:t.attributes.useOrderRevenue)||void 0===e||e,{updateGoal:r}=(0,l.useDispatch)(Qe);return[n,()=>t?r(t.id,{useOrderRevenue:!n}):void 0]},Gl=e=>{const t=Ul(),n=Vl(e),r=null==t?void 0:t.attributes.orderStatusForConversion,i=r&&n.map((e=>e.value)).includes(null==t?void 0:t.attributes.orderStatusForConversion)?r:zl(e),{updateGoal:o}=(0,l.useDispatch)(Qe);return[i,e=>t?o(t.id,{orderStatusForConversion:e}):void 0]},Vl=e=>c((t=>t(m.store).getECommerceSetting(e,"orderStatuses"))),Ul=()=>c((e=>e(Qe).getActiveGoal())),zl=e=>{switch(e){case"woocommerce":return"wc-completed";case"edd":return"complete"}},Hl=({name:e,setName:t,removeGoal:n,isAutomatic:r})=>(0,a.jsxs)("div",{className:"nab-current-goal-info",children:[!r&&(0,a.jsxs)("div",{className:"nab-current-goal-info__header",children:[(0,a.jsx)(et.TextControl,{placeholder:(0,Le._x)("Name your goal…","user","nelio-ab-testing"),value:e,onChange:e=>t(e)}),!!n&&(0,a.jsx)(et.Button,{variant:"tertiary",isDestructive:!0,className:"nab-current-goal-info__delete-button",onClick:n,children:(0,Le._x)("Delete","command (goal)","nelio-ab-testing")})]}),(0,a.jsx)(Ml,{}),r?(0,a.jsx)(Ol,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Cl,{}),(0,a.jsx)(kl,{})]})]}),ql=()=>{const e=Wl(),t=Kl(),n=Xl(),{setActiveGoal:r,addGoals:i}=(0,l.useDispatch)(Qe);return(0,a.jsxs)("ul",{className:"nab-goal-list",children:[t.map(((t,n)=>(0,a.jsx)("li",{className:Aa("nab-goal-list__item",{"nab-goal-list__item--is-active":t.id===e}),children:(0,a.jsx)(et.Button,{disabled:t.id===e,onClick:()=>r(t.id),children:(0,f.trim)(t.attributes.name)||Yl(n)})},t.id))),!n&&(0,a.jsx)("li",{className:"nab-goal-list__add-new-goal",children:(0,a.jsxs)(et.Button,{className:"nab-goal-list__add-new-goal-button",variant:"link",onClick:()=>{const e=(0,g.createGoal)();i(e),r(e.id)},children:[(0,a.jsx)(et.Dashicon,{icon:"plus"}),(0,a.jsx)("span",{children:(0,Le._x)("New","command (goal)","nelio-ab-testing")})]})},"add-new-goal")]})},Wl=()=>c((e=>{var t;return null===(t=e(Qe).getActiveGoal())||void 0===t?void 0:t.id})),Kl=()=>c((e=>e(Qe).getGoals())),Xl=()=>{const[e]=Ua("status");return(e||"").includes("paused")};function Yl(e){return e?(0,Le.sprintf)(/* translators: a number */ /* translators: a number */
(0,Le._x)("Goal %d","text","nelio-ab-testing"),e+1):(0,Le._x)("Default Goal","text","nelio-ab-testing")}const Jl=()=>{var e;nc();const t=Ql(),n=Zl(),r=ec(),i=n.length,o=tc(),{removeGoals:s,setActiveGoal:c,updateGoal:u}=(0,l.useDispatch)(Qe),d=1<i&&!r;return(0,a.jsxs)("div",{className:"nab-edit-experiment__goal-section",children:[(0,a.jsx)("h2",{children:(0,p.createInterpolateElement)((0,Le.sprintf)(/* translators: dashicon */ /* translators: dashicon */
(0,Le._x)("%s Conversion Goals and Actions","text","nelio-ab-testing"),"<icon></icon>"),{icon:(0,a.jsx)(et.Dashicon,{className:"nab-goal-section__title-icon",icon:"flag"})})}),(0,a.jsxs)("div",{className:"nab-edit-experiment-goal-section__content",children:[(0,a.jsx)(ql,{}),(0,a.jsx)(Hl,{name:null!==(e=null==t?void 0:t.attributes.name)&&void 0!==e?e:"",setName:e=>{return n={name:e},t&&u(t.id,Object.assign(Object.assign({},t.attributes),n));var n},removeGoal:d?()=>{if(!t)return;const e=function(e,t){const n=(0,f.findIndex)(e,{id:t});return n===e.length-1?e[n-1]:e[n+1]}(n,t.id);e&&(c(e.id),s(t.id))}:void 0,isAutomatic:o})]})]})},Ql=()=>c((e=>e(Qe).getActiveGoal())),Zl=()=>c((e=>e(Qe).getGoals())),ec=()=>{const[e]=Ua("status");return(e||"").includes("paused")},tc=()=>{const e=Ql(),t=Zl();return c((n=>{var r;const{getExperimentType:i}=n(Qe),{hasExperimentSupport:o}=n($e.store);return(null==e?void 0:e.id)===(null===(r=t[0])||void 0===r?void 0:r.id)&&o(i(),"automaticGoalSetup")}))},nc=()=>{var e;const{replaceConversionActionsInGoal:t}=(0,l.useDispatch)(Qe),n=null===(e=Zl()[0])||void 0===e?void 0:e.id,r=c((e=>e(Qe).getAlternative("control"))),i=c((e=>{const{getExperimentType:t}=e(Qe),{getExperimentSupport:n}=e($e.store);return n(t(),"automaticGoalSetup")})),o=c((e=>(e(Qe),n?e(Qe).getConversionActions(n):[])));(0,p.useEffect)((()=>{if(!r||!n||!i)return;const e=i(r.attributes);(0,f.isEqual)(rc(o),rc(e))||t(n,e)}),[i,n,r])},rc=e=>e.map((e=>(0,f.omit)(e,"id"))),ic=({readOnly:e,rule:t,setAttributes:n,remove:r})=>{var i;const o=oc(),s=sc(t.type),l=null==s?void 0:s.view,c=null==s?void 0:s.edit,u=null==s?void 0:s.icon,d=(null==t?void 0:t.attributes)||{},f=(null!==(i=null==s?void 0:s.validate)&&void 0!==i?i:()=>({}))(d),[m]=(0,p.useState)(!(0,g.isEmpty)(f));return e?(0,a.jsx)("div",{className:"nab-segmentation-rule",children:(0,a.jsxs)("div",{className:"nab-segmentation-rule__view",children:[u?(0,a.jsx)(u,{className:"nab-segmentation-rule__icon"}):(0,a.jsx)(et.Dashicon,{className:"nab-segmentation-rule__icon nab-segmentation-rule__icon--invalid",icon:"warning"}),(0,a.jsx)("div",{className:"nab-segmentation-rule__actual-view",children:l?(0,a.jsx)(l,{attributes:d,experimentId:o}):(0,a.jsx)("span",{children:(0,Le._x)("Invalid segmentation rule.","text","nelio-ab-testing")})})]})}):(0,a.jsxs)(et.PanelBody,{className:"nab-segmentation-rule",initialOpen:m,title:(0,a.jsxs)("div",{className:"nab-segmentation-rule__view",children:[u?(0,a.jsx)(u,{className:"nab-segmentation-rule__icon"}):(0,a.jsx)(et.Dashicon,{className:"nab-segmentation-rule__icon nab-segmentation-rule__icon--invalid",icon:"warning"}),(0,a.jsx)("div",{className:"nab-segmentation-rule__actual-view",children:l?(0,a.jsx)(l,{attributes:d,experimentId:o}):(0,a.jsx)("span",{children:(0,Le._x)("Invalid segmentation rule.","text","nelio-ab-testing")})})]}),children:[(0,a.jsx)("div",{className:"nab-segmentation-rule__edit",children:c?(0,a.jsx)(c,{attributes:d,experimentId:o,setAttributes:n,errors:f}):(0,a.jsx)("span",{children:(0,Le._x)("This segmentation rule can’t be properly loaded. Please consider removing it.","text","nelio-ab-testing")})}),(0,a.jsx)(et.Button,{variant:"link",isDestructive:!0,onClick:r,className:"nab-segmentation-rule__delete-button",children:(0,Le._x)("Delete","command","neli-ab-testing")})]})},oc=()=>c((e=>e(Qe).getExperimentId())),sc=e=>c((t=>t(La.store).getSegmentationRuleType(e))),ac=()=>{const e=cc(),t=uc(),n=dc();return(0,a.jsxs)("div",{className:"nab-segmentation-rule-list",children:[!!e.length&&(0,a.jsx)("p",{children:(0,Le._x)("A visitor participates in the test every time all of the following segmentation rules match:","text","nelio-ab-testing")},"segmentation-rule-explanation-1"),e.map((e=>(0,a.jsx)(ic,{rule:e,setAttributes:n=>t(e.id,n),remove:()=>n(e.id)},e.id))),!e.length&&[(0,a.jsx)("p",{className:"nab-segmentation-rule-list__help",children:(0,Le._x)("Split tests are usually applied to all visitors. But you can narrow your audience using segmentation rules to target only a subset of your visitors.","text","nelio-ab-testing")},"segmentation-rule-explanation-1"),(0,a.jsx)("p",{className:"nab-segmentation-rule-list__help",children:(0,p.createInterpolateElement)((0,Le._x)("Use the buttons below to <strong>add the specific segmentation rules</strong> for this segment.","user","nelio-ab-testing"),{strong:(0,a.jsx)("strong",{})})},"segmentation-rule-explanation-2")]]})},lc=()=>c((e=>e(Qe).getActiveSegment())),cc=()=>{const e=lc();return c((t=>{const{getSegmentationRules:n}=t(Qe);return(null==e?void 0:e.id)&&n(e.id)||[]}))},uc=()=>{var e;const t=null===(e=lc())||void 0===e?void 0:e.id,{updateSegmentationRule:n}=(0,l.useDispatch)(Qe);return(e,r)=>t?n(t,e,r):pc},dc=()=>{var e;const t=null===(e=lc())||void 0===e?void 0:e.id,{removeSegmentationRulesFromSegment:n}=(0,l.useDispatch)(Qe);return e=>t?n(t,e):pc},pc=()=>{},fc=({category:e,createSegmentationRule:t,segmentationRules:n})=>{const r=mc(e.name),i=e.icon;return r.length?(0,a.jsx)("li",{className:"nab-segmentation-rule-type-category",children:(0,a.jsx)(et.DropdownMenu,{icon:(0,a.jsx)(i,{}),className:"nab-segmentation-rule-type-category__item",label:e.title,controls:r.map((({name:e,title:r,icon:i,singleton:o})=>({title:r,icon:(0,a.jsx)(i,{}),isDisabled:o&&n.some((t=>t.type===e)),onClick:()=>t(e)}))),toggleProps:{className:"nab-segmentation-rule-type-category__toggle",disabled:r.every((({name:e,singleton:t})=>t&&n.some((t=>t.type===e))))},menuProps:{className:"nab-segmentation-rule-type-category__menu"}})},e.name):null},mc=e=>c((t=>(t(La.store).getSegmentationRuleTypes()||[]).filter((({category:t})=>t===e)))),vc=({createSegmentationRule:e,segmentationRules:t})=>{const n=gc();return(0,a.jsx)("ul",{className:"nab-segmentation-rule-type-category-list",children:n.map((n=>(0,a.jsx)(fc,{category:n,createSegmentationRule:e,segmentationRules:t},n.name)))})},gc=()=>c((e=>e(La.store).getSegmentationRuleTypeCategories()||[])),bc=({name:e,setName:t,removeSegment:n})=>{const r=xc(),i=yc();return(0,a.jsxs)("div",{className:"nab-current-segment-info",children:[(0,a.jsxs)("div",{className:"nab-current-segment-info__header",children:[(0,a.jsx)(et.TextControl,{placeholder:(0,Le._x)("Name your segment…","user","nelio-ab-testing"),value:e,onChange:e=>t(e)}),!!n&&(0,a.jsx)(et.Button,{variant:"tertiary",isDestructive:!0,className:"nab-current-segment-info__delete-button",onClick:n,children:(0,Le._x)("Delete","command (segment)","nelio-ab-testing")})]}),(0,a.jsx)(ac,{}),(0,a.jsx)(vc,{segmentationRules:r,createSegmentationRule:i})]})},hc=()=>c((e=>e(Qe).getActiveSegment())),xc=()=>{const e=hc();return c((t=>{const{getSegmentationRules:n}=t(Qe);return(null==e?void 0:e.id)&&n(e.id)||[]}))},yc=()=>{const{addSegmentationRulesIntoSegment:e}=(0,l.useDispatch)(Qe),t=hc();return n=>{if(!t)return;const r=(0,La.createSegmentationRule)(n);r&&e(t.id,r)}},wc=()=>{const e=_c(),t=Sc(),n=jc(),{setActiveSegment:r,addSegments:i}=(0,l.useDispatch)(Qe);return(0,a.jsxs)("ul",{className:"nab-segment-list",children:[t.map(((t,n)=>(0,a.jsx)("li",{className:Aa("nab-segment-list__item",{"nab-segment-list__item--is-active":t.id===e}),children:(0,a.jsx)(et.Button,{disabled:t.id===e,onClick:()=>r(t.id),children:(0,f.trim)(t.attributes.name)||Ec(n)})},t.id))),!n&&(0,a.jsx)("li",{className:"nab-segment-list__add-new-segment",children:(0,a.jsxs)(et.Button,{className:"nab-segment-list__add-new-segment-button",variant:"link",onClick:()=>{const e=(0,g.createSegment)();i(e),r(e.id)},children:[(0,a.jsx)(et.Dashicon,{icon:"plus"}),(0,a.jsx)("span",{children:(0,Le._x)("New","command (segment)","nelio-ab-testing")})]})},"add-new-segment")]})},_c=()=>c((e=>{var t;return null===(t=e(Qe).getActiveSegment())||void 0===t?void 0:t.id})),Sc=()=>c((e=>e(Qe).getSegments()||[])),jc=()=>{const[e]=Ua("status");return e.includes("paused")},Ec=e=>(0,Le.sprintf)(/* translators: a number */ /* translators: a number */
(0,Le._x)("Segment %d","text","nelio-ab-testing"),e+1),Oc=()=>{const[e,t]=Ic(),[n]=Ua("status"),[r,i]=Cc(),o=(0,m.usePluginSetting)("segmentEvaluation"),s=(n||"").includes("paused"),l=Ac(),c=!s;return(0,a.jsxs)("div",{className:"nab-edit-experiment__segmentation-section",children:[(0,a.jsxs)("h2",{children:[(0,p.createInterpolateElement)((0,Le.sprintf)(/* translators: dashicon */ /* translators: dashicon */
(0,Le._x)("%s Segmentation","text","nelio-ab-testing"),"<icon></icon>"),{icon:(0,a.jsx)(et.Dashicon,{className:"nab-segmentation-section__title-icon",icon:"groups"})}),"custom"===o&&(0,a.jsx)("div",{className:"nab-edit-experiment-segmentation-section__strategy",children:(0,a.jsx)(et.SelectControl,{value:r,options:[{value:"site",label:(0,Le._x)("Evaluate on Site Landing","command","nelio-ab-testing")},{value:"tested-page",label:(0,Le._x)("Evaluate on Tested Pages","text","nelio-ab-testing")}],onChange:i})})]}),(0,a.jsxs)("div",{className:"nab-edit-experiment-segmentation-section__content",children:[(0,a.jsx)(wc,{}),e?(0,a.jsx)(bc,{name:e.attributes.name,setName:n=>t(Object.assign(Object.assign({},e.attributes),{name:n})),removeSegment:c?l:void 0}):(0,a.jsx)("p",{className:"nab-edit-experiment-segmentation-section__content--empty",children:(0,Le._x)("Add a new segment to narrow your tested audience and target only a subset of your visitors.","user","nelio-ab-testing")})]})]})},Ic=()=>{const e=c((e=>e(Qe).getActiveSegment())),{updateSegment:t}=(0,l.useDispatch)(Qe);return[e,n=>{(null==e?void 0:e.id)&&t(e.id,n)}]},Ac=()=>{const[e]=Ic(),t=c((e=>e(Qe).getSegments())),{removeSegments:n,setActiveSegment:r}=(0,l.useDispatch)(Qe);return e?()=>{const i=function(e,t){const n=(0,f.findIndex)(e,{id:t});return e[n+1]||e[n-1]||!1}(t,e.id);i&&r(i.id),n(e.id)}:()=>null},Cc=()=>{const e=c((e=>e(Qe).getSegmentEvaluation())),{setSegmentEvaluation:t}=(0,l.useDispatch)(Qe);return[e,t]},Tc=()=>{const[e]=Ua("status");return(0,a.jsxs)(et.PanelRow,{className:"nab-experiment-management__status",children:[(0,a.jsx)("span",{children:(0,Le._x)("Status","text","nelio-ab-testing")}),(0,a.jsx)("strong",{className:"nab-experiment-management__status-value",children:Nc(e)})]})};function Nc(e){switch(e){case"draft":return(0,Le._x)("Draft","text (experiment status)","nelio-ab-testing");case"ready":return(0,Le._x)("Ready","text (experiment status)","nelio-ab-testing");case"scheduled":return(0,Le._x)("Scheduled","text (experiment status)","nelio-ab-testing");case"paused":return(0,Le._x)("Paused","text (experiment status)","nelio-ab-testing");case"paused_draft":return(0,Le._x)("Paused Draft","text (experiment status)","nelio-ab-testing");case"running":case"finished":case"trash":return"-"}}const kc=()=>{const[e,t]=Ua("startDate"),n=Ha("professional"),r=Pc();return(0,a.jsxs)(et.PanelRow,{className:"nab-experiment-start-schedule",children:[(0,a.jsx)("span",{children:(0,Le._x)("Start","text","nelio-ab-testing")}),(0,a.jsxs)("span",{children:[!!r&&(0,a.jsx)("span",{className:"nab-experiment-start-schedule__date",children:(0,Ma.formatI18nDatetime)(e)}),!r&&!n&&(0,a.jsx)("span",{className:"nab-experiment-start-schedule__date",children:(0,Le._x)("Immediately","text","nelio-ab-testing")}),!r&&!!n&&(0,a.jsx)(il.DateTimePicker,{className:"nab-experiment-start-schedule__date",date:e,onChange:e=>t(e||""),noDateLabel:(0,Le._x)("Immediately","text","nelio-ab-testing"),readonly:!0})]})]})},Pc=()=>{const[e]=Ua("status");return e.includes("paused")},Rc=window.nab.i18n,Dc=()=>{const e=(0,Go.useInstanceId)(Dc),t=Ha("professional"),[n]=Ua("endMode"),[r]=Ua("endValue"),i=Mc(),o=$c[n],[s,c]=Lc(),{setExperimentData:u}=(0,l.useDispatch)(Qe),d=(e,t)=>u({endMode:e,endValue:t});return t?(0,a.jsxs)(et.PanelRow,{className:"nab-experiment-end-schedule",children:[(0,a.jsx)("span",{children:(0,Le._x)("End","text","nelio-ab-testing")}),(0,a.jsx)(et.Dropdown,{placement:"bottom-end",contentClassName:"nab-experiment-end-schedule__dropdown",renderToggle:({onToggle:t,isOpen:i})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"nab-experiment-end-schedule__value screen-reader-text",htmlFor:`nab-experiment-end-schedule__toggle-${e}`,children:(0,Le._x)("Click to change","command","nelio-ab-testing")}),(0,a.jsx)(et.Button,{variant:"link",id:`nab-experiment-end-schedule__toggle-${e}`,type:"button",className:"nab-experiment-end-schedule__toggle",onClick:t,"aria-expanded":i,"aria-live":"polite",children:Fc(n,r)})]}),renderContent:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(et.SelectControl,{label:(0,Le._x)("End Mode","text","nelio-ab-testing"),value:n,onChange:e=>{c(!1),d(e,function(e){switch(e){case"duration":return 15;case"page-views":return 5e3;case"confidence":return 97;case"manual":return 0}}(e))},options:Bc.filter((({value:e})=>"confidence"!==e||"nab/heatmap"!==i))}),!!o&&(0,a.jsx)("div",{style:{marginTop:"1em"},children:(0,a.jsx)(et.SelectControl,{label:(0,Le._x)("Value","text","nelio-ab-testing"),onChange:e=>{c("custom"===e),d(n,Number.parseInt(e)||0)},value:s?"custom":`${r}`,options:o})}),!!o&&s&&(0,a.jsx)("div",{style:{marginTop:"0.5em"},children:(0,a.jsx)(et.TextControl,{type:"number",placeholder:Gc(n),value:r||"",onChange:e=>d(n,Number.parseInt(e)||0)})})]})})]}):(0,a.jsxs)(et.PanelRow,{className:"nab-experiment-end-schedule",children:[(0,a.jsx)("span",{children:(0,Le._x)("End","text","nelio-ab-testing")}),(0,a.jsx)("span",{children:(0,Le._x)("Manual","text","nelio-ab-testing")})]})},Mc=()=>c((e=>e(Qe).getExperimentType())),Lc=()=>{const[e]=Ua("endMode"),[t]=Ua("endValue"),n=$c[e],r=!!(0,f.find)(n,{value:"custom"})&&!(0,f.find)(n,{value:`${t}`}),[i,o]=(0,p.useState)(r);return[i,o]},Bc=[{value:"manual",label:(0,Le._x)("Manual","text","nelio-ab-testing")},{value:"duration",label:(0,Le._x)("Duration","text","nelio-ab-testing")},{value:"page-views",label:(0,Le._x)("Page Views","text","nelio-ab-testing")},{value:"confidence",label:(0,Le._x)("Confidence","text","nelio-ab-testing")}],$c={manual:[],confidence:[95,96,97,98,99].map((e=>({value:`${e}`,label:(0,Le.sprintf)(/* translators: a percentage number, such as “95” */ /* translators: a percentage number, such as “95” */
(0,Le._x)("%1$s%%","text","nelio-ab-testing"),(0,Rc.numberFormat)(e))}))),duration:[...[5,7,15,30,60,90].map((e=>({value:`${e}`,label:(0,Le.sprintf)(/* translators: number of days */ /* translators: number of days */
(0,Le._n)("%d day","%d days",e,"nelio-ab-testing"),e)}))),{value:"custom",label:(0,Le._x)("Custom","text","nelio-ab-testing"),placeholder:(0,Le._x)("Days","text","nelio-ab-testing")}],"page-views":[...[2500,5e3,1e4,2e4,5e4,1e5].map((e=>({value:`${e}`,label:(0,Rc.numberFormat)(e)}))),{value:"custom",label:(0,Le._x)("Custom","text","nelio-ab-testing"),placeholder:(0,Le._x)("Days","text","nelio-ab-testing")}]};function Fc(e,t){switch(e){case"duration":return(0,Le.sprintf)(/* translators: number of days */ /* translators: number of days */
(0,Le._n)("After %d day","After %d days",t,"nelio-ab-testing"),t);case"page-views":return(0,Le.sprintf)(/* translators: a number */ /* translators: a number */
(0,Le._n)("After %s page view","After %s page views",t,"nelio-ab-testing"),(0,Rc.numberFormat)(t));case"confidence":return(0,Le.sprintf)(/* translators: a percentage number, such as “95” */ /* translators: a percentage number, such as “95” */
(0,Le._x)("At %1$s%% confidence","text","nelio-ab-testing"),(0,Rc.numberFormat)(t));case"manual":return(0,Le._x)("Manual","text","nelio-ab-testing")}}const Gc=e=>{var t,n;return null!==(n=null===(t=(0,f.find)($c[e],{value:"custom"}))||void 0===t?void 0:t.placeholder)&&void 0!==n?n:""},Vc=()=>{const[e,t]=Ua("autoAlternativeApplication"),n=Uc();return(0,p.useEffect)((()=>{"yes"!==n&&t(!1)}),[n]),"no"===n?null:(0,a.jsx)("div",{className:"nab-experiment-auto-apply-winner",children:(0,a.jsx)(et.CheckboxControl,{className:Aa({"nab-experiment-auto-apply-winner__checkbox":!0,"nab-experiment-auto-apply-winner__checkbox--disabled":"not-now"===n}),label:(0,Le._x)("Apply winner automatically","command","nelio-ab-testing"),checked:e,onChange:t,disabled:"not-now"===n})})},Uc=()=>{const e=za(),t=c((e=>e(Qe).getAlternative("control")));return t&&(null==e?void 0:e.supports.alternativeApplication)?"boolean"==typeof e.supports.alternativeApplication?e.supports.alternativeApplication?"yes":"no":e.supports.alternativeApplication(t.attributes)?"yes":"not-now":"no"},zc=()=>{const e=Hc(),{moveToTrash:t}=(0,l.useDispatch)(Qe);return(0,a.jsxs)(et.PanelBody,{className:"nab-experiment-management",title:(0,Le._x)("Status & Management","text (experiment)","nelio-ab-testing"),children:[(0,a.jsx)(Tc,{}),(0,a.jsx)(kc,{}),(0,a.jsx)(Dc,{}),(0,a.jsx)(Vc,{}),e&&(0,a.jsx)(et.PanelRow,{className:"nab-experiment-management__trash",children:(0,a.jsx)(et.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>{t()},children:(0,Le._x)("Move to Trash","command (experiment)","nelio-ab-testing")})})]})},Hc=()=>c((e=>e(m.store).hasCapability("delete_nab_experiments"))),qc=()=>{const[e,t]=Ua("description");return(0,a.jsx)(et.PanelBody,{className:"nab-experiment-description",title:(0,Le._x)("Description","text","nelio-ab-testing"),children:(0,a.jsx)(et.TextareaControl,{label:(0,Le._x)("Describe your test (optional)","user","nelio-ab-testing"),className:"nab-experiment-description__textarea",value:e,onChange:t})})},Wc=({rules:e,scopeSupport:t})=>{const[n,r]=(0,p.useState)((0,g.createScopeRule)({type:"partial",value:""})),{setScopeRules:i}=(0,l.useDispatch)(Qe);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Kc,{rules:e,scopeSupport:t}),(0,a.jsx)("ul",{className:"nab-experiment-scope__rule-list",children:[...e,n].map((({id:t,attributes:o})=>(0,a.jsx)(Xc,{attributes:o,setAttributes:s=>((t,o)=>{const s=n.id===t;s&&r((0,g.createScopeRule)({type:"partial",value:""}));const a=Object.assign(Object.assign({},n),{attributes:o});i(s?[...e,a]:e.map((e=>e.id===t?Object.assign(Object.assign({},e),{attributes:o}):e)))})(t,Object.assign(Object.assign({},o),s))},t)))})]})},Kc=({rules:e,scopeSupport:t})=>e.length?(0,a.jsxs)("p",{children:["urls-with-tested-post"===t?(0,Le._x)("Variants will be visible on the tested element’s page, as well as pages matching one of the following criteria.","text","nelio-ab-testing"):(0,Le._x)("Variants will be visible only on pages matching one of the following criteria.","text","nelio-ab-testing")," ",(0,Le._x)("To remove one criterion, leave it empty and save the test.","user","nelio-ab-testing")]}):(0,a.jsxs)("p",{children:["urls-with-tested-post"===t?(0,Le._x)("Variants will be visible on all the pages of your website, including that of the tested element.","user","nelio-ab-testing"):(0,Le._x)("Variants will be visible on all the pages of your website.","user","nelio-ab-testing")," ",(0,Le._x)("If you wish to limit its scope to certain pages only, use the following form to define the URLs in which the test should run.","user","nelio-ab-testing")]}),Xc=({attributes:e,setAttributes:t})=>{const n=function(e,t){const n=(0,m.usePluginSetting)("homeUrl");switch(e){case"partial":case"partial-not-included":return t&&(0,g.isUrlFragmentInvalid)(t)||"";case"exact":case"different":return t&&(0,g.getLocalUrlError)(t,n)||""}}(e.type,e.value);return(0,a.jsxs)("li",{className:Aa({"nab-experiment-scope__rule-list-item":!0}),"data-operator":(0,Le._x)("or","text","nelio-ab-testing"),children:[(0,a.jsx)("div",{className:"nab-experiment-scope__rule-mode",children:(0,a.jsx)(et.SelectControl,{value:e.type,options:Jc,onChange:e=>t({type:e})})}),(0,a.jsxs)("div",{className:"nab-experiment-scope__rule-value",children:[(0,a.jsx)(et.TextControl,{placeholder:(0,Le._x)("Value","text","nelio-ab-testing"),value:e.value,onChange:e=>t({value:e})}),(0,a.jsx)(il.ErrorText,{value:n})]})]})},Yc={exact:(0,Le._x)("URL is","text","nelio-ab-testing"),different:(0,Le._x)("URL is not","text","nelio-ab-testing"),partial:(0,Le._x)("URL contains","text","nelio-ab-testing"),"partial-not-included":(0,Le._x)("URL does not contain","text","nelio-ab-testing")},Jc=(0,f.keys)(Yc).map((e=>e)).map((e=>({label:Yc[e],value:e}))),Qc=({rules:e})=>{const t=Zc();return(0,a.jsx)(et.CheckboxControl,{label:(0,Le._x)("Global Consistency","command","nelio-ab-testing"),checked:!e.length,onChange:()=>t(!e.length),help:e.length?(0,Le._x)("Variants will be visible only on the tested element’s page.","text","nelio-ab-testing"):(0,Le._x)("Variants will be visible on the tested element’s page. All other pages will also show the appropriate variant of this test whenever the tested element appears on them.","text","nelio-ab-testing")})},Zc=()=>{const{setScopeRules:e}=(0,l.useDispatch)(Qe);return t=>e(t?[(0,g.createScopeRule)({type:"tested-post"})]:[])},eu=({rules:e})=>{const t=tu();return(0,a.jsx)(et.CheckboxControl,{label:(0,Le._x)("Product’s page only","command","nelio-ab-testing"),checked:e.length,onChange:()=>t(!e.length),help:e.length?(0,Le._x)("Variants will be visible only on the tested product’s page.","text","nelio-ab-testing")+" "+(0,Le._x)("Moreover, price testing is disabled.","user","nelio-ab-testing"):(0,Le._x)("Variants will be visible everywhere on your store: the product’s page, shopping carts, the checkout page, on a “related products” section, etc.","text","nelio-ab-testing")})},tu=()=>{const{setScopeRules:e}=(0,l.useDispatch)(Qe);return t=>e(t?[(0,g.createScopeRule)({type:"tested-post"})]:[])},nu=({rules:e})=>{var t,n;const{setScopeRules:r}=(0,l.useDispatch)(Qe),i=null!==(t=e[0])&&void 0!==t?t:au,o=null!==(n=i.attributes.value.args)&&void 0!==n?n:[];return(0,a.jsxs)("div",{className:"tested-url-with-query-args-scope",children:[(0,a.jsx)("p",{children:(0,Le._x)("Test will be active on tested URLs if their query parameters match the following conditions:","text","nelio-ab-testing")}),(0,a.jsx)(ru,{value:o,onChange:e=>r([Object.assign(Object.assign({},i),{attributes:Object.assign(Object.assign({},i.attributes),{value:Object.assign(Object.assign({},i.attributes.value),{args:e})})})])})]})},ru=({value:e,onChange:t})=>{const n=(0,f.countBy)(e,"name");return(0,a.jsx)("div",{className:"tested-url-with-query-args-scope",children:(0,a.jsx)("div",{className:"tested-url-with-query-args-scope__block",children:(0,a.jsx)("div",{className:"tested-url-with-query-args-scope__arguments",children:[...e,su].map(((r,i)=>{var o;return(0,a.jsx)(iu,{value:r,hasDuplicateName:!!r.name&&(null!==(o=n[r.name])&&void 0!==o?o:0)>=2,onChange:n=>t([...(0,f.take)(e,i),Object.assign(Object.assign({},r),n),...(0,f.drop)(e,i+1)])},i)}))})})})},iu=({hasDuplicateName:e,value:t,onChange:n})=>(0,a.jsxs)("div",{className:"tested-url-with-query-args-scope__argument","data-operator":(0,Le._x)("and","text","nelio-ab-testing"),children:[(0,a.jsxs)("div",{className:"tested-url-with-query-args-scope__argument-setup",children:[(0,a.jsx)(et.TextControl,{placeholder:(0,Le._x)("Name","text","nelio-ab-testing"),value:t.name,onChange:e=>n({name:e})}),(0,a.jsx)(et.SelectControl,{options:cu,value:t.condition,onChange:e=>n({condition:e})})]}),(0,a.jsx)("div",{className:"tested-url-with-query-args-scope__argument-value",children:(0,a.jsx)(ou,{type:t.condition,value:t.value,onChange:e=>n({value:e})})}),e&&(0,a.jsx)("div",{className:"tested-url-with-query-args-scope__argument-error",children:(0,Le.sprintf)(/* translators: query parameter’s name */ /* translators: query parameter’s name */
(0,Le._x)("Query parameter “%s” should only appear once in the test scope","text","nelio-ab-testing"),t.name)})]}),ou=({type:e,value:t,onChange:n})=>{switch(e){case"exists":case"does-not-exist":return null;case"is-equal-to":case"is-not-equal-to":case"contains":case"does-not-contain":return(0,a.jsx)(et.TextControl,{placeholder:(0,Le._x)("Value","text","nelio-ab-testing"),value:t,onChange:n});case"is-any-of":case"is-none-of":return(0,a.jsx)(et.TextareaControl,{placeholder:(0,Le._x)("Value (one per line)","text","nelio-ab-testing"),value:t,onChange:n})}},su={name:"",condition:"exists",value:""},au=(0,g.createScopeRule)({type:"tested-url-with-query-args",value:{urls:[],args:[]}}),lu={exists:(0,Le._x)("Exists","text","nelio-ab-testing"),"does-not-exist":(0,Le._x)("Does not exist","text","nelio-ab-testing"),"is-equal-to":(0,Le._x)("Is equal to","text","nelio-ab-testing"),"is-not-equal-to":(0,Le._x)("Is not equal to","text","nelio-ab-testing"),contains:(0,Le._x)("Contains","text","nelio-ab-testing"),"does-not-contain":(0,Le._x)("Does not contain","text","nelio-ab-testing"),"is-any-of":(0,Le._x)("Is any of","text","nelio-ab-testing"),"is-none-of":(0,Le._x)("Is none of","text","nelio-ab-testing")},cu=(0,f.toPairs)(lu).map((([e,t])=>({label:t,value:e}))),uu=({rules:e})=>{const{setScopeRules:t}=(0,l.useDispatch)(Qe),[n]=e;return vu(n)?(0,a.jsx)(du,{rule:n}):(0,a.jsxs)("div",{children:[(0,a.jsx)(Wc,{rules:e.filter(mu),scopeSupport:"urls"}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{children:(0,Le._x)("Alternatively, you can specify where variants should be visible using PHP.","text","nelio-ab-testing")}),(0,a.jsx)(et.Button,{variant:"secondary",onClick:()=>t([(0,g.createScopeRule)({type:"php-snippet",value:{priority:"low",snippet:"return true;",previewUrl:""}})]),children:(0,Le._x)("Define Scope in PHP","command","nelio-ab-testing")})]})},du=({rule:e})=>{const{setScopeRules:t}=(0,l.useDispatch)(Qe),n=n=>t([Object.assign(Object.assign({},e),{attributes:Object.assign(Object.assign({},e.attributes),{value:Object.assign(Object.assign({},e.attributes.value),n)})})]),{priority:r,snippet:i,errorMessage:o,warningMessage:s,previewUrl:c}=e.attributes.value,u=(0,m.usePluginSetting)("homeUrl"),d=(0,g.getLocalUrlError)(c,u);return(0,a.jsxs)("div",{className:"nab-edit-experiment-php-scope",children:[(0,a.jsx)(et.SelectControl,{value:r,options:pu,onChange:e=>n({priority:e})}),(0,a.jsx)("div",{className:"nab-edit-experiment-php-scope__snippet",children:(0,a.jsx)(il.CodeEditor,{language:"php",withBorder:!0,before:"function is_test_active(): bool {",value:i,after:"}",onChange:e=>n({snippet:e,errorMessage:void 0,warningMessage:void 0,validateSnippet:!0})})}),!!o&&(0,a.jsx)("p",{className:"nab-edit-experiment-php-scope__snippet-error",children:(0,Le.sprintf)(/* translators: error message */
"There’s a problem with your code: %s",o)}),!!s&&(0,a.jsx)("p",{className:"nab-edit-experiment-php-scope__snippet-error",children:(0,Le.sprintf)(/* translators: error message */
"There might be a problem with your code: %s",s)}),(0,a.jsx)(et.TextControl,{label:(0,Le._x)("Preview URL","text","nelio-ab-testing"),value:c,onChange:e=>n({previewUrl:e})}),d&&(0,a.jsx)("p",{className:"nab-edit-experiment-php-scope__preview-error",children:d})]})},pu=[{value:"high",label:(0,Le.sprintf)(/* translators: hook name */ /* translators: hook name */
(0,Le._x)("Run on “%s”","command","nelio-ab-testing"),"plugins_loaded")},{value:"mid",label:(0,Le.sprintf)(/* translators: hook name */ /* translators: hook name */
(0,Le._x)("Run on “%s”","command","nelio-ab-testing"),"parse_query")},{value:"low",label:(0,Le.sprintf)(/* translators: hook name */ /* translators: hook name */
(0,Le._x)("Run on “%s”","command","nelio-ab-testing"),"wp")}],fu={exact:!0,partial:!0,"partial-not-included":!0,different:!0},mu=e=>{var t;return fu[null!==(t=null==e?void 0:e.attributes.type)&&void 0!==t?t:""]||!1},vu=e=>"php-snippet"===(null==e?void 0:e.attributes.type),gu=()=>{const e=bu(),t=hu(),n=xu(),{setScopeRules:r}=(0,l.useDispatch)(Qe);if((0,p.useEffect)((()=>{"tested-post-with-consistency"===t&&n&&r([(0,g.createScopeRule)({type:"tested-post"})])}),[t,n]),!t)return null;if(n)return null;switch(t){case"tested-post-with-consistency":return(0,a.jsx)(et.PanelBody,{className:"nab-experiment-scope",title:(0,Le._x)("Test Scope","text","nelio-ab-testing"),children:(0,a.jsx)(Qc,{rules:e})});case"tested-product-with-consistency":return(0,a.jsx)(et.PanelBody,{className:"nab-experiment-scope",title:(0,Le._x)("Test Scope","text","nelio-ab-testing"),children:(0,a.jsx)(eu,{rules:e})});case"tested-url-with-query-args":return(0,a.jsx)(et.PanelBody,{className:"nab-experiment-scope",title:(0,Le._x)("Test Scope","text","nelio-ab-testing"),children:(0,a.jsx)(nu,{rules:e.filter(yu)})});case"urls":case"urls-with-tested-post":return(0,a.jsx)(et.PanelBody,{className:"nab-experiment-scope",title:(0,Le._x)("Test Scope","text","nelio-ab-testing"),children:(0,a.jsx)(Wc,{rules:e.filter(_u),scopeSupport:t})});case"urls-or-php":return(0,a.jsx)(et.PanelBody,{className:"nab-experiment-scope",title:(0,Le._x)("Test Scope","text","nelio-ab-testing"),children:(0,a.jsx)(uu,{rules:e.filter((e=>_u(e)||Su(e)))})})}},bu=()=>c((e=>e(Qe).getScope())),hu=()=>c((e=>{const{getExperimentSupport:t}=e($e.store),{getExperimentType:n}=e(Qe);return t(n(),"scope")})),xu=()=>c((e=>{const t=e(Qe).getAlternative("control");return!!(null==t?void 0:t.attributes.testAgainstExistingContent)})),yu=e=>"tested-url-with-query-args"===e.attributes.type,wu={exact:!0,partial:!0,"partial-not-included":!0,different:!0},_u=e=>wu[e.attributes.type]||!1,Su=e=>"php-snippet"===e.attributes.type;const ju=()=>{const e=Eu();return(0,a.jsx)("div",{className:"nab-edit-experiment-sidebar",style:e,children:(0,a.jsxs)("div",{className:"nab-edit-experiment-sidebar__element-wrapper",children:[(0,a.jsx)("h2",{className:"nab-edit-experiment-sidebar__section-title",children:(0,p.createInterpolateElement)((0,Le.sprintf)(/* translators: dashicon */ /* translators: dashicon */
(0,Le._x)("%s Additional Settings","text","nelio-ab-testing"),"<icon></icon>"),{icon:(0,a.jsx)(et.Dashicon,{className:"nab-edit-experiment-sidebar__section-title-icon",icon:"admin-settings"})})}),(0,a.jsx)(zc,{}),(0,a.jsx)(qc,{}),(0,a.jsx)(gu,{})]})})},Eu=()=>c((e=>{const{getPageAttribute:t}=e(m.store),n=t("sidebarDimensions"),{applyFix:r}=n,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["applyFix"]);return r?i:void 0})),Ou=()=>{const{alternativeId:e,alternative:t}=c((e=>{const t=e(Qe).getAiAlternativeModal();return t?{alternativeId:t,alternative:e(Qe).getAlternative(t)}:{alternativeId:t,alternative:void 0}})),{showAiAlternativeModal:n}=(0,l.useDispatch)(Qe),r=null==t?void 0:t.ai;return e&&r&&r.changes.length?(0,a.jsxs)(et.Modal,{className:"nab-ai-alternative-attributes-modal",title:(0,Le.sprintf)(/* translators: Nelio AI */ /* translators: Nelio AI */
(0,Le._x)("%s – Variant Details","text","nelio-ab-testing"),"Nelio AI"),isDismissible:!0,onRequestClose:()=>n(void 0),shouldCloseOnClickOutside:!1,children:[(0,a.jsx)("p",{children:(0,Le.sprintf)(/* translators: variant name */ /* translators: variant name */
(0,Le._x)("Apply these AI-recommended changes to “%s” to make it stand out from the control:","user","nelio-ab-testing"),r.name)}),(0,a.jsx)("ol",{children:r.changes.map(((e,t)=>(0,a.jsx)("li",{children:e},t)))})]}):null},Iu=({alternativeId:e,disabled:t,index:n})=>{const r=Tu("control"),i=Tu(e),o=Pu(n),s=Nu(),c=Au(),u=Ru(n),d=ku(),f=Du(),m=!n,v=qa(),b=Cu(i),h=Mu(i,r),x=Lu(i,r),{saveExperimentAndEditAlternative:y,saveExperimentAndPreviewAlternative:w,removeAlternatives:_,replaceAlternatives:S,setAlternative:j,showAiAlternativeModal:E}=(0,l.useDispatch)(Qe);if(!i||!r)return null;const O=e=>j(i.id,Object.assign(Object.assign({},i),{attributes:(0,g.omitUndefineds)(Object.assign(Object.assign({},i.attributes),e))}));return(0,a.jsxs)("div",{className:Aa(["nab-alternative-list__alternative",{"nab-alternative-list__alternative--original":m}]),children:[(0,a.jsx)("p",{className:Aa(["nab-alternative-list__alternative-letter",{"nab-alternative-list__alternative-letter--disabled":0<n&&t}]),children:(0,g.getLetter)(n)}),(0,a.jsxs)("div",{className:"nab-alternative-list__alternative-edit",children:[(0,a.jsx)(o,{attributes:i.attributes,disabled:t,experimentType:c,setAttributes:O,ai:i.ai}),!!i.ai&&(0,a.jsx)("div",{className:"nab-alternative-list__alternative-ai-changes",children:(0,a.jsx)(et.CheckboxControl,{checked:i.ai.isReady,onChange:e=>j(i.id,Object.assign(Object.assign({},i),{ai:i.ai?Object.assign(Object.assign({},i.ai),{isReady:e}):void 0})),label:(0,p.createInterpolateElement)((0,Le._x)("I’ve already applied all <a>Nelio AI’s recommended changes</a> to this variant","text","nelio-ab-testing"),{a:(0,a.jsx)(et.Button,{variant:"link",disabled:t||d,onClick:()=>E(i.id)})})})}),0!==n&&(0,a.jsxs)("ul",{className:"nab-alternative-list__alternative-actions",children:[x.map((e=>!e.isVisible||e.isVisible(i.attributes,r.attributes)?(0,a.jsx)("li",{children:(0,a.jsx)(et.Button,{variant:"link",disabled:t||d||e.isEnabled&&!e.isEnabled(i.attributes,r.attributes),onClick:()=>e.onClick(i.attributes,O,r.attributes),children:e.label})},`custom-action-${e.id}`):null)),f&&(0,a.jsx)("li",{children:(0,a.jsx)(et.Button,{variant:"link",disabled:t||d,onClick:()=>{y(e)},children:(0,Le._x)("Edit","command","nelio-ab-testing")})}),(0,a.jsx)("li",{children:(0,a.jsx)(et.Button,{variant:"link",disabled:t||d||h,onClick:()=>{w(e)},children:(0,Le._x)("Preview","command","nelio-ab-testing")})}),f&&!i.base&&v&&(0,a.jsx)("li",{children:(0,a.jsx)(et.Button,{variant:"link",disabled:t||d,onClick:b,children:(0,Le._x)("Duplicate","command","nelio-ab-testing")})}),f&&(0,a.jsx)("li",{children:(0,a.jsx)(et.Button,{variant:"link",disabled:t||d,onClick:()=>{var t;return S(e,Object.assign(Object.assign({},(0,g.createAlternative)()),{attributes:{name:(null===(t=i.ai)||void 0===t?void 0:t.name)||""},ai:i.ai?Object.assign(Object.assign({},i.ai),{isReady:!1}):void 0}))},children:(0,Le._x)("Reset","command","nelio-ab-testing")})}),s&&(0,a.jsx)("li",{children:(0,a.jsx)(et.Button,{variant:"link",isDestructive:!0,disabled:t||d,onClick:()=>_(i.id),children:(0,Le._x)("Delete","command","nelio-ab-testing")})})]})]}),(0,a.jsx)("div",{className:"nab-alternative-list__alternative-help",children:!!u&&(0,a.jsx)(il.HelpIcon,{text:u})})]})},Au=()=>c((e=>e(Qe).getExperimentType())),Cu=e=>{const t=c((e=>e(Qe).getAlternatives())),{replaceAlternatives:n}=(0,l.useDispatch)(Qe);return e?()=>{n(t.map((e=>e.id)),[...t,(0,g.duplicateAlternative)(e)])}:()=>{}},Tu=e=>{const[t,n]=(0,p.useState)(!1),r=(()=>{const e=Au();return c((t=>{var n;return null===(n=t($e.store).getExperimentType(e))||void 0===n?void 0:n.defaults}))})(),{setAlternative:i}=(0,l.useDispatch)(Qe),o=c((t=>t(Qe).getAlternative(e)));return(0,p.useEffect)((()=>{if(t)return;if(!r||!o)return;const s="control"===e?r.original:r.alternative;i(o.id,Object.assign(Object.assign({},o),{attributes:Object.assign(Object.assign({},s),o.attributes)})),n(!0)}),[t,!!r,!!o]),t?o:void 0},Nu=()=>{const[e]=Ua("status");return c((t=>{const{getAlternativeIds:n}=t(Qe),r=(e||"").includes("paused");return n().length>2&&!r}))},ku=()=>c((e=>e(Qe).isExperimentBeingSaved())),Pu=e=>c((t=>{const{getExperimentView:n}=t($e.store),{getExperimentType:r}=t(Qe),i=n(r(),e?"alternative":"original");return null!=i?i:()=>(0,a.jsx)(a.Fragment,{})})),Ru=e=>c((t=>{const{getExperimentType:n}=t(Qe),{getHelpString:r}=t($e.store);return 0===e?r(n(),"original"):1===e?r(n(),"alternative"):""})),Du=()=>{const e=Au(),t=c((e=>e(Qe).getAlternative("control")));return c((n=>{const{getExperimentSupport:r}=n($e.store),i=r(e,"alternativeEdition");return"external"===(null==i?void 0:i.type)&&("function"!=typeof i.enabled||!!t&&i.enabled(t.attributes))}))},Mu=(e,t)=>c((n=>{var r,i;const{getExperimentType:o}=n($e.store),s=o(n(Qe).getExperimentType());return!!(s&&e&&t)&&!!(null===(i=(r=s.checks).isAlternativePreviewDisabled)||void 0===i?void 0:i.call(r,e.attributes,t.attributes,n))})),Lu=(e,t)=>c((n=>{var r;const{getExperimentType:i}=n($e.store),o=i(n(Qe).getExperimentType());return o&&e&&t&&null!==(r=o.supports.alternativeCustomActions)&&void 0!==r?r:[]})),Bu=()=>{const{closeAlternativePreviewer:e}=(0,l.useDispatch)(Qe),t=c((e=>e(Qe).getAlternativePreviewerUrl()));return t?(0,a.jsx)(et.Modal,{className:"nab-alternative-previewer",title:(0,Le._x)("Alternative Preview","text","nelio-ab-testing"),isDismissible:!0,onRequestClose:e,shouldCloseOnClickOutside:!1,children:(0,a.jsx)("iframe",{className:"nab-alternative-previewer__iframe",title:(0,Le._x)("Alternative Preview Frame","text","nelio-ab-testing"),src:t})}):null},$u=()=>{const[e,...t]=Fu(),n=Gu(),r=Vu(),i=Uu(),o=qa();return(0,a.jsxs)("div",{className:"nab-edit-experiment__alternative-section",children:[(0,a.jsx)("h2",{children:(0,p.createInterpolateElement)((0,Le.sprintf)(/* translators: dashicon */ /* translators: dashicon */
(0,Le._x)("%s Control Version and Variants","text","nelio-ab-testing"),"<icon></icon>"),{icon:(0,a.jsx)(et.Dashicon,{className:"nab-alternative-section__title-icon",icon:"randomize"})})}),(0,a.jsxs)("div",{className:"nab-alternative-list",children:[!!e&&(0,a.jsx)(Iu,{index:0,alternativeId:"control",disabled:r},"control"),(0,a.jsx)(il.AnimatedList,{disableAnimations:i,exit:500,children:t.map(((e,t)=>(0,a.jsx)(Iu,{index:t+1,alternativeId:e,disabled:r},e)))})]}),(0,a.jsx)("div",{className:"nab-edit-experiment-alternative-section__new-variant-container",children:o&&(0,a.jsx)(et.Button,{variant:"secondary",disabled:r,onClick:()=>n(),children:(0,Le._x)("New Variant","command","nelio-ab-testing")},"new-variant")}),(0,a.jsx)(Bu,{}),(0,a.jsx)(Ou,{})]})},Fu=()=>c((e=>e(Qe).getAlternativeIds())),Gu=()=>{const{addAlternatives:e}=(0,l.useDispatch)(Qe);return()=>e((0,g.createAlternative)())},Vu=()=>c((e=>e(Qe).isTestedElementInvalid())),Uu=()=>{const[e,t]=(0,p.useState)([]),n=e.join(";"),r=Fu(),i=r.join(";");return(0,p.useEffect)((()=>{n!==i&&t(r)}),[n,i]),n!==i&&((e,t)=>{const n=e.split(";"),r=t.split(";"),i=(0,f.difference)(n,r),o=(0,f.difference)(r,n);return!!i.length&&!!o.length})(n,i)},zu=()=>{const e=Hu(),{removeNotice:t}=(0,l.useDispatch)(Be.store);return(0,a.jsxs)("div",{className:"nab-edit-experiment-layout",children:[(0,a.jsx)(Ka,{}),(0,a.jsx)(ll,{}),(0,a.jsxs)("div",{className:"nab-edit-experiment-layout__body",children:[(0,a.jsxs)("div",{className:"nab-edit-experiment-layout__content",role:"region","aria-label":(0,Le._x)("Editor content","text","nelio-ab-testing"),tabIndex:-1,children:[!(0,g.isEmpty)(e)&&(0,a.jsx)(et.NoticeList,{className:"nab-edit-experiment-layout__notices",notices:e,onRemove:t}),(0,a.jsx)(bl,{}),(0,a.jsx)($u,{}),(0,a.jsx)(Jl,{}),(0,a.jsx)(Oc,{})]}),(0,a.jsx)(ju,{})]})]})},Hu=()=>c((e=>e(Be.store).getNotices())),qu=({experimentId:e})=>{const t=c((t=>t(m.store).getExperiment(e)));return(0,a.jsx)(p.StrictMode,{children:(0,a.jsx)(Ze,{experiment:t,children:(0,a.jsx)(zu,{})})})};function Wu(e,t){const n=document.getElementById(e);var r,i;n?((0,v.registerCoreExperiments)(),r=(0,a.jsx)(qu,{experimentId:t}),(i=n)&&(p.createRoot?(0,p.createRoot)(i).render(r):(0,p.render)(r,i))):console.warn(`Unable to find container node ${e}.`)}function Ku(){const e=window.innerHeight,t=document.getElementById("wpadminbar"),n=t?t.getBoundingClientRect().height:0,{setPageAttribute:r}=(0,l.dispatch)(m.store);r("sidebarDimensions",{top:n,height:e-n+"px",applyFix:782<=window.innerWidth})}window.addEventListener("resize",(0,f.debounce)(Ku,100)),d(Ku)},73404:(e,t,n)=>{"use strict";e.exports=n(3072)}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return r[e](n,n.exports,o),n.exports}e=[],o.O=(t,n,r,i)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,r,i]=e[u],a=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(a=!1,i<s&&(s=i));if(a){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);o.r(i);var s={};t=t||[null,n({}),n([]),n(n)];for(var a=2&r&&e;"object"==typeof a&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,o.d(i,s),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s=o.O(void 0,[117],(()=>o(60661)));s=o.O(s);var a=nab="undefined"==typeof nab?{}:nab;for(var l in s)a[l]=s[l];s.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})();