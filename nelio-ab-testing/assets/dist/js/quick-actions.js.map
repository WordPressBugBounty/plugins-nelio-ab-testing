{"version":3,"file":"js/quick-actions.js","mappings":"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CA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;;AAEA;;;;;;;;;;;ACbA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA,oBAAoB,mBAAO,CAAC,iEAAkB;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;;;;;AC1BA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,UAAU;AACvB;AACA;AACA,yCAAyC,QAAQ;AACjD;AACA;AACA,YAAY,QAAQ,IAAI,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrBA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;AACA;AACA,2BAA2B,gBAAgB,QAAQ,GAAG;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,GAAG;AAChB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA,+CAA+C,mBAAmB;AAClE;AACA;AACA;;AAEA;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA,kBAAkB;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;ACxEA,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,sBAAsB;AACjC,aAAa,QAAQ;AACrB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,WAAW;AACX;AACA;AACA,6BAA6B;AAC7B,CAAC;;AAED;;;;;;;;;;;ACxBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC3BA;AACA,cAAc,mBAAO,CAAC,4CAAO;AAC7B,aAAa,8EAAuB;AACpC,iBAAiB,mBAAO,CAAC,oDAAW;AACpC,YAAY,6EAAsB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;;AC/JD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0BAA0B,cAAc;AACxC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C,wCAAwC;AACxC,wDAAwD;AACxD,+BAA+B;AAC/B,kBAAkB;AAClB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,6CAA6C;AAC7C;;AAEA;AACA;;AAEA,qCAAqC;AACrC;;AAEA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,0CAA0C;AAC1C;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,IAAI;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C,IAAI;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sDAAsD,gBAAgB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,8CAA8C,GAAG;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,sBAAsB;AACtB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,4BAA4B,IAAI;AAChC;;AAEA,sBAAsB;AACtB;AACA;AACA,8BAA8B,uCAAuC;AACrE,wCAAwC;AACxC,+BAA+B,IAAI;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAkD,IAAI,WAAW,IAAI;AACrE;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAkD;AAClD;AACA;AACA,6BAA6B;AAC7B;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;;AAEA;AACA,qGAAqG;AACrG;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA,oCAAoC;AACpC,4BAA4B,IAAI;AAChC;;AAEA;AACA,wBAAwB,SAAS,EAAE,cAAc,EAAE;AACnD;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA,wBAAwB,iDAAiD,IAAI,wBAAwB,EAAE,2CAA2C;AAClJ;AACA,uEAAuE,IAAI;AAC3E;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA,eAAe;AACf,0BAA0B,EAAE;AAC5B;AACA,wBAAwB,EAAE;AAC1B,6CAA6C,oEAAoE;;AAEjH;AACA;AACA;;AAEA;AACA,eAAe;AACf,wBAAwB,EAAE,iBAAiB;AAC3C;;AAEA;AACA,2BAA2B,EAAE,UAAU;AACvC;;AAEA;AACA,8FAA8F,IAAI,8CAA8C;AAChJ,iEAAiE,IAAI,QAAQ;AAC7E;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA8C,IAAI;AAClD;AACA,gCAAgC,IAAI;AACpC;;AAEA;AACA,gCAAgC,EAAE,gBAAgB,EAAE,GAAG,aAAa,IAAI;AACxE;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA,sBAAsB,WAAW,EAAE,WAAW,EAAE,qDAAqD,IAAI;AACzG;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,EAAE;AACxB;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA,kCAAkC;AAClC;;AAEA;AACA,0CAA0C,MAAM;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,IAAI,IAAI;;AAE7B;AACA;AACA,wDAAwD;AACxD;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA,4BAA4B;AAC5B;;AAEA;AACA;AACA,+DAA+D,iDAAiD;;AAEhH;AACA,sBAAsB;AACtB;;AAEA;AACA,sBAAsB;AACtB,yBAAyB,GAAG;AAC5B;AACA;AACA;AACA,eAAe,0BAA0B,IAAI;AAC7C;;AAEA;AACA,eAAe;AACf,eAAe;AACf;;AAEA;AACA,eAAe,UAAU;AACzB,eAAe;AACf;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA,eAAe,aAAa,IAAI;AAChC;;AAEA;AACA,eAAe;AACf;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,uEAAuE;AACtF;AACA,0BAA0B;AAC1B;AACA;AACA,qBAAqB,IAAI,yBAAyB,IAAI;AACtD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,+CAA+C,WAAW,IAAI,IAAI;AAClE,wDAAwD,WAAW;;AAEnE;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,WAAW;AAC7C;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,sCAAsC,gEAAgE;;AAEtG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC,IAAI;AACvC;AACA;AACA;AACA,sBAAsB,EAAE;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,QAAQ,IAAI;AAClC;;AAEA;AACA;AACA;;AAEA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB;AACtB;AACA,oDAAoD;AACpD;AACA,wBAAwB,IAAI,cAAc,iBAAiB;AAC3D,2CAA2C,gDAAgD;AAC3F,8BAA8B;AAC9B;AACA,+BAA+B;AAC/B;AACA,wBAAwB;AACxB;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB,IAAI;AAC7B;AACA;;AAEA;;AAEA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD,6BAA6B;AAC7B;AACA;;AAEA;AACA,yBAAyB,IAAI,6BAA6B;AAC1D,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iIAAiI;AACjI;AACA,sBAAsB;AACtB;AACA,0CAA0C;AAC1C;AACA,4DAA4D,SAAS;AACrE;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,sCAAsC,2GAA2G;AACjJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uBAAuB;AACvB;AACA;;AAEA;AACA;AACA,qBAAqB,YAAY;AACjC;;AAEA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA,uBAAuB,UAAU,IAAI;AACrC;AACA;AACA,+BAA+B,IAAI,mCAAmC,IAAI;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B,SAAS,eAAe,kBAAkB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,wDAAwD;AACxD;AACA,wDAAwD;AACxD,cAAc;AACd,wDAAwD;AACxD;AACA;AACA;AACA,UAAU;AACV,wDAAwD;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA,kDAAkD,kCAAkC;AACpF;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,I;;;;;;UC78CA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;;;ACKA;;;AAGyD;AAWzD,IAAIrV,QAA2B;AAC/B,IAAIwgB,6BAA6B,GAAG,KAAK;AAEzC,IAAKC,sBAAsB,CAAEtgB,MAAM,CAAE,EAAG;EACvCH,QAAQ,GAAGG,MAAM,CAACugB,sBAAsB;EACxCC,IAAI,EAAE;AACP,CAAC,MAAM;EACN,MAAMpY,EAAE,GAAGvG,QAAQ,CAAC4e,cAAc,CAAE,+BAA+B,CAAE;EACrE,CAAAzd,EAAA,GAAAoF,EAAE,aAAFA,EAAE,uBAAFA,EAAE,CAAEsY,UAAU,cAAA1d,EAAA,uBAAAA,EAAA,CAAE2d,WAAW,CAAEvY,EAAE,CAAE;AAClC;AAEA;AACA;AACA;AAEA,SAASkY,sBAAsBA,CAC9BxB,CAAU;EAEV,OAAO,CAAC,CAAEA,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","sources":["webpack://nab/./assets/src/public/tracking/ga4.ts","webpack://nab/./assets/src/public/tracking/utils.ts","webpack://nab/./assets/src/public/utils/cookies.ts","webpack://nab/./assets/src/public/utils/helpers/append-style.ts","webpack://nab/./assets/src/public/utils/helpers/dom-ready.ts","webpack://nab/./assets/src/public/utils/helpers/element-ready.ts","webpack://nab/./assets/src/public/utils/helpers/flow.ts","webpack://nab/./assets/src/public/utils/helpers/get-active-experiments.ts","webpack://nab/./assets/src/public/utils/helpers/get-api-url.ts","webpack://nab/./assets/src/public/utils/helpers/get-closest.ts","webpack://nab/./assets/src/public/utils/helpers/get-document-height.ts","webpack://nab/./assets/src/public/utils/helpers/get-session.ts","webpack://nab/./assets/src/public/utils/helpers/head-ready.ts","webpack://nab/./assets/src/public/utils/helpers/index.ts","webpack://nab/./assets/src/public/utils/helpers/internal/can-visitor-participate.ts","webpack://nab/./assets/src/public/utils/helpers/internal/get-settings.ts","webpack://nab/./assets/src/public/utils/helpers/internal/parse-javascript.ts","webpack://nab/./assets/src/public/utils/helpers/log.ts","webpack://nab/./assets/src/public/utils/helpers/preload-query-args.ts","webpack://nab/./assets/src/public/utils/segmentation/index.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/browser.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/cookie.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/day-of-week.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/device-type.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/index.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/ip-address.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/language.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/location.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/operating-system.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/query-parameter.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/referring-url.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/time.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/user-login.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/visitor-type.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-rules/window-width.ts","webpack://nab/./assets/src/public/utils/segmentation/segmentation-settings.ts","webpack://nab/./assets/src/public/utils/tracking.ts","webpack://nab/./assets/src/public/utils/url.ts","webpack://nab/./node_modules/charenc/charenc.js","webpack://nab/./node_modules/crypt/crypt.js","webpack://nab/./node_modules/is-buffer/index.js","webpack://nab/./node_modules/lodash/_Hash.js","webpack://nab/./node_modules/lodash/_ListCache.js","webpack://nab/./node_modules/lodash/_Map.js","webpack://nab/./node_modules/lodash/_MapCache.js","webpack://nab/./node_modules/lodash/_Symbol.js","webpack://nab/./node_modules/lodash/_apply.js","webpack://nab/./node_modules/lodash/_arrayMap.js","webpack://nab/./node_modules/lodash/_arrayPush.js","webpack://nab/./node_modules/lodash/_assignValue.js","webpack://nab/./node_modules/lodash/_assocIndexOf.js","webpack://nab/./node_modules/lodash/_baseAssignValue.js","webpack://nab/./node_modules/lodash/_baseFlatten.js","webpack://nab/./node_modules/lodash/_baseGet.js","webpack://nab/./node_modules/lodash/_baseGetTag.js","webpack://nab/./node_modules/lodash/_baseHasIn.js","webpack://nab/./node_modules/lodash/_baseIsArguments.js","webpack://nab/./node_modules/lodash/_baseIsNative.js","webpack://nab/./node_modules/lodash/_basePick.js","webpack://nab/./node_modules/lodash/_basePickBy.js","webpack://nab/./node_modules/lodash/_baseSet.js","webpack://nab/./node_modules/lodash/_baseSetToString.js","webpack://nab/./node_modules/lodash/_baseToString.js","webpack://nab/./node_modules/lodash/_castPath.js","webpack://nab/./node_modules/lodash/_coreJsData.js","webpack://nab/./node_modules/lodash/_defineProperty.js","webpack://nab/./node_modules/lodash/_flatRest.js","webpack://nab/./node_modules/lodash/_freeGlobal.js","webpack://nab/./node_modules/lodash/_getMapData.js","webpack://nab/./node_modules/lodash/_getNative.js","webpack://nab/./node_modules/lodash/_getRawTag.js","webpack://nab/./node_modules/lodash/_getValue.js","webpack://nab/./node_modules/lodash/_hasPath.js","webpack://nab/./node_modules/lodash/_hashClear.js","webpack://nab/./node_modules/lodash/_hashDelete.js","webpack://nab/./node_modules/lodash/_hashGet.js","webpack://nab/./node_modules/lodash/_hashHas.js","webpack://nab/./node_modules/lodash/_hashSet.js","webpack://nab/./node_modules/lodash/_isFlattenable.js","webpack://nab/./node_modules/lodash/_isIndex.js","webpack://nab/./node_modules/lodash/_isKey.js","webpack://nab/./node_modules/lodash/_isKeyable.js","webpack://nab/./node_modules/lodash/_isMasked.js","webpack://nab/./node_modules/lodash/_listCacheClear.js","webpack://nab/./node_modules/lodash/_listCacheDelete.js","webpack://nab/./node_modules/lodash/_listCacheGet.js","webpack://nab/./node_modules/lodash/_listCacheHas.js","webpack://nab/./node_modules/lodash/_listCacheSet.js","webpack://nab/./node_modules/lodash/_mapCacheClear.js","webpack://nab/./node_modules/lodash/_mapCacheDelete.js","webpack://nab/./node_modules/lodash/_mapCacheGet.js","webpack://nab/./node_modules/lodash/_mapCacheHas.js","webpack://nab/./node_modules/lodash/_mapCacheSet.js","webpack://nab/./node_modules/lodash/_memoizeCapped.js","webpack://nab/./node_modules/lodash/_nativeCreate.js","webpack://nab/./node_modules/lodash/_objectToString.js","webpack://nab/./node_modules/lodash/_overRest.js","webpack://nab/./node_modules/lodash/_root.js","webpack://nab/./node_modules/lodash/_setToString.js","webpack://nab/./node_modules/lodash/_shortOut.js","webpack://nab/./node_modules/lodash/_stringToPath.js","webpack://nab/./node_modules/lodash/_toKey.js","webpack://nab/./node_modules/lodash/_toSource.js","webpack://nab/./node_modules/lodash/constant.js","webpack://nab/./node_modules/lodash/eq.js","webpack://nab/./node_modules/lodash/flatten.js","webpack://nab/./node_modules/lodash/hasIn.js","webpack://nab/./node_modules/lodash/identity.js","webpack://nab/./node_modules/lodash/isArguments.js","webpack://nab/./node_modules/lodash/isArray.js","webpack://nab/./node_modules/lodash/isFunction.js","webpack://nab/./node_modules/lodash/isLength.js","webpack://nab/./node_modules/lodash/isObject.js","webpack://nab/./node_modules/lodash/isObjectLike.js","webpack://nab/./node_modules/lodash/isSymbol.js","webpack://nab/./node_modules/lodash/memoize.js","webpack://nab/./node_modules/lodash/pick.js","webpack://nab/./node_modules/lodash/toString.js","webpack://nab/./node_modules/md5/md5.js","webpack://nab/./node_modules/ua-parser-js/src/main/ua-parser.mjs","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/./assets/src/admin/scripts/quick-actions/index.ts"],"sourcesContent":["/**\n * External dependencies\n */\nimport type { ConversionEvent, Maybe, TrackEvent } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { Session, Settings } from '../types';\nimport { getSettings } from '../utils/helpers/internal/get-settings';\n\nfunction sendToGA4( eventData: TrackEvent ) {\n\tconst settings = getSettings();\n\tif (\n\t\t( ! settings?.ga4TrackingMethod ||\n\t\t\tsettings.ga4TrackingMethod === 'gtm' ) &&\n\t\thasDataLayer( window )\n\t) {\n\t\twindow.dataLayer.push( {\n\t\t\tevent:\n\t\t\t\teventData.kind === 'visit'\n\t\t\t\t\t? 'experiment_impression'\n\t\t\t\t\t: 'conversion',\n\t\t\texperiment_id: eventData.experiment,\n\t\t\tvariant_id: eventData.alternative,\n\t\t\tvariant_name: getVariantName( settings, eventData ),\n\t\t\t...( eventData.kind === 'conversion' && {\n\t\t\t\tgoal_id: eventData.goal,\n\t\t\t\tgoal_name: getGoalName( settings, eventData ),\n\t\t\t} ),\n\t\t} );\n\t} else if (\n\t\t( ! settings?.ga4TrackingMethod ||\n\t\t\tsettings.ga4TrackingMethod === 'gtag' ) &&\n\t\thasGTag( window )\n\t) {\n\t\twindow.gtag(\n\t\t\t'event',\n\t\t\teventData.kind === 'visit' ? 'experiment_impression' : 'conversion',\n\t\t\t{\n\t\t\t\texperiment_id: eventData.experiment,\n\t\t\t\tvariant_id: eventData.alternative,\n\t\t\t\tvariant_name: getVariantName( settings, eventData ),\n\t\t\t\t...( eventData.kind === 'conversion' && {\n\t\t\t\t\tgoal_id: eventData.goal,\n\t\t\t\t\tgoal_name: getGoalName( settings, eventData ),\n\t\t\t\t} ),\n\t\t\t}\n\t\t);\n\t}\n}\n\nconst hasGTag = (\n\twin: unknown\n): win is {\n\tgtag: (\n\t\tcommand: string,\n\t\teventName: string,\n\t\tparams?: Record< string, unknown >\n\t) => void;\n} => !! win && 'object' === typeof win && 'gtag' in win;\n\nconst hasDataLayer = (\n\twin: unknown\n): win is {\n\tdataLayer: Array< Record< string, unknown > >;\n} => !! win && 'object' === typeof win && 'dataLayer' in win;\n\nexport function initGA4Tracking( session: Session ): void {\n\tif ( ! session.isGA4Integrated ) {\n\t\treturn;\n\t}\n\n\twindow.addEventListener(\n\t\t'nelio-ab-testing/track',\n\t\t( e: CustomEventInit< { event: TrackEvent } > ) => {\n\t\t\tif (\n\t\t\t\te.detail &&\n\t\t\t\te.detail.event &&\n\t\t\t\t[ 'visit', 'conversion' ].includes( e.detail.event.kind )\n\t\t\t) {\n\t\t\t\tsendToGA4( e.detail.event );\n\t\t\t}\n\t\t}\n\t);\n}\n\nexport function getGA4ClientId(): string | undefined {\n\tconst match = document.cookie.match( /_ga=GA\\d\\.\\d\\.(\\d+\\.\\d+)/ );\n\treturn match ? match[ 1 ] : undefined;\n}\n\nfunction getVariantName(\n\tsettings: Maybe< Required< Settings > >,\n\teventData: TrackEvent\n): Maybe< string > {\n\tif ( ! settings ) {\n\t\treturn undefined;\n\t}\n\n\tconst exp = settings.experiments.find(\n\t\t( e ) => e.id === eventData.experiment\n\t);\n\tif ( ! exp ) {\n\t\treturn undefined;\n\t}\n\n\tif ( ! exp.alternatives ) {\n\t\treturn undefined;\n\t}\n\n\tif ( ! exp.alternatives[ eventData.alternative ] ) {\n\t\treturn undefined;\n\t}\n\n\tconst alt = exp.alternatives[ eventData.alternative ];\n\tif (\n\t\t!! alt &&\n\t\ttypeof alt === 'object' &&\n\t\t'name' in alt &&\n\t\ttypeof alt.name === 'string'\n\t) {\n\t\treturn alt.name;\n\t}\n\n\treturn eventData.alternative === 0\n\t\t? 'Control'\n\t\t: `Variant ${ eventData.alternative }`;\n}\n\nfunction getGoalName(\n\tsettings: Maybe< Required< Settings > >,\n\teventData: ConversionEvent\n): Maybe< string > {\n\tif ( ! settings ) {\n\t\treturn undefined;\n\t}\n\n\tconst exp = settings.experiments.find(\n\t\t( e ) => e.id === eventData.experiment\n\t);\n\tif ( ! exp ) {\n\t\treturn undefined;\n\t}\n\n\tif ( ! exp.goals ) {\n\t\treturn undefined;\n\t}\n\n\tif ( ! exp.goals[ eventData.goal ] ) {\n\t\treturn undefined;\n\t}\n\n\tconst goal = exp.goals[ eventData.goal ];\n\tif ( ! goal ) {\n\t\treturn undefined;\n\t}\n\n\treturn goal.name;\n}\n","/**\n * Internal dependencies\n */\nimport type {\n\tConversionAction,\n\tConvertibleAction,\n\tConvertingGoal,\n\tGoalSummary,\n\tSession,\n} from '../types';\n\nexport function isGdprAccepted( session: Session ): boolean {\n\tconst { gdprCookie } = session;\n\n\tif ( ! gdprCookie.name ) {\n\t\treturn true;\n\t}\n\n\tconst matches = ( pattern: string, value: string ) => {\n\t\tconst parts = pattern.split( '*' );\n\t\treturn (\n\t\t\tvalue.startsWith( parts[ 0 ] ?? '' ) &&\n\t\t\tvalue.endsWith( parts[ parts.length - 1 ] ?? '' ) &&\n\t\t\t0 <=\n\t\t\t\tpattern\n\t\t\t\t\t.split( '*' )\n\t\t\t\t\t.reduce(\n\t\t\t\t\t\t( start, search ) =>\n\t\t\t\t\t\t\tstart < 0 ? start : value.indexOf( search, start ),\n\t\t\t\t\t\t0\n\t\t\t\t\t)\n\t\t);\n\t};\n\n\treturn document.cookie\n\t\t.split( ';' )\n\t\t.map( ( c ) => c.trim() )\n\t\t.map( ( c ) => c.split( '=' ) )\n\t\t.map( ( [ n, ...v ] ) => [ n, v.join( '=' ) ] )\n\t\t.filter(\n\t\t\t( c ): c is [ string, string ] =>\n\t\t\t\tc[ 0 ] !== undefined && c[ 1 ] !== undefined\n\t\t)\n\t\t.filter( ( [ n ] ) => matches( gdprCookie.name, n ) )\n\t\t.some(\n\t\t\t( [ _, v ] ) =>\n\t\t\t\t! gdprCookie.value ||\n\t\t\t\tmatches( gdprCookie.value, v ) ||\n\t\t\t\tmatches( gdprCookie.value, decodeURIComponent( v ) )\n\t\t);\n}\n\nexport function getAllActions(\n\texperiments: Session[ 'experiments' ]\n): ReadonlyArray< ConvertibleAction > {\n\treturn experiments.reduce( ( result, experiment ) => {\n\t\texperiment?.goals.forEach( ( goal ) => {\n\t\t\tconst relevantActions = goal.conversionActions.map(\n\t\t\t\t( action ) => ( {\n\t\t\t\t\t...action,\n\t\t\t\t\texperiment: experiment.id,\n\t\t\t\t\talternative: experiment.alternative,\n\t\t\t\t\tgoal: goal.id,\n\t\t\t\t} )\n\t\t\t);\n\t\t\tresult = [ ...result, ...relevantActions ];\n\t\t} );\n\n\t\treturn result;\n\t}, [] as ReadonlyArray< ConvertibleAction > );\n}\n\nexport function getConvertingGoals(\n\texperiments: Session[ 'experiments' ],\n\tactionMatcher: ( act: ConversionAction ) => boolean\n): ReadonlyArray< ConvertingGoal > {\n\treturn experiments.reduce( ( result, experiment ) => {\n\t\tconst relevantGoals = experiment.goals.filter( ( goal ) =>\n\t\t\thasMatchingAction( goal, actionMatcher )\n\t\t);\n\t\tconst eventsFromGoals = relevantGoals?.map( ( goal ) => ( {\n\t\t\tgoal: goal.id,\n\t\t\texperiment: experiment.id,\n\t\t} ) );\n\n\t\treturn eventsFromGoals ? [ ...result, ...eventsFromGoals ] : result;\n\t}, [] as ReadonlyArray< ConvertingGoal > );\n}\n\ntype Fn = () => void;\nconst onScrollDownFns: Fn[] = [];\nexport function onScrollDown( fn: Fn ): void {\n\tonScrollDownFns.push( fn );\n\tif ( 1 === onScrollDownFns.length ) {\n\t\tlet maxScroll = window.scrollY + window.innerHeight;\n\t\tdocument.addEventListener( 'scroll', () => {\n\t\t\tconst bottom = window.scrollY + window.innerHeight;\n\t\t\tif ( bottom <= maxScroll ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmaxScroll = bottom;\n\t\t\tonScrollDownFns.forEach( ( f ) => f() );\n\t\t} );\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction hasMatchingAction(\n\tgoal: GoalSummary,\n\tactionMatcher: ( action: ConversionAction ) => boolean\n): boolean {\n\treturn goal.conversionActions.reduce(\n\t\t( memo, action ) => memo || actionMatcher( action ),\n\t\tfalse\n\t);\n}\n","/**\n * External dependencies\n */\nimport type { Maybe } from '@nab/types';\n\ntype CookieName =\n\t| 'nabAlternative'\n\t| 'nabCheckWritePermission'\n\t| 'nabExperimentsWithPageViews'\n\t| 'nabIsUserLoggedIn'\n\t| 'nabSimulateStaging'\n\t| 'nabSegmentation'\n\t| 'nabUniqueViews'\n\t| 'nabSessionChecksum';\ntype CookieListenerId = string;\ntype CookieOptions = {\n\treadonly path: string;\n\treadonly expires: number;\n};\n\nexport function setCookie(\n\tname: CookieName,\n\tvalue: number | boolean | string,\n\toptions?: Partial< CookieOptions >\n): void {\n\tconst opts: CookieOptions = {\n\t\tpath: '/',\n\t\texpires: 0,\n\t\t...( options || {} ),\n\t};\n\n\tlet cookie = `${ name }=${ encodeURIComponent( value ) };`;\n\n\tif ( 0 < opts.expires ) {\n\t\tconst expiration = new Date(\n\t\t\tnew Date().getTime() + opts.expires * 864e5\n\t\t);\n\t\tcookie += ` expires=${ expiration.toUTCString() };`;\n\t}\n\n\tcookie += ` path=${ opts.path };`;\n\tcookie += ' SameSite=None; Secure;';\n\n\tdocument.cookie = cookie;\n}\n\nexport function getCookie( name: string ): Maybe< string > {\n\tconst cookies = document.cookie\n\t\t.split( ';' )\n\t\t.map( ( cookie ) => cookie.trim() )\n\t\t.reduce(\n\t\t\t( memo, cookie ) => {\n\t\t\t\tmemo[ cookie.split( '=' )[ 0 ] ?? '' ] =\n\t\t\t\t\tcookie.split( '=' )[ 1 ] ?? '';\n\t\t\t\treturn memo;\n\t\t\t},\n\t\t\t{} as Record< string, string >\n\t\t);\n\n\tif ( ! cookies[ name ] ) {\n\t\treturn;\n\t}\n\treturn decodeURIComponent( cookies[ name ] ?? '' );\n}\n\nexport function removeCookie( name: string ): void {\n\tdocument.cookie = `${ name }=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=None; Secure`;\n}\n\nexport function addCookieListener( fn: () => void ): CookieListenerId {\n\tconst id = getNewId();\n\tlisteners[ id ] = fn;\n\tresetTimeout();\n\treturn id;\n}\n\nexport function removeCookieListener( name: string ): void {\n\tif ( listeners[ name ] ) {\n\t\tdelete listeners[ name ];\n\t}\n}\n\n// ========\n// INTERNAL\n// ========\n\nconst trackState = {\n\ttimeoutId: undefined as undefined | ReturnType< typeof setInterval >,\n\tcookie: '',\n\tcounter: 0,\n};\nconst listeners: Record< CookieListenerId, () => void > = {};\n\nfunction tick() {\n\tif ( ! trackState.counter || trackState.cookie !== document.cookie ) {\n\t\tObject.values( listeners ).forEach( ( fn ) => fn() );\n\t}\n\ttrackState.cookie = document.cookie ?? '';\n\t++trackState.counter;\n\n\tif ( ! Object.values( listeners ).length ) {\n\t\treturn;\n\t}\n\n\ttrackState.timeoutId = setTimeout(\n\t\ttick,\n\t\ttrackState.counter < 120 ? 500 : 2000\n\t);\n}\n\nfunction resetTimeout() {\n\ttrackState.counter = 0;\n\tclearInterval( trackState.timeoutId );\n\ttrackState.timeoutId = setTimeout( tick, 500 );\n}\n\nconst getNewId = () => {\n\tlet id = '';\n\tdo {\n\t\tid = `${ Math.random() }`.slice( 2 );\n\t} while ( Object.keys( listeners ).includes( id ) );\n\treturn id;\n};\n","/**\n * Internal dependencies\n */\nimport { headReady } from './head-ready';\n\nexport function appendStyle( css: string ): void {\n\theadReady( () => {\n\t\tconst style = document.createElement( 'style' );\n\t\tstyle.innerHTML = css;\n\t\tdocument.head.appendChild( style );\n\t} );\n}\n","export function domReady( callback: () => unknown ): void {\n\tif ( typeof document === 'undefined' ) {\n\t\treturn;\n\t}\n\n\tif (\n\t\tdocument.readyState === 'complete' || // DOMContentLoaded + Images/Styles/etc loaded, so we call directly.\n\t\tdocument.readyState === 'interactive' // DOMContentLoaded fires at this point, so we call directly.\n\t) {\n\t\treturn void callback();\n\t}\n\n\t// DOMContentLoaded has not fired yet, delay callback until then.\n\tdocument.addEventListener( 'DOMContentLoaded', callback );\n}\n","let observing = false;\nconst OBSERVER = new MutationObserver( checkPendingSelectors );\n\nexport function elementReady( selector: string, callback: Callback ): void {\n\ttry {\n\t\tconst el = document.querySelector< HTMLElement >( selector );\n\t\tif ( el ) {\n\t\t\tcallback( el, setCss( selector ) );\n\t\t\treturn;\n\t\t}\n\n\t\tenqueueSelectorCallback( selector, callback );\n\t} catch ( _ ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log( `Element ${ selector } not found.` );\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\ntype Callback = (\n\tel: HTMLElement,\n\tsetCss: ( style: string ) => void\n) => unknown;\n\nconst setCss =\n\t( selector: string ) =>\n\t( css: string ): void => {\n\t\tconst style = document.createElement( 'style' );\n\t\tstyle.textContent = `${ selector } {\\n${ trim( css ) }\\n}`;\n\t\tdocument.head?.appendChild( style );\n\t};\n\nconst trim = ( s = '' ) => s.replace( /^\\s*/, '' ).replace( /\\s*$/, '' );\n\nconst PENDING_SELECTORS = new Map< string, ReadonlyArray< Callback > >();\nfunction enqueueSelectorCallback( selector: string, callback: Callback ) {\n\tconst selectors = PENDING_SELECTORS.get( selector ) ?? [];\n\tPENDING_SELECTORS.set( selector, [ ...selectors, callback ] );\n\tif ( ! observing ) {\n\t\tobserving = true;\n\t\tOBSERVER.observe( document.body, {\n\t\t\tchildList: true,\n\t\t\tsubtree: true,\n\t\t} );\n\t}\n}\n\nfunction checkPendingSelectors() {\n\tfor ( const [ selector, callbacks ] of PENDING_SELECTORS ) {\n\t\tconst el = document.querySelector< HTMLElement >( selector );\n\t\tif ( el ) {\n\t\t\tcallbacks.forEach( ( cb ) => cb( el, setCss( selector ) ) );\n\t\t\tPENDING_SELECTORS.delete( selector );\n\t\t}\n\t}\n\n\tif ( PENDING_SELECTORS.size === 0 ) {\n\t\tOBSERVER.disconnect();\n\t\tobserving = false;\n\t}\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-function-type, @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-return */\ntype ValidFlow< Fns > = Fns extends []\n\t? []\n\t: Fns extends [ ( i: infer I ) => infer R ]\n\t? [ ( i: I ) => R ]\n\t: Fns extends [ ( i: infer I1 ) => infer O1, ...infer Rest1 ]\n\t? Rest1 extends [ ( i: infer I2 ) => any, ...infer Rest2 ]\n\t\t? [ O1 ] extends [ I2 ]\n\t\t\t? [ ( i: I1 ) => O1, ...ValidFlow< Rest1 > ]\n\t\t\t: [ ( i: I1 ) => O1, ( i: O1 ) => unknown, ...ValidFlow< Rest2 > ]\n\t\t: [ never ]\n\t: [ never ];\n\ntype Input< Fns extends Function[] > = Fns extends [\n\t( i: infer I ) => any,\n\t...Function[],\n]\n\t? I\n\t: never;\n\ntype Output< Fns extends Function[] > = Fns extends [\n\t( i: any ) => infer R,\n\t...infer Rest,\n]\n\t? Rest extends []\n\t\t? R\n\t\t: Rest extends Function[]\n\t\t? Output< Rest >\n\t\t: never\n\t: never;\n\nexport function flow< Fns extends Function[] >(\n\t...fns: Fns extends ValidFlow< Fns > ? Fns : ValidFlow< Fns >\n): ( input: Input< Fns > ) => Output< Fns > {\n\treturn ( input: Input< Fns > ) =>\n\t\t( fns as Array< ( i: any ) => any > ).reduce(\n\t\t\t( r, f ) => f( r ),\n\t\t\tinput as any\n\t\t) as Output< Fns >;\n}\n","/**\n * Internal dependencies\n */\nimport type { ActiveExperiment, Experiment, Session } from '../../types';\n\nexport const getActiveExperiments = (\n\tsession: Session\n): ReadonlyArray< ActiveExperiment > =>\n\tsession.experiments.filter( isActiveExperiment );\n\nconst isActiveExperiment = ( e: Experiment ): e is ActiveExperiment => e.active;\n","/**\n * Internal dependencies\n */\nimport { addQueryArgs } from '../url';\nimport type { ParamValue, Session } from '../../types';\n\nexport const getApiUrl = (\n\tapi: Session[ 'api' ],\n\tpath: string,\n\targs?: Record< string, ParamValue >\n): string =>\n\taddQueryArgs(\n\t\t'rest' === api.mode\n\t\t\t? addQueryArgs( api.url, { path } )\n\t\t\t: `${ api.url }${ path }`,\n\t\targs\n\t);\n","export function getClosest< T extends HTMLElement = HTMLElement >(\n\tnode: HTMLElement,\n\tnodeType: string\n): T | false {\n\tlet currentNode: HTMLElement | null = node;\n\tdo {\n\t\tif ( nodeType.toLowerCase() === currentNode.nodeName.toLowerCase() ) {\n\t\t\treturn currentNode as T;\n\t\t}\n\t\tcurrentNode = currentNode.parentElement;\n\t} while ( currentNode );\n\n\treturn false;\n}\n","export function getDocumentHeight(): number {\n\tconst body = document.body;\n\tconst html = document.documentElement;\n\treturn Math.max(\n\t\tbody.scrollHeight,\n\t\tbody.offsetHeight,\n\t\thtml.clientHeight,\n\t\thtml.scrollHeight,\n\t\thtml.offsetHeight\n\t);\n}\n","/**\n * External dependencies\n */\nimport md5 from 'md5';\nimport type { ExperimentId, Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { log } from './log';\nimport { canVisitorParticipate } from './internal/can-visitor-participate';\nimport { getSettings } from './internal/get-settings';\nimport { getApiUrl } from '../helpers';\n\nimport {\n\taddCookieListener,\n\tgetCookie,\n\tremoveCookie,\n\tremoveCookieListener,\n\tsetCookie,\n} from '../cookies';\nimport {\n\tupdateSegmentationSettings,\n\tgetAllActiveSegments,\n} from '../segmentation';\nimport { getQueryArg, REFERRER_PARAM, removeTestingArgs } from '../url';\nimport {\n\tgetExperimentsWithPageViews,\n\tgetUniqueViews as doGetUniqueViews,\n} from '../tracking';\nimport { isGdprAccepted } from '../../tracking/utils';\nimport type { AlternativeIndex, Session, Settings } from '../../types';\nimport type { Uuid } from 'uuid';\nimport { getGA4ClientId } from '../../tracking/ga4';\n\ntype QuotaCheck = {\n\treadonly zero: boolean;\n\treadonly timestamp: number;\n};\n\nconst MINUTE_IN_MILLIS = 60_000;\nconst QUOTA_CHECK_LIVESPAN = 10 * MINUTE_IN_MILLIS;\n\nexport function setNabReferrer(): void {\n\t// @ts-expect-error Were creating this variable.\n\twindow.nabReferrer =\n\t\tgetQueryArg( document.location.href, REFERRER_PARAM ) ||\n\t\tdocument.referrer;\n}\n\nexport const getSession = async (): Promise< Maybe< Session > > => {\n\tconst settings = getSettings();\n\tif ( ! canVisitorParticipate( settings ) ) {\n\t\treturn;\n\t}\n\n\tawait updateSegmentationSettings( settings );\n\tconst alternative = updateAlternativeCookie( settings );\n\tif ( 'none' === alternative ) {\n\t\tlog( 'No alternative assigned' );\n\t\treturn;\n\t}\n\n\tconst session = {\n\t\t...settings,\n\t\talternative,\n\t\tcurrentUrl: window.location.href,\n\t\tisStagingSite: settings.isStagingSite || isStagingSimulated(),\n\t\texperiments: settings.experiments.map( ( e ) => ( {\n\t\t\t...e,\n\t\t\talternative: alternative % e.alternatives.length,\n\t\t} ) ),\n\t\tuntestedUrl: removeTestingArgs( window.location.href ),\n\t\thasQuota: hasQuota( settings ),\n\t};\n\n\tif ( isGdprAccepted( session ) ) {\n\t\tvoid updateECommerceSession( session );\n\t} else {\n\t\tconst id = addCookieListener( () => {\n\t\t\tif ( ! isGdprAccepted( session ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvoid updateECommerceSession( session );\n\t\t\tremoveCookieListener( id );\n\t\t} );\n\t}\n\n\treturn session;\n};\n\n// =======\n// HELPERS\n// =======\n\nfunction isStagingSimulated() {\n\tif ( undefined !== getQueryArg( window.location.href, 'nabstaging' ) ) {\n\t\tsetCookie( 'nabSimulateStaging', 'true' );\n\t}\n\treturn 'true' === getCookie( 'nabSimulateStaging' );\n}\n\nconst updateAlternativeCookie = ( settings: Settings ) => {\n\tconst { maxCombinations } = settings;\n\tlet alternative = getAlternativeFromCookie( settings );\n\n\tif ( false === alternative ) {\n\t\talternative =\n\t\t\trandom( 100 ) <= settings.participationChance\n\t\t\t\t? random( maxCombinations - 1 )\n\t\t\t\t: 'none';\n\t\tresetCookies( alternative );\n\t}\n\n\tconst newAlternative = shouldAlternativeBeOverwritten(\n\t\tsettings,\n\t\talternative\n\t);\n\tif ( false !== newAlternative ) {\n\t\talternative = newAlternative % settings.maxCombinations;\n\t\tresetCookies( alternative );\n\t}\n\n\tresetCookieExpirations();\n\treturn alternative;\n};\n\nfunction getAlternativeFromCookie(\n\tsettings: Settings\n): false | number | 'none' {\n\tconst nabAlt = getCookie( 'nabAlternative' ) ?? '';\n\tif ( 'none' === nabAlt ) {\n\t\treturn 'none';\n\t}\n\n\tconst value = Number.parseInt( nabAlt );\n\tif ( isNaN( value ) ) {\n\t\treturn false;\n\t}\n\n\tif ( value < 0 ) {\n\t\treturn false;\n\t}\n\n\tif ( value >= settings.maxCombinations ) {\n\t\treturn false;\n\t}\n\n\treturn value;\n}\n\nconst updateECommerceSession = async ( session: Session ) => {\n\tif ( ! session.ajaxUrl ) {\n\t\treturn;\n\t}\n\n\tconst oldChecksum = getCookie( 'nabSessionChecksum' );\n\tconst checksum = getSessionChecksum( session.alternative );\n\tif ( ! session.forceECommerceSessionSync && oldChecksum === checksum ) {\n\t\treturn;\n\t}\n\n\tconst body = new FormData();\n\tbody.append( 'action', 'nab_sync_ecommerce_session' );\n\tbody.append( 'alternative', `${ session.alternative }` );\n\tbody.append(\n\t\t'expsWithView',\n\t\tJSON.stringify( getViewedAlternatives( session ) )\n\t);\n\tbody.append( 'expSegments', JSON.stringify( getSegments( session ) ) );\n\tbody.append( 'uniqueViews', JSON.stringify( getUniqueViews( session ) ) );\n\tif ( session.isGA4Integrated ) {\n\t\tbody.append( 'ga4ClientId', getGA4ClientId() ?? '' );\n\t}\n\n\t// NOTE. Were syncing the session using an event to prevent GTMetrix from grading sites poorly.\n\tawait new Promise< void >( ( resolve ) => {\n\t\tlet running = false;\n\t\tconst sync = () => {\n\t\t\tif ( running ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\trunning = true;\n\t\t\tvoid fetch( session.ajaxUrl, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tcredentials: 'same-origin',\n\t\t\t\tbody,\n\t\t\t} ).finally( () => {\n\t\t\t\twindow.removeEventListener( 'keyup', sync );\n\t\t\t\twindow.removeEventListener( 'mousemove', sync );\n\t\t\t\twindow.removeEventListener( 'click', sync );\n\t\t\t\tresolve();\n\t\t\t} );\n\t\t};\n\t\twindow.addEventListener( 'keyup', sync );\n\t\twindow.addEventListener( 'mousemove', sync );\n\t\twindow.addEventListener( 'click', sync );\n\t} );\n\n\tsetCookie( 'nabSessionChecksum', checksum );\n};\n\nconst random = ( max: number ) =>\n\tMath.min( Math.floor( Math.random() * ( max + 1 ) ), max );\n\nconst getViewedAlternatives = (\n\tsession: Session\n): Partial< Record< ExperimentId, AlternativeIndex > > =>\n\tObject.keys( getExperimentsWithPageViews() ).reduce(\n\t\t( res, key ) => {\n\t\t\tconst id = ( Number.parseInt( key ) || 0 ) as ExperimentId;\n\t\t\tconst exp = session.experiments.find( ( e ) => e.id === id );\n\t\t\tif ( exp ) {\n\t\t\t\tres[ id ] = exp.alternative;\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{} as Partial< Record< ExperimentId, AlternativeIndex > >\n\t);\n\nconst getSegments = (\n\tsession: Session\n): Partial< Record< ExperimentId, ReadonlyArray< number > > > => {\n\tconst allSegments = getAllActiveSegments();\n\treturn Object.keys( allSegments ).reduce(\n\t\t( res, key ) => {\n\t\t\tconst id = ( Number.parseInt( key ) || 0 ) as ExperimentId;\n\t\t\tconst exp = session.experiments.find( ( e ) => e.id === id );\n\t\t\tif ( exp ) {\n\t\t\t\tres[ id ] = allSegments[ id ] ?? [ 0 ];\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{} as Partial< Record< ExperimentId, ReadonlyArray< number > > >\n\t);\n};\n\nconst getUniqueViews = (\n\tsession: Session\n): Partial< Record< ExperimentId, Uuid > > => {\n\tconst uniqueViews = doGetUniqueViews();\n\treturn session.experiments.reduce(\n\t\t( res, experiment ) => {\n\t\t\tconst id = experiment.id;\n\t\t\tconst viewUuid = uniqueViews[ id ];\n\t\t\tif ( viewUuid ) {\n\t\t\t\tres[ id ] = viewUuid;\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{} as Record< ExperimentId, Uuid >\n\t);\n};\n\nconst getSessionChecksum = ( alternative: number ): string => {\n\tconst epv = getExperimentsWithPageViews();\n\tconst expIds = Object.keys( epv ).sort();\n\tconst tenMinutesTimestamp =\n\t\tnew Date( Object.values( epv ).sort().reverse()[ 0 ] || 0 )\n\t\t\t.toISOString()\n\t\t\t.substring( 0, 15 ) + '0';\n\treturn md5( [ alternative, ...expIds, tenMinutesTimestamp ].join( ':' ) );\n};\n\nfunction shouldAlternativeBeOverwritten(\n\tsettings: Settings,\n\tassignedAlternative: 'none' | number\n): number | false {\n\tconst search = document.location.search;\n\tconst queryAlternative =\n\t\t/\\bnab\\b=[0-9]+/.test( search ) && /\\bnabforce\\b/.test( search )\n\t\t\t? Number.parseInt(\n\t\t\t\t\tsearch.replace( /^.*\\bnab\\b=([0-9]+).*$/, '$1' )\n\t\t\t  ) || 0\n\t\t\t: false;\n\n\tif ( false !== queryAlternative ) {\n\t\treturn assignedAlternative !== queryAlternative\n\t\t\t? queryAlternative\n\t\t\t: false;\n\t}\n\n\tconst cookieAlternative = settings.cookieTesting;\n\tif ( false !== cookieAlternative ) {\n\t\treturn assignedAlternative !== cookieAlternative\n\t\t\t? cookieAlternative\n\t\t\t: false;\n\t}\n\n\treturn false;\n}\n\nfunction resetCookies( alternative: number | 'none' ): void {\n\tsetCookie( 'nabAlternative', alternative, { expires: 120 } );\n\tremoveCookie( 'nabExperimentsWithPageViews' );\n\tremoveCookie( 'nabUniqueViews' );\n}\n\nfunction resetCookieExpirations(): void {\n\t(\n\t\t[\n\t\t\t'nabAlternative',\n\t\t\t'nabExperimentsWithPageViews',\n\t\t\t'nabUniqueViews',\n\t\t] as const\n\t )\n\t\t.map( ( n ) => [ n, getCookie( n ) ?? '' ] as const )\n\t\t.filter( ( [ _, v ] ) => !! v )\n\t\t.forEach( ( [ n, v ] ) => setCookie( n, v, { expires: 120 } ) );\n}\n\nasync function hasQuota( settings: Settings ): Promise< boolean > {\n\ttry {\n\t\tconst quotaString = sessionStorage.getItem( 'nabq' ) ?? '';\n\t\tconst quotaCheck = JSON.parse( quotaString ) as unknown;\n\t\tif ( isValidQuotaCheck( quotaCheck ) ) {\n\t\t\treturn ! quotaCheck.zero;\n\t\t}\n\t} catch ( _ ) {}\n\n\tsessionStorage.removeItem( 'nabq' );\n\tconst quotaCheck = await checkQuota( settings );\n\tif ( ! quotaCheck ) {\n\t\treturn true;\n\t}\n\n\tsessionStorage.setItem( 'nabq', JSON.stringify( quotaCheck ) );\n\treturn ! quotaCheck.zero;\n}\n\nfunction isValidQuotaCheck( q: unknown ): q is QuotaCheck {\n\treturn (\n\t\t!! q &&\n\t\t'object' === typeof q &&\n\t\t'timestamp' in q &&\n\t\t'zero' in q &&\n\t\t'boolean' === typeof q.zero &&\n\t\t'number' === typeof q.timestamp &&\n\t\tDate.now() - q.timestamp <= QUOTA_CHECK_LIVESPAN\n\t);\n}\n\nasync function checkQuota(\n\tsettings: Settings\n): Promise< Maybe< QuotaCheck > > {\n\ttry {\n\t\tconst url = getApiUrl( settings.api, '/check', {\n\t\t\tsiteId: settings.site,\n\t\t} );\n\t\tconst res = await window.fetch( url );\n\t\tconst data: string = await res.text();\n\t\tconst zero = ! JSON.parse( data );\n\t\treturn { timestamp: Date.now(), zero };\n\t} catch ( _ ) {}\n\treturn undefined;\n}\n","/**\n * Internal dependencies\n */\nimport { domReady } from './dom-ready';\n\ntype Callback = () => unknown;\n\nlet isHeadReady = false;\nconst pending: Callback[] = [];\nexport const headReady = ( callback: Callback ): void =>\n\tisHeadReady ? void callback() : void pending.push( callback );\n\n// =======\n// HELPERS\n// =======\n\nconst markHeadAsReady = () => {\n\tif ( isHeadReady ) {\n\t\treturn;\n\t}\n\tisHeadReady = true;\n\tpending.forEach( ( fn ) => fn() );\n};\n\nconst checkHead = () => {\n\tif ( isHeadReady ) {\n\t\treturn;\n\t}\n\tif ( document.body !== null ) {\n\t\treturn markHeadAsReady();\n\t}\n\tsetTimeout( checkHead, 100 );\n};\n\ncheckHead();\ndomReady( markHeadAsReady );\n","export * from './append-style';\nexport * from './dom-ready';\nexport * from './element-ready';\nexport * from './get-active-experiments';\nexport * from './get-api-url';\nexport * from './get-closest';\nexport * from './get-document-height';\nexport * from './get-session';\nexport * from './flow';\nexport * from './head-ready';\nexport * from './log';\nexport * from './preload-query-args';\n","/**\n * External dependencies\n */\nimport type { Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { log } from '../log';\nimport { getCookie, removeCookie, setCookie } from '../../cookies';\nimport type { Session } from '../../../types';\n\ntype ParticipationSettings = Pick<\n\tSession,\n\t'excludeBots' | 'gdprCookie' | 'participationChance'\n>;\n\nexport function canVisitorParticipate(\n\tsettings: Maybe< ParticipationSettings >\n): settings is ParticipationSettings {\n\tif ( ! settings ) {\n\t\tlog( 'Settings not found' );\n\t\treturn false;\n\t}\n\n\tif ( isIE() ) {\n\t\tlog( 'IE detected' );\n\t\treturn false;\n\t}\n\n\tif ( settings.excludeBots && isBot() ) {\n\t\tlog( 'Bot detected' );\n\t\treturn false;\n\t}\n\n\tif ( ! areCookiesEnabled() ) {\n\t\tlog( 'Cookies not enabled' );\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction isBot(): boolean {\n\tconst userAgent = window.navigator?.userAgent;\n\treturn (\n\t\t!! userAgent &&\n\t\t/bot|spider|crawl|http|lighthouse|meta-externalagent|meta-externalfetcher|facebookexternalhit|facebookcatalog|gtmetrix/i.test(\n\t\t\tuserAgent\n\t\t)\n\t);\n}\n\nfunction isIE(): boolean {\n\tconst ua = window.navigator.userAgent || '';\n\treturn -1 !== ua.indexOf( 'MSIE ' ) || -1 !== ua.indexOf( 'Trident/' );\n}\n\nfunction areCookiesEnabled() {\n\tsetCookie( 'nabCheckWritePermission', true );\n\tif ( ! getCookie( 'nabCheckWritePermission' ) ) {\n\t\treturn false;\n\t}\n\n\tremoveCookie( 'nabCheckWritePermission' );\n\treturn true;\n}\n","/**\n * External dependencies\n */\nimport type { Maybe, SiteId, Url } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { parseJavaScript } from '../internal/parse-javascript';\nimport type { Settings } from '../../../types';\n\nexport const getSettings = (): Maybe< Required< Settings > > => {\n\tconst win = window as unknown;\n\tif ( ! hasSettings( win ) ) {\n\t\treturn;\n\t}\n\n\tconst settings = win.nabSettings;\n\treturn {\n\t\tajaxUrl: '' as Url,\n\t\talternativeUrls: [],\n\t\tapi: { mode: 'native', url: '' as Url },\n\t\tcookieTesting: false,\n\t\texcludeBots: true,\n\t\tforceECommerceSessionSync: false,\n\t\tgdprCookie: { name: '', value: '' },\n\t\theatmaps: [],\n\t\thideQueryArgs: false,\n\t\tignoreTrailingSlash: true,\n\t\tisGA4Integrated: false,\n\t\tga4TrackingMethod: false,\n\t\tisStagingSite: false,\n\t\tisTestedPostRequest: false,\n\t\tmaxCombinations: 2,\n\t\tnabPosition: 'last',\n\t\tnumOfAlternatives: 0,\n\t\toptimizeXPath: true,\n\t\tparticipationChance: 100,\n\t\tpostId: 0,\n\t\tpreloadQueryArgUrls: [],\n\t\tsegmentMatching: 'all',\n\t\tsingleConvPerView: true,\n\t\tsite: '' as SiteId,\n\t\ttimezone: '',\n\t\tuseControlUrl: false,\n\t\tuseSendBeacon: true,\n\t\tversion: 'unknown',\n\t\t...settings,\n\t\texperiments: parseJavaScript( settings.experiments ),\n\t\tthrottle: {\n\t\t\tglobal: fixThrottleWait( settings.throttle?.global ),\n\t\t\twoocommerce: fixThrottleWait( settings.throttle?.woocommerce ),\n\t\t},\n\t};\n};\n\n// ========\n// INTERNAL\n// ========\n\nconst hasSettings = (\n\twin: unknown\n): win is { nabSettings: Partial< Settings > } =>\n\t!! win && 'object' === typeof win && 'nabSettings' in win;\n\nfunction fixThrottleWait( wait = 0 ): number {\n\treturn Math.max( 0, Math.min( 10, wait ) );\n}\n","/**\n * Internal dependencies\n */\nimport { domReady } from '../dom-ready';\nimport type { ExperimentSummary } from '../../../types';\n\nexport function parseJavaScript< T extends ExperimentSummary >(\n\texperiments: ReadonlyArray< T > | undefined\n): ReadonlyArray< T > {\n\texperiments = experiments ?? [];\n\treturn experiments.map( ( e ) => {\n\t\tconst goals = e.goals.map( ( g ) => ( {\n\t\t\t...g,\n\t\t\tconversionActions: g.conversionActions.map( ( ca ) => {\n\t\t\t\tif ( ! ca.active ) {\n\t\t\t\t\treturn ca;\n\t\t\t\t}\n\n\t\t\t\tif ( 'nab/custom-event' !== ca.type ) {\n\t\t\t\t\treturn ca;\n\t\t\t\t}\n\n\t\t\t\tconst snippet = ca.attributes.snippet;\n\t\t\t\tif ( 'string' !== typeof snippet ) {\n\t\t\t\t\treturn ca;\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-eval\n\t\t\t\tdomReady( () => eval( snippet ) );\n\n\t\t\t\treturn ca;\n\t\t\t} ),\n\t\t} ) );\n\n\t\tif ( ! e.active ) {\n\t\t\treturn { ...e, goals };\n\t\t}\n\n\t\treturn {\n\t\t\t...e,\n\t\t\talternatives:\n\t\t\t\te.type === 'nab/css' || e.type === 'nab/javascript'\n\t\t\t\t\t? e.alternatives.map( ( a ) => ( {\n\t\t\t\t\t\t\t...a,\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, no-eval\n\t\t\t\t\t\t\trun: eval( `(()=>${ a.run as string })()` ),\n\t\t\t\t\t  } ) )\n\t\t\t\t\t: e.alternatives,\n\t\t\tgoals,\n\t\t};\n\t} );\n}\n","const LOG_REGEX = /\\bnabjslog\\b/;\nexport function log( ...args: unknown[] ): void {\n\tif (\n\t\tLOG_REGEX.test( window.location.search ) ||\n\t\tLOG_REGEX.test( document.cookie )\n\t) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log( '[NAB]', ...args );\n\t}\n}\n\nexport function logIf( condition: boolean, ...args: unknown[] ): void {\n\tif ( ! condition ) {\n\t\treturn;\n\t}\n\tlog( ...args );\n}\n\nconst logs: string[] = [];\nexport function logOnce( text: string ): void {\n\tif ( logs.includes( text ) ) {\n\t\treturn;\n\t}\n\tlogs.push( text );\n\tlog( text );\n}\n","/**\n * Internal dependencies\n */\nimport { domReady } from './dom-ready';\nimport type { PreloadQueryArgUrl, Session } from '../../types';\nimport { addNabQueryArg } from '../url';\n\nexport const preloadQueryArgs = ( session: Session ): void =>\n\tdomReady( () => {\n\t\tdoPreloadQueryArgs( session );\n\t\tfixSelfHashUrls();\n\t} );\n\n// =======\n// HELPERS\n// =======\n\nexport const doPreloadQueryArgs = ( session: Session ): void => {\n\tif ( ! session.preloadQueryArgUrls.length ) {\n\t\treturn;\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/prefer-regexp-exec\n\tconst matches = document.cookie.match( /nabAlternative=[0-9]+/ ) || [ '' ];\n\tconst alt: number = Number.parseInt( matches[ 0 ].split( '=' )[ 1 ] ?? '' );\n\tif ( isNaN( alt ) ) {\n\t\treturn;\n\t}\n\n\tconst site = document.location.protocol + '//' + document.location.hostname;\n\tconst anchors = Array.from(\n\t\tdocument.querySelectorAll< HTMLAnchorElement >( 'a' )\n\t)\n\t\t.filter( ( a ) => a.href )\n\t\t.filter( ( a ) => typeof a.href === 'string' )\n\t\t.filter( ( a ) => 0 === a.href.indexOf( site ) )\n\t\t.filter( ( a ) => -1 === a.href.indexOf( '#' ) )\n\t\t.filter( ( a ) => -1 === a.href.indexOf( '/wp-content/' ) );\n\n\tconst config = [ ...session.preloadQueryArgUrls ].sort( ( x ) =>\n\t\tx.type === 'alt-urls' ? -1 : 1\n\t);\n\tanchors.forEach( preloadQueryArg( config, alt, session.nabPosition ) );\n};\n\nconst fixSelfHashUrls = () => {\n\tconst current = new URL( document.location.href );\n\tif ( ! /\\bnab=/.test( current.search ) ) {\n\t\treturn;\n\t}\n\n\tcurrent.hash = '';\n\tcurrent.searchParams.delete( 'nab' );\n\tArray.from(\n\t\tdocument.querySelectorAll< HTMLAnchorElement >( 'a[href*=\"#\"]' )\n\t)\n\t\t.filter( ( a ) => a.href )\n\t\t.filter( ( a ) => typeof a.href === 'string' )\n\t\t.filter( ( a ) => a.href.replace( /#.*$/, '' ) === current.href )\n\t\t.forEach( ( a ) => {\n\t\t\ta.href = a.href.replace( /^[^#]*#/, '#' );\n\t\t} );\n};\n\nconst preloadQueryArg =\n\t(\n\t\tconfig: ReadonlyArray< PreloadQueryArgUrl >,\n\t\talt: number,\n\t\tnabPosition: 'first' | 'last'\n\t) =>\n\t( a: HTMLAnchorElement ): void => {\n\t\tif ( ! a.href || typeof a.href !== 'string' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( a.href.indexOf( 'nab=' ) !== -1 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scopes = getMatchingScopes( config, a.href );\n\t\tif ( ! scopes.length ) {\n\t\t\treturn;\n\t\t}\n\t\tconst altCount = Math.max( ...scopes.map( ( s ) => s.altCount ) );\n\t\tconst nab = alt % altCount;\n\t\tconst url = getAlternativeUrl( scopes, alt ) || a.href;\n\t\ta.href = addNabQueryArg( url, nab, nabPosition );\n\t};\n\nfunction getMatchingScopes(\n\tconfig: ReadonlyArray< PreloadQueryArgUrl >,\n\tlink: string\n): ReadonlyArray< PreloadQueryArgUrl > {\n\tlink = link.toLowerCase();\n\treturn config.filter( ( s ) => {\n\t\tconst scope = s.type === 'alt-urls' ? s.altUrls : s.scope;\n\t\treturn scope.some( ( l ): boolean => {\n\t\t\tif ( isPartialUrl( l ) ) {\n\t\t\t\treturn link.includes( getPart( l ) );\n\t\t\t}\n\t\t\tif ( isPartialNotIncludedUrl( l ) ) {\n\t\t\t\treturn ! link.includes( getPart( l ) );\n\t\t\t}\n\t\t\tif ( isExclusionUrl( l ) ) {\n\t\t\t\treturn l.substring( 1 ) !== link;\n\t\t\t}\n\t\t\treturn link === l;\n\t\t} );\n\t} );\n}\n\nfunction getAlternativeUrl(\n\tconfig: ReadonlyArray< PreloadQueryArgUrl >,\n\tnab: number\n) {\n\tconst scope = config.find( ( s ) => s.type === 'alt-urls' );\n\treturn scope?.type === 'alt-urls'\n\t\t? scope.altUrls[ nab % scope.altCount ]\n\t\t: undefined;\n}\n\nfunction isExclusionUrl( url: string ): boolean {\n\treturn url.startsWith( '!' ) && ! url.startsWith( '!*' );\n}\n\nfunction isPartialUrl( url: string ): boolean {\n\treturn url.startsWith( '*' ) && url.endsWith( '*' );\n}\n\nfunction isPartialNotIncludedUrl( url: string ): boolean {\n\treturn url.startsWith( '!*' ) && url.endsWith( '*' );\n}\n\nfunction getPart( partialUrl: string ): string {\n\treturn partialUrl.substring(\n\t\t// We either remove '!*' or '*' at the beginning\n\t\tisPartialNotIncludedUrl( partialUrl ) ? 2 : 1,\n\t\t// And we remove the final '*' at the end\n\t\tpartialUrl.length - 1\n\t);\n}\n","/**\n * External dependencies\n */\nimport type { Dict, ExperimentId, SegmentationRule } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { isValidSegmentationRule } from './segmentation-rules';\nimport {\n\tupdateFirstVisit,\n\tgetSegmentationSettings,\n\tsetSegmentationSettings,\n\ttype SegmentationSettings,\n} from './segmentation-settings';\nimport { getExperimentsWithPageViews } from '../tracking';\n\nimport type { ExperimentSummary, HeatmapSummary, Settings } from '../../types';\nimport { getApiUrl } from '../helpers';\n\nexport async function updateSegmentationSettings(\n\tsettings: Settings\n): Promise< void > {\n\tconst allExperiments = settings.experiments;\n\tconst allHeatmaps = settings.heatmaps;\n\tconst relevantExperiments = allExperiments.filter(\n\t\t( e ) => e.active || 'site' === e.segmentEvaluation\n\t);\n\n\tif (\n\t\tisGeoDataNeeded( allExperiments, allHeatmaps ) &&\n\t\tisGeoDataOutdated()\n\t) {\n\t\tif ( isGeoDataNeededNow( relevantExperiments, allHeatmaps ) ) {\n\t\t\tawait updateGeoData( settings );\n\t\t} else {\n\t\t\tsetTimeout( () => void updateGeoData( settings ), 0 );\n\t\t}\n\t}\n\n\tupdateFirstVisit();\n\tupdateActiveSegments( relevantExperiments );\n}\n\nexport function areSegmentsValid( settings: Settings ): boolean {\n\tconst { experiments } = settings;\n\tconst activeExperimentIds = experiments\n\t\t.filter( ( e ) => !! e.active )\n\t\t.map( ( e ) => e.id );\n\n\tif ( ! activeExperimentIds.length ) {\n\t\treturn true;\n\t}\n\n\treturn settings.segmentMatching === 'all'\n\t\t? activeExperimentIds.every( doesExperimentHaveValidSegments )\n\t\t: activeExperimentIds.some( doesExperimentHaveValidSegments );\n}\n\nexport function doesExperimentHaveValidSegments( id: ExperimentId ): boolean {\n\tconst activeSegments = getAllActiveSegments();\n\treturn ! isEmptyArray( activeSegments[ id ] );\n}\n\nconst isHeatmapActive: Partial< Record< ExperimentId, boolean > > = {};\nexport function areHeatmapConditionsValid( heatmap: HeatmapSummary ): boolean {\n\tif ( undefined === isHeatmapActive[ heatmap.id ] ) {\n\t\tisHeatmapActive[ heatmap.id ] = heatmap.participation.every(\n\t\t\tisValidSegmentationRule\n\t\t);\n\t}\n\treturn !! isHeatmapActive[ heatmap.id ];\n}\n\nexport function getSegmentationGeoData(): Partial<\n\tSegmentationSettings[ 'geo' ]\n> {\n\tconst segmentationSettings = getSegmentationSettings();\n\treturn segmentationSettings.geo || {};\n}\n\nconst RETURNING_VISITOR_MINUTES_THRESHOLD = 30;\nexport function isReturningVisitor(): boolean {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst minutesSinceFirstVisit = segmentationSettings.firstVisit\n\t\t? gapInMinutes( Date.now(), segmentationSettings.firstVisit )\n\t\t: 0;\n\treturn minutesSinceFirstVisit >= RETURNING_VISITOR_MINUTES_THRESHOLD;\n}\n\nexport function getAllActiveSegments(): Partial<\n\tRecord< ExperimentId, ReadonlyArray< number > >\n> {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst activeSegments = segmentationSettings.activeSegments || {};\n\treturn activeSegments;\n}\n\nexport function getActiveSegments(\n\texperiment: ExperimentSummary\n): ReadonlyArray< number > {\n\tif ( isActiveSegmentImplicit( experiment ) ) {\n\t\treturn [ 0 ];\n\t}\n\tconst activeSegments = getAllActiveSegments();\n\treturn activeSegments[ experiment.id ] || [];\n}\n\nexport function cleanOldSegments(\n\texperiments: ReadonlyArray< ExperimentId >\n): void {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst activeSegments = segmentationSettings.activeSegments || {};\n\n\tconst viewedExperimentIds = Object.keys( getExperimentsWithPageViews() )\n\t\t.map( ( id ) => Number.parseInt( id ) )\n\t\t.filter( ( id ) => ! isNaN( id ) && 0 < id );\n\n\t// Remove experiments that do not exist or didn't have views.\n\tconst newActiveSegments = Object.keys( activeSegments )\n\t\t.map( ( experimentId ) => Number.parseInt( experimentId ) )\n\t\t.filter(\n\t\t\t( experimentId ): experimentId is ExperimentId =>\n\t\t\t\t! isNaN( experimentId ) && 0 < experimentId\n\t\t)\n\t\t.reduce(\n\t\t\t( result, experimentId ) => {\n\t\t\t\tif (\n\t\t\t\t\texperiments.includes( experimentId ) ||\n\t\t\t\t\tviewedExperimentIds.includes( experimentId )\n\t\t\t\t) {\n\t\t\t\t\tresult[ experimentId ] =\n\t\t\t\t\t\tactiveSegments[ experimentId ] ?? [];\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t{} as Partial< Record< ExperimentId, ReadonlyArray< number > > >\n\t\t);\n\n\tsetSegmentationSettings( {\n\t\t...segmentationSettings,\n\t\tactiveSegments: newActiveSegments,\n\t} );\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction isGeoDataOutdated() {\n\tconst geoData = getSegmentationGeoData();\n\tif ( ! geoData.lastUpdate ) {\n\t\treturn true;\n\t}\n\n\tconst lastUpdate = geoData.lastUpdate;\n\tconst now = new Date().getTime();\n\tconst lastUpdateDate = new Date( lastUpdate ).getTime();\n\tconst diffTime = Math.abs( now - lastUpdateDate );\n\tconst diffDays = Math.ceil( diffTime / ( 1000 * 60 * 60 * 24 ) );\n\n\treturn isNaN( diffDays ) || diffDays > 7; // Update segmentation data every week.\n}\n\nconst isGeoDataNeeded = (\n\texps: Settings[ 'experiments' ],\n\theatmaps: Settings[ 'heatmaps' ]\n): boolean => !! getIdsThatNeedGeo( exps, heatmaps ).length;\n\nfunction isGeoDataNeededNow(\n\texps: Settings[ 'experiments' ],\n\theatmaps: Settings[ 'heatmaps' ]\n): boolean {\n\tconst idsWithGeoNeeds = getIdsThatNeedGeo( exps, heatmaps );\n\tconst settings = getSegmentationSettings();\n\treturn idsWithGeoNeeds.some( ( id ) => ! settings.activeSegments[ id ] );\n}\n\nconst getIdsThatNeedGeo = (\n\texps: Settings[ 'experiments' ],\n\theatmaps: Settings[ 'heatmaps' ]\n): ReadonlyArray< ExperimentId > => [\n\t...exps\n\t\t.filter( ( e ) =>\n\t\t\te.segments.some( ( s ) => s.segmentationRules.some( isGeoRule ) )\n\t\t)\n\t\t.map( ( e ) => e.id ),\n\t...heatmaps\n\t\t.filter( ( h ) => h.participation.some( isGeoRule ) )\n\t\t.map( ( h ) => h.id ),\n];\n\nconst isGeoRule = ( r: SegmentationRule ) =>\n\tr.type === 'nab/ip-address' || r.type === 'nab/location';\n\nasync function updateGeoData( settings: Settings ) {\n\ttry {\n\t\tconst url = getApiUrl( settings.api, '/ipc', {\n\t\t\tsiteId: settings.site,\n\t\t} );\n\t\tconst res = await window.fetch( url );\n\t\tconst data: string = await res.text();\n\t\tconst jsonData = JSON.parse( data ) as Dict;\n\t\tif ( ! hasGeoData( jsonData ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetSegmentationSettings( {\n\t\t\t...getSegmentationSettings(),\n\t\t\tgeo: {\n\t\t\t\tipAddress: jsonData.ip,\n\t\t\t\tlocation: jsonData.location,\n\t\t\t\tlastUpdate: new Date().toISOString(),\n\t\t\t},\n\t\t} );\n\t} catch ( _ ) {}\n}\n\nfunction updateActiveSegments( experiments: Settings[ 'experiments' ] ) {\n\tconst segmentationSettings = getSegmentationSettings();\n\tconst previousActiveSegments = segmentationSettings.activeSegments || {};\n\n\tconst activeSegments = experiments.reduce(\n\t\t( r, e ) =>\n\t\t\tisActiveSegmentImplicit( e )\n\t\t\t\t? r\n\t\t\t\t: { ...r, [ e.id ]: calculateActiveSegments( e ) },\n\t\t{} as SegmentationSettings[ 'activeSegments' ]\n\t);\n\n\tsetSegmentationSettings( {\n\t\t...segmentationSettings,\n\t\tactiveSegments: {\n\t\t\t...activeSegments,\n\t\t\t...previousActiveSegments,\n\t\t},\n\t} );\n}\n\nfunction calculateActiveSegments(\n\texperiment: ExperimentSummary\n): ReadonlyArray< number > {\n\tconst activeSegments = experiment.segments\n\t\t.map( ( { segmentationRules }, index ) =>\n\t\t\tsegmentationRules.every( isValidSegmentationRule ) ? index + 1 : 0\n\t\t)\n\t\t.filter( ( segmentIndex ) => 0 < segmentIndex );\n\n\treturn activeSegments.length ? [ 0, ...activeSegments ] : [];\n}\n\nfunction gapInMinutes( a: number, b: number ): number {\n\treturn Math.abs( a - b ) / 60_000;\n}\n\nconst isEmptyArray = ( arr?: unknown ): arr is unknown[] =>\n\t!! arr && Array.isArray( arr ) && ! arr.length;\n\nconst hasGeoData = (\n\tx: Dict\n): x is {\n\treadonly ip: string;\n\treadonly location: string;\n} => !! x.ip && !! x.location;\n\nconst isActiveSegmentImplicit = ( e: ExperimentSummary ): boolean =>\n\t! e.segments.length;\n","/**\n * External dependencies\n */\nimport { UAParser } from 'ua-parser-js';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/browser/types';\n\nexport const type = 'nab/browser';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst visitorBrowser = getVisitorBrowser();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) =>\n\t\t\t\tisSameBrowser( value, visitorBrowser )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => ! isSameBrowser( value, visitorBrowser )\n\t\t\t);\n\t}\n}\n\nfunction getVisitorBrowser() {\n\tconst parser = new UAParser();\n\tconst browserData = parser.getBrowser();\n\treturn browserData.name;\n}\n\nfunction isSameBrowser( browserName: string, visitorBrowserName?: string ) {\n\treturn browserName === visitorBrowserName;\n}\n","/**\n * Internal dependencies\n */\nimport { getCookie } from '../../cookies';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/cookie/types';\n\nexport const type = 'nab/cookie';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { name, condition, value } = attributes;\n\n\tconst actualValue = getCookie( name );\n\n\tswitch ( condition ) {\n\t\tcase 'is-any-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( expected ) => !! expected )\n\t\t\t\t.some( ( expectedValue ) => expectedValue === actualValue );\n\n\t\tcase 'is-none-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( expected ) => !! expected )\n\t\t\t\t.every( ( expectedValue ) => expectedValue !== actualValue );\n\n\t\tcase 'is-equal-to':\n\t\t\treturn actualValue === value;\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn actualValue !== value;\n\n\t\tcase 'contains':\n\t\t\treturn !! actualValue?.includes( value );\n\n\t\tcase 'does-not-contain':\n\t\t\treturn ! actualValue || ! actualValue.includes( value );\n\n\t\tcase 'exists':\n\t\t\treturn undefined !== actualValue;\n\n\t\tcase 'does-not-exist':\n\t\t\treturn undefined === actualValue;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/day-of-week/types';\n\nexport const type = 'nab/day-of-week';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst DAYS = [\n\t\t'Sunday',\n\t\t'Monday',\n\t\t'Tuesday',\n\t\t'Wednesday',\n\t\t'Thursday',\n\t\t'Friday',\n\t\t'Saturday',\n\t];\n\tconst { condition, values } = attributes;\n\n\tconst visitorDay = new Date().getDay();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) => value === DAYS[ visitorDay ] );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => value !== DAYS[ visitorDay ]\n\t\t\t);\n\t}\n}\n","/**\n * External dependencies\n */\nimport { UAParser } from 'ua-parser-js';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/device-type/types';\n\nexport const type = 'nab/device-type';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst parser = new UAParser();\n\tconst visitorDeviceType = parser.getDevice().type || 'desktop';\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) => value === visitorDeviceType );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every( ( { value } ) => value !== visitorDeviceType );\n\t}\n}\n","/**\n * External dependencies\n */\nimport type { SegmentationRule } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport * as browser from './browser';\nimport * as cookie from './cookie';\nimport * as dayOfWeek from './day-of-week';\nimport * as deviceType from './device-type';\nimport * as ipAddress from './ip-address';\nimport * as language from './language';\nimport * as location from './location';\nimport * as operatingSystem from './operating-system';\nimport * as queryParameter from './query-parameter';\nimport * as referringUrl from './referring-url';\nimport * as time from './time';\nimport * as userLogin from './user-login';\nimport * as visitorType from './visitor-type';\nimport * as windowWidth from './window-width';\n\ntype Validator = {\n\treadonly type: string;\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\treadonly validate: ( attrs: any ) => boolean;\n};\n\nexport const isValidSegmentationRule = ( {\n\ttype,\n\tattributes,\n}: Omit< SegmentationRule, 'id' > ): boolean => {\n\tconst segmentationRuleValidators: ReadonlyArray< Validator > = [\n\t\tbrowser,\n\t\tcookie,\n\t\tdayOfWeek,\n\t\tdeviceType,\n\t\tipAddress,\n\t\tlanguage,\n\t\tlocation,\n\t\toperatingSystem,\n\t\tqueryParameter,\n\t\treferringUrl,\n\t\ttime,\n\t\tuserLogin,\n\t\tvisitorType,\n\t\twindowWidth,\n\t];\n\n\treturn !! segmentationRuleValidators\n\t\t.find( ( validator ) => validator.type === type )\n\t\t?.validate( attributes );\n};\n","/**\n * Internal dependencies\n */\nimport { getSegmentationGeoData } from '../index';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/ip-address/types';\n\nexport const type = 'nab/ip-address';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst geoData = getSegmentationGeoData();\n\tconst visitorIp = geoData.ipAddress;\n\tif ( 'string' !== typeof visitorIp ) {\n\t\treturn false;\n\t}\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( ipPattern ) =>\n\t\t\t\tmatches( visitorIp, ipPattern )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( ipPattern ) => ! matches( visitorIp, ipPattern )\n\t\t\t);\n\t}\n}\n\nfunction matches( ip: string, pattern: string ) {\n\tconst re = pattern.replace( '*', '\\\\d?\\\\d?\\\\d' ).replace( '.', '\\\\.' );\n\treturn new RegExp( re ).test( ip );\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/language/types';\n\nexport const type = 'nab/language';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, language } = attributes;\n\n\tconst currentLanguages = window.navigator.languages.map( ( l ) =>\n\t\tl.toLowerCase()\n\t);\n\tconst hasLanguage = ( expected: string ) =>\n\t\tcurrentLanguages.some( ( actual ) => actual.startsWith( expected ) );\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn language.some( ( { value } ) => hasLanguage( value ) );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn ! language.some( ( { value } ) => hasLanguage( value ) );\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { getSegmentationGeoData } from '../index';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/location/types';\n\nexport const type = 'nab/location';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, location } = attributes;\n\n\tconst geoData = getSegmentationGeoData();\n\tconst visitorLocation = geoData.location;\n\tif ( 'string' !== typeof visitorLocation ) {\n\t\treturn false;\n\t}\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn location.some( ( { value } ) =>\n\t\t\t\tvisitorLocation.startsWith( value )\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn location.every(\n\t\t\t\t( { value } ) => ! visitorLocation.startsWith( value )\n\t\t\t);\n\t}\n}\n","/**\n * External dependencies\n */\nimport { UAParser } from 'ua-parser-js';\n\n/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/operating-system/types';\n\nexport const type = 'nab/operating-system';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, values } = attributes;\n\n\tconst visitorOS = getVisitorOS();\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some( ( { value } ) => isSameOS( value, visitorOS ) );\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => ! isSameOS( value, visitorOS )\n\t\t\t);\n\t}\n}\n\nfunction getVisitorOS() {\n\tconst parser = new UAParser();\n\tconst operatingSystemData = parser.getOS();\n\tlet osName = operatingSystemData.name;\n\n\tif ( 'Windows' === osName && operatingSystemData.version ) {\n\t\tosName += ' ' + operatingSystemData.version;\n\t}\n\n\tif (\n\t\t'Mac OS' === osName &&\n\t\toperatingSystemData.version &&\n\t\toperatingSystemData.version.startsWith( '10' )\n\t) {\n\t\tosName += ' X';\n\t}\n\n\treturn osName;\n}\n\nfunction isSameOS( operatingSystemName: string, visitorOS?: string ) {\n\tif (\n\t\t'Windows' === operatingSystemName &&\n\t\t'string' === typeof visitorOS &&\n\t\tvisitorOS.startsWith( 'Windows' )\n\t) {\n\t\treturn true;\n\t}\n\n\treturn operatingSystemName === visitorOS;\n}\n","/**\n * Internal dependencies\n */\nimport { getQueryArgs } from '../../url';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/query-parameter/types';\n\nexport const type = 'nab/query-parameter';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { name, condition, value } = attributes;\n\n\tconst actualValue = getQueryArgs( document.URL )[ name ];\n\n\tswitch ( condition ) {\n\t\tcase 'is-any-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( expected ) => !! expected )\n\t\t\t\t.some( ( expectedValue ) => expectedValue === actualValue );\n\n\t\tcase 'is-none-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( expected ) => !! expected )\n\t\t\t\t.every( ( expectedValue ) => expectedValue !== actualValue );\n\n\t\tcase 'is-equal-to':\n\t\t\treturn actualValue === value;\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn actualValue !== value;\n\n\t\tcase 'contains':\n\t\t\treturn !! actualValue?.includes( value );\n\n\t\tcase 'does-not-contain':\n\t\t\treturn ! actualValue || ! actualValue.includes( value );\n\n\t\tcase 'exists':\n\t\t\treturn undefined !== actualValue;\n\n\t\tcase 'does-not-exist':\n\t\t\treturn undefined === actualValue;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/referring-url/types';\n\nexport const type = 'nab/referring-url';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, value } = attributes;\n\n\tconst referrer = document.referrer;\n\n\tswitch ( condition ) {\n\t\tcase 'is-any-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( url ) => !! url )\n\t\t\t\t.some( ( url ) => url === referrer );\n\n\t\tcase 'is-none-of':\n\t\t\treturn value\n\t\t\t\t.split( '\\n' )\n\t\t\t\t.filter( ( url ) => !! url )\n\t\t\t\t.every( ( url ) => url !== referrer );\n\n\t\tcase 'is-equal-to':\n\t\t\treturn referrer === value;\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn referrer !== value;\n\n\t\tcase 'contains':\n\t\t\treturn !! referrer?.includes( value );\n\n\t\tcase 'does-not-contain':\n\t\t\treturn ! referrer || ! referrer.includes( value );\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/time/types';\n\nexport const type = 'nab/time';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst PERIODS = [\n\t\t'00-02',\n\t\t'02-04',\n\t\t'04-06',\n\t\t'06-08',\n\t\t'08-10',\n\t\t'10-12',\n\t\t'12-14',\n\t\t'14-16',\n\t\t'16-18',\n\t\t'18-20',\n\t\t'20-22',\n\t\t'22-24',\n\t];\n\tconst { condition, values } = attributes;\n\n\tconst visitorHour = new Date().getHours();\n\tconst visitorPeriod = Math.floor( visitorHour / 2 );\n\n\tswitch ( condition ) {\n\t\tcase 'is-equal-to':\n\t\t\treturn values.some(\n\t\t\t\t( { value } ) => value === PERIODS[ visitorPeriod ]\n\t\t\t);\n\n\t\tcase 'is-not-equal-to':\n\t\t\treturn values.every(\n\t\t\t\t( { value } ) => value !== PERIODS[ visitorPeriod ]\n\t\t\t);\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { getCookie } from '../../cookies';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/user-login/types';\n\nexport const type = 'nab/user-login';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition } = attributes;\n\tconst isUserLoggedIn = !! getCookie( 'nabIsUserLoggedIn' );\n\n\tswitch ( condition ) {\n\t\tcase 'is-logged-in':\n\t\t\treturn isUserLoggedIn;\n\n\t\tcase 'is-not-logged-in':\n\t\t\treturn ! isUserLoggedIn;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { isReturningVisitor } from '../index';\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/visitor-type/types';\n\nexport const type = 'nab/visitor-type';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition } = attributes;\n\n\tswitch ( condition ) {\n\t\tcase 'is-new-visitor':\n\t\t\treturn ! isReturningVisitor();\n\t\tcase 'is-returning-visitor':\n\t\t\treturn isReturningVisitor();\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport type { Attributes } from '../../../../../../packages/segmentation-rule-library/rules/window-width/types';\n\nexport const type = 'nab/window-width';\n\nexport function validate( attributes: Attributes ): boolean {\n\tconst { condition, value, interval } = attributes;\n\n\tconst currentWidth =\n\t\twindow.innerWidth ||\n\t\tdocument.documentElement.clientWidth ||\n\t\tdocument.body.clientWidth;\n\n\tswitch ( condition ) {\n\t\tcase 'is-greater-than':\n\t\t\treturn undefined !== value && currentWidth > value;\n\n\t\tcase 'is-less-than':\n\t\t\treturn undefined !== value && currentWidth < value;\n\n\t\tcase 'between':\n\t\t\treturn (\n\t\t\t\t'number' === typeof interval?.min &&\n\t\t\t\t'number' === typeof interval?.max &&\n\t\t\t\tinterval.min <= currentWidth &&\n\t\t\t\tcurrentWidth <= interval.max\n\t\t\t);\n\t}\n}\n","/**\n * External dependencies\n */\nimport type { ExperimentId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getCookie, setCookie } from '../cookies';\n\nexport type SegmentationSettings = {\n\treadonly activeSegments: Partial<\n\t\tRecord< ExperimentId, ReadonlyArray< number > >\n\t>;\n\treadonly firstVisit: number;\n\treadonly geo: {\n\t\treadonly ipAddress: string;\n\t\treadonly location: string;\n\t\treadonly lastUpdate: string;\n\t};\n};\n\nexport function updateFirstVisit(): void {\n\tconst settings = getSegmentationSettings();\n\tsetSegmentationSettings( {\n\t\t...settings,\n\t\tfirstVisit:\n\t\t\tsettings.firstVisit ||\n\t\t\tNumber.parseInt( Date.now().toString() ) ||\n\t\t\t0,\n\t} );\n}\n\nconst DEFAULT_SEGMENTATION_SETTINGS: SegmentationSettings = {\n\tactiveSegments: {},\n\tgeo: {\n\t\tlocation: '',\n\t\tipAddress: '',\n\t\tlastUpdate: '',\n\t},\n\tfirstVisit: 0,\n};\nexport function getSegmentationSettings(): SegmentationSettings {\n\ttry {\n\t\tconst settings = JSON.parse(\n\t\t\tgetCookie( 'nabSegmentation' ) || '{}'\n\t\t) as Partial< SegmentationSettings >;\n\t\treturn {\n\t\t\t...DEFAULT_SEGMENTATION_SETTINGS,\n\t\t\t...settings,\n\t\t};\n\t} catch ( _ ) {\n\t\treturn DEFAULT_SEGMENTATION_SETTINGS;\n\t}\n}\n\nexport function setSegmentationSettings(\n\tsettings: SegmentationSettings\n): void {\n\tsetCookie( 'nabSegmentation', JSON.stringify( settings ), {\n\t\texpires: 120,\n\t} );\n}\n","/**\n * External dependencies\n */\nimport pick from 'lodash/pick';\nimport type { Uuid } from 'uuid';\nimport type {\n\tExperimentId,\n\tMaybe,\n\tTrackEvent,\n\tUniqueVisitEvent,\n\tVisitEvent,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getCookie, removeCookie, setCookie } from './cookies';\nimport {\n\tareHeatmapConditionsValid,\n\tdoesExperimentHaveValidSegments,\n} from './segmentation';\nimport type { GoalIndex, HeatmapSummary, Session } from '../types';\n\ntype ExpsWithViews = Partial< Record< ExperimentId, Timestamp > >;\ntype Timestamp = number;\n\nconst TEN_DAYS_IN_MILLIS = 14400 * 60000;\n\nexport function updateExperimentsWithPageViews(\n\tevents: ReadonlyArray< VisitEvent >,\n\tsession: Session\n): void {\n\tremoveOldExperimentsFromCookie( session );\n\tif ( ! events.length ) {\n\t\treturn;\n\t}\n\n\tconst now = new Date().getTime();\n\tsetExperimentsWithPageViewsCookie( {\n\t\t...getExperimentsWithPageViews(),\n\t\t...events.reduce( ( result, event ) => {\n\t\t\tresult[ event.experiment ] = now;\n\t\t\treturn result;\n\t\t}, {} as ExpsWithViews ),\n\t} );\n}\n\nexport function getUniqueViews(): Partial< Record< ExperimentId, Uuid > > {\n\ttry {\n\t\tconst value = getCookie( 'nabUniqueViews' ) ?? '';\n\t\treturn JSON.parse( value ) as Partial< Record< ExperimentId, Uuid > >;\n\t} catch ( _ ) {\n\t\treturn {};\n\t}\n}\n\nexport function updateUniqueViews(\n\tvalue: ReadonlyArray< UniqueVisitEvent >\n): void {\n\tconst allUniqueViews = {\n\t\t...getUniqueViews(),\n\t\t...value.reduce( ( r, v ) => ( { ...r, [ v.experiment ]: v.id } ), {} ),\n\t};\n\n\tconst views = getExperimentsWithPageViews();\n\tconst uniqueViews = pick( allUniqueViews, Object.keys( views ) );\n\tif ( 0 === Object.keys( uniqueViews ).length ) {\n\t\tremoveCookie( 'nabUniqueViews' );\n\t\treturn;\n\t}\n\n\tsetCookie( 'nabUniqueViews', JSON.stringify( uniqueViews ), {\n\t\texpires: 120,\n\t} );\n}\n\nexport function canSynchEvent( event: TrackEvent, session: Session ): boolean {\n\tconst heatmap = getHeatmap( event.experiment, session );\n\tif ( heatmap ) {\n\t\treturn areHeatmapConditionsValid( heatmap );\n\t}\n\n\tif ( ! doesExperimentHaveValidSegments( event.experiment ) ) {\n\t\treturn false;\n\t}\n\n\tconst experimentsWithPageViews = getExperimentsWithPageViews();\n\tconst timestamp = experimentsWithPageViews[ event.experiment ];\n\tif ( ! timestamp ) {\n\t\treturn 'visit' === event.kind;\n\t}\n\n\tif ( 'visit' === event.kind ) {\n\t\tif ( 'regular' === event.type ) {\n\t\t\treturn true;\n\t\t}\n\t\tconst wait = session.throttle[ event.type ];\n\t\tconst now = new Date().getTime();\n\t\treturn timestamp + wait * 60000 < now;\n\t}\n\n\treturn (\n\t\t'conversion' !== event.kind ||\n\t\tcanSynchConversion( event.experiment, event.goal, session )\n\t);\n}\n\nexport function getExperimentsWithPageViews(): ExpsWithViews {\n\ttry {\n\t\tconst value = getCookie( 'nabExperimentsWithPageViews' ) ?? '';\n\t\treturn JSON.parse( value ) as ExpsWithViews;\n\t} catch ( _ ) {\n\t\treturn {};\n\t}\n}\n\n// =======\n// HELPERS\n// =======\n\nlet synchedGoals: ReadonlyArray< string > = [];\nfunction canSynchConversion(\n\texperimentId: ExperimentId,\n\tgoalIndex: GoalIndex,\n\tsession: Session\n): boolean {\n\tif ( ! session.singleConvPerView ) {\n\t\treturn true;\n\t}\n\n\tif ( synchedGoals.includes( `${ experimentId }-${ goalIndex }` ) ) {\n\t\treturn false;\n\t}\n\n\tsynchedGoals = [ ...synchedGoals, `${ experimentId }-${ goalIndex }` ];\n\treturn true;\n}\n\nfunction setExperimentsWithPageViewsCookie( value: ExpsWithViews ): void {\n\tif ( 0 === Object.keys( value ).length ) {\n\t\tremoveCookie( 'nabExperimentsWithPageViews' );\n\t\treturn;\n\t}\n\tsetCookie( 'nabExperimentsWithPageViews', JSON.stringify( value ), {\n\t\texpires: 120,\n\t} );\n}\n\nlet wasCookieCleaned = false;\nfunction removeOldExperimentsFromCookie( session: Session ): void {\n\tif ( wasCookieCleaned ) {\n\t\treturn;\n\t}\n\twasCookieCleaned = true;\n\n\tconst { experiments } = session;\n\tconst experimentsWithPageViews = getExperimentsWithPageViews();\n\tconst experimentIds = experiments.map( ( e ) => e.id );\n\tconst experimentIdsWithPageViews = Object.keys(\n\t\texperimentsWithPageViews\n\t).map( toExperimentId );\n\n\tconst { global: g, woocommerce: w } = session.throttle;\n\tconst now = new Date().getTime();\n\tconst validationTimestamp = now - ( Math.max( g, w ) + 5 ) * 60000;\n\n\tconst isInvalid = ( id: ExperimentId ): boolean =>\n\t\t! experimentIds.includes( id );\n\tconst wasValidTenDaysAgo = ( id: ExperimentId ): boolean => {\n\t\tconst timestamp = experimentsWithPageViews[ id ];\n\t\treturn (\n\t\t\t!! timestamp && Math.abs( now - timestamp ) <= TEN_DAYS_IN_MILLIS\n\t\t);\n\t};\n\n\tconst newExperimentsWithPageViews = experimentIdsWithPageViews.reduce(\n\t\t( result, id ) => {\n\t\t\tconst timestamp = experimentsWithPageViews[ id ];\n\n\t\t\tif ( isInvalid( id ) || ! timestamp ) {\n\t\t\t\treturn !! timestamp && wasValidTenDaysAgo( id )\n\t\t\t\t\t? { ...result, [ id ]: timestamp }\n\t\t\t\t\t: result;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...result,\n\t\t\t\t[ id ]: Math.max( timestamp, validationTimestamp ),\n\t\t\t};\n\t\t},\n\t\t{} as ExpsWithViews\n\t);\n\n\tsetExperimentsWithPageViewsCookie( newExperimentsWithPageViews );\n}\n\nconst toExperimentId = ( x: string ) =>\n\t( Number.parseInt( x ) || 0 ) as ExperimentId;\n\nconst getHeatmap = (\n\tid: ExperimentId,\n\tsession: Session\n): Maybe< HeatmapSummary > => session.heatmaps.find( ( hm ) => hm.id === id );\n","/**\n * Internal dependencies\n */\nimport type { ParamValue } from '../types';\n\nexport const REFERRER_PARAM = 'nab_referrer';\n\nexport function buildUrl(\n\turl: string,\n\targs: Record< string, ParamValue | undefined > = {},\n\thash?: string\n): string {\n\tconst keys = Object.keys( args );\n\tif ( keys.length ) {\n\t\turl +=\n\t\t\t'?' +\n\t\t\tkeys\n\t\t\t\t.filter( ( k ) => undefined !== args[ k ] )\n\t\t\t\t.map(\n\t\t\t\t\t( key ) =>\n\t\t\t\t\t\t`${ key }=${ encodeURIComponent( args[ key ] ?? '' ) }`\n\t\t\t\t)\n\t\t\t\t.map( ( arg ) =>\n\t\t\t\t\t/=$/.test( arg ) ? arg.slice( 0, -1 ) : arg\n\t\t\t\t)\n\t\t\t\t.reduce( ( search, pair ) => `${ search }&${ pair }` );\n\t}\n\n\tif ( hash ) {\n\t\turl += '#' + hash;\n\t}\n\n\treturn url;\n}\n\nexport function removeArgsAndHash( url: string ): string {\n\tconst { cleanUrl } = fragments( url );\n\treturn cleanUrl;\n}\n\nexport function getHash( url: string ): string {\n\tconst { hash } = fragments( url );\n\treturn hash;\n}\n\nexport function addQueryArgs(\n\turl: string,\n\targs?: Record< string, ParamValue | undefined >\n): string {\n\targs = args ?? {};\n\tconst { cleanUrl, hash } = fragments( url );\n\n\tconst oldArgs = getQueryArgs( url );\n\tconst newArgs = {\n\t\t...( 'nab' in args || 'nab' in oldArgs ? { nab: '' } : {} ),\n\t\t...oldArgs,\n\t\t...args,\n\t};\n\treturn buildUrl( cleanUrl, newArgs, hash );\n}\n\nexport function addNabQueryArg(\n\turl: string,\n\tvalue: number,\n\tposition: 'first' | 'last'\n): string {\n\tconst { cleanUrl, hash } = fragments( url );\n\n\tconst { nab: _, ...args } = getQueryArgs( url );\n\tconst nab = value;\n\tconst newArgs = {\n\t\t...( 'first' === position ? { nab } : {} ),\n\t\t...args,\n\t\t...( 'last' === position ? { nab } : {} ),\n\t};\n\treturn buildUrl( cleanUrl, newArgs, hash );\n}\n\nexport function removeQueryArgs(\n\turl: string,\n\t...names: ReadonlyArray< string >\n): string {\n\turl = url || '';\n\n\tif ( 0 === names.length ) {\n\t\treturn url;\n\t}\n\n\tconst { cleanUrl, hash } = fragments( url );\n\n\tconst args = getQueryArgs( url );\n\tfor ( const key of names ) {\n\t\tdelete args[ key ];\n\t}\n\n\treturn buildUrl( cleanUrl, args, hash );\n}\n\nexport const removeTestingArgs = ( url: string, keepNab = false ): string =>\n\tremoveQueryArgs(\n\t\turl,\n\t\tkeepNab ? '' : 'nab',\n\t\t'nabforce',\n\t\t'nabstaging',\n\t\t'nablog',\n\t\t'nab_experiments_with_page_view',\n\t\tREFERRER_PARAM\n\t);\n\nexport function getQueryArg( url: string, name: string ): string | undefined {\n\treturn getQueryArgs( url )[ name ];\n}\n\nexport function getQueryArgs( url: string ): Record< string, string > {\n\tconst { search } = fragments( url );\n\tif ( ! search ) {\n\t\treturn {};\n\t}\n\tconst args = search.split( '&' );\n\treturn args.reduce(\n\t\t( res, arg ) => {\n\t\t\tconst [ key, value = '' ] = arg.split( '=' );\n\t\t\tif ( key ) {\n\t\t\t\tres[ key ] = decodeURIComponent( value );\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{} as Record< string, string >\n\t);\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction fragments( url: string ) {\n\tconst baseUrl =\n\t\t0 <= url.indexOf( '#' ) ? url.substr( 0, url.indexOf( '#' ) ) : url;\n\tconst hash =\n\t\t0 <= url.indexOf( '#' ) ? url.substr( url.indexOf( '#' ) + 1 ) : '';\n\n\tconst cleanUrl =\n\t\t0 <= baseUrl.indexOf( '?' )\n\t\t\t? baseUrl.substr( 0, baseUrl.indexOf( '?' ) )\n\t\t\t: baseUrl;\n\n\tconst search =\n\t\t0 <= baseUrl.indexOf( '?' )\n\t\t\t? baseUrl.substr( baseUrl.indexOf( '?' ) + 1 )\n\t\t\t: '';\n\n\treturn {\n\t\tcleanUrl,\n\t\tsearch,\n\t\thash,\n\t};\n}\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","// Generated ESM version of ua-parser-js\n// DO NOT EDIT THIS FILE!\n// Source: /src/main/ua-parser.js\n\n/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v2.0.7\n   Copyright  2012-2025 Faisal Salman <f@faisalman.com>\n   AGPLv3 License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://uaparser.dev\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n/* jshint esversion: 6 */ \n/* globals window */\n\n\n    \n    //////////////\n    // Constants\n    /////////////\n\n    var LIBVERSION  = '2.0.7',\n        UA_MAX_LENGTH = 500,\n        USER_AGENT  = 'user-agent',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        TYPEOF = {\n            FUNCTION    : 'function',\n            OBJECT      : 'object',\n            STRING      : 'string',\n            UNDEFINED   : 'undefined'\n        },\n\n        // properties\n        BROWSER     = 'browser',\n        CPU         = 'cpu',\n        DEVICE      = 'device',\n        ENGINE      = 'engine',\n        OS          = 'os',\n        RESULT      = 'result',\n\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n\n        // device types\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        XR          = 'xr',\n        EMBEDDED    = 'embedded',\n\n        // browser types\n        INAPP       = 'inapp',\n\n        // client hints\n        BRANDS      = 'brands',\n        FORMFACTORS = 'formFactors',\n        FULLVERLIST = 'fullVersionList',\n        PLATFORM    = 'platform',\n        PLATFORMVER = 'platformVersion',\n        BITNESS     = 'bitness',\n        CH          = 'sec-ch-ua',\n        CH_FULL_VER_LIST= CH + '-full-version-list',\n        CH_ARCH         = CH + '-arch',\n        CH_BITNESS      = CH + '-' + BITNESS,\n        CH_FORM_FACTORS = CH + '-form-factors',\n        CH_MOBILE       = CH + '-' + MOBILE,\n        CH_MODEL        = CH + '-' + MODEL,\n        CH_PLATFORM     = CH + '-' + PLATFORM,\n        CH_PLATFORM_VER = CH_PLATFORM + '-version',\n        CH_ALL_VALUES   = [BRANDS, FULLVERLIST, MOBILE, MODEL, PLATFORM, PLATFORMVER, ARCHITECTURE, FORMFACTORS, BITNESS],\n\n        // device vendors\n        AMAZON      = 'Amazon',\n        APPLE       = 'Apple',\n        ASUS        = 'ASUS',\n        BLACKBERRY  = 'BlackBerry',\n        GOOGLE      = 'Google',\n        HUAWEI      = 'Huawei',\n        LENOVO      = 'Lenovo',\n        HONOR       = 'Honor',\n        LG          = 'LG',\n        MICROSOFT   = 'Microsoft',\n        MOTOROLA    = 'Motorola',\n        NVIDIA      = 'Nvidia',\n        ONEPLUS     = 'OnePlus',\n        OPPO        = 'OPPO',\n        SAMSUNG     = 'Samsung',\n        SHARP       = 'Sharp',\n        SONY        = 'Sony',\n        XIAOMI      = 'Xiaomi',\n        ZEBRA       = 'Zebra',\n\n        // browsers\n        CHROME      = 'Chrome',\n        CHROMIUM    = 'Chromium',\n        CHROMECAST  = 'Chromecast',\n        EDGE        = 'Edge',\n        FIREFOX     = 'Firefox',\n        OPERA       = 'Opera',\n        FACEBOOK    = 'Facebook',\n        SOGOU       = 'Sogou',\n\n        PREFIX_MOBILE  = 'Mobile ',\n        SUFFIX_BROWSER = ' Browser',\n\n        // os\n        WINDOWS     = 'Windows';\n   \n    var isWindow            = typeof window !== TYPEOF.UNDEFINED,\n        NAVIGATOR           = (isWindow && window.navigator) ? \n                                window.navigator : \n                                undefined,\n        NAVIGATOR_UADATA    = (NAVIGATOR && NAVIGATOR.userAgentData) ? \n                                NAVIGATOR.userAgentData : \n                                undefined;\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (defaultRgx, extensions) {\n            var mergedRgx = {};\n            var extraRgx = extensions;\n            if (!isExtensions(extensions)) {\n                extraRgx = {};\n                for (var i in extensions) {\n                    for (var j in extensions[i]) {\n                        extraRgx[j] = extensions[i][j].concat(extraRgx[j] ? extraRgx[j] : []);\n                    }\n                }\n            }\n            for (var k in defaultRgx) {\n                mergedRgx[k] = extraRgx[k] && extraRgx[k].length % 2 === 0 ? extraRgx[k].concat(defaultRgx[k]) : defaultRgx[k];\n            }\n            return mergedRgx;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            if (typeof str1 === TYPEOF.OBJECT && str1.length > 0) {\n                for (var i in str1) {\n                    if (lowerize(str2) == lowerize(str1[i])) return true;\n                }\n                return false;\n            }\n            return isString(str1) ? lowerize(str2) == lowerize(str1) : false;\n        },\n        isExtensions = function (obj, deep) {\n            for (var prop in obj) {\n                return /^(browser|cpu|device|engine|os)$/.test(prop) || (deep ? isExtensions(obj[prop]) : false);\n            }\n        },\n        isString = function (val) {\n            return typeof val === TYPEOF.STRING;\n        },\n        itemListToArray = function (header) {\n            if (!header) return undefined;\n            var arr = [];\n            var tokens = strip(/\\\\?\\\"/g, header).split(',');\n            for (var i = 0; i < tokens.length; i++) {\n                if (tokens[i].indexOf(';') > -1) {\n                    var token = trim(tokens[i]).split(';v=');\n                    arr[i] = { brand : token[0], version : token[1] };\n                } else {\n                    arr[i] = trim(tokens[i]);\n                }\n            }\n            return arr;\n        },\n        lowerize = function (str) {\n            return isString(str) ? str.toLowerCase() : str;\n        },\n        majorize = function (version) {\n            return isString(version) ? strip(/[^\\d\\.]/g, version).split('.')[0] : undefined;\n        },\n        setProps = function (arr) {\n            for (var i in arr) {\n                if (!arr.hasOwnProperty(i)) continue;\n\n                var propName = arr[i];\n                if (typeof propName == TYPEOF.OBJECT && propName.length == 2) {\n                    this[propName[0]] = propName[1];\n                } else {\n                    this[propName] = undefined;\n                }\n            }\n            return this;\n        },\n        strip = function (pattern, str) {\n            return isString(str) ? str.replace(pattern, EMPTY) : str;\n        },\n        stripQuotes = function (str) {\n            return strip(/\\\\?\\\"/g, str); \n        },\n        trim = function (str, len) {\n            str = strip(/^\\s\\s*/, String(str));\n            return typeof len === TYPEOF.UNDEFINED ? str : str.substring(0, len);\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            if(!ua || !arrays) return;\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === TYPEOF.OBJECT && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == TYPEOF.FUNCTION) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length >= 3) {\n                                    // Check whether q[1] FUNCTION or REGEX\n                                    if (typeof q[1] === TYPEOF.FUNCTION && !(q[1].exec && q[1].test)) {\n                                        if (q.length > 3) {\n                                            this[q[0]] = match ? q[1].apply(this, q.slice(2)) : undefined;\n                                        } else {\n                                            // call function (usually string mapper)\n                                            this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                        }\n                                    } else {\n                                        if (q.length == 3) {\n                                            // sanitize match using given regex\n                                            this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                        } else if (q.length == 4) {\n                                            this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                        } else if (q.length > 4) {\n                                            this[q[0]] = match ? q[3].apply(this, [match.replace(q[1], q[2])].concat(q.slice(4))) : undefined;\n                                        }\n                                    }\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === TYPEOF.OBJECT && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return map.hasOwnProperty('*') ? map['*'] : str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    var windowsVersionMap = {\n            'ME'    : '4.90',\n            'NT 3.51': '3.51',\n            'NT 4.0': '4.0',\n            '2000'  : ['5.0', '5.01'],\n            'XP'    : ['5.1', '5.2'],\n            'Vista' : '6.0',\n            '7'     : '6.1',\n            '8'     : '6.2',\n            '8.1'   : '6.3',\n            '10'    : ['6.4', '10.0'],\n            'NT'    : ''\n        },\n        \n        formFactorsMap = {\n            'embedded'  : 'Automotive',\n            'mobile'    : 'Mobile',\n            'tablet'    : ['Tablet', 'EInk'],\n            'smarttv'   : 'TV',\n            'wearable'  : 'Watch',\n            'xr'        : ['VR', 'XR'],\n            '?'         : ['Desktop', 'Unknown'],\n            '*'         : undefined\n        },\n\n        browserHintsMap = {\n            'Chrome'        : 'Google Chrome',\n            'Edge'          : 'Microsoft Edge',\n            'Edge WebView2' : 'Microsoft Edge WebView2',\n            'Chrome WebView': 'Android WebView',\n            'Chrome Headless':'HeadlessChrome',\n            'Huawei Browser': 'HuaweiBrowser',\n            'MIUI Browser'  : 'Miui Browser',\n            'Opera Mobi'    : 'OperaMobile',\n            'Yandex'        : 'YaBrowser'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var defaultRegexes = {\n\n        browser : [[\n\n            // Most common regardless engine\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, PREFIX_MOBILE + 'Chrome']], [\n            /webview.+edge\\/([\\w\\.]+)/i                                         // Microsoft Edge\n            ], [VERSION, [NAME, EDGE+' WebView']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       \n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bop(?:rg)?x\\/([\\w\\.]+)/i                                          // Opera GX\n            ], [VERSION, [NAME, OPERA+' GX']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i            // Baidu\n            ], [VERSION, [NAME, 'Baidu']], [\n            /\\b(?:mxbrowser|mxios|myie2)\\/?([-\\w\\.]*)\\b/i                       // Maxthon\n            ], [VERSION, [NAME, 'Maxthon']], [\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\/ ]?([\\w\\.]*)/i,      \n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir\n            // Trident based\n            /(avant|iemobile|slim(?:browser|boat|jet))[\\/ ]?([\\d\\.]*)/i,        // Avant/IEMobile/SlimBrowser/SlimBoat/Slimjet\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Blink/Webkit/KHTML based                                         // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon/LG Browser/Otter/qutebrowser/Dooble/Palemoon\n            /(atlas|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser|palemoon)\\/([-\\w\\.]+)/i,\n                                                                                // Atlas/Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio/Dragon\n            /(heytap|ovi|115|surf|qwant)browser\\/([\\d\\.]+)/i,                   // HeyTap/Ovi/115/Surf\n            /(qwant)(?:ios|mobile)\\/([\\d\\.]+)/i,                                // Qwant\n            /(ecosia|weibo)(?:__| \\w+@)([\\d\\.]+)/i                              // Ecosia/Weibo\n            ], [NAME, VERSION], [\n            /quark(?:pc)?\\/([-\\w\\.]+)/i                                         // Quark\n            ], [VERSION, [NAME, 'Quark']], [\n            /\\bddg\\/([\\w\\.]+)/i                                                 // DuckDuckGo\n            ], [VERSION, [NAME, 'DuckDuckGo']], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UCBrowser']], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i,\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /slbrowser\\/([\\w\\.]+)/i                                             // Smart Lenovo Browser\n            ], [VERSION, [NAME, 'Smart ' + LENOVO + SUFFIX_BROWSER]], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure' + SUFFIX_BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI' + SUFFIX_BROWSER]], [\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, PREFIX_MOBILE + FIREFOX]], [\n            /\\bqihoobrowser\\/?([\\w\\.]*)/i                                       // 360\n            ], [VERSION, [NAME, '360']], [\n            /\\b(qq)\\/([\\w\\.]+)/i                                                // QQ\n            ], [[NAME, /(.+)/, '$1Browser'], VERSION], [\n            /(oculus|sailfish|huawei|vivo|pico)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1' + SUFFIX_BROWSER], VERSION], [              // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser\n            /samsungbrowser\\/([\\w\\.]+)/i                                        // Samsung Internet\n            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [\n            /metasr[\\/ ]?([\\d\\.]+)/i                                            // Sogou Explorer\n            ], [VERSION, [NAME, SOGOU + ' Explorer']], [\n            /(sogou)mo\\w+\\/([\\d\\.]+)/i                                          // Sogou Mobile\n            ], [[NAME, SOGOU + ' Mobile'], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|2345(?=browser|chrome|explorer))\\w*[\\/ ]?v?([\\w\\.]+)/i   // QQ/2345\n            ], [NAME, VERSION], [\n            /(lbbrowser|rekonq|steam(?= (clie|tenf|gameo)))/i                   // LieBao Browser/Rekonq/Steam\n            ], [NAME], [\n            /ome\\/([\\w\\.]+) \\w* ?(iron) saf/i,                                  // Iron\n            /ome\\/([\\w\\.]+).+qihu (360)[es]e/i                                  // 360\n            ], [VERSION, NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION, [TYPE, INAPP]], [\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /(daum)apps[\\/ ]([\\w\\.]+)/i,                                        // Daum App\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(alipay)client\\/([\\w\\.]+)/i,                                       // Alipay\n            /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,                               // Twitter\n            /(bing)(?:web|sapphire)\\/([\\w\\.]+)/i,                               // Bing\n            /(instagram|snapchat|klarna)[\\/ ]([-\\w\\.]+)/i                       // Instagram/Snapchat/Klarna\n            ], [NAME, VERSION, [TYPE, INAPP]], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA'], [TYPE, INAPP]], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok'], [TYPE, INAPP]], [\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME, [TYPE, INAPP]], [\n            /(zalo(?:app)?)[\\/\\sa-z]*([\\w\\.-]+)/i                               // Zalo \n            ], [[NAME, /(.+)/, 'Zalo'], VERSION, [TYPE, INAPP]], [\n\n            /(chromium)[\\/ ]([-\\w\\.]+)/i                                        // Chromium\n            ], [NAME, VERSION], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            /wv\\).+chrome\\/([\\w\\.]+).+edgw\\//i                                  // Edge WebView2\n            ], [VERSION, [NAME, EDGE+' WebView2']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android' + SUFFIX_BROWSER]], [\n\n            /chrome\\/([\\w\\.]+) mobile/i                                         // Chrome Mobile\n            ], [VERSION, [NAME, PREFIX_MOBILE + 'Chrome']], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile(?:\\/\\w+ | ?)safari/i                 // Safari Mobile\n            ], [VERSION, [NAME, PREFIX_MOBILE + 'Safari']], [\n            /iphone .*mobile(?:\\/\\w+ | ?)safari/i\n            ], [[NAME, PREFIX_MOBILE + 'Safari']], [\n            /version\\/([\\w\\.\\,]+) .*(safari)/i                                  // Safari\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, '1']], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(?:mobile|tablet);.*(firefox)\\/([\\w\\.-]+)/i                        // Firefox Mobile\n            ], [[NAME, PREFIX_MOBILE + FIREFOX], VERSION], [\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(wolvic|librewolf)\\/([\\w\\.]+)/i                                    // Wolvic/LibreWolf\n            ], [NAME, VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+(?= .+rv\\:.+gecko\\/\\d+)|[0-4][\\w\\.]+(?!.+compatible))/i, // Mozilla\n\n            // Other\n            /(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser/Ladybird\n            /\\b(links) \\(([\\w\\.]+)/i                                            // Links\n            ], [NAME, [VERSION, /_/g, '.']], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /[^\\d\\.]+./, EMPTY]]\n        ],\n\n        cpu : [[\n\n            /\\b((amd|x|x86[-_]?|wow|win)64)\\b/i                                 // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i,                                                     // IA32 (quicktime)\n            /\\b((i[346]|x)86)(pc)?\\b/i                                          // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?[89]e?l?|_?64))\\b/i                               // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(v[67])?ht?n?[fl]p?)\\b/i                                     // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /( (ce|mobile); ppc;|\\/[\\w\\.]+arm\\b)/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            / sun4\\w[;\\)]/i                                                     // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            /\\b(avr32|ia64(?=;)|68k(?=\\))|\\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\\b|pa-risc)/i,\n            /((ppc|powerpc)(64)?)( mac|;|\\))/i,                                 // PowerPC\n            /(?:osf1|[freopnt]{3,4}bsd) (alpha)/i                               // Alpha\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n            /mc680.0/i\n            ], [[ARCHITECTURE, '68k']], [\n            /winnt.+\\[axp/i\n            ], [[ARCHITECTURE, 'alpha']]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-(?![lr])\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]((?!sm-[lr]|browser)[-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)[\\/\\);]/i                           // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\b(?:ios|apple\\w+)\\/.+[\\(\\/](ipad)/i,                              // iPad\n            /\\b(ipad)[\\d,]*[;\\] ].+(mac |i(pad)?)os/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Honor\n            /\\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\\)|;)/i\n            ], [MODEL, [VENDOR, HONOR], [TYPE, TABLET]], [\n            /honor([-\\w ]+)[;\\)]/i\n            ], [MODEL, [VENDOR, HONOR], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\\w\\. ]*(?= bui|\\)))\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei) ?([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][\\dc][adnt]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /oid[^\\)]+; (2[\\dbc]{4}(182|283|rp\\w{2})[cgl]|m2105k81a?c)(?: bui|\\))/i,\n            /\\b(?:xiao)?((?:red)?mi[-_ ]?pad[\\w- ]*)(?: bui|\\))/i               // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n                                                                                // Xiaomi Redmi / POCO / Black Shark / Qin\n            /oid[^\\)]+; (redmi[\\-_ ]?(?:note|k)?[\\w_ ]+|m?[12]\\d[01]\\d\\w{3,6}|poco[\\w ]+|(shark )?\\w{3}-[ah]0|qin ?[1-3](s\\+|ultra| pro)?)( bui|; wv|\\))/i,\n                                                                                // Xiaomi Mi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note|max|cc)?[_ ]?(?:\\d{0,2}\\w?)[_ ]?(?:plus|se|lite|pro)?( 5g|lte)?)(?: bui|\\))/i,\n            / ([\\w ]+) miui\\/v?\\d/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n\n            // OnePlus\n            /droid.+; (cph2[3-6]\\d[13579]|((gm|hd)19|(ac|be|in|kb)20|(d[en]|eb|le|mt)21|ne22)[0-2]\\d|p[g-k]\\w[1m]10)\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, ONEPLUS], [TYPE, MOBILE]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, OPPO], [TYPE, MOBILE]], [\n            /\\b(opd2(\\d{3}a?))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, strMapper, { 'OnePlus' : ['203', '304', '403', '404', '413', '415'], '*' : OPPO }], [TYPE, TABLET]], [\n\n            // BLU\n            /(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\\w\\+ ]*)(?: bui|\\))/i  // Vivo series\n            ], [MODEL, [VENDOR, 'BLU'], [TYPE, MOBILE]], [    \n\n            // Vivo\n            /; vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\\d{3,4}(?:f[cu]|xu|[av])|yt\\d?-[jx]?\\d+[lfmx])( bui|;|\\)|\\/)/i,\n            /lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\\w- ]+?)|tb[\\w-]{6,7})( bui|;|\\)|\\/)/i\n            ], [MODEL, [VENDOR, LENOVO], [TYPE, TABLET]], [            \n            /lenovo[-_ ]?([-\\w ]+?)(?: bui|\\)|\\/)/i\n            ], [MODEL, [VENDOR, LENOVO], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ]([\\w\\s]+)(\\)| bui)/i,\n            /((?:moto(?! 360)[-\\w\\(\\) ]+|xt\\d{3,4}[cgkosw\\+]?[-\\d]*|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+(?!.*(?:browser|netcast|android tv|watch|webos))(\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Nokia\n            /(nokia) (t[12][01])/i\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n            /(?:maemo|nokia).*(n900|lumia \\d+|rm-\\d+)/i,\n            /nokia[-_ ]?(([-\\w\\. ]*?))( bui|\\)|;|\\/)/i\n            ], [[MODEL, /_/g, ' '], [TYPE, MOBILE], [VENDOR, 'Nokia']], [\n\n            // Google\n            /(pixel (c|tablet))\\b/i                                             // Google Pixel C/Tablet\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n                                                                                // Google Pixel\n            /droid.+;(?: google)? (g(01[13]a|020[aem]|025[jn]|1b60|1f8f|2ybb|4s1m|576d|5nz6|8hhn|8vou|a02099|c15s|d1yq|e2ae|ec77|gh2x|kv4x|p4bc|pj41|r83y|tt9q|ur25|wvk6)|pixel[\\d ]*a?( pro)?( xl)?( fold)?( \\(5g\\))?)( bui|\\))/i\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n            /(google) (pixelbook( go)?)/i\n            ], [VENDOR, MODEL], [\n\n            // Sony\n            /droid.+; (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-\\w\\w\\d\\d)(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo(?!bc)\\w\\w)( bui|\\))/i,                           // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /(?:blackberry|\\(bb10;) (\\w+)/i\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // TCL\n            /tcl (xess p17aa)/i,\n            /droid [\\w\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n            ], [MODEL, [VENDOR, 'TCL'], [TYPE, TABLET]], [\n            /droid [\\w\\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n            ], [MODEL, [VENDOR, 'TCL'], [TYPE, MOBILE]], [\n\n            // itel\n            /(itel) ((\\w+))/i\n            ], [[VENDOR, lowerize], MODEL, [TYPE, strMapper, { 'tablet' : ['p10001l', 'w7001'], '*' : 'mobile' }]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n                \n            // Ulefone\n            /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n\n            // Energizer\n            /; (energy ?\\w+)(?: bui|\\))/i,\n            /; energizer ([\\w ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Energizer'], [TYPE, MOBILE]], [\n\n            // Cat\n            /; cat (b35);/i,\n            /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Cat'], [TYPE, MOBILE]], [\n\n            // Smartfren\n            /((?:new )?andromax[\\w- ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Smartfren'], [TYPE, MOBILE]], [\n\n            // Nothing\n            /droid.+; (a(in)?(0(15|59|6[35])|142)p?)/i\n            ], [MODEL, [VENDOR, 'Nothing'], [TYPE, MOBILE]], [\n\n            // Archos\n            /; (x67 5g|tikeasy \\w+|ac[1789]\\d\\w+)( b|\\))/i,\n            /archos ?(5|gamepad2?|([\\w ]*[t1789]|hello) ?\\d+[\\w ]*)( b|\\))/i\n            ], [MODEL, [VENDOR, 'Archos'], [TYPE, TABLET]], [\n            /archos ([\\w ]+)( b|\\))/i,\n            /; (ac[3-6]\\d\\w{2,8})( b|\\))/i \n            ], [MODEL, [VENDOR, 'Archos'], [TYPE, MOBILE]], [\n\n            // HMD\n            /; (n159v)/i\n            ], [MODEL, [VENDOR, 'HMD'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(imo) (tab \\w+)/i,                                                 // IMO\n            /(infinix|tecno) (x1101b?|p904|dp(7c|8d|10a)( pro)?|p70[1-3]a?|p904|t1101)/i                     // Infinix XPad / Tecno\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|tecno|micromax|advan)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron/Tecno/Micromax/Advan\n                                                                                // BLU/HMD/IMO/Infinix/Lava/OnePlus/TCL/Wiko\n            /; (blu|hmd|imo|infinix|lava|oneplus|tcl|wiko)[_ ]([\\w\\+ ]+?)(?: bui|\\)|; r)/i,\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(oppo) ?([\\w ]+) bui/i,                                            // OPPO\n            /(hisense) ([ehv][\\w ]+)\\)/i,                                       // Hisense\n            /droid[^;]+; (philips)[_ ]([sv-x][\\d]{3,4}[xz]?)/i                  // Philips\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i                                              // Kindle\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /((?:tegranote|shield t(?!.+d tv))[\\w- ]*?)(?: b|\\))/i              // Nvidia Tablets\n            ], [MODEL, [VENDOR, NVIDIA], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i               // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /(philips)[\\w ]+tv/i,                                               // Philips\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(vizio)(?: |.+model\\/)(\\w+-\\w+)/i,                                 // Vizio\n            /tcast.+(lg)e?. ([-\\w]+)/i                                          // LG SmartTV\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey.*devicetype\\/chromecast/i                                    // Google Chromecast Third Generation\n            ], [[MODEL, CHROMECAST+' Third Generation'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /crkey.*devicetype\\/([^/]*)/i                                       // Google Chromecast with specific device type\n            ], [[MODEL, /^/, 'Chromecast '], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /fuchsia.*crkey/i                                                   // Google Chromecast Nest Hub\n            ], [[MODEL, CHROMECAST+' Nest Hub'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast, Linux-based or unknown\n            ], [[MODEL, CHROMECAST], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /(portaltv)/i                                                       // Facebook Portal TV\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /(shield \\w+ tv)/i                                                  // Nvidia Shield TV\n            ], [MODEL, [VENDOR, NVIDIA], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                          // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mi(tv|box)-?\\w+) bui/i                                            // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, /.+\\/(\\w+)/, '$1', strMapper, {'LG':'lge'}], [MODEL, trim], [TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(playstation \\w+)/i                                                // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) (\\w+)/i,                                                // Nintendo\n            /(retroid) (pocket ([^\\)]+))/i,                                     // Retroid Pocket\n            /(valve).+(steam deck)/i,\n            /droid.+; ((shield|rgcube|gr0006))( bui|\\))/i                       // Nvidia Portable/Anbernic/Logitech\n            ], [[VENDOR, strMapper, { 'Nvidia': 'Shield', 'Anbernic': 'RGCUBE', 'Logitech': 'GR0006' }], MODEL, [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /\\b(sm-[lr]\\d\\d[0156][fnuw]?s?|gear live)\\b/i                       // Samsung Galaxy Watch\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]], [\n            /((pebble))app/i,                                                   // Pebble\n            /(asus|google|lg|oppo|xiaomi) ((pixel |zen)?watch[\\w ]*)( bui|\\))/i // Asus ZenWatch / LG Watch / Pixel Watch / Xiaomi Watch\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(ow(?:19|20)?we?[1-3]{1,3})/i                                      // Oppo Watch\n            ], [MODEL, [VENDOR, OPPO], [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /(opwwe\\d{3})/i                                                     // OnePlus Watch\n            ], [MODEL, [VENDOR, ONEPLUS], [TYPE, WEARABLE]], [\n            /(moto 360)/i                                                       // Motorola 360\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, WEARABLE]], [\n            /(smartwatch 3)/i                                                   // Sony SmartWatch\n            ], [MODEL, [VENDOR, SONY], [TYPE, WEARABLE]], [\n            /(g watch r)/i                                                      // LG G Watch R\n            ], [MODEL, [VENDOR, LG], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // XR\n            ///////////////////\n\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, XR]], [\n            /(pico) ([\\w ]+) os\\d/i                                             // Pico\n            ], [VENDOR, MODEL, [TYPE, XR]], [\n            /(quest( \\d| pro)?s?).+vr/i                                         // Meta Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, XR]], [\n            /mobile vr; rv.+firefox/i                                           // Unidentifiable VR device using Firefox Reality / Wolvic\n            ], [[TYPE, XR]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n            /(homepod).+mac os/i                                                // Apple HomePod\n            ], [MODEL, [VENDOR, APPLE], [TYPE, EMBEDDED]], [\n            /windows iot/i                                                      // Unidentifiable embedded device using Windows IoT\n            ], [[TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid.+; ([\\w- ]+) (4k|android|smart|google)[- ]?tv/i              // Unidentifiable SmartTV\n            ], [MODEL, [TYPE, SMARTTV]], [\n            /\\b((4k|android|smart|opera)[- ]?tv|tv; rv:|large screen[\\w ]+safari)\\b/i\n            ], [[TYPE, SMARTTV]], [\n            /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew|; hmsc).+?(mobile|vr|\\d) safari/i\n            ], [MODEL, [TYPE, strMapper, { 'mobile' : 'Mobile', 'xr' : 'VR', '*' : TABLET }]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /droid .+?; ([\\w\\. -]+)( bui|\\))/i                                  // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /(arkweb)\\/([\\w\\.]+)/i                                              // ArkWeb\n            ], [NAME, VERSION], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna/Servo\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n\n            /\\b(libweb)/i                                                       // LibWeb\n            ], [NAME, VERSION], [\n            /ladybird\\//i\n            ], [[NAME, 'LibWeb']], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /(windows nt) (6\\.[23]); arm/i                                      // Windows RT\n            ], [[NAME, /N/, 'R'], [VERSION, strMapper, windowsVersionMap]], [\n            /(windows (?:phone|mobile|iot))(?: os)?[\\/ ]?([\\d\\.]*( se)?)/i,     // Windows IoT/Mobile/Phone\n                                                                                // Windows NT/3.1/95/98/ME/2000/XP/Vista/7/8/8.1/10/11\n            /(windows)[\\/ ](1[01]|2000|3\\.1|7|8(\\.1)?|9[58]|me|server 20\\d\\d( r2)?|vista|xp)/i\n            ], [NAME, VERSION], [\n            /windows nt ?([\\d\\.\\)]*)(?!.+xbox)/i,\n            /\\bwin(?=3| ?9|n)(?:nt| 9x )?([\\d\\.;]*)/i\n            ], [[VERSION, /(;|\\))/g, '', strMapper, windowsVersionMap], [NAME, WINDOWS]], [\n            /(windows ce)\\/?([\\d\\.]*)/i                                         // Windows CE\n            ], [NAME, VERSION], [\n\n            // iOS/macOS\n            /[adehimnop]{4,7}\\b(?:.*os ([\\w]+) like mac|; opera)/i,             // iOS\n            /(?:ios;fbsv|ios(?=.+ip(?:ad|hone)|.+apple ?tv)|ip(?:ad|hone)(?: |.+i(?:pad)?)os|apple ?tv.+ios)[\\/ ]([\\w\\.]+)/i,\n            /\\btvos ?([\\w\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+(haiku|morphos))/i                   // Mac OS\n            ], [[NAME, 'macOS'], [VERSION, /_/g, '.']], [\n\n            // Google Chromecast\n            /android ([\\d\\.]+).*crkey/i                                         // Google Chromecast, Android-based\n            ], [VERSION, [NAME, CHROMECAST + ' Android']], [\n            /fuchsia.*crkey\\/([\\d\\.]+)/i                                        // Google Chromecast, Fuchsia-based\n            ], [VERSION, [NAME, CHROMECAST + ' Fuchsia']], [\n            /crkey\\/([\\d\\.]+).*devicetype\\/smartspeaker/i                       // Google Chromecast, Linux-based Smart Speaker\n            ], [VERSION, [NAME, CHROMECAST + ' SmartSpeaker']], [\n            /linux.*crkey\\/([\\d\\.]+)/i                                          // Google Chromecast, Legacy Linux-based\n            ], [VERSION, [NAME, CHROMECAST + ' Linux']], [\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast, unknown\n            ], [VERSION, [NAME, CHROMECAST]], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86)/i                              // Android-x86\n            ], [VERSION, NAME], [                                               \n            /(ubuntu) ([\\w\\.]+) like android/i                                  // Ubuntu Touch\n            ], [[NAME, /(.+)/, '$1 Touch'], VERSION], [\n            /(harmonyos)[\\/ ]?([\\d\\.]*)/i,                                      // HarmonyOS\n                                                                                // Android/Blackberry/WebOS/QNX/Bada/RIM/KaiOS/Maemo/MeeGo/S40/Sailfish OS/OpenHarmony/Tizen\n            /(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen)\\w*[-\\/\\.; ]?([\\d\\.]*)/i\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\\/ ]?([\\w\\.]*)/i       // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i,                             // WebOS\n            /webos(?:[ \\/]?|\\.tv-20(?=2[2-9]))(\\d[\\d\\.]*)/i\n            ], [VERSION, [NAME, 'webOS']], [\n            /web0s;.+?(?:chr[o0]me|safari)\\/(\\d+)/i\n                                                                                // https://webostv.developer.lge.com/develop/specifications/web-api-and-web-engine\n            ], [[VERSION, strMapper, {'25':'120','24':'108','23':'94','22':'87','6':'79','5':'68','4':'53','3':'38','2':'538','1':'537','*':'TV'}], [NAME, 'webOS']], [                   \n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google ChromeOS\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, \"Chrome OS\"], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) (\\w+)/i,                                    // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n            /(pico) .+os([\\w\\.]+)/i,                                            // Pico\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /linux.+(mint)[\\/\\(\\) ]?([\\w\\.]*)/i,                                // Mint\n            /(mageia|vectorlinux|fuchsia|arcaos|arch(?= ?linux))[;l ]([\\d\\.]*)/i,  // Mageia/VectorLinux/Fuchsia/ArcaOS/Arch\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire|knoppix)(?: gnu[\\/ ]linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire/Knoppix\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /\\b(aix)[; ]([1-9\\.]{0,4})/i,                                       // AIX\n            /(hurd|linux|morphos)(?: (?:arm|x86|ppc)\\w*| ?)([\\w\\.]*)/i,         // Hurd/Linux/MorphOS\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) ?(r\\d)?/i                                                  // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\d\\.]*)/i                                               // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /\\b(beos|os\\/2|amigaos|openvms|hp-ux|serenityos)/i,                 // BeOS/OS2/AmigaOS/OpenVMS/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Factories\n    ////////////////\n\n    var defaultProps = (function () {\n            var props = { init : {}, isIgnore : {}, isIgnoreRgx : {}, toString : {}};\n            setProps.call(props.init, [\n                [BROWSER, [NAME, VERSION, MAJOR, TYPE]],\n                [CPU, [ARCHITECTURE]],\n                [DEVICE, [TYPE, MODEL, VENDOR]],\n                [ENGINE, [NAME, VERSION]],\n                [OS, [NAME, VERSION]]\n            ]);\n            setProps.call(props.isIgnore, [\n                [BROWSER, [VERSION, MAJOR]],\n                [ENGINE, [VERSION]],\n                [OS, [VERSION]]\n            ]);\n            setProps.call(props.isIgnoreRgx, [\n                [BROWSER, / ?browser$/i],\n                [OS, / ?os$/i]\n            ]);\n            setProps.call(props.toString, [\n                [BROWSER, [NAME, VERSION]],\n                [CPU, [ARCHITECTURE]],\n                [DEVICE, [VENDOR, MODEL]],\n                [ENGINE, [NAME, VERSION]],\n                [OS, [NAME, VERSION]]\n            ]);\n            return props;\n    })();\n\n    var createIData = function (item, itemType) {\n\n        var init_props = defaultProps.init[itemType],\n            is_ignoreProps = defaultProps.isIgnore[itemType] || 0,\n            is_ignoreRgx = defaultProps.isIgnoreRgx[itemType] || 0,\n            toString_props = defaultProps.toString[itemType] || 0;\n\n        function IData () {\n            setProps.call(this, init_props);\n        }\n\n        IData.prototype.getItem = function () {\n            return item;\n        };\n\n        IData.prototype.withClientHints = function () {\n\n            // nodejs / non-client-hints browsers\n            if (!NAVIGATOR_UADATA) {\n                return item\n                        .parseCH()\n                        .get();\n            }\n\n            // browsers based on chromium 85+\n            return NAVIGATOR_UADATA\n                    .getHighEntropyValues(CH_ALL_VALUES)\n                    .then(function (res) {\n                        return item\n                                .setCH(new UACHData(res, false))\n                                .parseCH()\n                                .get();\n            });\n        };\n\n        IData.prototype.withFeatureCheck = function () {\n            return item.detectFeature().get();\n        };\n\n        if (itemType != RESULT) {\n            IData.prototype.is = function (strToCheck) {\n                var is = false;\n                for (var i in this) {\n                    if (this.hasOwnProperty(i) && !has(is_ignoreProps, i) && lowerize(is_ignoreRgx ? strip(is_ignoreRgx, this[i]) : this[i]) == lowerize(is_ignoreRgx ? strip(is_ignoreRgx, strToCheck) : strToCheck)) {\n                        is = true;\n                        if (strToCheck != TYPEOF.UNDEFINED) break;\n                    } else if (strToCheck == TYPEOF.UNDEFINED && is) {\n                        is = !is;\n                        break;\n                    }\n                }\n                return is;\n            };\n            IData.prototype.toString = function () {\n                var str = EMPTY;\n                for (var i in toString_props) {\n                    if (typeof(this[toString_props[i]]) !== TYPEOF.UNDEFINED) {\n                        str += (str ? ' ' : EMPTY) + this[toString_props[i]];\n                    }\n                }\n                return str || TYPEOF.UNDEFINED;\n            };\n        }\n\n        IData.prototype.then = function (cb) { \n            var that = this;\n            var IDataResolve = function () {\n                for (var prop in that) {\n                    if (that.hasOwnProperty(prop)) {\n                        this[prop] = that[prop];\n                    }\n                }\n            };\n            IDataResolve.prototype = {\n                is : IData.prototype.is,\n                toString : IData.prototype.toString,\n                withClientHints : IData.prototype.withClientHints,\n                withFeatureCheck : IData.prototype.withFeatureCheck\n            };\n            var resolveData = new IDataResolve();\n            cb(resolveData);\n            return resolveData;\n        };\n\n        return new IData();\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    function UACHData (uach, isHttpUACH) {\n        uach = uach || {};\n        setProps.call(this, CH_ALL_VALUES);\n        if (isHttpUACH) {\n            setProps.call(this, [\n                [BRANDS, itemListToArray(uach[CH])],\n                [FULLVERLIST, itemListToArray(uach[CH_FULL_VER_LIST])],\n                [MOBILE, /\\?1/.test(uach[CH_MOBILE])],\n                [MODEL, stripQuotes(uach[CH_MODEL])],\n                [PLATFORM, stripQuotes(uach[CH_PLATFORM])],\n                [PLATFORMVER, stripQuotes(uach[CH_PLATFORM_VER])],\n                [ARCHITECTURE, stripQuotes(uach[CH_ARCH])],\n                [FORMFACTORS, itemListToArray(uach[CH_FORM_FACTORS])],\n                [BITNESS, stripQuotes(uach[CH_BITNESS])]\n            ]);\n        } else {\n            for (var prop in uach) {\n                if(this.hasOwnProperty(prop) && typeof uach[prop] !== TYPEOF.UNDEFINED) this[prop] = uach[prop];\n            }\n        }\n    }\n\n    function UAItem (itemType, ua, rgxMap, uaCH) {\n        setProps.call(this, [\n            ['itemType', itemType],\n            ['ua', ua],\n            ['uaCH', uaCH],\n            ['rgxMap', rgxMap],\n            ['data', createIData(this, itemType)]\n        ]);\n        return this;\n    }\n\n    UAItem.prototype.get = function (prop) {\n        if (!prop) return this.data;\n        return this.data.hasOwnProperty(prop) ? this.data[prop] : undefined;\n    };\n\n    UAItem.prototype.set = function (prop, val) {\n        this.data[prop] = val;\n        return this;\n    };\n\n    UAItem.prototype.setCH = function (ch) {\n        this.uaCH = ch;\n        return this;\n    };\n\n    UAItem.prototype.detectFeature = function () {\n        if (NAVIGATOR && NAVIGATOR.userAgent == this.ua) {\n            switch (this.itemType) {\n                case BROWSER:\n                    // Brave-specific detection\n                    if (NAVIGATOR.brave && typeof NAVIGATOR.brave.isBrave == TYPEOF.FUNCTION) {\n                        this.set(NAME, 'Brave');\n                    }\n                    break;\n                case DEVICE:\n                    // Chrome-specific detection: check for 'mobile' value of navigator.userAgentData\n                    if (!this.get(TYPE) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[MOBILE]) {\n                        this.set(TYPE, MOBILE);\n                    }\n                    // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n                    if (this.get(MODEL) == 'Macintosh' && NAVIGATOR && typeof NAVIGATOR.standalone !== TYPEOF.UNDEFINED && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 2) {\n                        this.set(MODEL, 'iPad')\n                            .set(TYPE, TABLET);\n                    }\n                    break;\n                case OS:\n                    // Chrome-specific detection: check for 'platform' value of navigator.userAgentData\n                    if (!this.get(NAME) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[PLATFORM]) {\n                        this.set(NAME, NAVIGATOR_UADATA[PLATFORM]);\n                    }\n                    break;\n                case RESULT:\n                    var data = this.data;\n                    var detect = function (itemType) {\n                        return data[itemType]\n                                .getItem()\n                                .detectFeature()\n                                .get();\n                    };\n                    this.set(BROWSER, detect(BROWSER))\n                        .set(CPU, detect(CPU))\n                        .set(DEVICE, detect(DEVICE))\n                        .set(ENGINE, detect(ENGINE))\n                        .set(OS, detect(OS));\n            }\n        }\n        return this;\n    };\n\n    UAItem.prototype.parseUA = function () {\n        if (this.itemType != RESULT) {\n            rgxMapper.call(this.data, this.ua, this.rgxMap);\n        }\n        switch (this.itemType) {\n            case BROWSER:\n                this.set(MAJOR, majorize(this.get(VERSION)));\n                break;\n            case OS:\n                if (this.get(NAME) == 'iOS' && this.get(VERSION) == '18.6') {\n                    // Based on the assumption that iOS version is tightly coupled with Safari version\n                    var realVersion = /\\) Version\\/([\\d\\.]+)/.exec(this.ua); // Get Safari version\n                    if (realVersion && parseInt(realVersion[1].substring(0,2), 10) >= 26) {\n                        this.set(VERSION, realVersion[1]);  // Set as iOS version\n                    }\n                }\n                break;\n        }\n        return this;\n    };\n\n    UAItem.prototype.parseCH = function () {\n        var uaCH = this.uaCH,\n            rgxMap = this.rgxMap;\n\n        switch (this.itemType) {\n            case BROWSER:\n            case ENGINE:\n                var brands = uaCH[FULLVERLIST] || uaCH[BRANDS], prevName;\n                if (brands) {\n                    for (var i=0; i<brands.length; i++) {\n                        var brandName = brands[i].brand || brands[i],\n                            brandVersion = brands[i].version;\n                        if (this.itemType == BROWSER && \n                            !/not.a.brand/i.test(brandName) && \n                            (!prevName || \n                                (/Chrom/.test(prevName) && brandName != CHROMIUM) || \n                                (prevName == EDGE && /WebView2/.test(brandName))\n                            )) {\n                                brandName = strMapper(brandName, browserHintsMap);\n                                prevName = this.get(NAME);\n                                if (!(prevName && !/Chrom/.test(prevName) && /Chrom/.test(brandName))) {\n                                    this.set(NAME, brandName)\n                                        .set(VERSION, brandVersion)\n                                        .set(MAJOR, majorize(brandVersion));\n                                }\n                                prevName = brandName;\n                        }\n                        if (this.itemType == ENGINE && brandName == CHROMIUM) {\n                            this.set(VERSION, brandVersion);\n                        }\n                    }\n                }\n                break;\n            case CPU:\n                var archName = uaCH[ARCHITECTURE];\n                if (archName) {\n                    if (archName && uaCH[BITNESS] == '64') archName += '64';\n                    rgxMapper.call(this.data, archName + ';', rgxMap);\n                }\n                break;\n            case DEVICE:\n                if (uaCH[MOBILE]) {\n                    this.set(TYPE, MOBILE);\n                }\n                if (uaCH[MODEL]) {\n                    this.set(MODEL, uaCH[MODEL]);\n                    if (!this.get(TYPE) || !this.get(VENDOR)) {\n                        var reParse = {};\n                        rgxMapper.call(reParse, 'droid 9; ' + uaCH[MODEL] + ')', rgxMap);\n                        if (!this.get(TYPE) && !!reParse.type) {\n                            this.set(TYPE, reParse.type);\n                        }\n                        if (!this.get(VENDOR) && !!reParse.vendor) {\n                            this.set(VENDOR, reParse.vendor);\n                        }\n                    }\n                }\n                if (uaCH[FORMFACTORS]) {\n                    var ff;\n                    if (typeof uaCH[FORMFACTORS] !== 'string') {\n                        var idx = 0;\n                        while (!ff && idx < uaCH[FORMFACTORS].length) {\n                            ff = strMapper(uaCH[FORMFACTORS][idx++], formFactorsMap);\n                        }\n                    } else {\n                        ff = strMapper(uaCH[FORMFACTORS], formFactorsMap);\n                    }\n                    this.set(TYPE, ff);\n                }\n                break;\n            case OS:\n                var osName = uaCH[PLATFORM];\n                if(osName) {\n                    var osVersion = uaCH[PLATFORMVER];\n                    if (osName == WINDOWS) osVersion = (parseInt(majorize(osVersion), 10) >= 13 ? '11' : '10');\n                    this.set(NAME, osName)\n                        .set(VERSION, osVersion);\n                }\n                // Xbox-Specific Detection\n                if (this.get(NAME) == WINDOWS && uaCH[MODEL] == 'Xbox') {\n                    this.set(NAME, 'Xbox')\n                        .set(VERSION, undefined);\n                }           \n                break;\n            case RESULT:\n                var data = this.data;\n                var parse = function (itemType) {\n                    return data[itemType]\n                            .getItem()\n                            .setCH(uaCH)\n                            .parseCH()\n                            .get();\n                };\n                this.set(BROWSER, parse(BROWSER))\n                    .set(CPU, parse(CPU))\n                    .set(DEVICE, parse(DEVICE))\n                    .set(ENGINE, parse(ENGINE))\n                    .set(OS, parse(OS));\n        }\n        return this;\n    };\n\n    function UAParser (ua, extensions, headers) {\n\n        if (typeof ua === TYPEOF.OBJECT) {\n            if (isExtensions(ua, true)) {\n                if (typeof extensions === TYPEOF.OBJECT) {\n                    headers = extensions;               // case UAParser(extensions, headers)           \n                }\n                extensions = ua;                        // case UAParser(extensions)\n            } else {\n                headers = ua;                           // case UAParser(headers)\n                extensions = undefined;\n            }\n            ua = undefined;\n        } else if (typeof ua === TYPEOF.STRING && !isExtensions(extensions, true)) {\n            headers = extensions;                       // case UAParser(ua, headers)\n            extensions = undefined;\n        }\n\n        if (headers) {\n            if (typeof headers.append === TYPEOF.FUNCTION) {\n                // Convert Headers object into a plain object\n                var kv = {};\n                headers.forEach(function (v, k) { kv[String(k).toLowerCase()] = v; });\n                headers = kv;\n            } else {\n                // Normalize headers field name into lowercase\n                var normalized = {};\n                for (var header in headers) {\n                    if (headers.hasOwnProperty(header)) {\n                        normalized[String(header).toLowerCase()] = headers[header];\n                    }\n                }\n                headers = normalized;\n            }\n        }\n        \n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions, headers).getResult();\n        }\n\n        var userAgent = typeof ua === TYPEOF.STRING ? ua :                                       // Passed user-agent string\n                                (headers && headers[USER_AGENT] ? headers[USER_AGENT] :     // User-Agent from passed headers\n                                ((NAVIGATOR && NAVIGATOR.userAgent) ? NAVIGATOR.userAgent : // navigator.userAgent\n                                    EMPTY)),                                                // empty string\n\n            httpUACH = new UACHData(headers, true),\n            regexMap = extensions ? \n                        extend(defaultRegexes, extensions) : \n                        defaultRegexes,\n\n            createItemFunc = function (itemType) {\n                if (itemType == RESULT) {\n                    return function () {\n                        return new UAItem(itemType, userAgent, regexMap, httpUACH)\n                                    .set('ua', userAgent)\n                                    .set(BROWSER, this.getBrowser())\n                                    .set(CPU, this.getCPU())\n                                    .set(DEVICE, this.getDevice())\n                                    .set(ENGINE, this.getEngine())\n                                    .set(OS, this.getOS())\n                                    .get();\n                    };\n                } else {\n                    return function () {\n                        return new UAItem(itemType, userAgent, regexMap[itemType], httpUACH)\n                                    .parseUA()\n                                    .get();\n                    };\n                }\n            };\n            \n        // public methods\n        setProps.call(this, [\n            ['getBrowser', createItemFunc(BROWSER)],\n            ['getCPU', createItemFunc(CPU)],\n            ['getDevice', createItemFunc(DEVICE)],\n            ['getEngine', createItemFunc(ENGINE)],\n            ['getOS', createItemFunc(OS)],\n            ['getResult', createItemFunc(RESULT)],\n            ['getUA', function () { return userAgent; }],\n            ['setUA', function (ua) {\n                if (isString(ua)) userAgent = trim(ua, UA_MAX_LENGTH);\n                return this;\n            }]\n        ])\n        .setUA(userAgent);\n\n        return this;\n    }\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR, TYPE]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    export {UAParser};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * External dependencies\n */\nimport type {\n\tEntityId,\n\tEntityKindName,\n\tExperiment,\n\tHeatmap,\n\tMaybe,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { domReady } from '../../../public/utils/helpers';\n\ntype Settings = {\n\treadonly currentUrl: string;\n\treadonly experimentType?: string;\n\treadonly postId?: EntityId;\n\treadonly postType?: EntityKindName;\n\treadonly root: string;\n\treadonly nonce: string;\n};\n\nlet settings: Maybe< Settings >;\nlet isCreatingExperimentOrHeatmap = false;\n\nif ( hasQuickActionSettings( window ) ) {\n\tsettings = window.nabQuickActionSettings;\n\tinit();\n} else {\n\tconst el = document.getElementById( 'wp-admin-bar-nelio-ab-testing' );\n\tel?.parentNode?.removeChild( el );\n}\n\n// =======\n// HELPERS\n// =======\n\nfunction hasQuickActionSettings(\n\tw: unknown\n): w is { nabQuickActionSettings: Settings } {\n\treturn !! w && 'object' === typeof w && 'nabQuickActionSettings' in w;\n}\n\nfunction init(): void {\n\tdomReady( () => {\n\t\tconst newExperimentButton = document.querySelector(\n\t\t\t'#wp-admin-bar-nelio-ab-testing-experiment-create a'\n\t\t);\n\t\tconst newHeatmapButton = document.querySelector(\n\t\t\t'#wp-admin-bar-nelio-ab-testing-heatmap-create a'\n\t\t);\n\n\t\tif ( newExperimentButton ) {\n\t\t\tnewExperimentButton.addEventListener(\n\t\t\t\t'click',\n\t\t\t\tonNewExperimentClick\n\t\t\t);\n\t\t}\n\n\t\tif ( newHeatmapButton ) {\n\t\t\tnewHeatmapButton.addEventListener( 'click', onNewHeatmapClick );\n\t\t}\n\t} );\n}\n\nfunction onNewExperimentClick( ev: Event ) {\n\tev.preventDefault();\n\n\tconst { postId, postType, experimentType, root, nonce } = settings ?? {};\n\tif ( ! postId || ! postType || ! experimentType || ! root || ! nonce ) {\n\t\treturn;\n\t}\n\n\tif ( isCreatingExperimentOrHeatmap ) {\n\t\treturn;\n\t}\n\tisCreatingExperimentOrHeatmap = true;\n\n\tvoid fetch( `${ root }nab/v1/experiment`, {\n\t\theaders: {\n\t\t\t'content-type': 'application/json',\n\t\t\t'x-wp-nonce': nonce,\n\t\t},\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify( {\n\t\t\ttype: experimentType,\n\t\t\taddTestedPostScopeRule: true,\n\t\t} ),\n\t} )\n\t\t.then< Experiment >( ( response ) => response.json() )\n\t\t.then( ( experiment ) => {\n\t\t\tvoid fetch( `${ root }nab/v1/experiment/${ experiment.id }`, {\n\t\t\t\theaders: {\n\t\t\t\t\t'content-type': 'application/json',\n\t\t\t\t\t'x-wp-nonce': nonce,\n\t\t\t\t},\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tbody: JSON.stringify( {\n\t\t\t\t\t...experiment,\n\t\t\t\t\talternatives: [\n\t\t\t\t\t\t{ id: 'control', attributes: { postId, postType } },\n\t\t\t\t\t],\n\t\t\t\t} ),\n\t\t\t} )\n\t\t\t\t.then< Experiment >( ( response ) => response.json() )\n\t\t\t\t.then( ( savedExperiment ) => {\n\t\t\t\t\twindow.location.href = savedExperiment.links.edit;\n\t\t\t\t} );\n\t\t} );\n}\n\nfunction onNewHeatmapClick( ev: Event ) {\n\tev.preventDefault();\n\tif ( isCreatingExperimentOrHeatmap ) {\n\t\treturn;\n\t}\n\tisCreatingExperimentOrHeatmap = true;\n\n\tconst { postId, postType, currentUrl, root, nonce } = settings ?? {};\n\tif ( ! root || ! nonce ) {\n\t\treturn;\n\t}\n\n\tvoid fetch( `${ root }nab/v1/experiment`, {\n\t\theaders: {\n\t\t\t'content-type': 'application/json',\n\t\t\t'x-wp-nonce': nonce,\n\t\t},\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify( {\n\t\t\ttype: 'nab/heatmap',\n\t\t\taddTestedPostScopeRule: false,\n\t\t} ),\n\t} )\n\t\t.then< Heatmap >( ( response ) => response.json() )\n\t\t.then( ( heatmap ) => {\n\t\t\tconst experiment = {\n\t\t\t\tid: heatmap.id,\n\t\t\t\ttype: 'nab/heatmap',\n\t\t\t\ttrackingMode: postId ? 'post' : 'url',\n\t\t\t\ttrackedPostId: postId ? postId : undefined,\n\t\t\t\ttrackedPostType: postId ? postType : undefined,\n\t\t\t\ttrackedUrl: ! postId ? currentUrl : undefined,\n\t\t\t};\n\n\t\t\tvoid fetch( `${ root }nab/v1/experiment/${ experiment.id }`, {\n\t\t\t\theaders: {\n\t\t\t\t\t'content-type': 'application/json',\n\t\t\t\t\t'x-wp-nonce': nonce,\n\t\t\t\t},\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tbody: JSON.stringify( experiment ),\n\t\t\t} )\n\t\t\t\t.then< Heatmap >( ( response ) => response.json() )\n\t\t\t\t.then( ( savedExperiment ) => {\n\t\t\t\t\twindow.location.href = savedExperiment.links.edit;\n\t\t\t\t} );\n\t\t} );\n}\n"],"names":["getSettings","sendToGA4","eventData","settings","ga4TrackingMethod","hasDataLayer","window","dataLayer","push","Object","assign","event","kind","experiment_id","experiment","variant_id","alternative","variant_name","getVariantName","goal_id","goal","goal_name","getGoalName","hasGTag","gtag","win","initGA4Tracking","session","isGA4Integrated","addEventListener","e","detail","includes","getGA4ClientId","match","document","cookie","undefined","exp","experiments","find","id","alternatives","alt","name","goals","isGdprAccepted","gdprCookie","matches","pattern","value","parts","split","startsWith","_a","endsWith","_b","length","reduce","start","search","indexOf","map","c","trim","n","v","join","filter","some","_","decodeURIComponent","getAllActions","result","forEach","relevantActions","conversionActions","action","getConvertingGoals","actionMatcher","relevantGoals","hasMatchingAction","eventsFromGoals","onScrollDownFns","onScrollDown","fn","maxScroll","scrollY","innerHeight","bottom","f","memo","setCookie","options","opts","path","expires","encodeURIComponent","expiration","Date","getTime","toUTCString","getCookie","cookies","removeCookie","addCookieListener","getNewId","listeners","resetTimeout","removeCookieListener","trackState","timeoutId","counter","tick","values","setTimeout","clearInterval","Math","random","slice","keys","headReady","appendStyle","css","style","createElement","innerHTML","head","appendChild","domReady","callback","readyState","observing","OBSERVER","MutationObserver","checkPendingSelectors","elementReady","selector","el","querySelector","setCss","enqueueSelectorCallback","console","log","textContent","s","replace","PENDING_SELECTORS","Map","selectors","get","set","observe","body","childList","subtree","callbacks","cb","delete","size","disconnect","flow","fns","input","r","getActiveExperiments","isActiveExperiment","active","addQueryArgs","getApiUrl","api","args","mode","url","getClosest","node","nodeType","currentNode","toLowerCase","nodeName","parentElement","getDocumentHeight","html","documentElement","max","scrollHeight","offsetHeight","clientHeight","md5","canVisitorParticipate","updateSegmentationSettings","getAllActiveSegments","getQueryArg","REFERRER_PARAM","removeTestingArgs","getExperimentsWithPageViews","getUniqueViews","doGetUniqueViews","MINUTE_IN_MILLIS","QUOTA_CHECK_LIVESPAN","setNabReferrer","nabReferrer","location","href","referrer","getSession","__awaiter","updateAlternativeCookie","currentUrl","isStagingSite","isStagingSimulated","untestedUrl","hasQuota","updateECommerceSession","maxCombinations","getAlternativeFromCookie","participationChance","resetCookies","newAlternative","shouldAlternativeBeOverwritten","resetCookieExpirations","nabAlt","Number","parseInt","isNaN","ajaxUrl","oldChecksum","checksum","getSessionChecksum","forceECommerceSessionSync","FormData","append","JSON","stringify","getViewedAlternatives","getSegments","Promise","resolve","running","sync","fetch","method","credentials","finally","removeEventListener","min","floor","res","key","allSegments","uniqueViews","viewUuid","epv","expIds","sort","tenMinutesTimestamp","reverse","toISOString","substring","assignedAlternative","queryAlternative","test","cookieAlternative","cookieTesting","quotaString","sessionStorage","getItem","quotaCheck","parse","isValidQuotaCheck","zero","removeItem","checkQuota","setItem","q","timestamp","now","siteId","site","data","text","isHeadReady","pending","markHeadAsReady","checkHead","isIE","excludeBots","isBot","areCookiesEnabled","userAgent","navigator","ua","parseJavaScript","hasSettings","nabSettings","alternativeUrls","heatmaps","hideQueryArgs","ignoreTrailingSlash","isTestedPostRequest","nabPosition","numOfAlternatives","optimizeXPath","postId","preloadQueryArgUrls","segmentMatching","singleConvPerView","timezone","useControlUrl","useSendBeacon","version","throttle","global","fixThrottleWait","woocommerce","wait","g","ca","type","snippet","attributes","eval","a","run","LOG_REGEX","logIf","condition","logs","logOnce","addNabQueryArg","preloadQueryArgs","doPreloadQueryArgs","fixSelfHashUrls","protocol","hostname","anchors","Array","from","querySelectorAll","config","x","preloadQueryArg","current","URL","hash","searchParams","scopes","getMatchingScopes","altCount","nab","getAlternativeUrl","link","scope","altUrls","l","isPartialUrl","getPart","isPartialNotIncludedUrl","isExclusionUrl","partialUrl","isValidSegmentationRule","updateFirstVisit","getSegmentationSettings","setSegmentationSettings","allExperiments","allHeatmaps","relevantExperiments","segmentEvaluation","isGeoDataNeeded","isGeoDataOutdated","isGeoDataNeededNow","updateGeoData","updateActiveSegments","areSegmentsValid","activeExperimentIds","every","doesExperimentHaveValidSegments","activeSegments","isEmptyArray","isHeatmapActive","areHeatmapConditionsValid","heatmap","participation","getSegmentationGeoData","segmentationSettings","geo","RETURNING_VISITOR_MINUTES_THRESHOLD","isReturningVisitor","minutesSinceFirstVisit","firstVisit","gapInMinutes","getActiveSegments","isActiveSegmentImplicit","cleanOldSegments","viewedExperimentIds","newActiveSegments","experimentId","geoData","lastUpdate","lastUpdateDate","diffTime","abs","diffDays","ceil","exps","getIdsThatNeedGeo","idsWithGeoNeeds","segments","segmentationRules","isGeoRule","h","jsonData","hasGeoData","ipAddress","ip","previousActiveSegments","calculateActiveSegments","index","segmentIndex","b","arr","isArray","UAParser","validate","visitorBrowser","getVisitorBrowser","isSameBrowser","parser","browserData","getBrowser","browserName","visitorBrowserName","actualValue","expected","expectedValue","DAYS","visitorDay","getDay","visitorDeviceType","getDevice","browser","dayOfWeek","deviceType","language","operatingSystem","queryParameter","referringUrl","time","userLogin","visitorType","windowWidth","segmentationRuleValidators","validator","visitorIp","ipPattern","re","RegExp","currentLanguages","languages","hasLanguage","actual","visitorLocation","visitorOS","getVisitorOS","isSameOS","operatingSystemData","getOS","osName","operatingSystemName","getQueryArgs","PERIODS","visitorHour","getHours","visitorPeriod","isUserLoggedIn","interval","currentWidth","innerWidth","clientWidth","toString","DEFAULT_SEGMENTATION_SETTINGS","pick","TEN_DAYS_IN_MILLIS","updateExperimentsWithPageViews","events","removeOldExperimentsFromCookie","setExperimentsWithPageViewsCookie","updateUniqueViews","allUniqueViews","views","canSynchEvent","getHeatmap","experimentsWithPageViews","canSynchConversion","synchedGoals","goalIndex","wasCookieCleaned","experimentIds","experimentIdsWithPageViews","toExperimentId","w","validationTimestamp","isInvalid","wasValidTenDaysAgo","newExperimentsWithPageViews","hm","buildUrl","k","arg","pair","removeArgsAndHash","cleanUrl","fragments","getHash","oldArgs","newArgs","position","__rest","removeQueryArgs","names","keepNab","baseUrl","substr","isCreatingExperimentOrHeatmap","hasQuickActionSettings","nabQuickActionSettings","init","getElementById","parentNode","removeChild","newExperimentButton","newHeatmapButton","onNewExperimentClick","onNewHeatmapClick","ev","preventDefault","postType","experimentType","root","nonce","headers","addTestedPostScopeRule","then","response","json","savedExperiment","links","edit","trackingMode","trackedPostId","trackedPostType","trackedUrl"],"ignoreList":[],"sourceRoot":""}