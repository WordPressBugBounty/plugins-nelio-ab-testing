{"version":3,"file":"js/account-page.js","mappings":"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","sources":["webpack://nab/./assets/src/admin/pages/account/components/account-info/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/account-info/style.scss?c51f","webpack://nab/./assets/src/admin/pages/account/components/actions/index.ts","webpack://nab/./assets/src/admin/pages/account/components/actions/remove-license.tsx","webpack://nab/./assets/src/admin/pages/account/components/addons-popover/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/addons-popover/style.scss?7303","webpack://nab/./assets/src/admin/pages/account/components/billing/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/billing/style.scss?0899","webpack://nab/./assets/src/admin/pages/account/components/invoice/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/invoice/style.scss?553f","webpack://nab/./assets/src/admin/pages/account/components/layout/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/layout/style.scss?a08e","webpack://nab/./assets/src/admin/pages/account/components/license-popover/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/license-popover/style.scss?1b95","webpack://nab/./assets/src/admin/pages/account/components/loading-modal/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/loading-modal/style.scss?9733","webpack://nab/./assets/src/admin/pages/account/components/page-title/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/page-title/style.scss?e631","webpack://nab/./assets/src/admin/pages/account/components/plan/agency-plan.tsx","webpack://nab/./assets/src/admin/pages/account/components/plan/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/plan/style.scss?2180","webpack://nab/./assets/src/admin/pages/account/components/provider/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/site/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/site/style.scss?ea85","webpack://nab/./assets/src/admin/pages/account/components/sites/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/sites/style.scss?efbe","webpack://nab/./assets/src/admin/pages/account/components/upgrade-popover/enterprise.tsx","webpack://nab/./assets/src/admin/pages/account/components/upgrade-popover/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/upgrade-popover/regular.tsx","webpack://nab/./assets/src/admin/pages/account/components/upgrade-popover/style.scss?d819","webpack://nab/./assets/src/admin/pages/account/help.ts","webpack://nab/./assets/src/admin/pages/account/index.tsx","webpack://nab/./assets/src/admin/pages/account/store/actions.ts","webpack://nab/./assets/src/admin/pages/account/store/config.ts","webpack://nab/./assets/src/admin/pages/account/store/index.ts","webpack://nab/./assets/src/admin/pages/account/store/reducer.ts","webpack://nab/./assets/src/admin/pages/account/store/selectors.ts","webpack://nab/./assets/src/admin/pages/account/store/side-effects/actions.ts","webpack://nab/./assets/src/admin/pages/account/store/side-effects/resolvers.ts","webpack://nab/./assets/src/admin/pages/account/store/types.ts","webpack://nab/./node_modules/clsx/dist/clsx.mjs","webpack://nab/./packages/safe-wordpress/api-fetch.ts","webpack://nab/./packages/safe-wordpress/components.tsx","webpack://nab/./packages/safe-wordpress/data.ts","webpack://nab/./packages/safe-wordpress/dom-ready.ts","webpack://nab/./packages/safe-wordpress/element.ts","webpack://nab/./packages/safe-wordpress/i18n.ts","webpack://nab/./packages/safe-wordpress/notices.ts","webpack://nab/external window [\"nab\",\"components\"]","webpack://nab/external window [\"nab\",\"data\"]","webpack://nab/external window [\"nab\",\"date\"]","webpack://nab/external window [\"nab\",\"i18n\"]","webpack://nab/external window [\"nab\",\"utils\"]","webpack://nab/external window [\"wp\",\"apiFetch\"]","webpack://nab/external window [\"wp\",\"components\"]","webpack://nab/external window [\"wp\",\"data\"]","webpack://nab/external window [\"wp\",\"date\"]","webpack://nab/external window [\"wp\",\"domReady\"]","webpack://nab/external window [\"wp\",\"element\"]","webpack://nab/external window [\"wp\",\"i18n\"]","webpack://nab/external window [\"wp\",\"notices\"]","webpack://nab/external window [\"wp\",\"url\"]","webpack://nab/external window \"lodash\"","webpack://nab/external window \"ReactJSXRuntime\"","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/chunk loaded","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/webpack/before-startup","webpack://nab/webpack/startup","webpack://nab/webpack/after-startup"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Button, Dashicon } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { createInterpolateElement, useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { store as NAB_DATA } from '@nab/data';\nimport { formatI18nDate } from '@nab/date';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { LicensePopover } from '../license-popover';\nimport { RemoveLicenseAction } from '../actions';\nimport { store as NAB_ACCOUNT } from '../../store';\n\nexport const AccountInfo = (): JSX.Element | null => {\n\tconst isVisible = useIsVisible();\n\tconst fullname = useFullName();\n\tconst email = useEmail();\n\tconst startDate = useStartDate();\n\tconst license = useLicense();\n\tconst photo = usePhoto();\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-info\">\n\t\t\t<h3 className=\"nab-info__title\">\n\t\t\t\t{ _x(\n\t\t\t\t\t'Account Information',\n\t\t\t\t\t'title (account)',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</h3>\n\n\t\t\t<div className=\"nab-info__container\">\n\t\t\t\t<div className=\"nab-info__profile\">\n\t\t\t\t\t<div className=\"nab-info__picture nab-first-letter-a\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"nab-info__actual-picture\"\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\tbackgroundImage: `url(${ photo })`,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"nab-info__details\">\n\t\t\t\t\t<p className=\"nab-info__name\">{ fullname }</p>\n\t\t\t\t\t<p className=\"nab-info__email\">\n\t\t\t\t\t\t<Dashicon icon=\"email\" className=\"nab-info__icon\" />\n\t\t\t\t\t\t{ email }\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"nab-info__creation-date\">\n\t\t\t\t\t\t<Dashicon icon=\"calendar\" className=\"nab-info__icon\" />\n\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: Date. */\n\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t'Member since %s.',\n\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t`<date>${ formatI18nDate( startDate ) }</date>`\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdate: <strong />,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"nab-info__license\">\n\t\t\t\t\t\t<Dashicon\n\t\t\t\t\t\t\ticon=\"admin-network\"\n\t\t\t\t\t\t\tclassName=\"nab-info__icon\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<code\n\t\t\t\t\t\t\ttitle={ _x(\n\t\t\t\t\t\t\t\t'License Key',\n\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ license }\n\t\t\t\t\t\t</code>\n\t\t\t\t\t\t<div className=\"nab-info__change-license\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\tonClick={ () => setPopoverVisible( true ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t'Change',\n\t\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<LicensePopover\n\t\t\t\t\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\t\t\t\tonClick={ () => setPopoverVisible( false ) }\n\t\t\t\t\t\t\t\tonFocusOutside={ () =>\n\t\t\t\t\t\t\t\t\tsetPopoverVisible( false )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"nab-info__remove-license\">\n\t\t\t\t\t\t\t<RemoveLicenseAction\n\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t\t'Remove',\n\t\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsVisible = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getMode, isAgency, isAgencyFullViewEnabled } =\n\t\t\tselect( NAB_ACCOUNT );\n\t\tconst isSubscribed = getMode() === 'regular';\n\t\tconst isAgencySummary = isAgency() && ! isAgencyFullViewEnabled();\n\t\treturn isSubscribed && ! isAgencySummary;\n\t}, [] );\n\nconst useFullName = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getFullname(), [] );\n\nconst useEmail = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getEmail(), [] );\n\nconst useStartDate = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getStartDate() ||\n\t\t\tselect( NAB_DATA ).getToday(),\n\t\t[]\n\t);\n\nconst useLicense = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getLicense(), [] );\n\nconst usePhoto = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getPhoto(), [] );\n","// extracted by mini-css-extract-plugin\nexport {};","export * from './remove-license';\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@safe-wordpress/components';\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { ConfirmationDialog } from '@nab/components';\nimport { store as NAB_DATA } from '@nab/data';\n\n/**\n * Internal dependencies\n */\nimport { store as NAB_ACCOUNT } from '../../store';\n\nexport const RemoveLicenseAction = ( {\n\tlabel,\n\t...buttonProps\n}: Button.Props ): JSX.Element => {\n\tconst [ isVisible, setVisible ] = useState( false );\n\n\tconst siteId = useSelect(\n\t\t( select ) => select( NAB_DATA ).getPluginSetting( 'siteId' ),\n\t\t[]\n\t);\n\tconst isLocked = useSelect(\n\t\t( select ) => select( NAB_ACCOUNT ).isLocked(),\n\t\t[]\n\t);\n\tconst { unlinkSite } = useDispatch( NAB_ACCOUNT );\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tonClick={ () => setVisible( true ) }\n\t\t\t\tdisabled={ isLocked }\n\t\t\t\t{ ...buttonProps }\n\t\t\t>\n\t\t\t\t{ label }\n\t\t\t</Button>\n\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Downgrade to Free Version?',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ _x(\n\t\t\t\t\t'This action will remove the license from this site so that you can use it somewhere else. Nelio A/B Testing will remain active on this site, but you will be using the free version instead. Do you want to continue?',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Downgrade',\n\t\t\t\t\t'command (remove license)',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tcancelLabel={ _x( 'Back', 'command', 'nelio-ab-testing' ) }\n\t\t\t\tisDestructive\n\t\t\t\tonCancel={ () => setVisible( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tvoid unlinkSite( siteId );\n\t\t\t\t\tsetVisible( false );\n\t\t\t\t} }\n\t\t\t\tisOpen={ isVisible }\n\t\t\t/>\n\t\t</>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { Button, Popover, Spinner } from '@safe-wordpress/components';\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\nimport { createInterpolateElement, useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { ConfirmationDialog } from '@nab/components';\nimport { store as NAB_DATA } from '@nab/data';\nimport { getLocale } from '@nab/date';\nimport { createErrorNotice, EMPTY_ARRAY } from '@nab/utils';\nimport type {\n\tCurrency,\n\tFastSpringProduct,\n\tFSLocalizedString,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { store as NAB_ACCOUNT } from '../../store';\n\nexport type AddonsPopoverProps = {\n\treadonly isOpen?: boolean;\n\treadonly placement: Popover.Props[ 'placement' ];\n\treadonly onFocusOutside: () => void;\n};\n\nexport const AddonsPopover = ( {\n\tisOpen,\n\tplacement,\n\tonFocusOutside,\n}: AddonsPopoverProps ): JSX.Element | null => {\n\tconst isLoading = useIsLoading();\n\tconst { addons, enabledAddons } = useAddons();\n\tconst [ isConfirmationOpen, setIsConfirmationOpen ] = useState( false );\n\tconst [ selectedAddon, setSelectedAddon ] = useState< SelectedAddon >();\n\tconst currency = useCurrency();\n\tconst isLocked = useSelect(\n\t\t( select ) => select( NAB_ACCOUNT ).isLocked(),\n\t\t[]\n\t);\n\tconst { lock, unlock } = useDispatch( NAB_ACCOUNT );\n\n\tif ( isConfirmationOpen ) {\n\t\tif ( ! selectedAddon ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { displayName, displayPrice } = selectedAddon;\n\t\treturn (\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ sprintf(\n\t\t\t\t\t/* translators: %s: Addon name. */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'Upgrade your subscription to include %s?',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tdisplayName\n\t\t\t\t) }\n\t\t\t\ttext={ createInterpolateElement(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %1$s: Addon name. %2$s: Addon price. */\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'This will include the %1$s addon to your subscription for an additional charge of %2$s. You will be charged today.',\n\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tdisplayName,\n\t\t\t\t\t\t`<strong>${ displayPrice }</strong>`\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tstrong: <strong />,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Upgrade Now',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tisOpen={ isConfirmationOpen }\n\t\t\t\tisConfirmBusy={ isLocked }\n\t\t\t\tonCancel={ () => setIsConfirmationOpen( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tvoid lock();\n\t\t\t\t\tvoid apiFetch( {\n\t\t\t\t\t\tpath: '/nab/v1/activate/recordings',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t} )\n\t\t\t\t\t\t.then( () => window.location.reload() )\n\t\t\t\t\t\t.catch( ( error ) => createErrorNotice( error ) )\n\t\t\t\t\t\t.finally( () => {\n\t\t\t\t\t\t\tvoid unlock();\n\t\t\t\t\t\t\tsetSelectedAddon( undefined );\n\t\t\t\t\t\t\tsetIsConfirmationOpen( false );\n\t\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( ! isOpen ) {\n\t\treturn null;\n\t}\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tclassName=\"nab-addons nab-addons--loading\"\n\t\t\t\tnoArrow={ false }\n\t\t\t\tplacement={ placement }\n\t\t\t\tonFocusOutside={ onFocusOutside }\n\t\t\t>\n\t\t\t\t<Spinner />\n\t\t\t</Popover>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"nab-addons\"\n\t\t\tnoArrow={ false }\n\t\t\tplacement={ placement }\n\t\t\tonFocusOutside={ onFocusOutside }\n\t\t>\n\t\t\t<div className=\"nab-addons__container\">\n\t\t\t\t<div className=\"nab-addons__container-title\">\n\t\t\t\t\t{ _x( 'Addons', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"nab-addons__container-list\">\n\t\t\t\t\t{ addons.map( ( { id, displayName, price, period } ) => (\n\t\t\t\t\t\t<div className=\"nab-addons__product\" key={ id }>\n\t\t\t\t\t\t\t<div className=\"nab-addons__product-details\">\n\t\t\t\t\t\t\t\t<div className=\"nab-addons__product-name\">\n\t\t\t\t\t\t\t\t\t{ localize( displayName ) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{ ! enabledAddons.includes( id ) && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"nab-addons__product-price\"\n\t\t\t\t\t\t\t\t\t\ttitle={ currency }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ formatPrice(\n\t\t\t\t\t\t\t\t\t\t\tprice[ currency ] || 0,\n\t\t\t\t\t\t\t\t\t\t\tcurrency,\n\t\t\t\t\t\t\t\t\t\t\tperiod\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"nab-addons__product-action\">\n\t\t\t\t\t\t\t\t{ enabledAddons.includes( id ) ? (\n\t\t\t\t\t\t\t\t\t<span className=\"nab-addons__product--enabled\">\n\t\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t\t'Enabled',\n\t\t\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={ isLocked }\n\t\t\t\t\t\t\t\t\t\tisBusy={ isLocked }\n\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedAddon( {\n\t\t\t\t\t\t\t\t\t\t\t\tdisplayName:\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalize( displayName ),\n\t\t\t\t\t\t\t\t\t\t\t\tdisplayPrice: formatPrice(\n\t\t\t\t\t\t\t\t\t\t\t\t\tprice[ currency ] || 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency,\n\t\t\t\t\t\t\t\t\t\t\t\t\tperiod\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t\tsetIsConfirmationOpen( true );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t\t'Enable',\n\t\t\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) ) }\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"screen-reader-text\"\n\t\t\t\t\tonClick={ onFocusOutside }\n\t\t\t\t>\n\t\t\t\t\t{ _x( 'Close addons', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Popover>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\ntype SelectedAddon = {\n\treadonly displayName: string;\n\treadonly displayPrice: string;\n};\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_DATA ).hasFinishedResolution( 'getProducts' ),\n\t\t[]\n\t);\n\nconst useAddons = (): {\n\treadonly addons: ReadonlyArray< FastSpringProduct >;\n\treadonly enabledAddons: ReadonlyArray< string >;\n} => {\n\tconst data = useSelect( ( select ) => {\n\t\tconst { getProducts } = select( NAB_DATA );\n\t\tconst { getSubscriptionProduct, getSubscriptionAddons } =\n\t\t\tselect( NAB_ACCOUNT );\n\n\t\tconst currentProduct = getSubscriptionProduct();\n\t\tconst enabledAddons = getSubscriptionAddons();\n\t\tconst products = getProducts();\n\t\tconst allowedAddons =\n\t\t\tproducts.find( ( p ) => p.id === currentProduct )?.allowedAddons ||\n\t\t\tEMPTY_ARRAY;\n\t\treturn {\n\t\t\tproducts,\n\t\t\tallowedAddons,\n\t\t\tenabledAddons,\n\t\t};\n\t}, [] );\n\n\treturn {\n\t\taddons: data.products.filter(\n\t\t\t( p ) => p.isAddon && data.allowedAddons.includes( p.id )\n\t\t),\n\t\tenabledAddons: data.enabledAddons,\n\t};\n};\n\nconst useCurrency = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getCurrency() || 'USD', [] );\n\n// =======\n// HELPERS\n// =======\n\nconst formatPrice = (\n\tprice: number,\n\tcurrency: Currency,\n\tperiod?: 'month' | 'year'\n) => {\n\tconst periodText =\n\t\tperiod === 'month'\n\t\t\t? _x( '/ month', 'text', 'nelio-ab-testing' )\n\t\t\t: _x( '/ year', 'text', 'nelio-ab-testing' );\n\tconst priceText = 'EUR' === currency ? `${ price }` : `US$${ price }`;\n\treturn `${ priceText } ${ periodText }`.trim();\n};\n\nconst localize = ( str: FSLocalizedString ) => {\n\tconst locale = getLocale();\n\treturn locale.startsWith( 'es' ) ? str.es : str.en;\n};\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { ExternalLink, Spinner } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { Invoice } from '../invoice';\nimport './style.scss';\n\nimport { store as NAB_ACCOUNT } from '../../store';\n\nexport const Billing = (): JSX.Element | null => {\n\tconst isVisible = useIsVisible();\n\tconst isLoading = useIsLoading();\n\tconst invoices = useInvoices();\n\tconst urlToManagePayments = usePaymentsUrl();\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-billing\">\n\t\t\t<h3 className=\"nab-billing__title\">\n\t\t\t\t{ _x( 'Billing History', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t{ isLoading && <Spinner /> }\n\t\t\t</h3>\n\n\t\t\t{ ! isLoading && (\n\t\t\t\t<>\n\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\tclassName=\"nab-billing__action\"\n\t\t\t\t\t\thref={ urlToManagePayments }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ _x( 'Manage Payments', 'user', 'nelio-ab-testing' ) }\n\t\t\t\t\t</ExternalLink>\n\n\t\t\t\t\t<table className=\"nab-billing__container\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th className=\"nab-billing__reference\">\n\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t'Invoice Reference',\n\t\t\t\t\t\t\t\t\t\t'text (account, billing table title)',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"nab-billing__date\">\n\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t'Date',\n\t\t\t\t\t\t\t\t\t\t'text (account, billing table title)',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"nab-billing__total\">\n\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t'Total',\n\t\t\t\t\t\t\t\t\t\t'text (account, billing table title)',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t<tbody className=\"invoice-list\">\n\t\t\t\t\t\t\t{ invoices.map( ( invoice ) => (\n\t\t\t\t\t\t\t\t<Invoice\n\t\t\t\t\t\t\t\t\tkey={ invoice.reference }\n\t\t\t\t\t\t\t\t\t{ ...invoice }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsVisible = () =>\n\tuseSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetMode,\n\t\t\tisAgency,\n\t\t\tisAgencyFullViewEnabled,\n\t\t\tisSubscriptionDeprecated,\n\t\t} = select( NAB_ACCOUNT );\n\n\t\tconst isSubscribed = getMode() === 'regular';\n\t\tconst isDeprecated = isSubscriptionDeprecated();\n\t\tconst isAgencySummary = isAgency() && ! isAgencyFullViewEnabled();\n\t\treturn isSubscribed && ! isDeprecated && ! isAgencySummary;\n\t}, [] );\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_ACCOUNT ).hasFinishedResolution( 'getInvoices', [\n\t\t\t\tselect( NAB_ACCOUNT ).getSubscriptionId(),\n\t\t\t] ),\n\t\t[]\n\t);\n\nconst useInvoices = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getInvoices(\n\t\t\t\tselect( NAB_ACCOUNT ).getSubscriptionId()\n\t\t\t),\n\t\t[]\n\t);\n\nconst usePaymentsUrl = () =>\n\tuseSelect(\n\t\t( select ) => select( NAB_ACCOUNT ).getUrlToManagePayments(),\n\t\t[]\n\t);\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { Invoice as InvoiceProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport const Invoice = ( {\n\tinvoiceUrl,\n\treference,\n\tchargeDate,\n\tisRefunded,\n\tsubtotalDisplay,\n}: InvoiceProps ): JSX.Element => (\n\t<tr className=\"nab-invoice\">\n\t\t<td className=\"nab-invoice__reference\">\n\t\t\t<a\n\t\t\t\thref={ invoiceUrl }\n\t\t\t\tclassName=\"nab-invoice__link\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t>\n\t\t\t\t{ reference }\n\t\t\t</a>\n\t\t</td>\n\n\t\t<td className=\"nab-invoice__date\">{ chargeDate }</td>\n\n\t\t<td className=\"nab-invoice__total\">\n\t\t\t{ isRefunded && (\n\t\t\t\t<span className=\"nab-invoice__label\">\n\t\t\t\t\t{ _x( '(Refunded)', 'text (invoice)', 'nelio-ab-testing' ) }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t<span\n\t\t\t\tclassName={ clsx( 'nab-invoice__total-value', {\n\t\t\t\t\t'nab-invoice__total-value--refunded': isRefunded,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t{ subtotalDisplay }\n\t\t\t</span>\n\t\t</td>\n\t</tr>\n);\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\n/**\n * External dependencies\n */\nimport type { SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nimport { Plan } from '../plan';\nimport { AccountInfo } from '../account-info';\nimport { Sites } from '../sites';\nimport { Billing } from '../billing';\nimport { LoadingModal } from '../loading-modal';\n\nexport type LayoutProps = {\n\treadonly siteId: SiteId;\n};\n\nexport const Layout = ( { siteId }: LayoutProps ): JSX.Element => (\n\t<div className=\"nab-account-container\">\n\t\t<Plan siteId={ siteId } />\n\t\t<AccountInfo />\n\t\t<Sites />\n\t\t<Billing />\n\t\t<LoadingModal />\n\t</div>\n);\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { Popover, TextControl, Button } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { trim } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { store as NAB_ACCOUNT } from '../../store';\n\nconst LICENSE_LENGTH = 21;\nconst OLD_LICENSE_LENGTH = 26;\n\nexport type LicensePopoverProps = {\n\treadonly isOpen?: boolean;\n\treadonly placement: Popover.Props[ 'placement' ];\n\treadonly onClick: () => void;\n\treadonly onFocusOutside: () => void;\n};\n\nexport const LicensePopover = ( {\n\tisOpen,\n\tplacement,\n\tonClick,\n\tonFocusOutside,\n}: LicensePopoverProps ): JSX.Element | null => {\n\tconst [ license, setLicense ] = useState( '' );\n\tconst { linkSite } = useDispatch( NAB_ACCOUNT );\n\n\tif ( ! isOpen ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"nab-license-form\"\n\t\t\tnoArrow={ false }\n\t\t\tplacement={ placement }\n\t\t\tonFocusOutside={ onFocusOutside }\n\t\t>\n\t\t\t<TextControl\n\t\t\t\tvalue={ license }\n\t\t\t\tplaceholder={ _x(\n\t\t\t\t\t'Type your license here',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tmaxLength={ Math.max( LICENSE_LENGTH, OLD_LICENSE_LENGTH ) }\n\t\t\t\tclassName=\"nab-license-form__text-control\"\n\t\t\t\tonChange={ ( v ) => setLicense( trim( v ) ) }\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tclassName=\"nab-license-form__button\"\n\t\t\t\tdisabled={\n\t\t\t\t\tlicense.length !== LICENSE_LENGTH &&\n\t\t\t\t\tlicense.length !== OLD_LICENSE_LENGTH\n\t\t\t\t}\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tonClick();\n\t\t\t\t\tvoid linkSite( license );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ _x( 'Apply', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t</Popover>\n\t);\n};\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { Modal, Spinner } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { store as NAB_ACCOUNT } from '../../store';\n\nexport const LoadingModal = (): JSX.Element | null => {\n\tconst isLocked = useSelect(\n\t\t( select ) => select( NAB_ACCOUNT ).isLocked(),\n\t\t[]\n\t);\n\n\tif ( ! isLocked ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"nab-locked\"\n\t\t\ttitle={ _x( 'Loading', 'text', 'nelio-ab-testing' ) }\n\t\t\tshouldCloseOnEsc={ false }\n\t\t\tshouldCloseOnClickOutside={ false }\n\t\t\tisDismissible={ false }\n\t\t\tonRequestClose={ noop }\n\t\t>\n\t\t\t<Spinner />\n\t\t</Modal>\n\t);\n};\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { ClipboardButton } from '@nab/components';\nimport type { SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport type PageTitleProps = {\n\treadonly isSubscribed: boolean;\n\treadonly siteId: SiteId;\n};\n\nexport const PageTitle = ( {\n\tisSubscribed,\n\tsiteId,\n}: PageTitleProps ): JSX.Element => (\n\t<h1 className=\"wp-heading-inline nelio-ab-testing-page-title\">\n\t\t<span>\n\t\t\t{ isSubscribed\n\t\t\t\t? _x( 'Account Details', 'text', 'nelio-ab-testing' )\n\t\t\t\t: _x(\n\t\t\t\t\t\t'Upgrade to Nelio A/B Testing Premium',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t  ) }\n\t\t</span>\n\t\t<span className=\"nelio-ab-testing-page-title__support-key\">\n\t\t\t<strong>\n\t\t\t\t{ _x( 'Support Key:', 'text', 'nelio-ab-testing' ) }\n\t\t\t</strong>\n\t\t\t<code>{ siteId }</code>\n\t\t\t<ClipboardButton text={ siteId } />\n\t\t</span>\n\t</h1>\n);\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { Button, Popover, TextControl } from '@safe-wordpress/components';\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { trim } from 'lodash';\nimport { QuotaMeter, ConfirmationDialog } from '@nab/components';\nimport type { Account, SiteId } from '@nab/types';\nimport { store as NAB_ACCOUNT } from '../../store';\n\nexport type AgencyPlanProps = {\n\treadonly siteId: SiteId;\n};\n\nexport const AgencyPlan = ( { siteId }: AgencyPlanProps ): JSX.Element => {\n\tconst productDisplay = useSelect(\n\t\t( select ) => select( NAB_ACCOUNT ).getProductDisplay(),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-plan\">\n\t\t\t<div className=\"nab-plan__content\">\n\t\t\t\t<h3 className=\"nab-plan__title\">\n\t\t\t\t\t{ productDisplay }\n\t\t\t\t\t<span className=\"nab-plan__period\">\n\t\t\t\t\t\t{ _x( 'Agency Plan', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\t</span>\n\t\t\t\t</h3>\n\t\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Youre currently using an agency subscription plan.',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<QuotaMeter />\n\t\t\t</div>\n\t\t\t<div className=\"nab-plan__actions\">\n\t\t\t\t<DowngradeButton siteId={ siteId } />\n\t\t\t\t<ViewDetailsButton />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst DowngradeButton = ( { siteId }: { siteId: SiteId } ) => {\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\tconst { unlinkSite } = useDispatch( NAB_ACCOUNT );\n\n\tconst open = () => setIsOpen( true );\n\tconst close = () => setIsOpen( false );\n\tconst confirm = () => {\n\t\tclose();\n\t\tvoid unlinkSite( siteId );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Button isDestructive className=\"nab-plan__action\" onClick={ open }>\n\t\t\t\t{ _x(\n\t\t\t\t\t'Downgrade to Free Version',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</Button>\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Downgrade to Free version?',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ _x(\n\t\t\t\t\t'This will remove the subscription license from the site and youll be using Nelio A/B Testings free version.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Downgrade',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tisOpen={ isOpen }\n\t\t\t\tonCancel={ close }\n\t\t\t\tonConfirm={ confirm }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst ViewDetailsButton = () => {\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\tconst [ license, setLicense ] = useState( '' );\n\tconst [ validating, setValidating ] = useState( false );\n\tconst { enableAgencyFullView, receiveAccount } = useDispatch( NAB_ACCOUNT );\n\n\tconst open = () => setIsOpen( true );\n\tconst close = () => setIsOpen( false );\n\tconst validate = () => {\n\t\tsetValidating( true );\n\t\tvoid apiFetch< Account >( {\n\t\t\tpath: '/nab/v1/account/agency',\n\t\t\tmethod: 'POST',\n\t\t\tdata: { license },\n\t\t} )\n\t\t\t.then( ( account ) => {\n\t\t\t\tvoid receiveAccount( account );\n\t\t\t\tvoid enableAgencyFullView();\n\t\t\t\tsetValidating( false );\n\t\t\t\tclose();\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\tsetValidating( false );\n\t\t\t} );\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ open }\n\t\t\t>\n\t\t\t\t{ _x( 'View Details', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t{ isOpen && (\n\t\t\t\t<Popover\n\t\t\t\t\tclassName=\"nab-license-form\"\n\t\t\t\t\tnoArrow={ false }\n\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tvalue={ license }\n\t\t\t\t\t\tplaceholder={ _x(\n\t\t\t\t\t\t\t'Type your license here',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tclassName=\"nab-license-form__text-control\"\n\t\t\t\t\t\tonChange={ ( v ) => setLicense( trim( v ) ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tisBusy={ validating }\n\t\t\t\t\t\tclassName=\"nab-license-form__button\"\n\t\t\t\t\t\tonClick={ validate }\n\t\t\t\t\t\tdisabled={ ! license.length || validating }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ validating\n\t\t\t\t\t\t\t? _x( 'Validating', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t\t\t: _x( 'Validate', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</Popover>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport { Button, ExternalLink } from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { createInterpolateElement, useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport {\n\tQuotaMeter,\n\tQuotaPurchasePopover,\n\tConfirmationDialog,\n} from '@nab/components';\nimport { store as NAB_DATA } from '@nab/data';\nimport { formatI18nDate } from '@nab/date';\nimport { getSubscribeLabel, getSubscribeLink } from '@nab/utils';\nimport type { SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { AgencyPlan } from './agency-plan';\n\nimport { AddonsPopover } from '../addons-popover';\nimport { LicensePopover } from '../license-popover';\nimport { UpgradePopover } from '../upgrade-popover';\nimport { store as NAB_ACCOUNT } from '../../store';\n\nexport type PlanProps = {\n\treadonly siteId: SiteId;\n};\n\nexport const Plan = ( { siteId }: PlanProps ): JSX.Element => {\n\tconst quota = useSubscriptionQuota();\n\tconst isAgencySummary = useIsAgencySummary();\n\n\tif ( isAgencySummary ) {\n\t\treturn <AgencyPlan siteId={ siteId } />;\n\t}\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-plan\">\n\t\t\t<div className=\"nab-plan__content\">\n\t\t\t\t<Title />\n\t\t\t\t<Explanation />\n\t\t\t\t<QuotaMeter\n\t\t\t\t\tdisabled={ quota.isLoading }\n\t\t\t\t\tsubscriptionQuota={ quota.data }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<Actions />\n\t\t</div>\n\t);\n};\n\n// ============\n// HELPER VIEWS\n// ============\n\nconst Title = () => {\n\tconst { period } = usePeriodAndPlan();\n\tconst productDisplay = useProductDisplay();\n\tconst state = useSubscriptionState();\n\tconst isFree = useIsFree();\n\n\tconst periodLabel =\n\t\t'month' === period\n\t\t\t? _x( 'Monthly', 'text', 'nelio-ab-testing' )\n\t\t\t: _x( 'Yearly', 'text', 'nelio-ab-testing' );\n\n\treturn (\n\t\t<h3 className=\"nab-plan__title\">\n\t\t\t{ productDisplay }\n\t\t\t<span className=\"nab-plan__period\">\n\t\t\t\t{ isFree\n\t\t\t\t\t? _x( 'Free', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t: periodLabel }\n\t\t\t</span>\n\n\t\t\t{ 'canceled' === state && (\n\t\t\t\t<span className=\"nab-plan__state\">\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Canceled',\n\t\t\t\t\t\t'text (account state)',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t</h3>\n\t);\n};\n\nconst Explanation = () => {\n\tconst isFree = useIsFree();\n\tconst isInvitation = useIsInvitation();\n\tconst state = useSubscriptionState();\n\tconst isSubscriptionDeprecated = useIsSubscriptionDeprecated();\n\tconst deactivationDate = useDeactivationDate();\n\tconst nextChargeDate = useNextChargeDate();\n\tconst nextChargeTotal = useNextChargeTotal();\n\n\tif ( isFree ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t{ _x(\n\t\t\t\t\t'You are using the free version of Nelio A/B Testing.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( isInvitation ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %s: Date. */\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'Youre currently using a premium version of Nelio A/B Testing for free. This invitation will end on %s and the plugin will be downgraded to a free plan. Please consider subscribing before that.',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t`<date>${ formatI18nDate( nextChargeDate ) }</date>`\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tdate: <span className=\"nab-plan__renewal-date\" />,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( 'canceled' === state ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %s: Date. */\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'Your subscription will end on %s.',\n\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t`<date>${ formatI18nDate( deactivationDate ) }</date>`\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tdate: <span className=\"nab-plan__renewal-date\" />,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( isSubscriptionDeprecated ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'<link>Contact us</link> to get additional features to manage your account.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tlink: (\n\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t<a href=\"mailto:support@neliosoftware.com\" />\n\t\t\t\t\t\t),\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"nab-plan__renewal\">\n\t\t\t{ createInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %1$s: Price and currency. %2$s: Date. */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'Next charge will be %1$s on %2$s.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\t`<money>${ nextChargeTotal }</money>`,\n\t\t\t\t\t`<date>${ formatI18nDate( nextChargeDate ) }</date>`\n\t\t\t\t),\n\t\t\t\t{\n\t\t\t\t\tdate: <span className=\"nab-plan__renewal-date\" />,\n\t\t\t\t\tmoney: <span className=\"nab-plan__renewal-amount\" />,\n\t\t\t\t}\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\nconst Actions = () => {\n\tconst isFree = useIsFree();\n\tconst isInvitation = useIsInvitation();\n\tconst state = useSubscriptionState();\n\tconst isSubscriptionDeprecated = useIsSubscriptionDeprecated();\n\n\tif ( isSubscriptionDeprecated ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__actions\">\n\t\t\t\t<BuyMoreQuotaLink />\n\t\t\t\t<UpgradeLink />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( isFree || isInvitation ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__actions\">\n\t\t\t\t<AddLicenseAction />\n\t\t\t\t<SubscribeAction />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( 'canceled' === state ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__actions\">\n\t\t\t\t<ReactivateSubscriptionAction />\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"nab-plan__actions nab-plan__actions--separated\">\n\t\t\t<CancelSubscriptionAction />\n\t\t\t<div className=\"nab-plan__actions-group\">\n\t\t\t\t<BuyMoreQuotaAction />\n\t\t\t\t<AddonsAction />\n\t\t\t\t<UpgradeAction />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst AddLicenseAction = () => {\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\n\treturn (\n\t\t<span className=\"nab-plan__action-container\">\n\t\t\t<Button\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setPopoverVisible( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Use License', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<LicensePopover\n\t\t\t\tplacement=\"bottom\"\n\t\t\t\tonFocusOutside={ () => setPopoverVisible( false ) }\n\t\t\t\tonClick={ () => setPopoverVisible( false ) }\n\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t/>\n\t\t</span>\n\t);\n};\n\nconst SubscribeAction = () => {\n\tconst today = useToday();\n\n\treturn (\n\t\t<ExternalLink\n\t\t\tclassName=\"nab-plan__action components-button is-primary\"\n\t\t\thref={ getSubscribeLink( today ) }\n\t\t>\n\t\t\t{ getSubscribeLabel( today ) }\n\t\t</ExternalLink>\n\t);\n};\n\nconst BuyMoreQuotaLink = () => {\n\tconst { plan } = usePeriodAndPlan();\n\n\tif ( 'enterprise' === plan ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ExternalLink\n\t\t\tclassName=\"nab-plan__action components-button is-secondary\"\n\t\t\thref=\"mailto:support@neliosoftware.com?subject=Buy%20Quota\"\n\t\t>\n\t\t\t{ _x( 'Buy More Quota', 'command', 'nelio-ab-testing' ) }\n\t\t</ExternalLink>\n\t);\n};\n\nconst UpgradeLink = () => {\n\treturn (\n\t\t<ExternalLink\n\t\t\tclassName=\"nab-plan__action components-button is-primary\"\n\t\t\thref=\"mailto:support@neliosoftware.com?subject=Upgrade%20Subscription\"\n\t\t>\n\t\t\t{ _x( 'Upgrade Subscription', 'command', 'nelio-ab-testing' ) }\n\t\t</ExternalLink>\n\t);\n};\n\nconst CancelSubscriptionAction = () => {\n\tconst [ isDialogOpen, setDialogOpen ] = useState( false );\n\tconst { cancelSubscription } = useDispatch( NAB_ACCOUNT );\n\tconst nextChargeDate = useNextChargeDate();\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tisDestructive\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setDialogOpen( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Cancel Subscription', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Cancel Subscription?',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ sprintf(\n\t\t\t\t\t/* translators: %s: Date. */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'Canceling your subscription will cause it not to renew. If you cancel your subscrition, it will continue until %s. Then, the subscription will expire and will not be invoiced again. Do you want to cancel your subscription?',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tformatI18nDate( nextChargeDate )\n\t\t\t\t) }\n\t\t\t\tisDestructive\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Cancel Subscription',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tcancelLabel={ _x( 'Back', 'command', 'nelio-ab-testing' ) }\n\t\t\t\tonCancel={ () => setDialogOpen( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tsetDialogOpen( false );\n\t\t\t\t\tvoid cancelSubscription();\n\t\t\t\t} }\n\t\t\t\tisOpen={ isDialogOpen }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst BuyMoreQuotaAction = () => {\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\tconst { plan } = usePeriodAndPlan();\n\n\tif ( 'enterprise' === plan ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setPopoverVisible( ! isPopoverVisible ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Buy More Quota', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<QuotaPurchasePopover\n\t\t\t\tplacement=\"bottom\"\n\t\t\t\tonClick={ () => setPopoverVisible( false ) }\n\t\t\t\tonFocusOutside={ () => setPopoverVisible( false ) }\n\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst AddonsAction = () => {\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setPopoverVisible( ! isPopoverVisible ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Addons', 'text', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<AddonsPopover\n\t\t\t\tplacement=\"bottom\"\n\t\t\t\tonFocusOutside={ () => setPopoverVisible( false ) }\n\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst UpgradeAction = () => {\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setPopoverVisible( ! isPopoverVisible ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Upgrade Subscription', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<UpgradePopover\n\t\t\t\tplacement=\"bottom\"\n\t\t\t\tonClick={ () => setPopoverVisible( false ) }\n\t\t\t\tonFocusOutside={ () => setPopoverVisible( false ) }\n\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst ReactivateSubscriptionAction = () => {\n\tconst [ isDialogOpen, setDialogOpen ] = useState( false );\n\tconst { uncancelSubscription } = useDispatch( NAB_ACCOUNT );\n\tconst nextChargeDate = useNextChargeDate();\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setDialogOpen( true ) }\n\t\t\t>\n\t\t\t\t{ _x(\n\t\t\t\t\t'Reactivate Subscription',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</Button>\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Reactivate Subscription?',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ sprintf(\n\t\t\t\t\t/* translators: %s: Date. */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'Reactivating your subscription will cause it to renew on %s. Do you want to reactivate your subscription?',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tformatI18nDate( nextChargeDate )\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Reactivate Subscription',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tcancelLabel={ _x( 'Back', 'command', 'nelio-ab-testing' ) }\n\t\t\t\tonCancel={ () => setDialogOpen( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tsetDialogOpen( false );\n\t\t\t\t\tvoid uncancelSubscription();\n\t\t\t\t} }\n\t\t\t\tisOpen={ isDialogOpen }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst usePeriodAndPlan = () =>\n\tuseSelect(\n\t\t( select ) => ( {\n\t\t\tperiod: select( NAB_ACCOUNT ).getPeriod(),\n\t\t\tplan: select( NAB_ACCOUNT ).getPlan(),\n\t\t} ),\n\t\t[]\n\t);\n\nconst useSubscriptionState = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getState(), [] );\n\nconst useIsSubscriptionDeprecated = () =>\n\tuseSelect(\n\t\t( select ) => select( NAB_ACCOUNT ).isSubscriptionDeprecated(),\n\t\t[]\n\t);\n\nconst useIsFree = () =>\n\tuseSelect( ( select ) => 'free' === select( NAB_ACCOUNT ).getMode(), [] );\n\nconst useIsInvitation = () =>\n\tuseSelect(\n\t\t( select ) => 'invitation' === select( NAB_ACCOUNT ).getMode(),\n\t\t[]\n\t);\n\nconst useIsAgencySummary = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).isAgency() &&\n\t\t\t! select( NAB_ACCOUNT ).isAgencyFullViewEnabled(),\n\t\t[]\n\t);\n\nconst useProductDisplay = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getProductDisplay(), [] );\n\nconst useDeactivationDate = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getDeactivationDate() ||\n\t\t\tselect( NAB_DATA ).getToday(),\n\t\t[]\n\t);\n\nconst useNextChargeDate = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getNextChargeDate() ||\n\t\t\tselect( NAB_DATA ).getToday(),\n\t\t[]\n\t);\n\nconst useNextChargeTotal = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getNextChargeTotal(), [] );\n\nconst useToday = () =>\n\tuseSelect( ( select ) => select( NAB_DATA ).getToday(), [] );\n\nconst useSubscriptionQuota = () =>\n\tuseSelect(\n\t\t( select ) => ( {\n\t\t\tdata: select( NAB_ACCOUNT ).getSubscriptionQuota(),\n\t\t\tisLoading: ! select( NAB_ACCOUNT ).hasFinishedResolution(\n\t\t\t\t'getSubscriptionQuota'\n\t\t\t),\n\t\t} ),\n\t\t[]\n\t);\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { NoticeList } from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\nimport { store as NOTICES } from '@safe-wordpress/notices';\n\n/**\n * External dependencies\n */\nimport { LoadingAnimation } from '@nab/components';\n\n/**\n * Internal dependencies\n */\nimport { store as NAB_ACCOUNT } from '../../store';\n\nexport type AccountProviderProps = {\n\treadonly children: JSX.Element | JSX.Element[];\n};\n\nexport const AccountProvider = ( {\n\tchildren,\n}: AccountProviderProps ): JSX.Element => {\n\tconst isLoading = useIsLoading();\n\tconst hasError = useHasError();\n\tconst notices = useNotices();\n\tconst { removeNotice } = useDispatch( NOTICES );\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<LoadingAnimation\n\t\t\t\ttext={ _x( 'Loading', 'text', 'nelio-ab-testing' ) }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ notices }\n\t\t\t\tclassName=\"components-editor-notices__pinned\"\n\t\t\t\tonRemove={ removeNotice }\n\t\t\t/>\n\t\t\t{ ! hasError && children }\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsLoading = () =>\n\tuseSelect( ( select ) => {\n\t\tselect( NAB_ACCOUNT ).getAccount();\n\t\treturn ! select( NAB_ACCOUNT ).hasFinishedResolution( 'getAccount' );\n\t}, [] );\n\nconst useHasError = () =>\n\tuseSelect(\n\t\t( select ) => select( NAB_ACCOUNT ).hasResolutionFailed( 'getAccount' ),\n\t\t[]\n\t);\n\nconst useNotices = () =>\n\tuseSelect( ( select ) => select( NOTICES ).getNotices(), [] );\n","/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tCheckboxControl,\n\tModal,\n\tTextControl,\n} from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport { noop } from 'lodash';\nimport { HelpIcon, ConfirmationDialog } from '@nab/components';\nimport { store as NAB_DATA } from '@nab/data';\nimport { numberFormat } from '@nab/i18n';\nimport type { Site as SiteType, SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { store as NAB_ACCOUNT } from '../../store';\n\nexport type SiteProps = SiteType & {\n\treadonly displayQuotaLimit?: boolean;\n};\n\nexport const Site = ( {\n\tdisplayQuotaLimit,\n\tactualUrl,\n\tid,\n\tisCurrentSite,\n\tusedMonthlyQuota,\n\tmaxMonthlyQuota,\n\turl,\n}: SiteProps ): JSX.Element => (\n\t<li className=\"nab-site\">\n\t\t<span className=\"nab-site__details\">\n\t\t\t{ isCurrentSite ? (\n\t\t\t\t<span className=\"nab-site__url\">\n\t\t\t\t\t<span className=\"nab-site__current-site\">\n\t\t\t\t\t\t{ actualUrl }\n\t\t\t\t\t\t{ !! actualUrl && url !== actualUrl && (\n\t\t\t\t\t\t\t<HelpIcon\n\t\t\t\t\t\t\t\tclassName=\"nab-site__current-site-help\"\n\t\t\t\t\t\t\t\ttype=\"info\"\n\t\t\t\t\t\t\t\ttext={ sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: Site URL. */\n\t\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t\t'Activation URL is %s',\n\t\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"nab-site__label\">\n\t\t\t\t\t\t{ _x( 'This site', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t) : (\n\t\t\t\t<span className=\"nab-site__url\">\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={ url }\n\t\t\t\t\t\tclassName={ clsx( 'nab-site__link', {\n\t\t\t\t\t\t\t'nab-site__link--current': isCurrentSite,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ url }\n\t\t\t\t\t</a>\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t{ !! displayQuotaLimit && (\n\t\t\t\t<small>\n\t\t\t\t\t<strong>\n\t\t\t\t\t\t{ _x( 'Quota Usage', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\t\t{ ': ' }\n\t\t\t\t\t</strong>\n\t\t\t\t\t{ numberFormat( usedMonthlyQuota ) }\n\t\t\t\t\t{ ' / ' }\n\t\t\t\t\t{ stringifyMaxQuota( maxMonthlyQuota ) }\n\t\t\t\t</small>\n\t\t\t) }\n\t\t</span>\n\n\t\t<LimitQuotaAction siteId={ id } />\n\t\t<DeleteAction siteId={ id } />\n\t</li>\n);\n\n// ==============\n// INTERNAL VIEWS\n// ==============\n\ntype ActionProps = {\n\treadonly siteId: SiteId;\n};\n\nconst LimitQuotaAction = ( { siteId }: ActionProps ) => {\n\tconst [ isDialogOpen, setDialogOpen ] = useState( false );\n\tconst canLimitQuota = useSelect(\n\t\t( select ) => select( NAB_DATA ).canLimitSiteQuota(),\n\t\t[]\n\t);\n\tconst { limitSiteQuota } = useDispatch( NAB_ACCOUNT );\n\tconst currentSiteLimit = useSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getSite( siteId )?.maxMonthlyQuota ?? -1,\n\t\t[ siteId ]\n\t);\n\n\tif ( ! canLimitQuota ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"tertiary\"\n\t\t\t\tclassName=\"nab-site__limit-quota-button\"\n\t\t\t\tonClick={ () => setDialogOpen( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Limit Quota', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t{ isDialogOpen && (\n\t\t\t\t<SiteQuotaDialog\n\t\t\t\t\tinitialValue={ `${ currentSiteLimit }` }\n\t\t\t\t\tonClose={ () => setDialogOpen( false ) }\n\t\t\t\t\tonSave={ ( value ) => limitSiteQuota( siteId, value ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nconst DeleteAction = ( { siteId }: ActionProps ) => {\n\tconst [ isDialogOpen, setDialogOpen ] = useState( false );\n\tconst { unlinkSite } = useDispatch( NAB_ACCOUNT );\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tisDestructive\n\t\t\t\tvariant=\"tertiary\"\n\t\t\t\tclassName=\"nab-site__unlink-button\"\n\t\t\t\tonClick={ () => setDialogOpen( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Unlink Site', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x( 'Unlink Site?', 'text', 'nelio-ab-testing' ) }\n\t\t\t\ttext={ _x(\n\t\t\t\t\t'This will remove the subscription license from the site.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x( 'Unlink', 'command', 'nelio-ab-testing' ) }\n\t\t\t\tisOpen={ isDialogOpen }\n\t\t\t\tonCancel={ () => setDialogOpen( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tsetDialogOpen( false );\n\t\t\t\t\tvoid unlinkSite( siteId );\n\t\t\t\t} }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst SiteQuotaDialog = ( {\n\tinitialValue,\n\tonClose,\n\tonSave: save,\n}: {\n\treadonly initialValue: string;\n\treadonly onClose: () => void;\n\treadonly onSave: ( value: number ) => Promise< unknown >;\n} ) => {\n\tconst [ isSaving, setSaving ] = useState( false );\n\tconst [ value, setValue ] = useState( initialValue );\n\n\tconst isDirty = value !== initialValue;\n\n\tconst isUnlimited = ( n: number ) => n === -1;\n\tconst onSave = () => {\n\t\tconst intValue = Number.parseInt( value );\n\t\tconst limit = isUnlimited( intValue ) ? -1 : Math.abs( intValue );\n\t\tsetSaving( true );\n\t\tsave( limit )\n\t\t\t.then( onClose )\n\t\t\t.catch( () => setSaving( false ) );\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"site-quota-dialog\"\n\t\t\ttitle={ _x( 'Site Quota', 'text', 'nelio-ab-testing' ) }\n\t\t\tonRequestClose={ noop }\n\t\t\tisDismissible={ false }\n\t\t>\n\t\t\t<CheckboxControl\n\t\t\t\tchecked={ '-1' !== value }\n\t\t\t\tonChange={ ( enabled ) => setValue( enabled ? '1000' : '-1' ) }\n\t\t\t\tlabel={ _x(\n\t\t\t\t\t'Limit quota usage in this site',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t{ '-1' !== value && (\n\t\t\t\t<TextControl\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tmin=\"0\"\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ setValue }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<div className=\"site-quota-dialog__actions\">\n\t\t\t\t<Button variant=\"secondary\" onClick={ onClose }>\n\t\t\t\t\t{ isDirty\n\t\t\t\t\t\t? _x( 'Discard Changes', 'command', 'nelio-ab-testing' )\n\t\t\t\t\t\t: _x( 'Close', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tonClick={ onSave }\n\t\t\t\t\tdisabled={ ! isDirty || isSaving }\n\t\t\t\t>\n\t\t\t\t\t{ isSaving\n\t\t\t\t\t\t? _x( 'Saving', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t\t: _x( 'Save', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst stringifyMaxQuota = ( n: number ) =>\n\t-1 === n ? '' : numberFormat( n );\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { Spinner } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { EMPTY_ARRAY } from '@nab/utils';\nimport type { Site as SiteInstance } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { Site } from '../site';\nimport './style.scss';\nimport { store as NAB_ACCOUNT } from '../../store';\n\nexport const Sites = (): JSX.Element | null => {\n\tconst isVisible = useIsVisible();\n\tconst isLoading = useIsLoading();\n\tconst sites = useSites();\n\tconst sitesAllowed = useSitesAllowed();\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\tconst sitesConnected = sites.length;\n\tconst displayQuotaLimit =\n\t\tsites.length > 1 || sites.some( ( s ) => 0 <= s.maxMonthlyQuota );\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-sites\">\n\t\t\t<h3 className=\"nab-sites__title\">\n\t\t\t\t{ _x( 'Sites', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t{ isLoading && <Spinner /> }\n\t\t\t\t<span className=\"nab-sites__availability\">\n\t\t\t\t\t{ `${ sitesConnected } / ${ sitesAllowed }` }\n\t\t\t\t</span>\n\t\t\t</h3>\n\n\t\t\t<ul className=\"nab-sites__list\">\n\t\t\t\t{ ! isLoading &&\n\t\t\t\t\tsites.map( ( site ) => (\n\t\t\t\t\t\t<Site\n\t\t\t\t\t\t\tkey={ site.id }\n\t\t\t\t\t\t\tdisplayQuotaLimit={ displayQuotaLimit }\n\t\t\t\t\t\t\t{ ...site }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_ACCOUNT ).hasFinishedResolution( 'getSites', [\n\t\t\t\tselect( NAB_ACCOUNT ).getSubscriptionId(),\n\t\t\t] ),\n\t\t[]\n\t);\n\nconst useIsVisible = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getMode, isAgency, isAgencyFullViewEnabled } =\n\t\t\tselect( NAB_ACCOUNT );\n\t\tconst isSubscribed = getMode() === 'regular';\n\t\tconst isAgencySummary = isAgency() && ! isAgencyFullViewEnabled();\n\t\treturn isSubscribed && ! isAgencySummary;\n\t}, [] );\n\nconst useSites = (): ReadonlyArray< SiteInstance > =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getSites(\n\t\t\t\tselect( NAB_ACCOUNT ).getSubscriptionId()\n\t\t\t) || EMPTY_ARRAY,\n\t\t[]\n\t);\n\nconst useSitesAllowed = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t'enterprise' === select( NAB_ACCOUNT ).getPlan()\n\t\t\t\t? ''\n\t\t\t\t: select( NAB_ACCOUNT ).getSitesAllowed(),\n\t\t[]\n\t);\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport {\n\tPopover,\n\tButton,\n\tSpinner,\n\tCheckboxControl,\n\tSelectControl,\n} from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { range, toPairs } from 'lodash';\nimport { store as NAB_DATA } from '@nab/data';\nimport { getLocale } from '@nab/date';\nimport type {\n\tCurrency,\n\tFastSpringProduct,\n\tFastSpringProductId,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { store as NAB_ACCOUNT } from '../../store';\n\nimport type { UpgradePopoverProps } from './props';\n\ntype Props = UpgradePopoverProps & {\n\treadonly back: false | ( () => void );\n};\n\nconst PRODUCTS = {\n\tmonthly: {\n\t\tproduct: 'nab-enterprise-monthly' as FastSpringProductId,\n\t\tquotaAddon: 'nab-pageviews-monthly' as FastSpringProductId,\n\t},\n\tyearly: {\n\t\tproduct: 'nab-enterprise-yearly' as FastSpringProductId,\n\t\tquotaAddon: 'nab-pageviews-yearly' as FastSpringProductId,\n\t},\n} as const;\n\nconst PRODUCT_LIST = [ PRODUCTS.monthly.product, PRODUCTS.yearly.product ];\n\nconst BASE_VIEWS = 200_000;\nconst ADDON_VIEWS = 50_000;\nconst ADDON_OPTIONS = [ 0, 2, 4, 6, 11, 16 ];\n\nexport const EnterpriseUpgradePopover = ( {\n\tback,\n\tisOpen,\n\tplacement,\n\tonClick,\n\tonFocusOutside,\n}: Props ): JSX.Element | null => {\n\tconst isLoading = useIsLoading();\n\tconst products = useProducts();\n\n\tconst { wasYearly, previousAddonQuantity } = useCurrentStatus();\n\n\tconst options = expandOptionsAndDropFirst(\n\t\t[\n\t\t\tpreviousAddonQuantity,\n\t\t\t...ADDON_OPTIONS.filter( ( v ) => v > previousAddonQuantity ),\n\t\t],\n\t\t7\n\t);\n\n\tconst [ addonQuantity, setAddonQuantity ] = useState( options[ 0 ] );\n\tconst [ isYearly, setYearly ] = useState( wasYearly );\n\n\tconst price = useTotal( isYearly ? 'yearly' : 'monthly', addonQuantity );\n\tconst pricePeriod = wasYearly\n\t\t? '/' + _x( 'year', 'text', 'nelio-ab-testing' )\n\t\t: '';\n\tconst { upgradeSubscription } = useDispatch( NAB_ACCOUNT );\n\n\tif ( ! isOpen ) {\n\t\treturn null;\n\t}\n\n\tif (\n\t\tPRODUCT_LIST.some(\n\t\t\t( p ) => ! products.map( ( x ) => x.id ).includes( p )\n\t\t)\n\t) {\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tclassName=\"nab-enterprise-upgrade-form nab-enterprise-upgrade-form nab-enterprise-upgrade-form--error\"\n\t\t\t\tnoArrow={ false }\n\t\t\t\tplacement={ placement }\n\t\t\t\tonFocusOutside={ onFocusOutside }\n\t\t\t>\n\t\t\t\t<p>\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Something went wrong while retrieving plans. Please contact Nelio support.',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</p>\n\t\t\t</Popover>\n\t\t);\n\t}\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tclassName=\"nab-enterprise-upgrade-form nab-enterprise-upgrade-form--loading\"\n\t\t\t\tnoArrow={ false }\n\t\t\t\tplacement={ placement }\n\t\t\t\tonFocusOutside={ onFocusOutside }\n\t\t\t>\n\t\t\t\t<Spinner />\n\t\t\t</Popover>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"nab-enterprise-upgrade-form\"\n\t\t\tnoArrow={ false }\n\t\t\tplacement={ placement }\n\t\t\tonFocusOutside={ onFocusOutside }\n\t\t>\n\t\t\t<div className=\"nab-enterprise-upgrade-form__container\">\n\t\t\t\t<h3>\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t'Enterprise%1$s',\n\t\t\t\t\t\tprice ? ` (${ price }${ pricePeriod })` : ''\n\t\t\t\t\t) }\n\t\t\t\t</h3>\n\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t'Monthly Page Views',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t\tvalue={ `${ addonQuantity }` }\n\t\t\t\t\toptions={ options.map( ( value ) => ( {\n\t\t\t\t\t\tvalue: `${ value }`,\n\t\t\t\t\t\tlabel: formatViews( BASE_VIEWS + value * ADDON_VIEWS ),\n\t\t\t\t\t} ) ) }\n\t\t\t\t\tonChange={ ( v ) =>\n\t\t\t\t\t\tsetAddonQuantity( Number.parseInt( v ) )\n\t\t\t\t\t}\n\t\t\t\t\thelp={\n\t\t\t\t\t\tpreviousAddonQuantity >= 0\n\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: Number of page views. */\n\t\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t\t'Currently set to %s',\n\t\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tformatViews(\n\t\t\t\t\t\t\t\t\t\tBASE_VIEWS +\n\t\t\t\t\t\t\t\t\t\t\tpreviousAddonQuantity * ADDON_VIEWS\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t/>\n\n\t\t\t\t{ ! wasYearly && (\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tchecked={ isYearly }\n\t\t\t\t\t\tonChange={ ( checked ) => setYearly( checked ) }\n\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t'Pay yearly',\n\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\n\t\t\t<div className=\"nab-enterprise-upgrade-form__button-container\">\n\t\t\t\t{ back && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tclassName=\"nab-enterprise-upgrade-form__button\"\n\t\t\t\t\t\tonClick={ back }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ _x( 'Back', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tclassName=\"nab-enterprise-upgrade-form__button\"\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonClick();\n\t\t\t\t\t\tvoid upgradeSubscription(\n\t\t\t\t\t\t\tisYearly\n\t\t\t\t\t\t\t\t? PRODUCTS.yearly.product\n\t\t\t\t\t\t\t\t: PRODUCTS.monthly.product,\n\t\t\t\t\t\t\taddonQuantity\n\t\t\t\t\t\t);\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Upgrade Subscription',\n\t\t\t\t\t\t'command (subscription)',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Popover>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_DATA ).hasFinishedResolution( 'getProducts' ),\n\t\t[]\n\t);\n\nconst useProducts = () =>\n\tuseSelect( ( select ) => select( NAB_DATA ).getProducts(), [] );\n\nconst useTotal = ( mode: 'yearly' | 'monthly', quantity: number ) =>\n\tuseSelect(\n\t\t( select ) => {\n\t\t\tconst products = select( NAB_DATA ).getProducts();\n\t\t\tconst currency = select( NAB_ACCOUNT ).getCurrency() || 'USD';\n\n\t\t\tconst baseProduct = products.find(\n\t\t\t\t( p ) => p.id === PRODUCTS[ mode ].product\n\t\t\t);\n\t\t\tconst addonProduct = products.find(\n\t\t\t\t( p ) => p.id === PRODUCTS[ mode ].quotaAddon\n\t\t\t);\n\n\t\t\tif ( ! baseProduct || ! addonProduct ) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tconst price = ( p: FastSpringProduct ) =>\n\t\t\t\tp.price[ currency ] ?? p.price.USD ?? 0;\n\n\t\t\tconst perc = toPairs( addonProduct.quantityDiscounts ?? {} )\n\t\t\t\t.map( ( [ q, d ] ) => [ Number.parseInt( q ), d ] as const )\n\t\t\t\t.reduce( ( r, [ q, d ] ) => ( q <= quantity ? d : r ), 0 );\n\t\t\tconst discount = perc / 100;\n\t\t\tconst total =\n\t\t\t\tprice( baseProduct ) +\n\t\t\t\tprice( addonProduct ) * quantity * ( 1 - discount );\n\n\t\t\treturn formatPrice( total, currency );\n\t\t},\n\t\t[ mode, quantity ]\n\t);\n\nconst useCurrentStatus = () =>\n\tuseSelect(\n\t\t( select ) => ( {\n\t\t\twasYearly: 'year' === select( NAB_ACCOUNT ).getPeriod(),\n\t\t\tpreviousAddonQuantity:\n\t\t\t\tselect( NAB_ACCOUNT ).getPlan() !== 'enterprise'\n\t\t\t\t\t? -1\n\t\t\t\t\t: select( NAB_ACCOUNT ).getExtraQuotaUnits(),\n\t\t} ),\n\t\t[]\n\t);\n\n// =======\n// HELPERS\n// =======\n\nconst formatter = ( () => {\n\ttry {\n\t\treturn new Intl.NumberFormat( getLocale().replace( '_', '-' ) );\n\t} catch ( _ ) {\n\t\treturn new Intl.NumberFormat( 'en-US' );\n\t}\n} )();\n\nconst formatPrice = ( price: number, currency: Currency ) =>\n\t'EUR' === currency\n\t\t? `${ formatter.format( Math.ceil( price ) ) }`\n\t\t: `USD${ formatter.format( Math.ceil( price ) ) }`;\n\nconst formatViews = ( value: number ) => formatter.format( value );\n\nconst expandOptionsAndDropFirst = (\n\tvalues: number[],\n\toptions: number\n): [ number, ...number[] ] => {\n\tconst max = values[ values.length - 1 ] || 0;\n\tconst result = [\n\t\t...values,\n\t\t...range( 1, options ).map( ( i ) => max + i * 20 ),\n\t].slice( 1, options );\n\treturn [ result[ 0 ] ?? 0, ...result.slice( 1 ) ];\n};\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { EnterpriseUpgradePopover } from './enterprise';\nimport { RegularUpgradePopover } from './regular';\nimport { store as NAB_ACCOUNT } from '../../store';\n\nimport type { UpgradePopoverProps } from './props';\nexport type { UpgradePopoverProps } from './props';\n\nexport const UpgradePopover = (\n\tprops: UpgradePopoverProps\n): JSX.Element | null => {\n\tconst currentPlan = useSelect(\n\t\t( select ) => select( NAB_ACCOUNT ).getPlan(),\n\t\t[]\n\t);\n\tconst [ interestedInEnterprise, enableEnterprise ] = useState( false );\n\n\treturn 'enterprise' === currentPlan || interestedInEnterprise ? (\n\t\t<EnterpriseUpgradePopover\n\t\t\tback={\n\t\t\t\t'enterprise' !== currentPlan &&\n\t\t\t\t( () => enableEnterprise( false ) )\n\t\t\t}\n\t\t\t{ ...props }\n\t\t/>\n\t) : (\n\t\t<RegularUpgradePopover\n\t\t\tshowEnterprise={ () => enableEnterprise( true ) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport {\n\tPopover,\n\tButton,\n\tSpinner,\n\tRadioControl,\n} from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { useCallback, useMemo, useState } from '@safe-wordpress/element';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { mapValues, trim } from 'lodash';\nimport { store as NAB_DATA } from '@nab/data';\nimport { getLocale } from '@nab/date';\nimport type {\n\tCurrency,\n\tFSLocalizedString,\n\tFastSpringProduct,\n\tFastSpringProductId,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { store as NAB_ACCOUNT } from '../../store';\n\nimport type { UpgradePopoverProps } from './props';\n\ntype Props = UpgradePopoverProps & {\n\treadonly showEnterprise: () => void;\n};\n\nexport const RegularUpgradePopover = ( {\n\tisOpen,\n\tplacement,\n\tonClick,\n\tonFocusOutside,\n\tshowEnterprise,\n}: Props ): JSX.Element | null => {\n\tconst isLoading = useIsLoading();\n\tconst products = useProducts();\n\tconst currency = useCurrency();\n\tconst { upgradeSubscription } = useDispatch( NAB_ACCOUNT );\n\tconst [ selectedOption, setSelectedOption ] = useState(\n\t\t'' as FastSpringProductId\n\t);\n\n\tif ( ! isOpen ) {\n\t\treturn null;\n\t}\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tclassName=\"nab-regular-upgrade-form nab-regular-upgrade-form--loading\"\n\t\t\t\tnoArrow={ false }\n\t\t\t\tplacement={ placement }\n\t\t\t\tonFocusOutside={ onFocusOutside }\n\t\t\t>\n\t\t\t\t<Spinner />\n\t\t\t</Popover>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"nab-regular-upgrade-form\"\n\t\t\tnoArrow={ false }\n\t\t\tplacement={ placement }\n\t\t\tonFocusOutside={ onFocusOutside }\n\t\t>\n\t\t\t<div className=\"nab-regular-upgrade-form__product-container\">\n\t\t\t\t<h3>\n\t\t\t\t\t{ _x( 'Subscription Plans', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t</h3>\n\t\t\t\t<RadioControl\n\t\t\t\t\tselected={ selectedOption }\n\t\t\t\t\toptions={ products.map(\n\t\t\t\t\t\t( {\n\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\tdisplayName,\n\t\t\t\t\t\t\tprice,\n\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\tenabledAddons,\n\t\t\t\t\t\t} ) => ( {\n\t\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t\t<div className=\"nab-regular-upgrade-form__product\">\n\t\t\t\t\t\t\t\t\t<strong className=\"nab-regular-upgrade-form__product-name\">\n\t\t\t\t\t\t\t\t\t\t{ localize( displayName ) }\n\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName=\"nab-regular-upgrade-form__product-price\"\n\t\t\t\t\t\t\t\t\t\ttitle={ currency }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ formatPrice(\n\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\t( price[ currency ] || 0 ) +\n\t\t\t\t\t\t\t\t\t\t\t\tenabledAddons.reduce(\n\t\t\t\t\t\t\t\t\t\t\t\t\t( acc, a ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tacc +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t( a.price[ currency ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0 ),\n\t\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tcurrency\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"nab-regular-upgrade-form__product-description\">\n\t\t\t\t\t\t\t\t\t\t{ localize( description ) }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div> // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t\t\t\t\t ) as any as string,\n\t\t\t\t\t\t\tvalue: id,\n\t\t\t\t\t\t} )\n\t\t\t\t\t) }\n\t\t\t\t\tonChange={ ( option ) => {\n\t\t\t\t\t\tif ( ! option ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( 'nab-enterprise-placeholder' === option ) {\n\t\t\t\t\t\t\tshowEnterprise();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetSelectedOption( option );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"nab-regular-upgrade-form__button-container\">\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tclassName=\"nab-regular-upgrade-form__button\"\n\t\t\t\t\tdisabled={ ! selectedOption }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonClick();\n\t\t\t\t\t\tvoid upgradeSubscription( selectedOption, 0 );\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Upgrade Subscription',\n\t\t\t\t\t\t'command',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Popover>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_DATA ).hasFinishedResolution( 'getProducts' ),\n\t\t[]\n\t);\n\nconst useProducts = (): ReadonlyArray<\n\tPick<\n\t\tFastSpringProduct,\n\t\t'id' | 'displayName' | 'price' | 'description'\n\t> & {\n\t\treadonly enabledAddons: ReadonlyArray< FastSpringProduct >;\n\t}\n> => {\n\tconst { currentProduct, products, enabledAddons } = useSelect(\n\t\t( select ) => ( {\n\t\t\tproducts: select( NAB_DATA ).getProducts(),\n\t\t\tcurrentProduct: select( NAB_ACCOUNT ).getSubscriptionProduct(),\n\t\t\tenabledAddons: select( NAB_ACCOUNT ).getSubscriptionAddons(),\n\t\t} ),\n\t\t[]\n\t);\n\n\tconst allUpgradeableProducts = products.filter( ( { upgradeableFrom } ) =>\n\t\tupgradeableFrom.includes( currentProduct )\n\t);\n\tconst upgradeableProducts = allUpgradeableProducts.filter(\n\t\t( p ) => ! p.id.includes( 'enterprise' )\n\t);\n\n\tconst enterpriseProduct =\n\t\tallUpgradeableProducts.find( ( p ) =>\n\t\t\tp.id.includes( 'enterprise-monthly' )\n\t\t) ||\n\t\tallUpgradeableProducts.find( ( p ) =>\n\t\t\tp.id.includes( 'enterprise-yearly' )\n\t\t);\n\n\tconst addons = useMemo(\n\t\t() => products.filter( ( p ) => p.isAddon ),\n\t\t[ products ]\n\t);\n\n\tconst getEnabledAddons = useCallback(\n\t\t( p?: FastSpringProduct ) =>\n\t\t\t( p?.allowedAddons ?? [] )\n\t\t\t\t.filter(\n\t\t\t\t\t( addonId ) =>\n\t\t\t\t\t\t!! enabledAddons.find( ( id ) =>\n\t\t\t\t\t\t\tareSameAddon( addonId, id )\n\t\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.map( ( addonId ) => addons.find( ( a ) => a.id === addonId ) )\n\t\t\t\t.filter( ( a ) => !! a ) as ReadonlyArray< FastSpringProduct >,\n\t\t[ addons, enabledAddons ]\n\t);\n\n\treturn useMemo(\n\t\t() => [\n\t\t\t...upgradeableProducts.map( ( p ) => ( {\n\t\t\t\t...p,\n\t\t\t\tenabledAddons: getEnabledAddons( p ),\n\t\t\t} ) ),\n\t\t\t{\n\t\t\t\tprice: { USD: 0, EUR: 0 },\n\t\t\t\tdescription: { en: '', es: '' },\n\t\t\t\tenabledAddons: getEnabledAddons( enterpriseProduct ),\n\t\t\t\t...enterpriseProduct,\n\t\t\t\tid: 'nab-enterprise-placeholder' as FastSpringProductId,\n\t\t\t\tdisplayName: mapValues(\n\t\t\t\t\tenterpriseProduct?.displayName ?? { en: '', es: '' },\n\t\t\t\t\t( name ) => trim( name.replace( /\\([^)]*\\)/, '' ) )\n\t\t\t\t),\n\t\t\t},\n\t\t],\n\t\t[ upgradeableProducts, enterpriseProduct, getEnabledAddons ]\n\t);\n};\n\nconst useCurrency = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getCurrency() || 'USD', [] );\n\n// =======\n// HELPERS\n// =======\n\nconst formatter = ( () => {\n\ttry {\n\t\treturn new Intl.NumberFormat( getLocale().replace( '_', '-' ) );\n\t} catch ( _ ) {\n\t\treturn new Intl.NumberFormat( 'en-US' );\n\t}\n} )();\n\nconst formatPrice = (\n\tproduct: string,\n\tprice: number,\n\tcurrency: Currency\n): string => {\n\tconst result =\n\t\t'EUR' === currency\n\t\t\t? `${ formatter.format( Math.ceil( price ) ) }`\n\t\t\t: `USD${ formatter.format( Math.ceil( price ) ) }`;\n\tif ( 'nab-enterprise-placeholder' === product ) {\n\t\treturn sprintf(\n\t\t\t/* translators: %s: Price. */\n\t\t\t_x( 'starting from %s', 'text (money)', 'nelio-ab-testing' ),\n\t\t\tresult\n\t\t);\n\t}\n\treturn result;\n};\n\nconst localize = ( str: FSLocalizedString ) => {\n\tconst locale = getLocale();\n\treturn locale.startsWith( 'es' )\n\t\t? str.es.replace( 'de Nelio A/B Testing', '' )\n\t\t: str.en.replace( 'Nelio A/B Testing', '' );\n};\n\nconst areSameAddon = ( a: string, b: string ): boolean => {\n\tconst aprefix = a.substring( 0, a.indexOf( 'addon-' ) );\n\tconst bprefix = b.substring( 0, b.indexOf( 'addon-' ) );\n\treturn !! aprefix && !! bprefix && aprefix === bprefix;\n};\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { appendContextualHelp } from '@nab/components';\n\nexport function renderHelp(): void {\n\tappendContextualHelp( {\n\t\tscreen: 'account',\n\t\tquestions,\n\t} );\n}\n\nconst questions = [\n\t{\n\t\tlabel: _x(\n\t\t\t'How do I change my payment details?',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\tlink: 'https://neliosoftware.com/testing/help/how-do-i-change-my-payment-details/',\n\t},\n\t{\n\t\tlabel: _x(\n\t\t\t'What if my monthly quota of page views gets exhausted?',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\tlink: 'https://neliosoftware.com/testing/help/what-if-my-monthly-quota-gets-exhausted/',\n\t},\n];\n","/**\n * WordPress dependencies\n */\nimport '@safe-wordpress/dom-ready';\nimport '@safe-wordpress/notices';\nimport { Popover, SlotFillProvider } from '@safe-wordpress/components';\nimport { render } from '@safe-wordpress/element';\n\n/**\n * External dependencies\n */\nimport type { SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { renderHelp } from './help';\n\nimport { PageTitle } from './components/page-title';\nimport { AccountProvider } from './components/provider';\nimport { Layout } from './components/layout';\n\ntype Settings = {\n\treadonly isSubscribed: boolean;\n\treadonly siteId: SiteId;\n};\n\nexport function initPage( id: string, settings: Settings ): void {\n\tconst { siteId, isSubscribed } = settings;\n\n\tconst content = document.getElementById( id );\n\trender(\n\t\t<SlotFillProvider>\n\t\t\t<PageTitle isSubscribed={ isSubscribed } siteId={ siteId } />\n\t\t\t<AccountProvider>\n\t\t\t\t<Layout siteId={ siteId } />\n\t\t\t</AccountProvider>\n\t\t\t<Popover.Slot />\n\t\t</SlotFillProvider>,\n\t\tcontent\n\t);\n\n\trenderHelp();\n}\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\nimport type { Account, Site, Invoice, SiteId } from '@nab/types';\n\nexport type Action =\n\t| LockPage\n\t| UnlockPage\n\t| EnableAgencyFullView\n\t| ReceiveAccount\n\t| ReceiveInvoices\n\t| ReceiveSites\n\t| RemoveSiteAfterUnlink;\n\nexport function lock(): LockPage {\n\treturn {\n\t\ttype: 'LOCK_PAGE',\n\t};\n}\n\nexport function unlock(): UnlockPage {\n\treturn {\n\t\ttype: 'UNLOCK_PAGE',\n\t};\n}\n\nexport function enableAgencyFullView(): EnableAgencyFullView {\n\treturn {\n\t\ttype: 'ENABLE_AGENCY_FULL_VIEW',\n\t};\n}\n\nexport function receiveAccount( account: Account ): ReceiveAccount {\n\treturn {\n\t\ttype: 'RECEIVE_ACCOUNT',\n\t\taccount,\n\t};\n}\n\nexport function receiveSites(\n\tsites: Site | ReadonlyArray< Site >\n): ReceiveSites {\n\treturn {\n\t\ttype: 'RECEIVE_SITES',\n\t\tsites: castArray( sites ),\n\t};\n}\n\nexport function receiveInvoices(\n\tinvoices: Invoice | ReadonlyArray< Invoice >\n): ReceiveInvoices {\n\treturn {\n\t\ttype: 'RECEIVE_INVOICES',\n\t\tinvoices: castArray( invoices ),\n\t};\n}\n\nexport function removeSiteAfterUnlink( id: SiteId ): RemoveSiteAfterUnlink {\n\treturn {\n\t\ttype: 'UNLINK_SITE',\n\t\tid,\n\t};\n}\n\n// ============\n// HELPER TYPES\n// ============\n\ntype ReceiveAccount = {\n\treadonly type: 'RECEIVE_ACCOUNT';\n\treadonly account: Account;\n};\n\ntype ReceiveSites = {\n\treadonly type: 'RECEIVE_SITES';\n\treadonly sites: ReadonlyArray< Site >;\n};\n\ntype ReceiveInvoices = {\n\treadonly type: 'RECEIVE_INVOICES';\n\treadonly invoices: ReadonlyArray< Invoice >;\n};\n\ntype RemoveSiteAfterUnlink = {\n\treadonly type: 'UNLINK_SITE';\n\treadonly id: SiteId;\n};\n\ntype LockPage = {\n\treadonly type: 'LOCK_PAGE';\n};\n\ntype UnlockPage = {\n\treadonly type: 'UNLOCK_PAGE';\n};\n\ntype EnableAgencyFullView = {\n\treadonly type: 'ENABLE_AGENCY_FULL_VIEW';\n};\n","import { FastSpringProductId, License, SubscriptionId } from '@nab/types';\nimport type { State } from './types';\n\nexport const INIT_STATE: State = {\n\taccount: {\n\t\tcurrency: 'USD',\n\t\tdeactivationDate: '',\n\t\temail: '',\n\t\tfirstname: '',\n\t\tfullname: '',\n\t\tisAgency: false,\n\t\tlastname: '',\n\t\tlicense: '' as License,\n\t\tmode: 'free',\n\t\tnextChargeDate: '',\n\t\tnextChargeTotal: '',\n\t\tperiod: 'month',\n\t\tphoto: '',\n\t\tplan: 'free',\n\t\tproductDisplay: '',\n\t\tproductId: '' as FastSpringProductId,\n\t\tquota: 500,\n\t\tquotaExtra: 0,\n\t\tquotaPerMonth: 0,\n\t\tsitesAllowed: 1,\n\t\tstartDate: '',\n\t\tstate: 'active',\n\t\tsubscription: '' as SubscriptionId,\n\t\taddons: [],\n\t\taddonDetails: {},\n\t\turlToManagePayments: '',\n\t},\n\n\tinvoices: [],\n\tsites: [],\n\n\tisPageLocked: false,\n\tisAgencyFullViewEnabled: false,\n};\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, register, controls } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport type { WithResolverDispatch, WithResolverSelect } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as realActions from './actions';\nimport * as sideEffects from './side-effects/actions';\nimport * as resolvers from './side-effects/resolvers';\n\nexport * from './types';\n\nconst actions = { ...realActions, ...sideEffects };\n\nexport const store = createReduxStore( 'nab/account', {\n\treducer,\n\tcontrols,\n\tactions: actions as WithResolverDispatch<\n\t\ttypeof actions,\n\t\ttypeof resolvers\n\t>,\n\tselectors: selectors as WithResolverSelect<\n\t\ttypeof selectors,\n\t\ttypeof resolvers\n\t>,\n\tresolvers,\n} );\nregister( store );\n","/**\n * External dependencies\n */\nimport { reject } from 'lodash';\nimport type { AnyAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT_STATE } from './config';\nimport type { State } from './types';\nimport type { Action } from './actions';\n\nexport default function reducer(\n\tstate = INIT_STATE,\n\taction: AnyAction\n): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n}\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_ACCOUNT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccount: action.account,\n\t\t\t};\n\n\t\tcase 'RECEIVE_INVOICES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinvoices: action.invoices,\n\t\t\t};\n\n\t\tcase 'RECEIVE_SITES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsites: action.sites,\n\t\t\t};\n\n\t\tcase 'UNLINK_SITE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsites: reject( state.sites, { id: action.id } ),\n\t\t\t};\n\n\t\tcase 'LOCK_PAGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisPageLocked: true,\n\t\t\t};\n\n\t\tcase 'UNLOCK_PAGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisPageLocked: false,\n\t\t\t};\n\n\t\tcase 'ENABLE_AGENCY_FULL_VIEW':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisAgencyFullViewEnabled: true,\n\t\t\t};\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { createSelector } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport { find } from 'lodash';\nimport { EMPTY_ARRAY } from '@nab/utils';\nimport type {\n\tAccount,\n\tAccountMode,\n\tFastSpringProduct,\n\tInvoice,\n\tLicense,\n\tMaybe,\n\tQuota,\n\tSite,\n\tSiteId,\n\tSubscriptionId,\n\tSubscriptionPlan,\n\tSubscriptionPeriod,\n\tSubscriptionState,\n\tFastSpringProductId,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { State } from './types';\n\nexport function getAccount( state: State ): Account {\n\treturn state.account;\n}\n\nexport function getSites(\n\tstate: State,\n\tid?: SubscriptionId\n): ReadonlyArray< Site > {\n\tif ( ! id ) {\n\t\treturn EMPTY_ARRAY;\n\t}\n\treturn state.sites;\n}\n\nexport function getSite( state: State, id: SiteId ): Maybe< Site > {\n\treturn find( state.sites, { id } );\n}\n\nexport function getInvoices(\n\tstate: State,\n\tid: SubscriptionId\n): ReadonlyArray< Invoice > {\n\tif ( ! id ) {\n\t\treturn EMPTY_ARRAY;\n\t}\n\treturn state.invoices;\n}\n\nexport const getSubscriptionQuota = createSelector(\n\t( state: State ): Quota => {\n\t\tconst { quota, quotaExtra, quotaPerMonth } = state.account;\n\n\t\tconst availableQuota = quota + quotaExtra;\n\t\tconst percentage = Math.floor(\n\t\t\t( 100 * ( availableQuota + 0.1 ) ) / quotaPerMonth\n\t\t);\n\n\t\treturn {\n\t\t\tmode: 'subscription',\n\t\t\tavailableQuota,\n\t\t\tpercentage,\n\t\t};\n\t},\n\t( state: State ) => [ state.account ]\n);\n\nexport function getSubscriptionId( state: State ): SubscriptionId {\n\treturn state.account.subscription;\n}\n\nexport function getSubscriptionAddons(\n\tstate: State\n): ReadonlyArray< FastSpringProductId > {\n\treturn state.account.addons || EMPTY_ARRAY;\n}\n\nexport function isSubscriptionDeprecated( state: State ): boolean {\n\treturn !! state.account.subscription.startsWith( 'OL' );\n}\n\nexport function getFullname( state: State ): string {\n\treturn state.account.fullname;\n}\n\nexport function getFirstname( state: State ): string {\n\treturn state.account.firstname;\n}\n\nexport function getLastname( state: State ): string {\n\treturn state.account.lastname;\n}\n\nexport function getEmail( state: State ): string {\n\treturn state.account.email;\n}\n\nexport function getStartDate( state: State ): string {\n\treturn state.account.startDate;\n}\n\nexport function getSubscriptionProduct(\n\tstate: State\n): FastSpringProduct[ 'id' ] {\n\treturn state.account.productId;\n}\n\nexport function getPlan( state: State ): 'free' | SubscriptionPlan {\n\treturn state.account.plan;\n}\n\nexport function getLicense( state: State ): License {\n\treturn state.account.license;\n}\n\nexport function getPhoto( state: State ): string {\n\treturn state.account.photo;\n}\n\nexport function getProductDisplay( state: State ): string {\n\treturn state.account.productDisplay;\n}\n\nexport function getMode( state: State ): AccountMode {\n\treturn state.account.mode;\n}\n\nexport function getPeriod( state: State ): SubscriptionPeriod {\n\treturn state.account.period;\n}\n\nexport function getExtraQuotaUnits( state: State ): number {\n\treturn (\n\t\tstate.account.addonDetails[\n\t\t\t'nab-pageviews-monthly' as FastSpringProductId\n\t\t] ??\n\t\tstate.account.addonDetails[\n\t\t\t'nab-pageviews-yearly' as FastSpringProductId\n\t\t] ??\n\t\t0\n\t);\n}\n\nexport function getState( state: State ): SubscriptionState {\n\treturn state.account.state;\n}\n\nexport function getDeactivationDate( state: State ): string {\n\treturn state.account.deactivationDate;\n}\n\nexport function getNextChargeDate( state: State ): string {\n\treturn state.account.nextChargeDate;\n}\n\nexport function getNextChargeTotal( state: State ): string {\n\treturn state.account.nextChargeTotal;\n}\n\nexport function getSitesAllowed( state: State ): number {\n\treturn state.account.sitesAllowed;\n}\n\nexport function getCurrency( state: State ): string {\n\treturn state.account.currency;\n}\n\nexport function getUrlToManagePayments( state: State ): string {\n\treturn state.account.urlToManagePayments;\n}\n\nexport function isAgency( state: State ): boolean {\n\treturn !! state.account.isAgency;\n}\n\nexport function isLocked( state: State ): boolean {\n\treturn !! state.isPageLocked;\n}\n\nexport function isAgencyFullViewEnabled( state: State ): boolean {\n\treturn isAgency( state ) && !! state.isAgencyFullViewEnabled;\n}\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch, select } from '@safe-wordpress/data';\n/**\n * External dependencies\n */\nimport { createErrorNotice } from '@nab/utils';\nimport type { FastSpringProductId, Site, SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { store as NAB_ACCOUNT } from '../../store';\n\n/**\n * Connects the site with a subscription and reloads the page.\n *\n * @param {string} license Subscription license.\n */\nexport async function linkSite( license: string ): Promise< void > {\n\ttry {\n\t\tawait dispatch( NAB_ACCOUNT ).lock();\n\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/site/subscription`,\n\t\t\tmethod: 'POST',\n\t\t\tdata: { license },\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tawait dispatch( NAB_ACCOUNT ).unlock();\n\t\tawait createErrorNotice( error );\n\t}\n}\n\n/**\n * Returns an action object used in signalling that a site is unlinked for the account.\n * If the site is the current one, reload the page instead of returning an action.\n *\n * @param {string} id Site id.\n */\nexport async function unlinkSite( id: SiteId ): Promise< void > {\n\ttry {\n\t\tawait dispatch( NAB_ACCOUNT ).lock();\n\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/site/${ id }/subscription`,\n\t\t\tmethod: 'DELETE',\n\t\t} );\n\n\t\tconst site = select( NAB_ACCOUNT ).getSite( id );\n\n\t\tif ( site?.isCurrentSite ) {\n\t\t\twindow.location.reload();\n\t\t\treturn;\n\t\t}\n\n\t\tawait dispatch( NAB_ACCOUNT ).unlock();\n\t\tawait dispatch( NAB_ACCOUNT ).removeSiteAfterUnlink( id );\n\t} catch ( error ) {\n\t\tawait dispatch( NAB_ACCOUNT ).unlock();\n\t\tawait createErrorNotice( error );\n\t}\n}\n\n/**\n * Cancels the subscription and reloads the page.\n */\nexport async function cancelSubscription(): Promise< void > {\n\ttry {\n\t\tawait dispatch( NAB_ACCOUNT ).lock();\n\n\t\tconst subscriptionId = select( NAB_ACCOUNT ).getSubscriptionId();\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/subscription/${ subscriptionId }`,\n\t\t\tmethod: 'DELETE',\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tawait dispatch( NAB_ACCOUNT ).unlock();\n\t\tawait createErrorNotice( error );\n\t}\n}\n\n/**\n * Uncancels the subscription and reloads the page.\n */\nexport async function uncancelSubscription(): Promise< void > {\n\ttry {\n\t\tawait dispatch( NAB_ACCOUNT ).lock();\n\n\t\tconst subscriptionId = select( NAB_ACCOUNT ).getSubscriptionId();\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/subscription/${ subscriptionId }/uncancel`,\n\t\t\tmethod: 'POST',\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tawait dispatch( NAB_ACCOUNT ).unlock();\n\t\tawait createErrorNotice( error );\n\t}\n}\n\nexport async function upgradeSubscription(\n\tproduct: FastSpringProductId,\n\textraQuotaUnits: number\n): Promise< void > {\n\ttry {\n\t\tawait dispatch( NAB_ACCOUNT ).lock();\n\n\t\tconst subscriptionId = select( NAB_ACCOUNT ).getSubscriptionId();\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/subscription/${ subscriptionId }`,\n\t\t\tmethod: 'PUT',\n\t\t\tdata: { product, extraQuotaUnits },\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tawait dispatch( NAB_ACCOUNT ).unlock();\n\t\tawait createErrorNotice( error );\n\t}\n}\n\nexport async function limitSiteQuota(\n\tsiteId: SiteId,\n\tmaxMonthlyQuota: number\n): Promise< void > {\n\ttry {\n\t\tconst subscription = select( NAB_ACCOUNT ).getSubscriptionId();\n\t\tconst sites = select( NAB_ACCOUNT ).getSites( subscription );\n\n\t\tconst site = await apiFetch< Partial< Site > >( {\n\t\t\tpath: `/nab/v1/site/${ siteId }`,\n\t\t\tmethod: 'PUT',\n\t\t\tdata: { maxMonthlyQuota },\n\t\t} );\n\n\t\tawait dispatch( NAB_ACCOUNT ).receiveSites(\n\t\t\tsites.map( ( s ) =>\n\t\t\t\ts.id === site.id ? { ...s, ...site, maxMonthlyQuota } : s\n\t\t\t)\n\t\t);\n\t} catch ( error ) {\n\t\tawait createErrorNotice( error );\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch, resolveSelect } from '@safe-wordpress/data';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { createErrorNotice } from '@nab/utils';\nimport type { Account, Invoice, Site, SubscriptionId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { store as NAB_ACCOUNT } from '../../store';\n\nexport async function getAccount(): Promise< void > {\n\ttry {\n\t\tconst account = await apiFetch< Account >( {\n\t\t\tpath: '/nab/v1/account',\n\t\t} );\n\t\tawait dispatch( NAB_ACCOUNT ).receiveAccount( account );\n\t} catch ( error ) {\n\t\tawait createErrorNotice(\n\t\t\terror,\n\t\t\t_x( 'Error while accessing site info.', 'text', 'nelio-ab-testing' )\n\t\t);\n\t\tthrow error;\n\t}\n}\n\nexport async function getSubscriptionQuota(): Promise< void > {\n\tawait resolveSelect( NAB_ACCOUNT ).getAccount();\n}\n\nexport async function getSites( id: SubscriptionId ): Promise< void > {\n\tif ( ! id ) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tconst sites = await apiFetch< ReadonlyArray< Site > >( {\n\t\t\tpath: `/nab/v1/subscription/${ id }/sites`,\n\t\t} );\n\t\tawait dispatch( NAB_ACCOUNT ).receiveSites( sites );\n\t} catch ( error ) {\n\t\tawait createErrorNotice(\n\t\t\terror,\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: Subscription id. */\n\t\t\t\t_x(\n\t\t\t\t\t'Error while accessing sites in subscription %s.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tid\n\t\t\t)\n\t\t);\n\t\tthrow error;\n\t}\n}\n\nexport async function getInvoices( id: SubscriptionId ): Promise< void > {\n\tif ( ! id ) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tconst invoices = await apiFetch< ReadonlyArray< Invoice > >( {\n\t\t\tpath: `/nab/v1/subscription/${ id }/invoices`,\n\t\t} );\n\t\tawait dispatch( NAB_ACCOUNT ).receiveInvoices( invoices );\n\t} catch ( error ) {\n\t\tawait createErrorNotice(\n\t\t\terror,\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: Subscription id. */\n\t\t\t\t_x(\n\t\t\t\t\t'Error while accessing invoices in subscription %s.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tid\n\t\t\t)\n\t\t);\n\t\tthrow error;\n\t}\n}\n","/**\n * External dependencies\n */\nimport type { Account, Invoice, Site } from '@nab/types';\n\nexport type State = {\n\treadonly account: Account;\n\n\treadonly invoices: ReadonlyArray< Invoice >;\n\treadonly sites: ReadonlyArray< Site >;\n\n\treadonly isPageLocked: boolean;\n\treadonly isAgencyFullViewEnabled: boolean;\n};\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/**\n * WordPress dependencies\n */\nimport baseApiFetch from '@wordpress/api-fetch';\nimport { format } from '@wordpress/date';\nimport { addQueryArgs } from '@wordpress/url';\n\nimport type { APIFetchOptions } from '@wordpress/api-fetch';\n\nconst apiFetch = < T >( options: APIFetchOptions ): Promise< T > => {\n\tconst { url, path } = options;\n\tconst nabts = format( 'YmjHi' ).substring( 0, 11 ) + '0';\n\treturn baseApiFetch( {\n\t\t...options,\n\t\t...( url && {\n\t\t\turl: isRestApiRequest( options )\n\t\t\t\t? addQueryArgs( url, { nabts } )\n\t\t\t\t: url,\n\t\t} ),\n\t\t...( path && { path: addQueryArgs( path, { nabts } ) } ),\n\t\tparse: true,\n\t} );\n};\n\nexport * from '@wordpress/api-fetch';\nexport default apiFetch;\n\n// =======\n// HELPERS\n// =======\nconst isRestApiRequest = ( options: APIFetchOptions ): boolean =>\n\t!! options.url?.includes( '/wp-json/' ) ||\n\t!! options.url?.includes( 'rest_route' ) ||\n\t!! Object.keys( options ).includes( 'rest_route' );\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/components';\n\nexport {\n\t__experimentalGrid as Grid,\n\t__experimentalHeading as Heading,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalInputControl as InputControl,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalNumberControl as NumberControl,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalHStack as HStack,\n\t__experimentalZStack as ZStack,\n\t__experimentalVStack as VStack,\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\n\t__experimentalSpacer as Spacer,\n\t__experimentalTruncate as Truncate,\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalHasSplitBorders as hasSplitBorders,\n\t__experimentalIsDefinedBorder as isDefinedBorder,\n\t__experimentalText as Text,\n\t__experimentalView as View,\n} from '@wordpress/components';\n\nexport type { BaseControlProps } from '@wordpress/components/build-types/base-control/types';\nexport type { BoxControlValue } from '@wordpress/components/build-types/box-control/types';\nexport type { ButtonAsButtonProps } from '@wordpress/components/build-types/button/types';\nexport type {\n\tColorObject,\n\tPaletteObject,\n} from '@wordpress/components/build-types/color-palette/types';\nexport type { ControlledRangeValue } from '@wordpress/components/build-types/range-control/types';\nexport type { DropdownProps } from '@wordpress/components/build-types/dropdown/types';\nexport type { GradientPickerComponentProps } from '@wordpress/components/build-types/gradient-picker/types';\nexport type { HeadingSize } from '@wordpress/components/build-types/heading/types';\nexport type { ItemGroupProps } from '@wordpress/components/build-types/item-group/types';\nexport type { PopoverProps } from '@wordpress/components/build-types/popover/types';\nexport type { Size } from '@wordpress/components/build-types/input-control/types';\nexport type { ToggleGroupControlProps } from '@wordpress/components/build-types/toggle-group-control/types';\nexport type {\n\tUnitControlProps,\n\tUnitControlOnChangeCallback,\n} from '@wordpress/components/build-types/unit-control/types';\nexport type { WordPressComponentProps } from '@wordpress/components/build-types/context';\nexport type { WPUnitControlUnit } from '@wordpress/components/build-types/unit-control/types';\n\nimport {\n\t// eslint-disable-next-line\n\t__experimentalToggleGroupControl as OriginalToggleGroupControl,\n\tBaseControl as OriginalBaseControl,\n\tCheckboxControl as OriginalCheckboxControl,\n\tFormTokenField as OriginalFormTokenField,\n\tRangeControl as OriginalRangeControl,\n\tSelectControl as OriginalSelectControl,\n\tTextControl as OriginalTextControl,\n\tTextareaControl as OriginalTextareaControl,\n\tToggleControl as OriginalToggleControl,\n} from '@wordpress/components';\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedBaseControl: typeof OriginalBaseControl = ( props ) => (\n\t<OriginalBaseControl\n\t\t{ ...{\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const BaseControl = Object.assign(\n\tWrappedBaseControl,\n\tOriginalBaseControl\n);\n\nconst WrappedCheckboxControl: typeof OriginalCheckboxControl = ( props ) => (\n\t<OriginalCheckboxControl\n\t\t{ ...{\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const CheckboxControl = Object.assign(\n\tWrappedCheckboxControl,\n\tOriginalCheckboxControl\n);\n\nconst WrappedFormTokenField: typeof OriginalFormTokenField = ( props ) => (\n\t<OriginalFormTokenField\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const FormTokenField = Object.assign(\n\tWrappedFormTokenField,\n\tOriginalFormTokenField\n);\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedRangeControl: typeof OriginalRangeControl = ( props ) => (\n\t<OriginalRangeControl\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const RangeControl = Object.assign(\n\tWrappedRangeControl,\n\tOriginalRangeControl\n);\n\nexport const SelectControl: typeof OriginalSelectControl = ( props ) => (\n\t<OriginalSelectControl\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedTextControl: typeof OriginalTextControl = ( props ) => (\n\t<OriginalTextControl\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const TextControl = Object.assign(\n\tWrappedTextControl,\n\tOriginalTextControl\n);\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedTextareaControl: typeof OriginalTextareaControl = ( props ) => (\n\t<OriginalTextareaControl\n\t\t{ ...{\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const TextareaControl = Object.assign(\n\tWrappedTextareaControl,\n\tOriginalTextareaControl\n);\n\n// @ts-expect-error Compiler complains, but this is just a temporary fix.\nconst WrappedToggleControl: typeof OriginalToggleControl = ( props ) => (\n\t<OriginalToggleControl\n\t\t{ ...{\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const ToggleControl = Object.assign(\n\tWrappedToggleControl,\n\tOriginalToggleControl\n);\n\nconst WrappedToggleGroupControl: typeof OriginalToggleGroupControl = (\n\t// @ts-expect-error Compiler complains, but this is just a temporary fix.\n\tprops\n) => (\n\t<OriginalToggleGroupControl\n\t\t{ ...{\n\t\t\t__next40pxDefaultSize: true,\n\t\t\t__nextHasNoMarginBottom: true,\n\t\t\t...props,\n\t\t} }\n\t/>\n);\nexport const ToggleGroupControl = Object.assign(\n\tWrappedToggleGroupControl,\n\tOriginalToggleGroupControl\n);\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/**\n * WordPress dependencies\n */\nexport * from '@wordpress/data';\nimport {\n\tregister as doRegister,\n\tresolveSelect as doResolveSelect,\n\tsubscribe as doSubscribe,\n\tuseSelect as doUseSelect,\n} from '@wordpress/data';\nimport type {\n\tMapSelect,\n\tReduxStoreConfig,\n\tStoreDescriptor,\n\tUseSelectReturn,\n} from '@wordpress/data/build-types/types';\n\n// ==========\n// TYPESCRIPT\n// ==========\n\n// register should exist.\nexport function register(\n\tstore: StoreDescriptor< ReduxStoreConfig< any, any, any > >\n): void {\n\t// eslint-disable-next-line @typescript-eslint/no-unsafe-call\n\tdoRegister( store );\n}\n\n// subscribe should exist.\nexport function subscribe(\n\tlistener: () => void,\n\tstore?: StoreDescriptor< any > | string\n): () => void {\n\t// eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-return\n\treturn doSubscribe( listener, store );\n}\n\n// useSelect should properly infer types, but it doesnt, so we manually fix it.\nexport function useSelect< T extends MapSelect | StoreDescriptor< any > >(\n\tmapSelect: T,\n\tdependencies?: unknown[]\n): UseSelectReturn< T > {\n\t// eslint-disable-next-line @typescript-eslint/no-unsafe-return\n\treturn doUseSelect< T >( mapSelect, dependencies );\n}\n\n// resolveSelect should properly infer types, but it doesnt, so we manually fix it.\nexport function resolveSelect< T extends StoreDescriptor< any > >(\n\tkey: T\n): ResolvableSelectors< UseSelectReturn< T > > {\n\t// eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-return\n\treturn doResolveSelect( key );\n}\n\ntype ResolvableSelectors<\n\tS extends Record< string, ( ...args: any[] ) => any >,\n> = {\n\treadonly [ K in keyof S ]: S[ K ] extends {\n\t\tPromisedSignature: ( ...args: any[] ) => any;\n\t}\n\t\t? S[ K ][ 'PromisedSignature' ]\n\t\t: S[ K ] extends ( ...args: infer A ) => infer R\n\t\t? ( ...args: A ) => Promise< R >\n\t\t: never;\n};\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/dom-ready';\nimport domReady from '@wordpress/dom-ready';\nexport default domReady;\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/element';\nimport { createRoot, render as legacyRender } from '@wordpress/element';\n\nexport function render(\n\telement: JSX.Element,\n\tcontainer: Element | null\n): void {\n\tif ( ! container ) {\n\t\treturn;\n\t}\n\n\tif ( createRoot ) {\n\t\tconst root = createRoot( container );\n\t\troot.render( element );\n\t} else {\n\t\tlegacyRender( element, container );\n\t}\n}\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/i18n';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/notices';\n","module.exports = window[\"nab\"][\"components\"];","module.exports = window[\"nab\"][\"data\"];","module.exports = window[\"nab\"][\"date\"];","module.exports = window[\"nab\"][\"i18n\"];","module.exports = window[\"nab\"][\"utils\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"date\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","module.exports = window[\"wp\"][\"url\"];","module.exports = window[\"lodash\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-account-page\"], () => (__webpack_require__(\"./assets/src/admin/pages/account/index.tsx\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["Button","Dashicon","useSelect","createInterpolateElement","useState","_x","sprintf","store","NAB_DATA","formatI18nDate","LicensePopover","RemoveLicenseAction","NAB_ACCOUNT","AccountInfo","isVisible","useIsVisible","fullname","useFullName","email","useEmail","startDate","useStartDate","license","useLicense","photo","usePhoto","isPopoverVisible","setPopoverVisible","_jsxs","className","children","_jsx","style","backgroundImage","icon","date","title","variant","onClick","isOpen","placement","onFocusOutside","isDestructive","label","select","getMode","isAgency","isAgencyFullViewEnabled","isSubscribed","isAgencySummary","getFullname","getEmail","getStartDate","getToday","getLicense","getPhoto","useDispatch","ConfirmationDialog","_a","buttonProps","__rest","setVisible","siteId","getPluginSetting","isLocked","unlinkSite","_Fragment","Object","assign","disabled","text","confirmLabel","cancelLabel","onCancel","onConfirm","apiFetch","Popover","Spinner","getLocale","createErrorNotice","EMPTY_ARRAY","AddonsPopover","isLoading","useIsLoading","addons","enabledAddons","useAddons","isConfirmationOpen","setIsConfirmationOpen","selectedAddon","setSelectedAddon","currency","useCurrency","lock","unlock","displayName","displayPrice","strong","isConfirmBusy","path","method","then","window","location","reload","catch","error","finally","undefined","noArrow","map","id","price","period","localize","includes","formatPrice","isBusy","hasFinishedResolution","data","getProducts","getSubscriptionProduct","getSubscriptionAddons","currentProduct","products","allowedAddons","find","p","filter","isAddon","getCurrency","periodText","priceText","trim","str","locale","startsWith","es","en","ExternalLink","Invoice","Billing","invoices","useInvoices","urlToManagePayments","usePaymentsUrl","href","invoice","reference","isSubscriptionDeprecated","isDeprecated","getSubscriptionId","getInvoices","getUrlToManagePayments","clsx","invoiceUrl","chargeDate","isRefunded","subtotalDisplay","target","rel","Plan","Sites","LoadingModal","Layout","TextControl","LICENSE_LENGTH","OLD_LICENSE_LENGTH","setLicense","linkSite","value","placeholder","maxLength","Math","max","onChange","v","length","Modal","noop","shouldCloseOnEsc","shouldCloseOnClickOutside","isDismissible","onRequestClose","ClipboardButton","PageTitle","QuotaMeter","AgencyPlan","productDisplay","getProductDisplay","DowngradeButton","ViewDetailsButton","setIsOpen","open","close","confirm","validating","setValidating","enableAgencyFullView","receiveAccount","validate","account","QuotaPurchasePopover","getSubscribeLabel","getSubscribeLink","UpgradePopover","quota","useSubscriptionQuota","useIsAgencySummary","Title","Explanation","subscriptionQuota","Actions","usePeriodAndPlan","useProductDisplay","state","useSubscriptionState","isFree","useIsFree","periodLabel","isInvitation","useIsInvitation","useIsSubscriptionDeprecated","deactivationDate","useDeactivationDate","nextChargeDate","useNextChargeDate","nextChargeTotal","useNextChargeTotal","link","money","BuyMoreQuotaLink","UpgradeLink","AddLicenseAction","SubscribeAction","ReactivateSubscriptionAction","CancelSubscriptionAction","BuyMoreQuotaAction","AddonsAction","UpgradeAction","today","useToday","plan","isDialogOpen","setDialogOpen","cancelSubscription","uncancelSubscription","getPeriod","getPlan","getState","getDeactivationDate","getNextChargeDate","getNextChargeTotal","getSubscriptionQuota","NoticeList","NOTICES","LoadingAnimation","AccountProvider","hasError","useHasError","notices","useNotices","removeNotice","onRemove","getAccount","hasResolutionFailed","getNotices","CheckboxControl","HelpIcon","numberFormat","Site","displayQuotaLimit","actualUrl","isCurrentSite","usedMonthlyQuota","maxMonthlyQuota","url","type","stringifyMaxQuota","LimitQuotaAction","DeleteAction","canLimitQuota","canLimitSiteQuota","limitSiteQuota","currentSiteLimit","_b","getSite","SiteQuotaDialog","initialValue","onClose","onSave","save","isSaving","setSaving","setValue","isDirty","isUnlimited","n","intValue","Number","parseInt","limit","abs","checked","enabled","min","sites","useSites","sitesAllowed","useSitesAllowed","sitesConnected","some","s","site","getSites","getSitesAllowed","SelectControl","range","toPairs","PRODUCTS","monthly","product","quotaAddon","yearly","PRODUCT_LIST","BASE_VIEWS","ADDON_VIEWS","ADDON_OPTIONS","EnterpriseUpgradePopover","back","useProducts","wasYearly","previousAddonQuantity","useCurrentStatus","options","expandOptionsAndDropFirst","addonQuantity","setAddonQuantity","isYearly","setYearly","useTotal","pricePeriod","upgradeSubscription","x","formatViews","help","mode","quantity","baseProduct","addonProduct","USD","perc","quantityDiscounts","q","d","reduce","r","discount","total","getExtraQuotaUnits","formatter","Intl","NumberFormat","replace","_","format","ceil","values","result","i","slice","RegularUpgradePopover","props","currentPlan","interestedInEnterprise","enableEnterprise","showEnterprise","RadioControl","useCallback","useMemo","mapValues","selectedOption","setSelectedOption","selected","description","acc","a","option","allUpgradeableProducts","upgradeableFrom","upgradeableProducts","enterpriseProduct","getEnabledAddons","addonId","areSameAddon","EUR","name","b","aprefix","substring","indexOf","bprefix","appendContextualHelp","renderHelp","screen","questions","SlotFillProvider","render","initPage","settings","content","document","getElementById","Slot","castArray","receiveSites","receiveInvoices","removeSiteAfterUnlink","INIT_STATE","firstname","lastname","productId","quotaExtra","quotaPerMonth","subscription","addonDetails","isPageLocked","createReduxStore","register","controls","reducer","selectors","realActions","sideEffects","resolvers","actions","reject","action","actualReducer","createSelector","availableQuota","percentage","floor","getFirstname","getLastname","dispatch","subscriptionId","extraQuotaUnits","resolveSelect","baseApiFetch","addQueryArgs","nabts","isRestApiRequest","parse","keys","__experimentalGrid","Grid","__experimentalHeading","Heading","__experimentalItemGroup","ItemGroup","__experimentalInputControl","InputControl","__experimentalInputControlPrefixWrapper","InputControlPrefixWrapper","__experimentalToggleGroupControlOption","ToggleGroupControlOption","__experimentalToggleGroupControlOptionIcon","ToggleGroupControlOptionIcon","__experimentalUnitControl","UnitControl","__experimentalNumberControl","NumberControl","__experimentalToolsPanel","ToolsPanel","__experimentalToolsPanelItem","ToolsPanelItem","__experimentalHStack","HStack","__experimentalZStack","ZStack","__experimentalVStack","VStack","__experimentalDropdownContentWrapper","DropdownContentWrapper","__experimentalSpacer","Spacer","__experimentalTruncate","Truncate","__experimentalParseQuantityAndUnitFromRawValue","parseQuantityAndUnitFromRawValue","__experimentalUseCustomUnits","useCustomUnits","__experimentalHasSplitBorders","hasSplitBorders","__experimentalIsDefinedBorder","isDefinedBorder","__experimentalText","Text","__experimentalView","View","__experimentalToggleGroupControl","OriginalToggleGroupControl","BaseControl","OriginalBaseControl","OriginalCheckboxControl","FormTokenField","OriginalFormTokenField","RangeControl","OriginalRangeControl","OriginalSelectControl","OriginalTextControl","TextareaControl","OriginalTextareaControl","ToggleControl","OriginalToggleControl","WrappedBaseControl","__nextHasNoMarginBottom","WrappedCheckboxControl","WrappedFormTokenField","__next40pxDefaultSize","WrappedRangeControl","WrappedTextControl","WrappedTextareaControl","WrappedToggleControl","WrappedToggleGroupControl","ToggleGroupControl","doRegister","doResolveSelect","subscribe","doSubscribe","doUseSelect","listener","mapSelect","dependencies","key","domReady","createRoot","legacyRender","element","container","root"],"ignoreList":[],"sourceRoot":""}