{"version":3,"file":"js/css-selector-finder.js","mappings":"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AAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;ACRA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;AClBA,eAAe,mBAAO,CAAC,qDAAY;AACnC,UAAU,mBAAO,CAAC,2CAAO;AACzB,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ,WAAW;AAC9B,WAAW,SAAS;AACpB;AACA,WAAW,QAAQ;AACnB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,+CAA+C,iBAAiB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACtBA,eAAe,mBAAO,CAAC,qDAAY;AACnC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ,WAAW;AAC9B,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,mBAAmB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;ACpEA,eAAe,mBAAO,CAAC,uDAAa;AACpC,eAAe,mBAAO,CAAC,qDAAY;AACnC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;UC/DA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,E;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;UENA;UACA;UACA;UACA;UACA","sources":["webpack://nab/./assets/src/admin/scripts/css-selector-finder/breadcrumbs.ts","webpack://nab/./assets/src/admin/scripts/css-selector-finder/css-path.ts","webpack://nab/./assets/src/admin/scripts/css-selector-finder/editable-content.ts","webpack://nab/./assets/src/admin/scripts/css-selector-finder/element-label.ts","webpack://nab/./assets/src/admin/scripts/css-selector-finder/highlighter.ts","webpack://nab/./assets/src/admin/scripts/css-selector-finder/index.ts","webpack://nab/./assets/src/admin/scripts/css-selector-finder/style.scss?2f33","webpack://nab/./node_modules/lodash/_Symbol.js","webpack://nab/./node_modules/lodash/_baseGetTag.js","webpack://nab/./node_modules/lodash/_baseTrim.js","webpack://nab/./node_modules/lodash/_freeGlobal.js","webpack://nab/./node_modules/lodash/_getRawTag.js","webpack://nab/./node_modules/lodash/_objectToString.js","webpack://nab/./node_modules/lodash/_root.js","webpack://nab/./node_modules/lodash/_trimmedEndIndex.js","webpack://nab/./node_modules/lodash/debounce.js","webpack://nab/./node_modules/lodash/isObject.js","webpack://nab/./node_modules/lodash/isObjectLike.js","webpack://nab/./node_modules/lodash/isSymbol.js","webpack://nab/./node_modules/lodash/now.js","webpack://nab/./node_modules/lodash/throttle.js","webpack://nab/./node_modules/lodash/toNumber.js","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/chunk loaded","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/webpack/before-startup","webpack://nab/webpack/startup","webpack://nab/webpack/after-startup"],"sourcesContent":["/**\n * Internal dependencies\n */\nimport { setParentState } from '.';\nimport { getCssPath } from './css-path';\nimport { getElementLabel } from './element-label';\n\nexport type SelectorBreadcrumb = { label: string; value: string };\nexport function getBreadcrumbs(\n\toldBreadcrumbs: ReadonlyArray< SelectorBreadcrumb >,\n\tselector: string\n): ReadonlyArray< SelectorBreadcrumb > {\n\tif (\n\t\toldBreadcrumbs\n\t\t\t.map( ( b ) => b.value )\n\t\t\t.some( compareSelectors( selector ) )\n\t) {\n\t\treturn oldBreadcrumbs;\n\t}\n\n\tconst element = querySelector( selector );\n\tif ( ! element ) {\n\t\treturn [];\n\t}\n\n\tconst breadcrumbs = doGetBreadcrumbs( selector );\n\tif ( ! startsWith( oldBreadcrumbs, breadcrumbs ) ) {\n\t\treturn breadcrumbs;\n\t}\n\n\treturn [ ...breadcrumbs, ...oldBreadcrumbs.slice( breadcrumbs.length ) ];\n}\n\nexport function renderBreadcrumbs(\n\tbreadcrumbs: ReadonlyArray< SelectorBreadcrumb >,\n\tactiveSelector: string\n): void {\n\tlet container = querySelector( '.nab-breadcrumbs-container' );\n\tif ( ! container ) {\n\t\tcontainer = document.createElement( 'div' );\n\t\tcontainer.classList.add( 'nab-breadcrumbs-container' );\n\t\tdocument.body.appendChild( container );\n\t}\n\n\tcontainer.innerHTML = '';\n\n\tconst list = document.createElement( 'ul' );\n\tlist.classList.add( 'nab-breadcrumbs-list' );\n\tcontainer.appendChild( list );\n\n\tconst isActiveElement = compareSelectors( activeSelector );\n\tbreadcrumbs.forEach( ( breadcrumb ) => {\n\t\tconst li = document.createElement( 'li' );\n\t\tli.classList.add( 'nab-breadcrumbs-list-item' );\n\t\tif ( isActiveElement( breadcrumb.value ) ) {\n\t\t\tli.classList.add( 'nab-breadcrumbs-list-item--selected' );\n\t\t} else {\n\t\t\tli.addEventListener( 'click', ( ev ) => {\n\t\t\t\tev.preventDefault();\n\t\t\t\tclearBreadcrumbHighlighters();\n\t\t\t\tconst exists = !! querySelector( breadcrumb.value );\n\t\t\t\tsetParentState( {\n\t\t\t\t\tvalue: exists ? breadcrumb.value : '',\n\t\t\t\t\tbreadcrumbs: exists ? breadcrumbs : [],\n\t\t\t\t} );\n\t\t\t} );\n\t\t\tli.addEventListener( 'mouseenter', ( ev ) => {\n\t\t\t\tev.preventDefault();\n\t\t\t\trenderBreadcrumbHighlighters( breadcrumb.value );\n\t\t\t} );\n\t\t\tli.addEventListener( 'mouseleave', ( ev ) => {\n\t\t\t\tev.preventDefault();\n\t\t\t\tclearBreadcrumbHighlighters();\n\t\t\t} );\n\t\t}\n\t\tli.setAttribute( 'data-nab-selector', breadcrumb.value );\n\t\tconst span = document.createElement( 'span' );\n\t\tspan.classList.add( 'nab-breadcrumbs-list-item__content' );\n\t\tspan.textContent = breadcrumb.label;\n\t\tli.appendChild( span );\n\t\tlist.appendChild( li );\n\t} );\n}\n\nexport function isBreadcrumb( element: HTMLElement ): boolean {\n\treturn (\n\t\telement.classList.value.includes( 'nab-breadcrumbs-container' ) ||\n\t\telement.classList.value.includes( 'nab-breadcrumbs-list' ) ||\n\t\telement.classList.value.includes( 'nab-breadcrumbs-list-item' )\n\t);\n}\n\n// =======\n// HELPERS\n// =======\n\nconst compareSelectors = ( selector1: string ) => {\n\tconst firstElements = querySelectorAll( selector1 );\n\treturn ( selector2: string ): boolean => {\n\t\tif ( selector1 === selector2 ) {\n\t\t\treturn true;\n\t\t}\n\t\tif ( ! selector1.length ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst secondElements = querySelectorAll( selector2 );\n\t\treturn (\n\t\t\tfirstElements.length === secondElements.length &&\n\t\t\tfirstElements.reduce(\n\t\t\t\t( r, e ) => r && secondElements.includes( e ),\n\t\t\t\ttrue\n\t\t\t)\n\t\t);\n\t};\n};\n\nfunction doGetBreadcrumbs( selector: string ) {\n\tconst matchingElements = querySelectorAll( selector );\n\tconst element = matchingElements[ 0 ];\n\tif ( ! element ) {\n\t\treturn [];\n\t}\n\n\tconst breadcrumbs: Array< SelectorBreadcrumb > = [\n\t\tmkBreadcrumb( element, selector ),\n\t];\n\n\tlet currentElement = element.parentElement;\n\twhile ( currentElement ) {\n\t\tconst single = getCssPath( currentElement ) || '';\n\t\tconst singleElement = querySelector( single );\n\t\tif ( containsAll( singleElement, matchingElements ) ) {\n\t\t\tbreadcrumbs.push( mkBreadcrumb( currentElement, single ) );\n\t\t}\n\t\tcurrentElement = currentElement.parentElement;\n\t}\n\n\treturn breadcrumbs.reverse();\n}\n\nlet breadcrumbHighlightBoxes = [] as ReadonlyArray< HTMLElement >;\nfunction clearBreadcrumbHighlighters(): void {\n\tif ( 0 === breadcrumbHighlightBoxes.length ) {\n\t\treturn;\n\t}\n\n\tbreadcrumbHighlightBoxes.forEach(\n\t\t( breadcrumbHighlighter ) =>\n\t\t\tbreadcrumbHighlighter.parentElement &&\n\t\t\tbreadcrumbHighlighter.parentElement.removeChild(\n\t\t\t\tbreadcrumbHighlighter\n\t\t\t)\n\t);\n\n\tbreadcrumbHighlightBoxes = [];\n}\n\nfunction renderBreadcrumbHighlighters( selector: string ) {\n\tclearBreadcrumbHighlighters();\n\n\tconst elements = querySelectorAll( selector );\n\tbreadcrumbHighlightBoxes = elements\n\t\t.map( ( element ) => createBreadcrumbHighlightedBox( element ) )\n\t\t.filter( ( e ) => !! e );\n}\n\nfunction createBreadcrumbHighlightedBox(\n\telement: HTMLElement\n): HTMLElement | undefined {\n\tconst rect = element.getBoundingClientRect();\n\tif ( rect.width === 0 || rect.height === 0 ) {\n\t\treturn;\n\t}\n\n\tconst highlighter = document.createElement( 'div' );\n\thighlighter.className = 'nab-breadcrumb-highlight';\n\tdocument.body.appendChild( highlighter );\n\n\tpositionElementBox( highlighter, rect );\n\treturn highlighter;\n}\n\nfunction positionElementBox( box: HTMLElement, rect: DOMRect ) {\n\tif ( ! box.style ) {\n\t\treturn;\n\t}\n\n\tbox.style.display = 'block';\n\tbox.style.top = `${ Math.floor( rect.top ) - 1 + window.scrollY }px`;\n\tbox.style.left = `${ Math.floor( rect.left ) - 1 + window.scrollX }px`;\n\tbox.style.width = `${ rect.width }px`;\n\tbox.style.height = `${ rect.height }px`;\n}\n\nfunction startsWith(\n\tlist: ReadonlyArray< SelectorBreadcrumb >,\n\tinit: ReadonlyArray< SelectorBreadcrumb >\n) {\n\treturn init.every( ( b, idx ) =>\n\t\tcompareSelectors( b.value )( list[ idx ]?.value ?? '' )\n\t);\n}\n\nfunction containsAll(\n\tcontainer: Element | null,\n\tchildren: ReadonlyArray< Element >\n) {\n\treturn !! container && children.every( ( c ) => container.contains( c ) );\n}\n\nfunction mkBreadcrumb( element: HTMLElement, selector: string ) {\n\treturn {\n\t\tlabel: getElementLabel( getCssPath( element ) || selector ),\n\t\tvalue: selector,\n\t};\n}\n\nfunction querySelector( selector: string ) {\n\ttry {\n\t\treturn document.querySelector< HTMLElement >( selector );\n\t} catch ( _ ) {\n\t\treturn null;\n\t}\n}\n\nfunction querySelectorAll( selector: string ) {\n\ttry {\n\t\treturn Array.from(\n\t\t\tdocument.querySelectorAll< HTMLElement >( selector )\n\t\t);\n\t} catch ( _ ) {\n\t\treturn [];\n\t}\n}\n","const SEPARATOR = ' ';\nconst CUSTOM_CLASS = 'nab-focused-element';\n\nexport function getCssPath(\n\telement: Element | null | undefined,\n\tmode: 'single' | 'multiple' = 'single'\n): string | undefined {\n\tif ( ! element ) {\n\t\treturn undefined;\n\t}\n\telement.classList.add( CUSTOM_CLASS );\n\tconst selector = getSelectorTraversingParents( element, mode );\n\telement.classList.remove( CUSTOM_CLASS );\n\treturn maybeAddTag( element.nodeName, selector );\n}\n\n// =======\n// HELPERS\n// =======\n\n/**\n * Retrieves the best CSS selector path for an element by traversing its parent\n * elements.\n *\n * This function analyzes the element's hierarchy and assigns a selector that\n * uniquely identifies it. It prioritizes class names and IDs while avoiding\n * structural selectors.\n *\n * @param {Element} element - The element to analyze.\n * @param {string}  mode    - The mode of selection, either 'single' or 'multiple'.\n * @return {string | undefined} - The computed selector path or undefined if no valid selector is found.\n */\nfunction getSelectorTraversingParents(\n\telement: Element,\n\tmode: 'single' | 'multiple'\n): string | undefined {\n\tif ( ! element ) {\n\t\treturn;\n\t}\n\n\tconst tagName = element.tagName;\n\n\t// Exclude unsupported or root tags\n\tif ( isUndefined( tagName ) || tagName === 'HTML' ) {\n\t\treturn;\n\t}\n\n\t// Directly return if the element is 'body'\n\tif ( tagName === 'BODY' ) {\n\t\treturn 'body';\n\t}\n\n\t// Get the element's best selector\n\tconst bestSelector = determineBestSelector( element, mode );\n\n\t// Return if the best selector is an ID-based selector\n\tif ( /#/g.test( bestSelector ) ) {\n\t\treturn bestSelector;\n\t}\n\n\t// Gather parent elements up to 'body'\n\tconst parentElements: Element[] = [];\n\tlet parent = element.parentElement;\n\twhile ( parent && parent.tagName !== 'BODY' ) {\n\t\tparentElements.push( parent );\n\t\tparent = parent.parentElement;\n\t}\n\n\t// Determine if resetting should be skipped\n\tlet selector = '';\n\tlet currentSelector = '';\n\tlet previousSelector = '';\n\tlet selectedElementsCount;\n\tconst resetSelectors: string[] = [];\n\n\t// Traverse parent elements from innermost to outermost\n\tfor ( let i = parentElements.length - 1; i >= 0; i-- ) {\n\t\tcurrentSelector = determineBestSelector(\n\t\t\tparentElements[ i ] as Element,\n\t\t\tmode\n\t\t);\n\n\t\tlet resetPerformed = false;\n\t\tif ( /#|\\./g.test( currentSelector ) ) {\n\t\t\tif ( querySelectorAll( currentSelector ).length === 1 ) {\n\t\t\t\tif (\n\t\t\t\t\tmode !== 'single' ||\n\t\t\t\t\t! singleSelector( selector, true ).includes( 'nth-child' )\n\t\t\t\t) {\n\t\t\t\t\tselector = currentSelector + SEPARATOR;\n\t\t\t\t\tresetSelectors.push( currentSelector );\n\t\t\t\t\tresetPerformed = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( ! resetPerformed ) {\n\t\t\tselectedElementsCount = querySelectorAll(\n\t\t\t\t`${ selector } ${ currentSelector } ${ currentSelector },${ selector } ${ previousSelector } ${ currentSelector }`\n\t\t\t).length;\n\n\t\t\tif (\n\t\t\t\tmode === 'multiple' &&\n\t\t\t\tselectedElementsCount > 0 &&\n\t\t\t\tspaceCleaner( selector ).trim() !== ''\n\t\t\t) {\n\t\t\t\tselector = `${ spaceCleaner(\n\t\t\t\t\tselector\n\t\t\t\t).trim() } > ${ currentSelector } `;\n\t\t\t} else {\n\t\t\t\tselector += currentSelector + SEPARATOR;\n\t\t\t}\n\t\t}\n\n\t\tpreviousSelector = currentSelector;\n\t}\n\n\t// Handle Google Maps content cleanup\n\tif ( selector.includes( '.gm-style' ) ) {\n\t\tselector = '.gm-style';\n\t}\n\n\t// Finalize selector with the last determined selector\n\tselectedElementsCount = querySelectorAll(\n\t\t`${ selector } ${ bestSelector } ${ bestSelector },${ selector } ${ currentSelector } ${ bestSelector }`\n\t).length;\n\tselector = spaceCleaner(\n\t\tselectedElementsCount > 0 && selector.length\n\t\t\t? `${ selector } > ${ bestSelector }`\n\t\t\t: `${ selector } ${ bestSelector }`\n\t);\n\n\t// Optimize selector if multiple reset indexes exist and the selector is not ID-based\n\tif ( resetSelectors.length > 1 && selector.charAt( 0 ) !== '#' ) {\n\t\t// Attempt to eliminate structural selectors\n\t\tconst newReset1: string[] = [];\n\t\tlet isValid;\n\t\tlet regex;\n\t\tfor ( let i = 0; i < resetSelectors.length; i++ ) {\n\t\t\tisValid = true;\n\n\t\t\tfor ( let j = 0; j < unPreferedSelectors.length; j++ ) {\n\t\t\t\tregex = new RegExp(\n\t\t\t\t\t'(\\\\s|^).' + unPreferedSelectors[ j ] + '(\\\\s|$)',\n\t\t\t\t\t'gi'\n\t\t\t\t);\n\t\t\t\tif ( regex.test( resetSelectors[ i ] as string ) ) {\n\t\t\t\t\tisValid = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( isValid ) {\n\t\t\t\tnewReset1.push( resetSelectors[ i ] as string );\n\t\t\t}\n\t\t}\n\n\t\t// Further filter reset selectors if multiple remain\n\t\tconst newReset2: string[] = [];\n\t\tif ( newReset1.length > 1 ) {\n\t\t\tlet depthArray: number[];\n\t\t\tlet tagArray: string[];\n\t\t\tfor ( let i = 0; i < newReset1.length; i++ ) {\n\t\t\t\tdepthArray = [];\n\t\t\t\ttagArray = [];\n\n\t\t\t\tdocument\n\t\t\t\t\t.querySelectorAll( newReset1[ i ] as string )\n\t\t\t\t\t.forEach( ( currentElement ) => {\n\t\t\t\t\t\tdepthArray.push(\n\t\t\t\t\t\t\tcurrentElement.parentElement?.parentElement\n\t\t\t\t\t\t\t\t?.children.length || 0\n\t\t\t\t\t\t);\n\t\t\t\t\t\ttagArray.push( currentElement.nodeName );\n\t\t\t\t\t} );\n\n\t\t\t\tconst depthConsistent = depthArray.every(\n\t\t\t\t\t( v, _, a ) => v === a[ 0 ]\n\t\t\t\t);\n\t\t\t\tconst tagConsistent = tagArray.every(\n\t\t\t\t\t( v, _, a ) => v === a[ 0 ]\n\t\t\t\t);\n\n\t\t\t\tif ( depthConsistent && tagConsistent ) {\n\t\t\t\t\tnewReset2.push( newReset1[ i ] as string );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet optimizedSelector = null;\n\n\t\t// Determine the best reset selector\n\t\tif ( newReset2.length > 0 ) {\n\t\t\toptimizedSelector = newReset2[ newReset2.length - 1 ];\n\t\t} else if ( newReset1.length > 0 ) {\n\t\t\toptimizedSelector = newReset1[ newReset1.length - 1 ];\n\t\t}\n\n\t\t// Update the selector if a valid optimization is found\n\t\tif ( optimizedSelector !== null ) {\n\t\t\tlet newSelector = ( selector.match( /(\\s)(.*?)$/g ) || [] )\n\t\t\t\t.join( '' )\n\t\t\t\t.toString();\n\n\t\t\tnewSelector = optimizedSelector + newSelector;\n\n\t\t\tif ( checkSelector( newSelector, true ) ) {\n\t\t\t\tif ( comparisonSelector( selector, newSelector ) ) {\n\t\t\t\t\tselector = newSelector;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the single selector if in 'sharp' mode\n\tif ( mode === 'single' ) {\n\t\treturn singleSelector( selector, false );\n\t}\n\n\t// Check if all other elements have the same tag name\n\tif ( simpleLikedTags.includes( tagName.toLowerCase() ) ) {\n\t\tconst foundTags: string[] = [];\n\t\tquerySelectorAll( selector ).forEach( ( node ) => {\n\t\t\tconst nodeName = node.nodeName;\n\n\t\t\tif ( ! foundTags.includes( nodeName ) ) {\n\t\t\t\tfoundTags.push( nodeName );\n\t\t\t}\n\t\t} );\n\n\t\t// Use the tag name if multiple tags are found\n\t\tif ( foundTags.length > 1 ) {\n\t\t\tselector =\n\t\t\t\t(\n\t\t\t\t\tselector.match(\n\t\t\t\t\t\tnew RegExp(\n\t\t\t\t\t\t\t'^(.*?)' + selectorRegex( bestSelector ) + '$',\n\t\t\t\t\t\t\t'g'\n\t\t\t\t\t\t)\n\t\t\t\t\t) || []\n\t\t\t\t)\n\t\t\t\t\t.join( '' )\n\t\t\t\t\t.toString()\n\t\t\t\t\t.trim() +\n\t\t\t\tSEPARATOR +\n\t\t\t\ttagName.toLowerCase();\n\n\t\t\t// Use the tag name if it is a single element\n\t\t} else if (\n\t\t\tisSingleElementOrMatchingSiblings( selector, bestSelector, tagName )\n\t\t) {\n\t\t\tselector =\n\t\t\t\t(\n\t\t\t\t\tselector.match(\n\t\t\t\t\t\tnew RegExp(\n\t\t\t\t\t\t\t'^(.*?)(?=' + selectorRegex( bestSelector ) + '$)',\n\t\t\t\t\t\t\t'g'\n\t\t\t\t\t\t)\n\t\t\t\t\t) || []\n\t\t\t\t)\n\t\t\t\t\t.join( '' )\n\t\t\t\t\t.toString()\n\t\t\t\t\t.trim() +\n\t\t\t\tSEPARATOR +\n\t\t\t\ttagName.toLowerCase();\n\t\t}\n\t}\n\n\t// Remove multiple spaces from the selector\n\tselector = spaceCleaner( selector );\n\tselector = cleanUnnecessaryGreaterThan( selector );\n\n\t// Prepare the selector for use\n\tselector = multipleVariation( spaceCleaner( selector ) );\n\n\t// Use the single selector if the selector is 'div' and there are more than 20 matches\n\tif (\n\t\t/( |>)div$/g.test( selector ) &&\n\t\tquerySelectorAll( selector ).length >= 20\n\t) {\n\t\treturn singleSelector( selector );\n\t}\n\n\t// Return the final result\n\treturn selector;\n}\n\n/**\n * Checks if the given selector matches a single element or if elements\n * with the same parent and similar characteristics exist.\n *\n * @param {string} selector     - The selector to be matched.\n * @param {string} lastSelector - The last selector in the chain.\n * @param {string} tag          - The tag name to be checked.\n * @return {boolean} True if conditions are met, otherwise false.\n */\nfunction isSingleElementOrMatchingSiblings(\n\tselector: string,\n\tlastSelector: string,\n\ttag: string\n): boolean {\n\tconst element = querySelectorAll( selector );\n\tconst element2 = querySelectorAll(\n\t\t(\n\t\t\tselector.match(\n\t\t\t\tnew RegExp(\n\t\t\t\t\t'^(.*?)(?=' + selectorRegex( lastSelector ) + '$)',\n\t\t\t\t\t'g'\n\t\t\t\t)\n\t\t\t) || []\n\t\t)\n\t\t\t.join( '' )\n\t\t\t.toString()\n\t\t\t.trim() +\n\t\t\tSEPARATOR +\n\t\t\ttag.toLowerCase()\n\t);\n\n\t// If both selectors match a single element\n\tif ( element.length === 1 && element2.length === 1 ) {\n\t\treturn true;\n\t}\n\n\t// If the number of matched elements is the same and lastSelector contains class or ID selector\n\tif ( element.length === element2.length && /.|#/g.test( lastSelector ) ) {\n\t\t// Arrays to store depth and tag information\n\t\tconst depthArray: number[] = [];\n\t\tconst tagArray: string[] = [];\n\n\t\tdocument\n\t\t\t.querySelectorAll( lastSelector )\n\t\t\t.forEach( ( currentElement ) => {\n\t\t\t\t// Push depth of current element\n\t\t\t\tdepthArray.push(\n\t\t\t\t\tcurrentElement.parentElement?.parentElement?.children\n\t\t\t\t\t\t.length || 0\n\t\t\t\t);\n\n\t\t\t\t// Push tag name of current element\n\t\t\t\ttagArray.push( currentElement.nodeName );\n\t\t\t} );\n\n\t\tconst depthArrayEquals = depthArray.every(\n\t\t\t( v, _, a ) => v === a[ 0 ]\n\t\t);\n\t\tconst tagArrayEquals = tagArray.every( ( v, _, a ) => v === a[ 0 ] );\n\n\t\t// Check if all elements have the same depth and tag\n\t\tif ( depthArrayEquals && tagArrayEquals ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nfunction isDefined( a: unknown ): a is Exclude< typeof a, undefined > {\n\treturn (\n\t\ttypeof a !== typeof undefined &&\n\t\ta !== false &&\n\t\ta !== '' &&\n\t\ta !== ' ' &&\n\t\ta !== 'undefined' &&\n\t\ta !== null\n\t);\n}\n\nfunction isUndefined( a: unknown ): boolean {\n\treturn (\n\t\ttypeof a === typeof undefined ||\n\t\ta === false ||\n\t\ta === '' ||\n\t\ta === ' ' ||\n\t\ta === 'undefined' ||\n\t\ta === null\n\t);\n}\n\nfunction checkSelector( selector: string, mustHave: boolean ): boolean {\n\ttry {\n\t\tconst elements = querySelectorAll( selector );\n\n\t\t// Return false if document not have this element\n\t\tif ( mustHave && ! elements.length ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.log(\n\t\t\t\t\"The selector doesn't match any element on this page\"\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch ( e ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log( e );\n\t\treturn false;\n\t}\n}\n\nlet isRecursiveCallForInputsEnabled = true;\n\n/**\n * Determines the best CSS selector for a given element.\n *\n * This function evaluates an element's ID, classes, and tag name to return the\n * most specific and reliable selector. It filters out blocked and unpreferred\n * class names and considers numeric classes when necessary.\n *\n * @param {Element} element - The element to analyze.\n * @param {string}  mode    - The mode of selection, either 'single' or 'multiple'.\n * @return {string} - The best selector for the given element.\n */\nfunction determineBestSelector(\n\telement: Element,\n\tmode: 'single' | 'multiple'\n): string {\n\tconst numberRegex = /\\d+/;\n\tconst tagName = element.tagName.toLowerCase();\n\n\tif ( tagName === 'body' || tagName === 'html' ) {\n\t\treturn tagName;\n\t}\n\n\t// If element has a valid ID, return it as the selector.\n\tconst elementId = element.id.trim();\n\tif (\n\t\tisDefined( elementId ) &&\n\t\t( ! numberRegex.test( elementId ) ||\n\t\t\tallowedDigitalIds.some( ( adi ) =>\n\t\t\t\tfilterTest( adi, elementId, mode )\n\t\t\t) ) &&\n\t\t! blockedIds.some( ( bid ) => filterTest( bid, elementId, mode ) )\n\t) {\n\t\treturn `#${ elementId }`;\n\t}\n\n\t// Clean and filter class names\n\tconst className = cleanClassNameAttribute( element.className );\n\tconst filteredClasses = applyFilter( blockedClasses, className ).trim();\n\tconst refinedClasses = applyFilter( unPreferedClasses, filteredClasses );\n\n\t// Convert class lists to arrays\n\tlet filteredClassArray = getClassesArray( filteredClasses );\n\tlet refinedClassArray = getClassesArray( refinedClasses );\n\n\t// Extract numeric classes that are not in blocked lists\n\tconst numericClassArray = refinedClassArray.filter(\n\t\t( cls ) =>\n\t\t\tnumberRegex.test( cls ) &&\n\t\t\t! filterNumSkipBest.some( ( skip ) =>\n\t\t\t\tfilterTest( skip, cls, mode )\n\t\t\t) &&\n\t\t\t! blockedDigitalClasses.some( ( bdc ) =>\n\t\t\t\tfilterTest( bdc, cls, mode )\n\t\t\t)\n\t);\n\n\t// Remove numeric classes from main class lists\n\tfilteredClassArray = filteredClassArray.filter(\n\t\t( cls ) => ! numberRegex.test( cls )\n\t);\n\trefinedClassArray = refinedClassArray.filter(\n\t\t( cls ) => ! numberRegex.test( cls )\n\t);\n\n\tlet bestSelector;\n\tlet preferredClassFound = false;\n\n\t// Look for preferred class in refined list\n\trefinedClassArray.find( ( cls ) =>\n\t\tpreferedClasses.some( ( preferredCls ) => {\n\t\t\tif ( filterTest( preferredCls, cls, mode ) ) {\n\t\t\t\tif (\n\t\t\t\t\tcls === 'post' &&\n\t\t\t\t\trefinedClassArray.includes( 'hentry' )\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tpreferredClassFound = true;\n\t\t\t\tbestSelector = `.${ cls }`;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} )\n\t);\n\n\t// If no match, check initial filtered classes\n\tif ( ! preferredClassFound ) {\n\t\tfilteredClassArray.find( ( cls ) =>\n\t\t\tpreferedClasses.some( ( preferredCls ) => {\n\t\t\t\tif ( filterTest( preferredCls, cls, mode ) ) {\n\t\t\t\t\tpreferredClassFound = true;\n\t\t\t\t\tbestSelector = `.${ cls }`;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t} )\n\t\t);\n\t}\n\n\t// Check for preferred numeric class\n\tnumericClassArray.find( ( numCls ) =>\n\t\tpreferedDigitalClasses.some( ( preferredNumCls ) => {\n\t\t\tif ( filterTest( preferredNumCls, numCls, mode ) ) {\n\t\t\t\tbestSelector = `.${ numCls }`;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} )\n\t);\n\n\t// Handle input elements by type\n\tif ( tagName === 'input' && isRecursiveCallForInputsEnabled ) {\n\t\tconst inputType = element.getAttribute( 'type' );\n\t\tif ( mode === 'single' && isDefined( inputType ) ) {\n\t\t\tisRecursiveCallForInputsEnabled = false;\n\t\t\tbestSelector =\n\t\t\t\t`input[type=${ inputType }]` +\n\t\t\t\tdetermineBestSelector( element, mode );\n\t\t\tisRecursiveCallForInputsEnabled = true;\n\t\t} else if ( isDefined( inputType ) ) {\n\t\t\tbestSelector = `input[type=${ inputType }]`;\n\t\t}\n\t}\n\n\tconst isPreferredTag = simpleLikedTags.includes( tagName )\n\t\t? tagName\n\t\t: false;\n\n\t// If no class match, try a numeric class as last resort\n\tconst lastResortNumeric = numericClassArray.length\n\t\t? getMostSpecificClass( numericClassArray )\n\t\t: false;\n\n\t// Find least occurring class for single inspector\n\tlet rareClass: string | false = false;\n\tif ( mode === 'single' ) {\n\t\trareClass = findLeastOccurringClass(\n\t\t\tgetMostSpecificClass( refinedClassArray, true, false ) || []\n\t\t);\n\t\tif ( ! rareClass ) {\n\t\t\trareClass = findLeastOccurringClass( refinedClassArray );\n\t\t}\n\t\tif ( ! rareClass ) {\n\t\t\trareClass = findLeastOccurringClass(\n\t\t\t\tgetMostSpecificClass( filteredClassArray, true, false ) || []\n\t\t\t);\n\t\t}\n\t\tif ( ! rareClass ) {\n\t\t\trareClass = findLeastOccurringClass( filteredClassArray );\n\t\t}\n\t}\n\n\tconst selectedClass =\n\t\tgetMostSpecificClass( refinedClassArray, false, false ) ||\n\t\tgetMostSpecificClass( filteredClassArray, false, false );\n\n\t// Final decision on the best selector\n\tif ( bestSelector && isDefined( bestSelector ) ) {\n\t\treturn bestSelector;\n\t}\n\tif ( rareClass ) {\n\t\treturn rareClass;\n\t}\n\tif ( selectedClass && ! Array.isArray( selectedClass ) ) {\n\t\treturn selectedClass;\n\t}\n\tif ( isPreferredTag ) {\n\t\treturn isPreferredTag;\n\t}\n\tif ( lastResortNumeric && ! Array.isArray( lastResortNumeric ) ) {\n\t\treturn lastResortNumeric;\n\t}\n\tif ( tagName && tagName !== 'div' ) {\n\t\treturn tagName;\n\t}\n\tif ( filteredClasses ) {\n\t\tlet mostSpecific = getMostSpecificClass( filteredClassArray );\n\t\tif ( Array.isArray( mostSpecific ) || ! mostSpecific ) {\n\t\t\tmostSpecific = '';\n\t\t}\n\t\tconst isBlocked = blockedDigitalClasses.some( ( bdc ) =>\n\t\t\tfilterTest( bdc, mostSpecific.replace( /^(.|#)/g, '' ), mode )\n\t\t);\n\t\treturn isBlocked ? tagName : mostSpecific;\n\t}\n\n\treturn tagName;\n}\n\nfunction singleSelector( selector: string, test?: boolean ): string {\n\tlet selectorArray = getSelectorArray( selector );\n\tlet selectorPlus = '';\n\n\t// Loop through the selector array and build the selector progressively.\n\tfor ( let i = 0; i < selectorArray.length; i++ ) {\n\t\tselectorPlus += ( i > 0 ? SEPARATOR : '' ) + selectorArray[ i ];\n\n\t\t// Only proceed if more than one element matches the current selector.\n\t\tconst currentElementsCount = querySelectorAll( selectorPlus ).length;\n\t\tif ( currentElementsCount > 1 ) {\n\t\t\tquerySelectorAll( selectorPlus ).forEach( ( element ) => {\n\t\t\t\tif ( ! selectorPlus.endsWith( ')' ) && element.parentElement ) {\n\t\t\t\t\tlet indexOf = 0;\n\t\t\t\t\tArray.from( element.parentElement.children ).forEach(\n\t\t\t\t\t\t( child ) => {\n\t\t\t\t\t\t\tindexOf++;\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tchild.classList.contains( CUSTOM_CLASS ) ||\n\t\t\t\t\t\t\t\tchild.querySelector( `.${ CUSTOM_CLASS }` )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tselectorPlus += `:nth-child(${ indexOf })`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\t// Clean up unnecessary :nth-child selectors.\n\tif ( selectorPlus.includes( ':nth-child' ) ) {\n\t\tselectorArray = getSelectorArray( selectorPlus );\n\n\t\t// Iterate over the selector array to clean up any unnecessary :nth-child.\n\t\tfor ( let i = 0; i < selectorArray.length; i++ ) {\n\t\t\tconst prevAll = getPreviousItem( selectorArray, i ).join( ' ' );\n\t\t\tconst nextAll = getNextItem( selectorArray, i ).join( ' ' );\n\t\t\tlet selectorPlusNew = `${ prevAll } ${ (\n\t\t\t\tselectorArray[ i ] as string\n\t\t\t ).replace( /:nth-child\\((.*?)\\)/i, '' ) } ${ nextAll }`;\n\t\t\tselectorPlusNew = spaceCleaner( selectorPlusNew );\n\n\t\t\t// If only one element matches the selector without :nth-child, remove it.\n\t\t\tif ( querySelectorAll( selectorPlusNew ).length === 1 ) {\n\t\t\t\tselectorArray[ i ] = ( selectorArray[ i ] as string ).replace(\n\t\t\t\t\t/:nth-child\\((.*?)\\)/i,\n\t\t\t\t\t''\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Rebuild the selector without unnecessary :nth-child.\n\t\tselectorPlus = spaceCleaner( selectorArray.join( ' ' ) );\n\t}\n\n\t// Return the result based on the 'test' flag.\n\tif ( test ) {\n\t\treturn selectorPlus;\n\t}\n\n\t// Apply children support and return the final result.\n\treturn multipleVariation( addChildrenSupport( selectorPlus ) );\n}\n\n/**\n * Crops selector until it has 5 class or less\n *\n * @param selector\n * @return string\n */\nfunction cropSelector( selector: string ): string {\n\t// Get the array representation of the selector.\n\tconst selectorArray = spaceCleaner( selector )\n\t\t.replace( / *> */g, '>' )\n\t\t.split( ' ' );\n\n\t// If the selector array length is \"short enough\", use it.\n\tif ( selectorArray.length <= 5 ) {\n\t\treturn selector;\n\t}\n\n\t// Otherwise, (try to) crop it.\n\tconst initialElements = querySelectorAll( selector );\n\n\tlet croppedArray = [ ...selectorArray ];\n\tlet wasCropped = false;\n\tfor ( let i = 0; i < selectorArray.length; ++i ) {\n\t\tconst candidateArray = [ ...croppedArray ];\n\t\tcandidateArray[ i ] = '';\n\n\t\tconst candidateSelector = candidateArray.join( ' ' );\n\t\tconst candidateElements = querySelectorAll( candidateSelector );\n\n\t\tif ( areEqual( initialElements, candidateElements ) ) {\n\t\t\tcroppedArray = candidateArray;\n\t\t\twasCropped = true;\n\t\t}\n\t}\n\n\treturn wasCropped\n\t\t? croppedArray.join( ' ' ).replaceAll( '>', ' > ' )\n\t\t: selector;\n}\n\n/**\n * Attempts to simplify a complex CSS selector by generating variations\n * that are shorter but still select the same set of elements.\n *\n * @param {string} selector - The original CSS selector to simplify.\n * @return {string} - A potentially shorter, yet equivalent CSS selector.\n */\nfunction multipleVariation( selector: string ): string {\n\t// Get the number of elements that match the original selector\n\tconst originalSelectorLength = querySelectorAll( selector ).length;\n\n\t// Store the possibly cropped version of the original selector\n\tconst originalSelector = cropSelector( selector );\n\n\t// Array to hold potential simplified selectors\n\tconst variationSelectors: string[] = [];\n\n\tlet firstSelectorPart: string | undefined;\n\tlet lastSelectorPart: string | undefined;\n\tlet combinedSelector = '';\n\tlet middleSelectorParts: string[] = [];\n\n\t// Check if the selector contains '>' (child combinator)\n\tif ( ! selector.includes( '>' ) ) {\n\t\t// Split the selector into its individual parts\n\t\tmiddleSelectorParts = getSelectorArray( selector );\n\n\t\t// Extract the last element and remove it from the array\n\t\tlastSelectorPart = middleSelectorParts.pop();\n\n\t\t// Extract the first element and remove it from the array\n\t\tfirstSelectorPart = middleSelectorParts.shift();\n\n\t\t// If the selector contains '>' symbols, handle accordingly\n\t} else {\n\t\tlet selectorParts: string[] = [];\n\t\tlet firstRegex: RegExp;\n\t\tlet lastRegex: RegExp;\n\t\tlet centerSelectorParts: string[] | undefined;\n\t\tlet centerMatch: string;\n\t\tlet type: 'getStart' | 'getEnd' | null = null;\n\n\t\t// Match for getting the last part after the last '>'\n\t\tconst getEnd = ( selector.match( /\\>(?!.*\\>)(.*?)$/g ) ?? '' )\n\t\t\t.toString()\n\t\t\t.replace( /(\\s)?>(\\s)?/, '' );\n\n\t\t// Match for getting the first part before the first '>'\n\t\tconst getStart = ( selector.match( /^(.*?)\\s\\>/g ) ?? '' )\n\t\t\t.toString()\n\t\t\t.replace( /(\\s)?>(\\s)?/, '' );\n\n\t\t// Determine if '>' is at the start or end\n\t\tif ( ! getEnd.includes( ' ' ) ) {\n\t\t\tselectorParts = getStart.split( ' ' );\n\t\t\ttype = 'getStart';\n\t\t} else if ( ! getStart.includes( ' ' ) ) {\n\t\t\tselectorParts = getEnd.split( ' ' );\n\t\t\ttype = 'getEnd';\n\t\t}\n\n\t\t// If type is still null, decide based on the length of matches\n\t\tif ( type === null ) {\n\t\t\tif ( getEnd.split( ' ' ).length > getStart.split( ' ' ).length ) {\n\t\t\t\tselectorParts = getEnd.split( ' ' );\n\t\t\t\ttype = 'getEnd';\n\t\t\t} else {\n\t\t\t\tselectorParts = getStart.split( ' ' );\n\t\t\t\ttype = 'getStart';\n\t\t\t}\n\t\t}\n\n\t\t// Cache first and last selectors and remove them from the array\n\t\tif ( selectorParts.length - 2 > 1 ) {\n\t\t\tfirstSelectorPart = selectorParts[ 0 ];\n\t\t\tlastSelectorPart = selectorParts[ selectorParts.length - 1 ];\n\n\t\t\t// Regular expressions for parsing the selector parts\n\t\t\tfirstRegex = new RegExp( '^(.*?) > ' + firstSelectorPart, 'g' );\n\t\t\tlastRegex = new RegExp( lastSelectorPart + ' > (.*?)$', 'g' );\n\n\t\t\tif (\n\t\t\t\tselector.match( firstRegex ) !== null &&\n\t\t\t\tselector.match( lastRegex ) !== null\n\t\t\t) {\n\t\t\t\t// Update first and last based on the type\n\t\t\t\tif ( type === 'getEnd' ) {\n\t\t\t\t\tfirstSelectorPart = (\n\t\t\t\t\t\tselector.match( firstRegex ) ?? ''\n\t\t\t\t\t).toString();\n\t\t\t\t} else if ( type === 'getStart' ) {\n\t\t\t\t\tlastSelectorPart = (\n\t\t\t\t\t\tselector.match( lastRegex ) ?? ''\n\t\t\t\t\t).toString();\n\t\t\t\t}\n\n\t\t\t\t// Remove first and last to get the center selector parts\n\t\t\t\tselectorParts.pop();\n\t\t\t\tselectorParts.shift();\n\n\t\t\t\tcenterSelectorParts = selectorParts;\n\t\t\t}\n\t\t}\n\n\t\t// Try another method to get the center of the selector if needed\n\t\tif ( centerSelectorParts === undefined ) {\n\t\t\t// Test if there are multiple '>' symbols\n\t\t\tif ( /\\>(.*?)\\>/g.test( selector ) ) {\n\t\t\t\t// Get the center part between '>' symbols\n\t\t\t\tcenterMatch = ( selector.match( /\\>(.*?)\\>/g ) ?? '' )\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace( /(\\s)?>(\\s)?/g, '' );\n\n\t\t\t\t// Proceed if there's a space in the centerMatch\n\t\t\t\tif ( centerMatch.includes( ' ' ) ) {\n\t\t\t\t\tselectorParts = centerMatch.split( ' ' );\n\n\t\t\t\t\t// Cache first and last selectors and remove them from the array\n\t\t\t\t\tif ( selectorParts.length - 2 > 1 ) {\n\t\t\t\t\t\tfirstSelectorPart = selectorParts[ 0 ];\n\t\t\t\t\t\tlastSelectorPart =\n\t\t\t\t\t\t\tselectorParts[ selectorParts.length - 1 ];\n\n\t\t\t\t\t\t// Regular expressions for parsing the selector parts\n\t\t\t\t\t\tfirstRegex = new RegExp(\n\t\t\t\t\t\t\t'^(.*?) > ' + firstSelectorPart,\n\t\t\t\t\t\t\t'g'\n\t\t\t\t\t\t);\n\t\t\t\t\t\tlastRegex = new RegExp(\n\t\t\t\t\t\t\tlastSelectorPart + ' > (.*?)$',\n\t\t\t\t\t\t\t'g'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Update first and last selectors\n\t\t\t\t\t\tfirstSelectorPart = (\n\t\t\t\t\t\t\tselector.match( firstRegex ) ?? ''\n\t\t\t\t\t\t).toString();\n\t\t\t\t\t\tlastSelectorPart = (\n\t\t\t\t\t\t\tselector.match( lastRegex ) ?? ''\n\t\t\t\t\t\t).toString();\n\n\t\t\t\t\t\t// Remove first and last to get the center selector parts\n\t\t\t\t\t\tselectorParts.pop();\n\t\t\t\t\t\tselectorParts.shift();\n\t\t\t\t\t\tcenterSelectorParts = selectorParts;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If a center selector was found, set middleSelectorParts to it\n\t\tif ( centerSelectorParts !== undefined ) {\n\t\t\tmiddleSelectorParts = centerSelectorParts;\n\t\t} else {\n\t\t\t// If no center selector is found, return the original selector\n\t\t\treturn originalSelector;\n\t\t}\n\t}\n\n\t// Attempt to remove structural selectors from middleSelectorParts\n\tconst filteredSelectors: string[] = [];\n\tlet isValidSelector: boolean;\n\tlet regex: RegExp;\n\n\tfor ( let i = 0; i < middleSelectorParts.length; i++ ) {\n\t\tisValidSelector = true;\n\n\t\tfor ( let j = 0; j < unPreferedSelectors.length; j++ ) {\n\t\t\t// Create a regex to test for unpreferred selectors\n\t\t\tregex = new RegExp(\n\t\t\t\t'(\\\\s|^).' + unPreferedSelectors[ j ] + '(\\\\s|$)',\n\t\t\t\t'gi'\n\t\t\t);\n\n\t\t\t// If the selector matches an unpreferred selector, mark as invalid\n\t\t\tif ( regex.test( middleSelectorParts[ i ] as string ) ) {\n\t\t\t\tisValidSelector = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// If the selector passed all checks, add it to filteredSelectors\n\t\tif ( isValidSelector ) {\n\t\t\tfilteredSelectors.push( middleSelectorParts[ i ] as string );\n\t\t}\n\t}\n\n\t// If first or last selector part is undefined, return the original selector\n\tif ( isUndefined( firstSelectorPart ) || isUndefined( lastSelectorPart ) ) {\n\t\treturn originalSelector;\n\t}\n\n\t// Try combining first and last selectors if they don't contain spaces\n\tif (\n\t\t! firstSelectorPart?.includes( ' ' ) &&\n\t\t! lastSelectorPart?.includes( ' ' )\n\t) {\n\t\tcombinedSelector = spaceCleaner(\n\t\t\tfirstSelectorPart + SEPARATOR + lastSelectorPart\n\t\t);\n\t}\n\n\t// Check if the combined first and last selector is valid\n\tif ( checkSelector( combinedSelector, false ) ) {\n\t\t// If there were many structural selectors but none left after filtering\n\t\t// and the combined selector matches the original number of elements\n\t\tif (\n\t\t\tmiddleSelectorParts.length >= 1 &&\n\t\t\tfilteredSelectors.length === 0 &&\n\t\t\tquerySelectorAll( combinedSelector ).length ===\n\t\t\t\toriginalSelectorLength\n\t\t) {\n\t\t\treturn combinedSelector;\n\t\t}\n\t}\n\n\t// Update middleSelectorParts only if filteredSelectors has more than one element\n\tif ( filteredSelectors.length > 1 ) {\n\t\tmiddleSelectorParts = filteredSelectors;\n\t}\n\n\t// Require a minimum of 2 selectors (excluding first and last)\n\tif ( middleSelectorParts.length < 2 ) {\n\t\treturn originalSelector;\n\t}\n\n\t// Filter middleSelectorParts to include only classes used at the same depth and tag names\n\tlet depthList: number[] = [];\n\tlet tagNameList: string[] = [];\n\tconst consistentSelectors: string[] = [];\n\n\tfor ( let i = 0; i < middleSelectorParts.length; i++ ) {\n\t\tif ( /.|#/g.test( middleSelectorParts[ i ] as string ) ) {\n\t\t\tdepthList = [];\n\t\t\ttagNameList = [];\n\n\t\t\t// For each element matching the current selector\n\t\t\tdocument\n\t\t\t\t.querySelectorAll( middleSelectorParts[ i ] as string )\n\t\t\t\t.forEach( ( element ) => {\n\t\t\t\t\tdepthList.push( getParents( element ).length );\n\t\t\t\t\ttagNameList.push( element.nodeName );\n\t\t\t\t} );\n\n\t\t\t// Check if all depths are equal\n\t\t\tconst isDepthConsistent = depthList.every(\n\t\t\t\t( value, _, array ) => value === array[ 0 ]\n\t\t\t);\n\n\t\t\t// Check if all tag names are equal\n\t\t\tconst isTagNameConsistent = tagNameList.every(\n\t\t\t\t( value, _, array ) => value === array[ 0 ]\n\t\t\t);\n\n\t\t\t// If both depth and tag name are consistent, add to consistentSelectors\n\t\t\tif ( isDepthConsistent && isTagNameConsistent ) {\n\t\t\t\tconsistentSelectors.push( middleSelectorParts[ i ] as string );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Update middleSelectorParts only if consistentSelectors has more than one element\n\tif ( consistentSelectors.length > 1 ) {\n\t\tmiddleSelectorParts = consistentSelectors;\n\t}\n\n\t// Variables for combining selectors\n\tconst remainingSelectors = middleSelectorParts.slice( 0 );\n\tlet currentSelector: string;\n\tlet nextSelector: string;\n\tlet testSelector: string;\n\n\t// Combine selectors to generate variations\n\tfor ( let i = 0; i < middleSelectorParts.length; i++ ) {\n\t\tcurrentSelector = middleSelectorParts[ i ] as string;\n\n\t\t// Create a test selector with first, current, and last\n\t\ttestSelector =\n\t\t\tfirstSelectorPart +\n\t\t\tSEPARATOR +\n\t\t\tcurrentSelector +\n\t\t\tSEPARATOR +\n\t\t\tlastSelectorPart;\n\n\t\t// If the test selector matches the original number of elements, add to results\n\t\tif (\n\t\t\tquerySelectorAll( testSelector ).length === originalSelectorLength\n\t\t) {\n\t\t\tvariationSelectors.push( testSelector );\n\t\t}\n\n\t\t// Remove the current selector from remainingSelectors\n\t\tremainingSelectors.shift();\n\n\t\t// Combine current selector with the remaining selectors in remainingSelectors\n\t\tfor ( let j = 0; j < remainingSelectors.length; j++ ) {\n\t\t\tnextSelector = remainingSelectors[ j ] as string;\n\n\t\t\t// Create a test selector with first, current, next, and last\n\t\t\ttestSelector =\n\t\t\t\tfirstSelectorPart +\n\t\t\t\tSEPARATOR +\n\t\t\t\tcurrentSelector +\n\t\t\t\tSEPARATOR +\n\t\t\t\tnextSelector +\n\t\t\t\tSEPARATOR +\n\t\t\t\tlastSelectorPart;\n\n\t\t\t// If the test selector matches the original number of elements, add to results\n\t\t\tif (\n\t\t\t\tquerySelectorAll( testSelector ).length ===\n\t\t\t\toriginalSelectorLength\n\t\t\t) {\n\t\t\t\tvariationSelectors.push( testSelector );\n\t\t\t}\n\t\t}\n\t}\n\n\t// If no variations were found, return the original selector\n\tif ( variationSelectors.length === 0 ) {\n\t\treturn originalSelector;\n\t}\n\n\t// Sort the results by selector length (shortest first)\n\tvariationSelectors.sort( ( a, b ) => a.length - b.length );\n\n\t// Return the shortest valid selector variation\n\treturn spaceCleaner( variationSelectors[ 0 ] );\n}\n\nfunction getMostSpecificClass(\n\tclasses: string[],\n\tarray: true,\n\talternative?: boolean\n): string[] | false;\nfunction getMostSpecificClass(\n\tclasses: string[],\n\tarray?: false,\n\talternative?: boolean\n): string | false;\nfunction getMostSpecificClass(\n\tclasses: string[],\n\tarray: boolean = false,\n\talternative: boolean = false\n) {\n\t// If there are no classes, return false.\n\tif ( classes.length === 0 ) {\n\t\treturn false;\n\t}\n\n\t// If there's only one class and alternative is true, return false.\n\tif ( classes.length === 1 && alternative ) {\n\t\treturn false;\n\t}\n\n\t// If there's only one class and alternative is false, return it.\n\tif ( classes.length === 1 && ! alternative ) {\n\t\tconst singleClass = classes[ 0 ];\n\t\tif ( singleClass && singleClass.length > 1 ) {\n\t\t\treturn array ? classes : `.${ singleClass }`;\n\t\t}\n\t\treturn false;\n\t}\n\n\t// Filter out classes with special characters\n\tlet filteredClasses = classes.filter( ( c ) => ! /[\\[\\]#,]/g.test( c ) );\n\n\t// Validate consistency in parent depth and tag names\n\tfilteredClasses = filteredClasses.filter( ( c ) => {\n\t\tconst depthArray: number[] = [];\n\t\tconst tagArray: string[] = [];\n\n\t\tquerySelectorAll( `.${ c }` ).forEach( ( element ) => {\n\t\t\tdepthArray.push( getParents( element ).length );\n\t\t\ttagArray.push( element.nodeName );\n\t\t} );\n\n\t\tconst sameDepth = depthArray.every(\n\t\t\t( depth ) => depth === depthArray[ 0 ]\n\t\t);\n\t\tconst sameTags = tagArray.every( ( tag ) => tag === tagArray[ 0 ] );\n\n\t\treturn sameDepth && sameTags;\n\t} );\n\n\t// If no valid classes remain, revert to the original list\n\tif ( filteredClasses.length === 0 ) {\n\t\tfilteredClasses = classes;\n\t}\n\n\t// Separate classes with hyphens and underscores\n\tconst hyphenatedClasses = filteredClasses.filter(\n\t\t( c ) => ! /_/.test( c ) && /-/.test( c )\n\t);\n\tconst underscoredClasses = filteredClasses.filter(\n\t\t( c ) => ! /-/.test( c ) && /_/.test( c )\n\t);\n\n\tlet selectedClasses: string[];\n\tif ( hyphenatedClasses.length > 0 ) {\n\t\tselectedClasses = hyphenatedClasses;\n\t} else if ( underscoredClasses.length > 0 ) {\n\t\tselectedClasses = underscoredClasses;\n\t} else {\n\t\tselectedClasses = filteredClasses;\n\t}\n\n\t// Remove classes with repeated characters (e.g., \"tessst\")\n\tlet finalClasses = selectedClasses.filter( ( c ) => ! /(.)\\1\\1/.test( c ) );\n\n\t// If all classes were removed, revert to the previous selection\n\tif ( finalClasses.length === 0 ) {\n\t\tfinalClasses = selectedClasses;\n\t}\n\n\t// Sort classes by length (longest first)\n\tfinalClasses.sort( ( a, b ) => b.length - a.length );\n\n\t// Return the result in the requested format\n\treturn array ? finalClasses : `.${ finalClasses[ 0 ] }`;\n}\n\n/**\n * Adds > symbol to single_selector.\n *\n * @param selector\n * @return string\n */\nfunction addChildrenSupport( selector: string ): string {\n\tconst selectorArray = getSelectorArray( selector );\n\tlet newSelector = '';\n\n\tfor ( const s of selectorArray ) {\n\t\t// Remove :nth-child() to prevent issues\n\t\tconst currentSelector = s.replace( /:nth-child\\((.*?)\\)/i, '' );\n\n\t\t// Check if the same selector exists within the selector itself\n\t\tconst testSelector =\n\t\t\t`${ newSelector } ${ currentSelector } ${ currentSelector }`.trim();\n\n\t\t// Append selector with \">\" or space based on existence check\n\t\tconst isAlreadySelected = querySelectorAll( testSelector ).length > 0;\n\t\tconst link = isAlreadySelected ? '>' : ' ';\n\t\tnewSelector += ` ${ link } ${ s } `;\n\t}\n\n\tnewSelector = spaceCleaner( newSelector.trim() );\n\n\t// If selector still selects multiple elements, enforce \">\" at the end\n\tif ( querySelectorAll( newSelector ).length > 1 ) {\n\t\tnewSelector = newSelector.replace( /(?=[^ ]*$)/i, ' > ' );\n\t}\n\n\tnewSelector = cleanUnnecessaryGreaterThan( newSelector );\n\n\treturn spaceCleaner( newSelector );\n}\n\nfunction getSelectorArray( selector: string ) {\n\t// Clean up selector\n\tselector = selector\n\t\t.trim()\n\t\t.replace( /\\s\\s+/g, ' ' ) // Remove extra spaces\n\t\t.replace( /(\\s)?([>+~,])(\\s)?/g, '$2' ) // Remove spaces around \">,+,~\"\n\t\t.replace( />/g, ' ' ) // Convert '>' to space\n\t\t.trim();\n\n\t// Split by space if there are multiple selectors\n\tconst selectorArray = selector.length\n\t\t? selector.split( ' ' ).map( ( v ) => v.trim() )\n\t\t: [];\n\n\t// Add spaces around '~' and '+' and return the result\n\treturn selectorArray.map( ( v ) =>\n\t\tv.replace( /\\~/g, ' ~ ' ).replace( /\\+/g, ' + ' )\n\t);\n}\n\nfunction spaceCleaner( data: string | undefined ) {\n\treturn ( data || '' ).replace( /\\s+/g, ' ' ).trim();\n}\n\nfunction filterTest(\n\tfilter: string,\n\tclassName: string,\n\tmode: 'single' | 'multiple'\n) {\n\tconst singleInspectorPattern =\n\t\tmode === 'single' ? /\\(\\!singleInspector\\)/g : /\\(singleInspector\\)/g;\n\n\tif ( singleInspectorPattern.test( filter ) ) {\n\t\treturn false;\n\t}\n\n\tfilter = filter.replace( singleInspectorPattern, '' );\n\tconst regex = new RegExp( `(\\\\s|^)${ filter }(\\\\s|$)`, 'gi' );\n\treturn regex.test( className );\n}\n\nfunction applyFilter( filter: string[], classes: string ) {\n\tclasses = ` ${ classes } `.replaceAll( ' ', '  ' );\n\tfilter.forEach( ( f ) => {\n\t\tconst regex = new RegExp( '(\\\\s|^)' + f + '(\\\\s|$)', 'gi' );\n\t\tclasses = classes.replace( regex, ' ' );\n\t} );\n\n\treturn spaceCleaner( classes );\n}\n\nconst INVALID_CHARS_REGEX =\n\t/([\\u2018\\u2019\\u201A\\u201B\\u2032\\u2035\\u201C\\u201D]|\\{|\\}|\\:|\\<|\\>|\\(|\\)|\\[|\\]|\\~|\\\"|\\'|\\?|\\\\)/g;\nconst ESCAPABLE_CHARS_REGEX = /(@|\\.|\\/|!|\\*|#|\\+)/g;\nfunction cleanClassNameAttribute( value: unknown ): string {\n\treturn ( 'string' === typeof value ? value : '' )\n\t\t.trim()\n\t\t.replace( /\\s\\s+/g, ' ' )\n\t\t.split( ' ' )\n\t\t.filter(\n\t\t\t( className ) => ! INVALID_CHARS_REGEX.test( className.trim() )\n\t\t)\n\t\t.map( ( className ) => className.trim() )\n\t\t.join( ' ' )\n\t\t.replace( ESCAPABLE_CHARS_REGEX, '\\\\$1' );\n}\n\nfunction getClassesArray( classes: string ) {\n\treturn classes.trim().replace( /\\s+/g, ' ' ).split( ' ' ).filter( Boolean );\n}\n\n/**\n * Finds the class with the least number of elements in the document.\n *\n * @param {string[]} classes - Array of class names to be checked.\n * @return {string|false} The class name with the least occurrences if it appears only once, otherwise false.\n */\nfunction findLeastOccurringClass( classes: string[] ): string | false {\n\tconst matchlessClasses = classes.sort(\n\t\t( b, a ) =>\n\t\t\tdocument.body.querySelectorAll( '.' + b ).length -\n\t\t\tdocument.body.querySelectorAll( '.' + a ).length\n\t);\n\n\treturn document.body.querySelectorAll( '.' + matchlessClasses[ 0 ] )\n\t\t.length === 1\n\t\t? '.' + matchlessClasses[ 0 ]\n\t\t: false;\n}\n\n/**\n * Check if two selectors perform the same selection.\n *\n * @param selector\n * @param selectorNew\n */\nfunction comparisonSelector( selector: string, selectorNew: string ): boolean {\n\t// Find elements matching the first selector\n\tconst elements = querySelectorAll( selector );\n\telements.forEach( ( el ) => el.classList.add( 'test-selector1-group' ) );\n\n\t// Find elements matching the second selector that also have the test class\n\tconst elementsNew = querySelectorAll( selectorNew ).filter( ( el ) =>\n\t\tel.classList.contains( 'test-selector1-group' )\n\t);\n\n\t// Remove the test class after comparison\n\telements.forEach( ( el ) => el.classList.remove( 'test-selector1-group' ) );\n\n\t// Ensure both selectors return the same number of elements\n\tif ( elements.length !== elementsNew.length ) {\n\t\treturn false;\n\t}\n\n\t// Check if one selector contains \".CUSTOM_CLASS\" while the other does not\n\tif (\n\t\tselector.includes( `.${ CUSTOM_CLASS }` ) !==\n\t\tselectorNew.includes( `.${ CUSTOM_CLASS }` )\n\t) {\n\t\treturn false;\n\t}\n\n\t// Check for specific pseudo-classes in both selectors\n\tconst pseudoClasses = [\n\t\t'active',\n\t\t'checked',\n\t\t'disabled',\n\t\t'empty',\n\t\t'enabled',\n\t\t'hover',\n\t\t'focus',\n\t\t'in-range',\n\t\t'invalid',\n\t\t'lang',\n\t\t'link',\n\t\t'optional',\n\t\t'out-of-range',\n\t\t'valid',\n\t\t'visited',\n\t];\n\n\tfor ( const pseudo of pseudoClasses ) {\n\t\tconst regex = new RegExp( `:${ pseudo }`, 'g' );\n\t\tif ( regex.test( selector ) !== regex.test( selectorNew ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nfunction selectorRegex( selector: string ) {\n\treturn selector\n\t\t.replace( /\\\\/g, '\\\\\\\\' ) // \\\n\t\t.replace( /\\./g, '\\\\.' ) // [\n\t\t.replace( /\\[/g, '\\\\[' ) // [\n\t\t.replace( /\\]/g, '\\\\]' ) // ]\n\t\t.replace( /\\(/g, '\\\\(' ) // (\n\t\t.replace( /\\)/g, '\\\\)' ) // )\n\t\t.replace( /\\^/g, '\\\\^' ) // ^\n\t\t.replace( /\\$/g, '\\\\$' ) // $\n\t\t.replace( /\\*/g, '\\\\*' ) // *\n\t\t.replace( /\\:/g, '\\\\:' ) // :\n\t\t.replace( /\\+/g, '\\\\+' ); // +\n}\n\nfunction getPreviousItem( arr: unknown[], current: number ) {\n\treturn arr.slice( 0, current );\n}\n\nfunction getNextItem( arr: unknown[], current: number ) {\n\treturn arr.slice( current + 1 );\n}\n\nfunction getParents( element: Element ): Element[] {\n\tconst parents: Element[] = [];\n\tlet currentElement = element.parentElement;\n\n\twhile ( currentElement ) {\n\t\tparents.push( currentElement );\n\t\tcurrentElement = currentElement.parentElement;\n\t}\n\n\treturn parents;\n}\n\nfunction querySelectorAll( selector: string ) {\n\ttry {\n\t\treturn Array.from( document.querySelectorAll( selector ) );\n\t} catch ( _ ) {\n\t\treturn [];\n\t}\n}\n\nfunction areEqual< T >(\n\ta: ReadonlyArray< T >,\n\tb: ReadonlyArray< T >\n): boolean {\n\treturn a.length === b.length && a.every( ( x ) => b.includes( x ) );\n}\n\nfunction cleanUnnecessaryGreaterThan( selector: string ) {\n\tif ( selector.indexOf( '>' ) === -1 ) {\n\t\treturn selector;\n\t}\n\n\tconst length = selector.split( '>' ).length;\n\tconst initialElements = querySelectorAll( selector );\n\n\tfor ( let i = 1; i < length; i++ ) {\n\t\tconst candidate = selector.replace( / > /i, ' ' );\n\t\tconst candidateElements = querySelectorAll( candidate );\n\t\tif ( areEqual( initialElements, candidateElements ) ) {\n\t\t\tselector = candidate;\n\t\t}\n\t}\n\n\treturn selector;\n}\n\n/* ---------------------------------------*/\n/* Prefer one digital class in 2 or more. */\n/* ---------------------------------------*/\nconst preferedDigitalClasses = [\n\t// General\n\t'wp-image-[0-9]+',\n\n\t// Basic\n\t'([a-zA-Z0-9_-]+)?(section|slide|button|image|row)([a-zA-Z0-9_-]+)?',\n\n\t// Visual Composer\n\t'vc_custom_([a-zA-Z0-9_-]+)?',\n\n\t// Beaver Builder\n\t'fl-node([a-zA-Z0-9_-]+)?',\n\t'fl-row([a-zA-Z0-9_-]+)?',\n\n\t// Themify\n\t'module_row_([0-9]+)',\n\t'module_column_([0-9]+)',\n\n\t// Divi\n\t'et_pb_(section|row)_[0-9]+',\n\n\t// King Composer\n\t'kc-css-([0-9]+)',\n\n\t// Forge Builder\n\t'forge-col[0-9]+',\n\n\t// Enfold\n\t'(avia|av)-builder-el-([0-9]+)',\n\n\t// Flatsome\n\t'footer-([0-9]+)',\n\n\t// Other\n\t'gb-container-([a-zA-Z0-9_-]+)?',\n\t'wp-container-[0-9]+',\n\t'wp-elements-[0-9]+',\n\t'(n2-font-|n2-style-)([a-zA-Z0-9_-]+)?',\n\t'n2-ss-([0-9]+)item([0-9]+)',\n\t'n-uc-([a-zA-Z0-9_-]+)',\n\t'ms-parent-id-([0-9_-]+)',\n\t'msp-cn-([a-zA-Z0-9_-]+)',\n\t'e([0-9-]+)',\n\t'td_module_([0-9]+)',\n\t'cp_id_([a-zA-Z0-9_-]+)',\n\t'snp-pop-([0-9]+)',\n\t'dsgn__basic-([0-9]+)',\n\t'td_block_([0-9]+)',\n\t'weforms-([0-9]+)',\n\t'fusion-builder-row-([0-9]+)',\n];\n\n/* -----------------*/\n/* Prefered Classes */\n/* -----------------*/\nconst preferedClasses = [\n\t'(current-menu-item|post|hentry|widget|wp-post-image|comment-author-admin|next|prev|product|footer|footer-top|footer-bottom|header|navbar|sidebar|masthead|copyright|menu-item|form-control|row_inner|wpDataTable|ls-wrapper|x-column)',\n\t'active(!singleInspector)',\n\t'current(!singleInspector)',\n\t'(entry|article|post|page|item|widget)([-_])?title',\n\t'(entry|article|post|page|item|widget)([-_])?content',\n\t'(entry|article|post|page|item|widget)([-_])?meta',\n\t'([a-zA-Z0-9_-]+)?item',\n\t'kc-css-([a-zA-Z0-9_-]+)?',\n\t'filterall',\n];\n\n/* ---------------------------------------------------- */\n/* These classes will never be used in the selector.    */\n/* Use only if tag is \"div\" and not have a alternative. */\n/* ---------------------------------------------------- */\nconst blockedClasses = [\n\t'nab-selected',\n\t'nab-focused-element',\n\t'nab-highlight',\n\t'nab-highlight__tooltip',\n\t'nab-highlight__tooltip-text',\n\t'nab-breadcrumb-highlight',\n\t'nab-hovered',\n\t'nab-hovered__tooltip',\n\t'nab-hovering',\n\t'nab-breadcrumbs-container',\n\t'nab-breadcrumbs-list',\n\t'nab-breadcrumbs-list-item',\n\t'nab-breadcrumbs-list-item__content',\n\t'nab-breadcrumbs-list-item--selected',\n\n\t// Elementor\n\t'([a-zA-Z0-9_-]+)?(elementor)([a-zA-Z0-9_-]+)?',\n\t'(e-)([a-zA-Z0-9_-]+)?',\n\n\t// Classes from a animate.css\n\t'([a-zA-Z0-9_-]+)?(infinite|bounce|pulse|rubberBand|shake|headShake|swing|wobble|jello|hinge|fade)([a-zA-Z0-9_-]+)?',\n\t'(([a-zA-Z0-9_-]+)?([-_]flash|flash[-_]|[-_]flash[-_])([a-zA-Z0-9_-]+)?|flash)',\n\t'(([a-zA-Z0-9_-]+)?([-_]tada|tada[-_]|[-_]tada[-_])([a-zA-Z0-9_-]+)?|tada)',\n\t'([a-zA-Z0-9_-]+)?slide([a-zA-Z0-9_-]+)?(in|out)([a-zA-Z0-9_-]+)?(up|down|left|right)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(roll|fall|flip|lightSpeed|rotate|zoom)([a-zA-Z0-9_-]+)?(in|out|up|down|left|right)([a-zA-Z0-9_-]+)?',\n\n\t'([a-zA-Z0-9_-]+)?slide([a-zA-Z0-9_-]+)?(In|in|Out|out)([a-zA-Z0-9_-]+)?(Up|up|Down|down|Left|left|Right|right)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?roll([a-zA-Z0-9_-]+)?(In|in|Out|out)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?fall([a-zA-Z0-9_-]+)?(In|in|Out|out|Up|up|Down|down|Left|left|Right|right)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?flip([a-zA-Z0-9_-]+)?(In|in|Out|out|Up|up|Down|down|Left|left|Right|right)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?lightSpeed([a-zA-Z0-9_-]+)?(In|in|Out|out)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?rotate([a-zA-Z0-9_-]+)?(In|in|Out|out)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?zoom([a-zA-Z0-9_-]+)?(In|in|Out|out)([a-zA-Z0-9_-]+)?',\n\n\t// Post Status classes\n\t'([a-zA-Z0-9_-]+)?(publish|draft|pending|private|trash)([a-zA-Z0-9_-]+)?',\n\n\t// Basic post formats\n\t'(standard|aside|audio|chat|gallery|image|link|quote|status|video)',\n\n\t// Some functional classes\n\t'([a-zA-Z0-9_-]+)?(viewport|ltr|padding|inherit|margin|relative|transparent|visibility|hidden|active-slide|current-slide|hide|animated|draggable|resize|cloned|sortable|status|clearfix|clear|(clr|clfw)|clean|hover|default_template|ready|validate|false|true|loading|loaded|finished|center|delay|enabled|disabled|ga-track|raw_code|raw_html|padded|bold|initialised|even|odd|dismissable|underlined|flippable|clickable|gutter|animation|animate|transition)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?-(spacing-yes|spacing-no)',\n\t'([a-zA-Z0-9_-]+)?([-_]drag[-_]|drag[-_]|[-_]drag|active-slide|current-slide|selected-slide|slide-active|slide-current|slide-selected|draggable|sortable|dismissable|flippable|clickable|focus|viewport|ltr|inherit|relative|absolute|transparent|visibility|spaced|hidden|hideresize|cloned|status|clean|clr|clfw|ready|validate|false|true|loading|loaded|added|move|moving|finished|delay|enabled|disabled|bold|italic|initialised|even|odd|underlined|gutter|animation|animating|animate|transition|repeat|cursor|pointer|uppercase|lowecase|all-caps|capitalize|padding|margin|padded|[_-])(to|from)([_-])(top|left|right|bottom)([a-zA-Z0-9_-]+)?',\n\t'((?!n2)([a-zA-Z0-9_-]+)hover([_-])([a-zA-Z0-9]+)?|hover|hover([_-])([a-zA-Z0-9]+)?|(?!n2)([a-zA-Z0-9_-]+)hover|hovered)',\n\t'(?!n2)([a-zA-Z0-9_-]+)[-_]font([a-zA-Z0-9_-]+)?',\n\n\t'(lang|language|translate)([-_])([a-zA-Z0-9_-]+)?',\n\t'([_-]?)([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3}|rgba|rgb)([_-]?)?',\n\t'([a-zA-Z0-9_-]+)?rand',\n\t'([a-zA-Z0-9_-]+)?(mrg|pdg|m|p|pad|mar|margin|pading|padng|mrn)([-_])(t|r|b|l|btm|top|left|right|tp|lft|rght|bottom)([-_])([a-zA-Z0-9_-]+)',\n\t'is([_-])([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)none',\n\t'([a-zA-Z0-9_-]+)?with([_-])([a-zA-Z0-9]+)',\n\t'(display[-_]?block|display[-_]?inline|display[-_]?inline[-_]?block)',\n\t'(bottom|top|left|right|center|align|middle|up|down)[-_](bottom|top|left|right|center|align|middle|up|down)',\n\t'(bottom|top|left|right|center|align|middle|up|down)[-_](bottom|top|left|right|center|align|middle|up|down)[-_](bottom|top|left|right|center|align|middle|up|down)',\n\t'(not|no)([_-])([a-zA-Z0-9_-]+)?',\n\t'(roboto|lato|montserrat|slabo|raleway|merriweather|poppins|lora|titillium[-_]?web|muli|arimo)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)[-_](serif|sans|display|monospace|webfont)([a-zA-Z0-9_-]+)?',\n\t'page([_-])item',\n\t'([a-zA-Z0-9_-]+)?object([_-])page',\n\t'([a-zA-Z0-9_-]+)?closed',\n\t'thread([_-])alt',\n\t'([a-zA-Z0-9_-]+)?([_-])has([_-])?([a-zA-Z0-9_-]+)|([a-zA-Z0-9_-]+)?([_-])?has([_-])([a-zA-Z0-9_-]+)',\n\t'screen([_-])reader([_-])text',\n\t'tag-link([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(internet([-_])?explorer|opera|firefox|safari|chrome|product_tag|product_cat)([a-zA-Z0-9_-]+)?',\n\t'(img-responsive|ls-active|disappear|appear|noSwipe|wow|bootstrap-touchspin-down|section--no|cat-item|kc-elm|kc_column|selected|alternate_color|open-mega-a|sf-menu|sf-arrows|ajax|neg-marg|lazy|lazyload|lazy-img|text-shadow-small|full|sort|elementor-column-gap-no|n2-ow|et_pb_css_mix_blend_mode_passthrough|filterall|notranslate|vce|bordb|master-slider-parent|ms-sl-selected|non-hundred-percent-height-scrolling|hundred-percent-fullwidth|post-no-media|ie|form-label-above)',\n\t'([a-zA-Z0-9_-]+)?((syle|style)-default|nojquery|js-comp-ver|wpb-js-composer|disable-responsive-headings|ut-vc-|default([-_])template|ga-track|raw([-_])code|raw([-_])html|withbg|bg([-_])layout)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?-shd',\n\t'([a-zA-Z0-9_-]+)?video-aspect-ratio-([a-zA-Z0-9_-]+)',\n\t'([a-zA-Z0-9_-]+)?([-_])spacing([-_])(no|yes)',\n\t'n2-(ow|ss)-(all|desktop|mobile|tablet)',\n\t'([a-zA-Z0-9_-]+)?show-dropdown',\n\t'page-section-[a-zA-Z0-9]{13,13}',\n\n\t// Functional 3 party classes\n\t'([a-zA-Z0-9_-]+)?withbg([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?bg_layout([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-s]+)?rand',\n\t'mrg-(btm|top|left|right|tp|lft|rght)-([a-zA-Z0-9_-]+)',\n\t'is([_-])([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)none',\n\n\t// WordPress Core\n\t'page([_-])item',\n\t'([a-zA-Z0-9_-]+)?object([_-])page',\n\t'([a-zA-Z0-9_-]+)?closed',\n\t'thread([_-])alt',\n\t'([a-zA-Z0-9_-]+)?([_-])has([_-])?([a-zA-Z0-9_-]+)|([a-zA-Z0-9_-]+)?([_-])?has([_-])([a-zA-Z0-9_-]+)',\n\t'screen([_-])reader([_-])text',\n\t'tag-link([a-zA-Z0-9_-]+)?',\n\t'post-no-media',\n\n\t// Browser Classes\n\t'([a-zA-Z0-9_-]+)?opera([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?firefox([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?safari([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?chrome([a-zA-Z0-9_-]+)?',\n\n\t// WooCommerce\n\t'([a-zA-Z0-9_-]+)?product_tag([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?product_cat([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?taxable([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?onsale([a-zA-Z0-9_-]+)?',\n\t'calculated_shipping',\n\t'currency([a-zA-Z0-9_-]+)?',\n\t'woocommerce-MyAccount-navigation-link--([a-zA-Z0-9_-]+)?',\n\n\t// Etc\n\t'img-responsive',\n\t'ls-active',\n\t'disappear',\n\t'appear',\n\t'noSwipe',\n\t'wow',\n\t'bootstrap-touchspin-down',\n\t'section--no',\n\t'cat-item',\n\t'([a-zA-Z0-9_-]+)?direction-ltr',\n\t'([a-zA-Z0-9_-]+)?show-dropdown',\n\t'kc-elm',\n\t'kc_column',\n\t'selected',\n\t'alternate_color',\n\t'open-mega-a',\n\t'sf-menu',\n\t'sf-arrows',\n\n\t'([a-zA-Z0-9_-]+)?nojquery([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?js-comp-ver([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?wpb-js-composer([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?-shd',\n\t'([a-zA-Z0-9_-]+)?with([_-])([a-zA-Z0-9]+)',\n\t'([a-zA-Z0-9_-]+)?m-t-([0-9])+([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(serif|sans|font|webfont)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?uppercase([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?([_-])(to|from)([_-])(top|left|right|bottom)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(cursor|pointer)([a-zA-Z0-9_-]+)?',\n\t'(not|no)([_-])([a-zA-Z0-9_-]+)?',\n\t'ajax',\n\t'neg-marg',\n\t'([a-zA-Z0-9_-]+)?video-aspect-ratio-([a-zA-Z0-9_-]+)',\n\t'lazy',\n\t'lazy-img',\n];\n\n/* ------------------------------------------*/\n/* Never uses the following nummeric classes */\n/* ------------------------------------------*/\nconst blockedDigitalClasses = [\n\t'([a-zA-Z0-9_-]+)?page([_-])item([_-])([0-9]+)',\n\t'(vc_|vc-)(.*?)(_|-)[a-zA-Z-0-9]{22,22}',\n\t'themify_builder_content-([0-9]+)',\n\t'themify_builder_([0-9]+)_row',\n\t'tb_([0-9]+)_column',\n\t'et_pb_image_([0-9]+)',\n\t'([a-zA-Z0-9_-]+)?(post|page|portfolio|product|work|port|form|video)([_-])([0-9]+)',\n\t'([a-zA-Z0-9_-]+)?(post|page|portfolio|product|work|port|form|video)([_-])(entry|item|id)([_-])([0-9]+)',\n\t'([0-9])+(px|em|rem)',\n\t'([a-zA-Z0-9_-]+)?wishlist-([0-9])+',\n\t'wpbs-bookable-([0-9])+',\n\t'wpbs-day-([0-9])+',\n\t'([a-zA-Z0-9_-]+)?rand-([0-9])+',\n\t'([a-zA-Z0-9_-]+)?(([-_])ie|ie8|ie9|ie10|ie11)',\n\t'testimonials-items-([a-zA-Z0-9_-]+)',\n\t'instance-([0-9]+)',\n];\n\n/* ------------------------------------------*/\n/* Allow just the following nummeric ids     */\n/* Ex: #section-15 is an allowed nummeric id */\n/* ------------------------------------------*/\nconst allowedDigitalIds = [\n\t// General\n\t'([a-zA-Z0-9_-]+)?(module|slide|section|row|layout|form|wrapper|container|parallax|block)([a-zA-Z0-9_-]+)?',\n\n\t// 3rd party plugin allowed ids\n\t'layers-widget-([a-zA-Z0-9_-]+)?',\n\t'builder-module-([a-zA-Z0-9_-]+)?',\n\t'pg-([a-zA-Z0-9_-]+)?',\n\t'ptpb_s([a-zA-Z0-9_-]+)?',\n\t'billing_address_([0-9])([a-zA-Z0-9_-]+)?',\n\t'el-([a-zA-Z0-9_-]+)',\n\t'dslc-module-([a-zA-Z0-9_-]+)',\n\t'module-([0-9]){13,13}-([0-9]){4,4}',\n\t'wrapper-([0-9]){13,13}-([0-9]){4,4}',\n\t'eluid([a-zA-Z0-9_-]+)',\n\t'nf-form-([0-9]+)-cont',\n\t'nf-field-([0-9]+)-wrap',\n\t'ulp-inline-([a-zA-Z0-9_-]+)?',\n\t'ulp-layer-([a-zA-Z0-9_-]+)?',\n\t'ulp-([a-zA-Z0-9_-]+)?',\n\t'esg-grid-([0-9]+)-([0-9]+)',\n\t'snp-bld-step-([0-9]+)',\n\t'snp-bld-step-([0-9]+)-el-([0-9]+)',\n\t'snppopup-content-([0-9]+)',\n\t'gform_([0-9]+)',\n];\n\nconst blockedIds = [\n\t'widget',\n\t'recentcomments',\n\t'fws_([a-zA-Z0-9_-]+)',\n\t'wrapper-[a-zA-Z-0-9]{16,16}',\n\t'rps_([a-zA-Z0-9_-]+)',\n\t'search-form-[a-zA-Z0-9]{13,13}',\n\t'fullwidth-block-[a-zA-Z0-9]{13,13}',\n\t'nf-field-([0-9]+)-container',\n\t'phantom',\n\t'wpforms-([0-9]+)-field_([0-9]+)([a-zA-Z0-9_-]+)?(!singleInspector)',\n\t'input_([0-9]+)_([0-9]+)_([0-9]+)_container(!singleInspector)',\n\t'gform_fields_([0-9]+)',\n];\n\n/* -------------------------------------------*/\n/* Unprefered classes that are not a priority */\n/* -------------------------------------------*/\nconst unPreferedClasses = [\n\t// Logical\n\t'([a-zA-Z0-9_-]+)([_-])',\n\t'([_-])([a-zA-Z0-9_-]+)',\n\t'([a-zA-Z0-9_-]+)?([_-])([_-])([a-zA-Z0-9_-]+)?', // multiple -_ ex: bad--class--name\n\n\t// WordPress Dynamic Classes\n\t'([a-zA-Z0-9_-]+)?([_-])([_-]|tag|category|cat)([_-]|format)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(tag|category|cat)([_-])([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?format([a-zA-Z0-9_-]+)?',\n\t'menu([_-])item([_-])type([_-])post([_-])type',\n\t'menu([_-])item([_-])object([_-])page',\n\t'menu([_-])item([_-])(object|type)([_-])custom',\n\t'widget_([a-zA-Z0-9_-]+)',\n\t'bg([-_])([a-zA-Z0-9_-]+)',\n\n\t// Modern Columns.\n\t'([a-zA-Z0-9_-]+)?([_-])(l|m|s|xs)([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?pure([_-])([a-zA-Z0-9_-]+)?([_-])u([_-])[0-9]+([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?col([_-])([a-zA-Z0-9_-]+)?([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?col([_-])([a-zA-Z0-9_-]+)?([_-])offset([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?(medium|large|small)([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?(medium|large|small)([_-])([a-zA-Z0-9_-]+)?([_-])[0-9]+',\n\n\t// Bootstrap Classes\n\t'(xs|s|m|l|xl|xsmall|small|medium|large|xlarge)([_-])(start|end|center|between)',\n\t'([a-zA-Z0-9_-]+)?(small|medium|large)([_-])(push|pull)([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?span[0-9]+',\n\t'([a-zA-Z0-9_-]+)?span([_-])?[0-9]+',\n\t'([a-zA-Z0-9_-]+)?col([_-])[0-9]+([_-])[0-9]+',\n\t'([a-zA-Z0-9_-]+)?col([_-])[0-9]+',\n\n\t// Classic Grid Columns\n\t'(column|columns|col)',\n\t'([a-zA-Z0-9_-]+)(one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve)([a-zA-Z0-9_-]+)',\n\n\t// Structural\n\t'([a-zA-Z0-9_-]+)?(sticky|fixed|logged|print|visible|trigger|required)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?pull([a-zA-Z0-9_-]+)(left|right)',\n\t'(left|right)',\n\t'([a-zA-Z0-9_-]+)?([_-])(yes|no)([_-]|yes|no)([_-]|([_-])(yes|no)[_-]|is([_-])active|clearfix|clear)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?([_-])(yes|no)([_-])([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(yes|no)([_-])([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?([_-])(yes|no)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?is([_-])active([a-zA-Z0-9_-]+)?',\n\t'(xsmall|x?[-_]small|small|large|medium|huge|normal)',\n\t'(?!n2-)([a-zA-Z0-9_-]+)style([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?first',\n\t'([a-zA-Z0-9_-]+)?last',\n\t'([a-zA-Z0-9_-]+)?text([_-])justify',\n\t'([a-zA-Z0-9_-]+)?effect([0-9_-]+)',\n\n\t// Dynamic CSS classes.\n\t'([a-zA-Z0-9_-]+)?(background|width|height|position|parent|color|layout|invert|scroll|equal|square|([_-])skin|skin([_-])|toggled|style([0-9_-]+)|rounded|radius|type|dynamic|row|border|align|dimension|inline-inside|corner-pointed|float|last-child|first-child|hide|show|parallax|responsive|intense|completed|with_ajax|no-sibling)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?first',\n\t'([a-zA-Z0-9_-]+)?last',\n\t'([a-zA-Z0-9_-]+)?text([_-])justify',\n\t'([a-zA-Z0-9_-]+)?align([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?effect([0-9_-]+)',\n\t'([a-zA-Z0-9_-]+)?dimension([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?inline-inside([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?corner-pointed([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(round|scale|shadow|rotate|default|minimal|anim|pos[-_]align|angled)([a-zA-Z0-9_-]+)?',\n\n\t// General Theme Option Classes\n\t'([a-zA-Z0-9_-]+)([_-])(on|off)',\n\t'([a-zA-Z0-9_-]+)default([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)size([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)mobile([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)desktop([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)populated([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?hide([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?show([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?parallax([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?responsive([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?intense([a-zA-Z0-9_-]+)?',\n\n\t// Unyson\n\t'unyson-page',\n\t'end',\n\n\t// Pagenavi\n\t'larger',\n\t'smaller',\n\n\t// Buddypress\n\t'created_group',\n\t'mini',\n\t'activity_update',\n\n\t// Force Builder\n\t'forge-block',\n\t'forge-',\n\n\t// Elementor\n\t'elementor-section-items-middle',\n\n\t// Themify\n\t'themify_builder',\n\t'module',\n\n\t// Live composer\n\t'dslc-post-no-thumb',\n\n\t// WooCommerce\n\t'downloadable',\n\t'purchasable',\n\t'instock',\n\n\t// Others\n\t'above',\n\t'open',\n\n\t// Enfold\n\t'template-page',\n\t'alpha',\n\t'units',\n\t'flex_column_div',\n\t'([a-zA-Z0-9_-]+)?no-sibling([a-zA-Z0-9_-]+)?',\n\n\t'([a-zA-Z0-9_-]+)?float([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(blue|black|red|dark|white|light|green|yellow|purple|pink|orange|brown|gray)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(black|dark|white|light)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?last-child([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?first-child([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)([_-])only',\n\t'([a-zA-Z0-9_-]+)?(text-left|text-right)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(round|scale|shadow|rotate|default|minimal|animsition|nimation)([a-zA-Z0-9_-]+)?',\n\t'([a-zA-Z0-9_-]+)?(text-left|text-center|text-right)([a-zA-Z0-9_-]+)?',\n\t'(unyson-page|end|larger|smaller|height-full|created_group|mini|activity_update|forge-block|forge-|elementor-section-items-middle|themify_builder|module|dslc-post-no-thumb|downloadable|purchasable|instock|above|open|template-page|alpha|units|flex_column_div|woocommerce|affix-top|st-menu|circle|vc_figure|vc_general|waves-effect|collapsed|collapse)',\n\t'woocommerce',\n\t'affix-top',\n\t'st-menu',\n\t'circle',\n\t'vc_figure',\n\t'vc_general',\n\t'waves-effect',\n\t'collapsed',\n\t'collapse',\n];\n\n/* ------------------------------------------------*/\n/* Exclude the structural classes in the selector. */\n/* ex: col-md-8, exclude it if no need.            */\n/* ----------------------------------------------- */\nconst unPreferedSelectors = [\n\t'([a-zA-Z0-9_-]+)?(inner|overlay|container|google-fonts|fl-col-content)([a-zA-Z0-9_-]+)?',\n\t'elementor([a-zA-Z0-9_-]+)?(column|gap|wide|wrap)([a-zA-Z0-9_-]+)?',\n\t'ms-([a-zA-Z0-9_-]+)-view',\n\t'(kc-wrap-columns|dslc-modules-section-wrapper|av-content-full|ninja-forms-form-wrap|nf-fields-wrap|nf-field-element|tp-tab-mask|n2-ss-section-outer|sp-mask|sp-grab|ms-slide-layers|ls-layers|snp-fb|form_sublabel_below|gform_body)',\n];\n\n/* -----------------------------------------------*/\n/* Process these nummeric classes as non nummeric */\n/* -----------------------------------------------*/\nconst filterNumSkipBest = [ '([a-zA-Z0-9_-]+)?(wpcf7|mc4wp)([a-zA-Z0-9_-]+)?' ];\n\n/* -------------------------- */\n/* Prefered tags as selectors */\n/* -------------------------- */\nconst simpleLikedTags = [\n\t'h1',\n\t'h2',\n\t'h3',\n\t'h4',\n\t'h5',\n\t'h6',\n\t'p',\n\t'span',\n\t'img',\n\t'strong',\n\t'a',\n\t'li',\n\t'i',\n\t'ul',\n\t'header',\n\t'footer',\n\t'article',\n\t'b',\n\t'em',\n\t'code',\n\t'form',\n\t'label',\n\t'ol',\n\t'small',\n\t'blockquote',\n\t'nav',\n];\n\nfunction maybeAddTag( tagName: string, selector: string | undefined ) {\n\tif ( ! selector ) {\n\t\treturn undefined;\n\t}\n\n\tselector = spaceCleaner( selector );\n\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\tconst [ last = '', ...parts ] = selector.split( ' ' ).reverse();\n\tif ( ! /^[^a-zA-Z]/.test( last ) ) {\n\t\treturn selector;\n\t}\n\n\ttagName = tagName.toLowerCase();\n\treturn [ `${ tagName }${ last }`, ...parts ].reverse().join( ' ' );\n}\n","/**\n * External dependencies\n */\nimport type { Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getCssPath } from './css-path';\n\nexport function getEditableContentElement(\n\tel: HTMLElement\n): Maybe< HTMLElement > {\n\tif ( ! valid( el ) ) {\n\t\treturn undefined;\n\t}\n\n\tconst candidateNode = getWidestAncestor( el );\n\tconst contentNode = getNarrowestChild( candidateNode );\n\treturn 'IMG' === contentNode.nodeName || contentNode.textContent?.trim()\n\t\t? contentNode\n\t\t: undefined;\n}\n\nexport function isContentEditableSelector( selector: string ): boolean {\n\tconst els = querySelectorAll( selector );\n\tif ( ! hasOneElement( els ) ) {\n\t\treturn false;\n\t}\n\tconst editableNode = getEditableContentElement( els[ 0 ] );\n\treturn els[ 0 ] === editableNode && selector === getCssPath( els[ 0 ] );\n}\n\n// =======\n// HELPERS\n// =======\n\nconst VALID_TAGS = [\n\t'span',\n\t'br',\n\t'a',\n\t'strong',\n\t'b',\n\t'em',\n\t'i',\n\t'button',\n\t'label',\n\t'li',\n\t'nabhidden',\n];\nconst valid = ( e: HTMLElement | null ): e is HTMLElement =>\n\t!! e && ! e.querySelector( `:not(${ VALID_TAGS.join( ',' ) })` );\n\nfunction getWidestAncestor( el: HTMLElement ): HTMLElement {\n\tlet current: HTMLElement = el;\n\twhile ( valid( current.parentElement ) ) {\n\t\tcurrent = current.parentElement;\n\t}\n\treturn current;\n}\n\nfunction getNarrowestChild( el: HTMLElement ): HTMLElement {\n\tlet current: HTMLElement = el;\n\twhile (\n\t\tisHTMLElement( current.firstElementChild ) &&\n\t\ttext( el ) === text( current.firstElementChild )\n\t) {\n\t\tcurrent = current.firstElementChild;\n\t}\n\treturn current;\n}\n\nconst text = ( e: HTMLElement ) => ( e.textContent || '' ).trim();\nconst isHTMLElement = ( e: Element | null ): e is HTMLElement => !! e;\n\nconst hasOneElement = < T >( a: ReadonlyArray< T > ): a is Readonly< [ T ] > =>\n\ta.length === 1;\n\nfunction querySelectorAll( s: string ): ReadonlyArray< HTMLElement > {\n\ttry {\n\t\treturn Array.from( document.querySelectorAll< HTMLElement >( s ) );\n\t} catch ( _ ) {\n\t\treturn [];\n\t}\n}\n","// NOTE. No @nab packages in front.\nimport type * as nabUtils from '@nab/utils';\ntype NabUtils = typeof nabUtils;\n\nexport function getElementLabel( selector: string ): string {\n\tconst parent = window.parent;\n\treturn hasNabUtils( parent )\n\t\t? parent.nab.utils.getElementLabel( selector )\n\t\t: 'Element';\n}\n\nconst hasNabUtils = (\n\twin: unknown\n): win is {\n\treadonly nab: {\n\t\treadonly utils: NabUtils;\n\t};\n} =>\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n\t!! ( win as any )?.nab?.utils;\n","/**\n * External dependencies\n */\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\nimport {\n\tgetBreadcrumbs,\n\tisBreadcrumb,\n\ttype SelectorBreadcrumb,\n} from './breadcrumbs';\nimport { getCssPath } from './css-path';\nimport type { Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { getEditableContentElement } from './editable-content';\nimport { getElementLabel } from './element-label';\n\ntype InternalState = {\n\treadonly autohide: boolean;\n\treadonly mouseover: boolean;\n\treadonly hoveredElement: HTMLElement;\n\treadonly selector: string;\n\treadonly targets: ReadonlyArray< HTMLElement >;\n\treadonly boxes: ReadonlyArray< HTMLElement >;\n\treadonly result: {\n\t\treadonly numberOfElements: number;\n\t\treadonly breadcrumbs: ReadonlyArray< SelectorBreadcrumb >;\n\t};\n};\n\nlet STATE: InternalState = {\n\tautohide: false,\n\tmouseover: false,\n\thoveredElement: createHoveredBox(),\n\tselector: '',\n\ttargets: [],\n\tboxes: [],\n\tresult: {\n\t\tnumberOfElements: 0,\n\t\tbreadcrumbs: [],\n\t},\n};\n\nexport function highlightCssSelector(\n\tselector: string,\n\tmode: 'autohide' | 'permanent'\n): typeof STATE.result {\n\tmanageHighlightersVisibility( 'autohide' === mode );\n\n\tif ( selector === STATE.selector ) {\n\t\treturn STATE.result;\n\t}\n\n\ttry {\n\t\tconst elements = isIdSelector( selector )\n\t\t\t? [ document.querySelector< HTMLElement >( selector ) ].filter(\n\t\t\t\t\t( e ) => !! e\n\t\t\t  )\n\t\t\t: Array.from(\n\t\t\t\t\tdocument.querySelectorAll< HTMLElement >( selector )\n\t\t\t  );\n\n\t\trenderHighlighters( selector, elements );\n\t\tshowHighlighters();\n\t\tconst activeElement =\n\t\t\telements.find( ( el ) =>\n\t\t\t\tel.classList.contains( 'nab-selected' )\n\t\t\t) || elements[ 0 ];\n\t\tif ( ! isElementAlreadyVisible( activeElement ) ) {\n\t\t\tactiveElement?.scrollIntoView( {\n\t\t\t\tbehavior: 'smooth',\n\t\t\t\tblock: 'center',\n\t\t\t} );\n\t\t}\n\n\t\tSTATE = {\n\t\t\t...STATE,\n\t\t\tresult: {\n\t\t\t\tnumberOfElements: elements.length,\n\t\t\t\tbreadcrumbs: getBreadcrumbs(\n\t\t\t\t\tSTATE.result.breadcrumbs,\n\t\t\t\t\tselector\n\t\t\t\t),\n\t\t\t},\n\t\t};\n\t} catch ( _ ) {\n\t\tclearHighlighters();\n\t}\n\n\treturn STATE.result;\n}\n\nexport const drawHoveredElement = (\n\teditableContentOnly: boolean\n): ( ( ev: Event ) => void ) =>\n\tdebounce( ( ev: Event ) => {\n\t\tif ( ! STATE.mouseover ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! ( ev.target instanceof HTMLElement ) ) {\n\t\t\treturn hideHoveredBox();\n\t\t}\n\n\t\tif ( ev.target.nodeName === 'HTML' ) {\n\t\t\treturn hideHoveredBox();\n\t\t}\n\n\t\tif (\n\t\t\tev.target.classList.value.includes( 'nab-highlight' ) ||\n\t\t\tev.target.classList.contains( 'nab-selected' )\n\t\t) {\n\t\t\treturn hideHoveredBox();\n\t\t}\n\n\t\tif ( isBreadcrumb( ev.target ) ) {\n\t\t\treturn hideHoveredBox();\n\t\t}\n\n\t\tlet el: Maybe< HTMLElement > = ev.target;\n\t\tif ( editableContentOnly ) {\n\t\t\tel = getEditableContentElement( ev.target );\n\t\t\tif ( ! el ) {\n\t\t\t\treturn hideHoveredBox();\n\t\t\t}\n\t\t}\n\n\t\tconst selector = getCssPath( el ) || '';\n\t\tconst selectorName = getElementLabel( selector );\n\t\tSTATE.hoveredElement.style.setProperty(\n\t\t\t'--nab-selector',\n\t\t\t`'${ selector }'`\n\t\t);\n\t\tSTATE.hoveredElement.style.setProperty(\n\t\t\t'--nab-selector-name',\n\t\t\t`'${ selectorName ?? selector }'`\n\t\t);\n\t\tpositionElementBox( STATE.hoveredElement, el.getBoundingClientRect() );\n\t}, 0 );\n\n// ===============\n// EVENT LISTENERS\n// ===============\n\nlet reacting = false;\nexport function reactToEvents(): void {\n\tif ( reacting ) {\n\t\treturn;\n\t}\n\treacting = true;\n\n\tconst refreshHighlighters = throttle(\n\t\t() => renderHighlighters( STATE.selector, STATE.targets ),\n\t\t200\n\t);\n\n\tdocument.addEventListener(\n\t\t'nab/css-selector-finder/refresh-highlighters',\n\t\t() => {\n\t\t\trefreshHighlighters();\n\t\t}\n\t);\n\n\twindow.addEventListener( 'resize', refreshHighlighters );\n\n\twindow.addEventListener( 'scroll', repositionTooltips );\n}\n\n// =======\n// HELPERS\n// =======\n\nconst setHasMouse = ( mouseover: boolean ) => {\n\tSTATE = { ...STATE, mouseover };\n};\ndocument.body.addEventListener( 'mouseenter', () => setHasMouse( true ) );\ndocument.body.addEventListener( 'mousemove', () => setHasMouse( true ) );\ndocument.body.addEventListener( 'mouseleave', () => setHasMouse( false ) );\ndocument.body.addEventListener( 'mouseleave', () => hideHoveredBox() );\n\nfunction manageHighlightersVisibility( autohide: boolean ): void {\n\tif ( STATE.autohide === autohide ) {\n\t\treturn;\n\t}\n\n\tSTATE = { ...STATE, autohide };\n\tif ( ! autohide ) {\n\t\tdocument.body.removeEventListener( 'mouseenter', showHighlighters );\n\t\tdocument.body.removeEventListener(\n\t\t\t'mouseleave',\n\t\t\tsetHighlighterHideTimer\n\t\t);\n\t\treturn;\n\t}\n\n\tdocument.body.addEventListener( 'mouseenter', showHighlighters );\n\tdocument.body.addEventListener( 'mouseleave', setHighlighterHideTimer );\n}\n\nconst isIdSelector = ( s: string ) => /^#[^\\s]+$/.test( s );\n\nfunction showHighlighters(): void {\n\tclearTimeout( hideTimeout );\n\tSTATE.boxes.forEach( ( highlighter ) =>\n\t\thighlighter.classList.remove( 'nab-highlight--hidden' )\n\t);\n\tif ( STATE.autohide && ! STATE.mouseover ) {\n\t\tsetHighlighterHideTimer();\n\t}\n}\n\nlet hideTimeout: NodeJS.Timeout;\nfunction setHighlighterHideTimer(): void {\n\thideTimeout = setTimeout( () => {\n\t\tSTATE.boxes.forEach( ( highlighter ) =>\n\t\t\thighlighter.classList.add( 'nab-highlight--hidden' )\n\t\t);\n\t}, 2000 );\n}\n\nconst hideHoveredBox = debounce( (): void => {\n\tSTATE.hoveredElement.style.display = 'none';\n\tSTATE.hoveredElement.style.top = '50%';\n\tSTATE.hoveredElement.style.left = '50%';\n\tSTATE.hoveredElement.style.width = '0';\n\tSTATE.hoveredElement.style.height = '0';\n}, 0 );\n\nfunction renderHighlighters(\n\tselector: string,\n\telements: ReadonlyArray< HTMLElement >\n) {\n\tclearHighlighters();\n\n\tSTATE = {\n\t\t...STATE,\n\t\tselector,\n\t\ttargets: elements,\n\t\tboxes: elements\n\t\t\t.map( ( element ) => createHighlightedBox( selector, element ) )\n\t\t\t.filter( ( e ) => !! e ),\n\t\tresult: {\n\t\t\tnumberOfElements: elements.length,\n\t\t\tbreadcrumbs: getBreadcrumbs( STATE.result.breadcrumbs, selector ),\n\t\t},\n\t};\n\n\trepositionTooltips();\n}\n\nfunction clearHighlighters(): void {\n\tSTATE.boxes.forEach(\n\t\t( highlighter ) => highlighter.parentElement?.removeChild( highlighter )\n\t);\n\tSTATE = {\n\t\t...STATE,\n\t\tselector: '',\n\t\tboxes: [],\n\t\ttargets: [],\n\t\tresult: { numberOfElements: 0, breadcrumbs: [] },\n\t};\n}\n\nfunction positionElementBox( box: HTMLElement, rect: DOMRect ) {\n\tif ( ! box.style ) {\n\t\treturn;\n\t}\n\n\tbox.style.display = 'block';\n\tbox.style.top = `${ Math.floor( rect.top ) - 1 + window.scrollY }px`;\n\tbox.style.left = `${ Math.floor( rect.left ) - 1 + window.scrollX }px`;\n\tbox.style.width = `${ rect.width }px`;\n\tbox.style.height = `${ rect.height }px`;\n\n\trepositionTooltip( box );\n}\n\nfunction repositionTooltips() {\n\t[ STATE.hoveredElement, ...STATE.boxes ].forEach( repositionTooltip );\n}\n\nfunction repositionTooltip( box: HTMLElement ) {\n\tconst tooltip = box.firstElementChild as HTMLElement | null;\n\tif ( ! tooltip ) {\n\t\treturn;\n\t}\n\n\tconst rect = box.getBoundingClientRect();\n\n\tconst viewportHeight = window.innerHeight;\n\tconst viewportTop = window.scrollY;\n\tconst viewportBottom = viewportTop + viewportHeight;\n\tconst boxTop = Math.floor( rect.top ) - 1 + window.scrollY;\n\tconst boxBottom = boxTop + rect.height;\n\tconst boxHeight = rect.height;\n\tconst tooltipHeight = tooltip.offsetHeight;\n\n\tif ( boxBottom <= viewportTop ) {\n\t\ttooltip.style.top = `${ boxHeight - 3 + viewportTop - boxBottom }px`;\n\t\ttooltip.style.borderRadius = '0 0 5px 0';\n\t} else if ( boxTop >= viewportBottom ) {\n\t\ttooltip.style.borderRadius = '0 5px 0 0';\n\t\ttooltip.style.top = `-${\n\t\t\ttooltipHeight + 3 + boxTop - viewportBottom\n\t\t}px`;\n\t} else if (\n\t\tboxTop - tooltipHeight >= viewportTop &&\n\t\tboxTop <= viewportBottom\n\t) {\n\t\ttooltip.style.top = `-${ tooltipHeight }px`;\n\t\ttooltip.style.borderRadius = '0 5px 0 0';\n\t} else if ( boxTop - tooltipHeight >= viewportTop ) {\n\t\ttooltip.style.top = `-${\n\t\t\ttooltipHeight + 3 + boxTop - viewportBottom\n\t\t}px`;\n\t\ttooltip.style.borderRadius = '0 5px 0 0';\n\t} else if ( boxBottom + tooltipHeight <= viewportBottom ) {\n\t\ttooltip.style.top = `${ boxHeight - 2 }px`;\n\t\ttooltip.style.borderRadius = '0 0 5px 0';\n\t} else {\n\t\ttooltip.style.top = `${ viewportTop - boxTop - 3 }px`;\n\t\ttooltip.style.borderRadius = '0 0 5px 0';\n\t}\n}\n\nfunction createHoveredBox() {\n\tconst box = document.createElement( 'div' );\n\tbox.className = 'nab-hovered';\n\n\tconst tooltip = document.createElement( 'div' );\n\ttooltip.className = 'nab-hovered__tooltip';\n\tconst tooltipText = document.createElement( 'span' );\n\ttooltipText.className = 'nab-hovered__tooltip-text';\n\ttooltip.appendChild( tooltipText );\n\tbox.appendChild( tooltip );\n\n\tdocument.body.appendChild( box );\n\treturn box;\n}\n\nfunction createHighlightedBox(\n\tselector: string,\n\telement: HTMLElement\n): HTMLElement | undefined {\n\tconst rect = element.getBoundingClientRect();\n\tif ( rect.width === 0 || rect.height === 0 ) {\n\t\treturn;\n\t}\n\n\tconst isSecondary = ! element.classList.contains( 'nab-selected' );\n\tconst highlighter = document.createElement( 'div' );\n\thighlighter.className = 'nab-highlight'\n\t\t.concat( isSecondary ? ' nab-highlight--secondary' : '' )\n\t\t.concat(\n\t\t\tSTATE.autohide && ! STATE.mouseover ? ' nab-highlight--hidden' : ''\n\t\t);\n\thighlighter.style.setProperty( '--nab-selector', `'${ selector }'` );\n\thighlighter.style.setProperty(\n\t\t'--nab-selector-name',\n\t\t`'${ getElementLabel( getCssPath( element ) || selector ) }'`\n\t);\n\n\tconst highlighterTooltip = document.createElement( 'div' );\n\thighlighterTooltip.className = 'nab-highlight__tooltip';\n\tconst highlighterTooltipText = document.createElement( 'span' );\n\thighlighterTooltipText.className = 'nab-highlight__tooltip-text';\n\thighlighterTooltip.appendChild( highlighterTooltipText );\n\thighlighter.appendChild( highlighterTooltip );\n\n\tdocument.body.appendChild( highlighter );\n\n\tpositionElementBox( highlighter, rect );\n\treturn highlighter;\n}\n\nfunction isElementAlreadyVisible( element?: HTMLElement ): boolean {\n\tif ( ! element ) {\n\t\treturn false;\n\t}\n\n\tconst rect = element.getBoundingClientRect();\n\tconst visibleHeight =\n\t\tMath.min( rect.bottom, window.innerHeight ) - Math.max( rect.top, 0 );\n\n\tconst windowHeight = window.innerHeight;\n\tconst elementToScreenRatio = visibleHeight / windowHeight;\n\tif ( elementToScreenRatio >= 0.75 ) {\n\t\treturn true;\n\t}\n\n\tconst elementVisibleRatio = visibleHeight / rect.height;\n\treturn elementVisibleRatio >= 0.75;\n}\n","/**\n * WordPress dependencies\n */\nimport type * as wpData from '@safe-wordpress/data';\ntype WpData = typeof wpData;\n\n/**\n * External dependencies\n */\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\nimport type { CssSelectorFinderState, Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { getBreadcrumbs, isBreadcrumb, renderBreadcrumbs } from './breadcrumbs';\nimport { getCssPath } from './css-path';\nimport { getEditableContentElement } from './editable-content';\nimport {\n\tdrawHoveredElement,\n\thighlightCssSelector,\n\treactToEvents,\n} from './highlighter';\n\n// NOTE. No @nab packages in front.\nimport type { store as dataStore } from '@nab/data';\nconst NAB_DATA = 'nab/data' as unknown as typeof dataStore;\n\nfunction init() {\n\tif ( ! hasWordPressData( window.parent ) ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error( 'Parent window doesnt have expected API. Bye!' );\n\t\treturn;\n\t}\n\n\treactToEvents();\n\n\tconst state = window.parent.wp.data\n\t\t.select( NAB_DATA )\n\t\t.getPageAttribute( 'css-selector/cssSelectorFinderState' );\n\tif ( state ) {\n\t\treactToParentState( undefined, state );\n\t}\n\n\tlet running = false;\n\tlet previousState = state;\n\twindow.parent.wp.data.subscribe( () => {\n\t\tif ( ! hasWordPressData( window.parent ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentState = window.parent.wp.data\n\t\t\t.select( NAB_DATA )\n\t\t\t.getPageAttribute( 'css-selector/cssSelectorFinderState' );\n\t\tif (\n\t\t\tJSON.stringify( currentState ) === JSON.stringify( previousState )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst actualPreviousState = previousState;\n\t\tpreviousState = currentState;\n\t\tif ( ! currentState ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! running ) {\n\t\t\trunning = true;\n\t\t\treactToParentState( actualPreviousState, currentState );\n\t\t\trunning = false;\n\t\t}\n\t} );\n}\n\nlet deactivateInteractionListeners: () => void = () => void null;\nfunction reactToParentState(\n\tpreviousState: Maybe< CssSelectorFinderState >,\n\tcurrentState: CssSelectorFinderState\n): void {\n\tdeactivateInteractionListeners();\n\tdeactivateInteractionListeners = addInteractionListeners( currentState );\n\n\tconst selector = getCssValue( currentState.mode, currentState.value );\n\tmarkElementAsSelected( selector );\n\tconst { numberOfElements, breadcrumbs } = highlightCssSelector(\n\t\tselector,\n\t\tcurrentState.autoHideOnInactivity ? 'autohide' : 'permanent'\n\t);\n\n\tif (\n\t\tnumberOfElements !== previousState?.numberOfElements ||\n\t\tJSON.stringify( breadcrumbs ) !==\n\t\t\tJSON.stringify( previousState.breadcrumbs )\n\t) {\n\t\tsetParentState( {\n\t\t\tnumberOfElements,\n\t\t\tbreadcrumbs,\n\t\t} );\n\t}\n\n\tif ( currentState.mode === 'css' ) {\n\t\trenderBreadcrumbs(\n\t\t\t'navigation' === currentState.interactionMode ||\n\t\t\t\t'editable-content-inspector' === currentState.interactionMode\n\t\t\t\t? []\n\t\t\t\t: breadcrumbs ?? [],\n\t\t\tcurrentState.value\n\t\t);\n\t}\n}\n\nfunction addInteractionListeners(\n\tcurrentState: CssSelectorFinderState\n): () => void {\n\tif ( 'navigation' === currentState.interactionMode ) {\n\t\tdocument.body.classList.remove( 'nab-hovering' );\n\t\treturn () => void null;\n\t}\n\n\tconst onMouseOver = throttle(\n\t\tdrawHoveredElement(\n\t\t\t'editable-content-inspector' === currentState.interactionMode\n\t\t),\n\t\t100\n\t);\n\tconst onClick = selectHoveredElement( currentState );\n\n\tdocument.body.classList.add( 'nab-hovering' );\n\tdocument.addEventListener( 'mouseover', onMouseOver );\n\tdocument.addEventListener( 'click', onClick );\n\tdocument.addEventListener( 'click', onClick, true );\n\n\treturn () => {\n\t\tdocument.removeEventListener( 'mouseover', onMouseOver );\n\t\tdocument.removeEventListener( 'click', onClick );\n\t\tdocument.removeEventListener( 'click', onClick, true );\n\t};\n}\n\nfunction selectHoveredElement( state: CssSelectorFinderState ) {\n\tconst processClick = mkClickProcessor( state );\n\treturn ( ev: Event ) => {\n\t\tif ( isBreadcrumb( ev.target as HTMLElement ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tev.preventDefault();\n\n\t\tconst el = ev.target as HTMLElement | null;\n\t\tif ( ! el ) {\n\t\t\treturn;\n\t\t}\n\n\t\tprocessClick( el );\n\t};\n}\n\nconst mkClickProcessor = ( state: CssSelectorFinderState ) =>\n\tdebounce( ( el: HTMLElement ) => {\n\t\tconst element =\n\t\t\t'editable-content-inspector' === state.interactionMode\n\t\t\t\t? getEditableContentElement( el )\n\t\t\t\t: el;\n\t\tif ( ! element ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( element.classList.contains( 'nab-highlight' ) ) {\n\t\t\tresetSelectedElement();\n\t\t\treturn setParentState( {\n\t\t\t\tvalue: '',\n\t\t\t\tbreadcrumbs: [],\n\t\t\t} );\n\t\t}\n\n\t\tconst mode =\n\t\t\t'flexible-inspector' === state.interactionMode\n\t\t\t\t? 'multiple'\n\t\t\t\t: 'single';\n\t\tmarkElementAsSelected( element );\n\t\tconst selector = getCssPath( element, mode ) || '';\n\n\t\tsetParentState( {\n\t\t\tvalue: selector,\n\t\t\tbreadcrumbs: getBreadcrumbs( state.breadcrumbs, selector ),\n\t\t} );\n\t}, 1 );\n\nexport function setParentState(\n\tnewState: Partial< CssSelectorFinderState >\n): void {\n\tif ( ! hasWordPressData( window.parent ) ) {\n\t\treturn;\n\t}\n\n\tconst { select, dispatch } = window.parent.wp.data;\n\tconst state = select( NAB_DATA ).getPageAttribute(\n\t\t'css-selector/cssSelectorFinderState'\n\t);\n\n\tif ( undefined === state ) {\n\t\treturn;\n\t}\n\n\tvoid dispatch( NAB_DATA ).setPageAttribute(\n\t\t'css-selector/cssSelectorFinderState',\n\t\t{ ...state, ...newState }\n\t);\n}\n\nconst CUSTOM_CLASS = 'nab-selected';\nfunction markElementAsSelected( element: string | HTMLElement | null ): void {\n\ttry {\n\t\tif ( 'string' === typeof element ) {\n\t\t\tconst selector = element;\n\t\t\tconst elements = [ ...document.querySelectorAll( selector ) ];\n\t\t\tif (\n\t\t\t\telements.some( ( e ) => e.classList.contains( CUSTOM_CLASS ) )\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telement = ( elements[ 0 ] as HTMLElement ) ?? null;\n\t\t}\n\n\t\tresetSelectedElement();\n\t\telement?.classList.add( CUSTOM_CLASS );\n\t} catch ( _ ) {}\n}\n\nfunction getSelectedElement(): HTMLElement | null {\n\treturn document.querySelector( `.${ CUSTOM_CLASS }` );\n}\n\nfunction resetSelectedElement() {\n\tgetSelectedElement()?.classList.remove( CUSTOM_CLASS );\n}\n\nfunction getCssValue( mode: 'id' | 'class' | 'css', value = '' ): string {\n\tif ( ! value.trim() ) {\n\t\treturn '';\n\t}\n\tswitch ( mode ) {\n\t\tcase 'id':\n\t\t\treturn `#${ value.replace( /\\s/g, '' ) }`;\n\t\tcase 'class':\n\t\t\treturn `.${ value.replace( /\\s/g, '' ) }`;\n\t\tcase 'css':\n\t\t\treturn value;\n\t}\n}\n\nconst hasWordPressData = (\n\twin: unknown\n): win is {\n\treadonly wp: {\n\t\treadonly data: WpData;\n\t};\n} =>\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n\t!! ( win as any )?.wp?.data;\n\ninit();\n","// extracted by mini-css-extract-plugin\nexport {};","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-css-selector-finder\"], () => (__webpack_require__(\"./assets/src/admin/scripts/css-selector-finder/index.ts\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["setParentState","getCssPath","getElementLabel","getBreadcrumbs","oldBreadcrumbs","selector","map","b","value","some","compareSelectors","element","querySelector","breadcrumbs","doGetBreadcrumbs","startsWith","slice","length","renderBreadcrumbs","activeSelector","container","document","createElement","classList","add","body","appendChild","innerHTML","list","isActiveElement","forEach","breadcrumb","li","addEventListener","ev","preventDefault","clearBreadcrumbHighlighters","exists","renderBreadcrumbHighlighters","setAttribute","span","textContent","label","isBreadcrumb","includes","selector1","firstElements","querySelectorAll","selector2","secondElements","reduce","r","e","matchingElements","mkBreadcrumb","currentElement","parentElement","single","singleElement","containsAll","push","reverse","breadcrumbHighlightBoxes","breadcrumbHighlighter","removeChild","elements","createBreadcrumbHighlightedBox","filter","rect","getBoundingClientRect","width","height","highlighter","className","positionElementBox","box","style","display","top","Math","floor","window","scrollY","left","scrollX","init","every","idx","_a","_b","children","c","contains","_","Array","from","SEPARATOR","CUSTOM_CLASS","mode","undefined","getSelectorTraversingParents","remove","maybeAddTag","nodeName","tagName","isUndefined","bestSelector","determineBestSelector","test","parentElements","parent","currentSelector","previousSelector","selectedElementsCount","resetSelectors","i","resetPerformed","singleSelector","spaceCleaner","trim","charAt","newReset1","isValid","regex","j","unPreferedSelectors","RegExp","newReset2","depthArray","tagArray","depthConsistent","v","a","tagConsistent","optimizedSelector","newSelector","match","join","toString","checkSelector","comparisonSelector","simpleLikedTags","toLowerCase","foundTags","node","selectorRegex","isSingleElementOrMatchingSiblings","cleanUnnecessaryGreaterThan","multipleVariation","lastSelector","tag","element2","depthArrayEquals","tagArrayEquals","isDefined","mustHave","console","log","isRecursiveCallForInputsEnabled","numberRegex","elementId","id","allowedDigitalIds","adi","filterTest","blockedIds","bid","cleanClassNameAttribute","filteredClasses","applyFilter","blockedClasses","refinedClasses","unPreferedClasses","filteredClassArray","getClassesArray","refinedClassArray","numericClassArray","cls","filterNumSkipBest","skip","blockedDigitalClasses","bdc","preferredClassFound","find","preferedClasses","preferredCls","numCls","preferedDigitalClasses","preferredNumCls","inputType","getAttribute","isPreferredTag","lastResortNumeric","getMostSpecificClass","rareClass","findLeastOccurringClass","selectedClass","isArray","mostSpecific","isBlocked","replace","selectorArray","getSelectorArray","selectorPlus","currentElementsCount","endsWith","indexOf","child","prevAll","getPreviousItem","nextAll","getNextItem","selectorPlusNew","addChildrenSupport","cropSelector","split","initialElements","croppedArray","wasCropped","candidateArray","candidateSelector","candidateElements","areEqual","replaceAll","originalSelectorLength","originalSelector","variationSelectors","firstSelectorPart","lastSelectorPart","combinedSelector","middleSelectorParts","pop","shift","selectorParts","firstRegex","lastRegex","centerSelectorParts","centerMatch","type","getEnd","getStart","_c","_d","_e","_f","_g","filteredSelectors","isValidSelector","depthList","tagNameList","consistentSelectors","getParents","isDepthConsistent","array","isTagNameConsistent","remainingSelectors","nextSelector","testSelector","sort","classes","alternative","singleClass","sameDepth","depth","sameTags","hyphenatedClasses","underscoredClasses","selectedClasses","finalClasses","s","isAlreadySelected","link","data","singleInspectorPattern","f","INVALID_CHARS_REGEX","ESCAPABLE_CHARS_REGEX","Boolean","matchlessClasses","selectorNew","el","elementsNew","pseudoClasses","pseudo","arr","current","parents","x","candidate","last","parts","getEditableContentElement","valid","candidateNode","getWidestAncestor","contentNode","getNarrowestChild","isContentEditableSelector","els","hasOneElement","editableNode","VALID_TAGS","isHTMLElement","firstElementChild","text","hasNabUtils","nab","utils","win","debounce","throttle","STATE","autohide","mouseover","hoveredElement","createHoveredBox","targets","boxes","result","numberOfElements","highlightCssSelector","manageHighlightersVisibility","isIdSelector","renderHighlighters","showHighlighters","activeElement","isElementAlreadyVisible","scrollIntoView","behavior","block","Object","assign","clearHighlighters","drawHoveredElement","editableContentOnly","target","HTMLElement","hideHoveredBox","selectorName","setProperty","reacting","reactToEvents","refreshHighlighters","repositionTooltips","setHasMouse","removeEventListener","setHighlighterHideTimer","clearTimeout","hideTimeout","setTimeout","createHighlightedBox","repositionTooltip","tooltip","viewportHeight","innerHeight","viewportTop","viewportBottom","boxTop","boxBottom","boxHeight","tooltipHeight","offsetHeight","borderRadius","tooltipText","isSecondary","concat","highlighterTooltip","highlighterTooltipText","visibleHeight","min","bottom","max","windowHeight","elementToScreenRatio","elementVisibleRatio","NAB_DATA","hasWordPressData","error","state","wp","select","getPageAttribute","reactToParentState","running","previousState","subscribe","currentState","JSON","stringify","actualPreviousState","deactivateInteractionListeners","addInteractionListeners","getCssValue","markElementAsSelected","autoHideOnInactivity","interactionMode","onMouseOver","onClick","selectHoveredElement","processClick","mkClickProcessor","resetSelectedElement","newState","dispatch","setPageAttribute","getSelectedElement"],"ignoreList":[],"sourceRoot":""}